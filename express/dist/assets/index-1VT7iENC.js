(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))u(h);new MutationObserver(h=>{for(const v of h)if(v.type==="childList")for(const m of v.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&u(m)}).observe(document,{childList:!0,subtree:!0});function d(h){const v={};return h.integrity&&(v.integrity=h.integrity),h.referrerPolicy&&(v.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?v.credentials="include":h.crossOrigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function u(h){if(h.ep)return;h.ep=!0;const v=d(h);fetch(h.href,v)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function dn(s){const o=Object.create(null);for(const d of s.split(","))o[d]=1;return d=>d in o}const is={},va=[],mr=()=>{},mh=()=>!1,Yi=s=>s.charCodeAt(0)===111&&s.charCodeAt(1)===110&&(s.charCodeAt(2)>122||s.charCodeAt(2)<97),un=s=>s.startsWith("onUpdate:"),Os=Object.assign,hn=(s,o)=>{const d=s.indexOf(o);d>-1&&s.splice(d,1)},vh=Object.prototype.hasOwnProperty,es=(s,o)=>vh.call(s,o),$t=Array.isArray,ba=s=>ui(s)==="[object Map]",Ea=s=>ui(s)==="[object Set]",Yn=s=>ui(s)==="[object Date]",zt=s=>typeof s=="function",ws=s=>typeof s=="string",vr=s=>typeof s=="symbol",os=s=>s!==null&&typeof s=="object",vc=s=>(os(s)||zt(s))&&zt(s.then)&&zt(s.catch),bc=Object.prototype.toString,ui=s=>bc.call(s),bh=s=>ui(s).slice(8,-1),xc=s=>ui(s)==="[object Object]",fn=s=>ws(s)&&s!=="NaN"&&s[0]!=="-"&&""+parseInt(s,10)===s,Xa=dn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Wi=s=>{const o=Object.create(null);return d=>o[d]||(o[d]=s(d))},xh=/-(\w)/g,tr=Wi(s=>s.replace(xh,(o,d)=>d?d.toUpperCase():"")),yh=/\B([A-Z])/g,Fr=Wi(s=>s.replace(yh,"-$1").toLowerCase()),Gi=Wi(s=>s.charAt(0).toUpperCase()+s.slice(1)),xo=Wi(s=>s?`on${Gi(s)}`:""),Br=(s,o)=>!Object.is(s,o),Si=(s,...o)=>{for(let d=0;d<s.length;d++)s[d](...o)},yc=(s,o,d,u=!1)=>{Object.defineProperty(s,o,{configurable:!0,enumerable:!1,writable:u,value:d})},Oi=s=>{const o=parseFloat(s);return isNaN(o)?s:o};let Wn;const Qi=()=>Wn||(Wn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function xr(s){if($t(s)){const o={};for(let d=0;d<s.length;d++){const u=s[d],h=ws(u)?_h(u):xr(u);if(h)for(const v in h)o[v]=h[v]}return o}else if(ws(s)||os(s))return s}const wh=/;(?![^(]*\))/g,kh=/:([^]+)/,Ch=/\/\*[^]*?\*\//g;function _h(s){const o={};return s.replace(Ch,"").split(wh).forEach(d=>{if(d){const u=d.split(kh);u.length>1&&(o[u[0].trim()]=u[1].trim())}}),o}function ct(s){let o="";if(ws(s))o=s;else if($t(s))for(let d=0;d<s.length;d++){const u=ct(s[d]);u&&(o+=u+" ")}else if(os(s))for(const d in s)s[d]&&(o+=d+" ");return o.trim()}const Sh="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ah=dn(Sh);function wc(s){return!!s||s===""}function Lh(s,o){if(s.length!==o.length)return!1;let d=!0;for(let u=0;d&&u<s.length;u++)d=hi(s[u],o[u]);return d}function hi(s,o){if(s===o)return!0;let d=Yn(s),u=Yn(o);if(d||u)return d&&u?s.getTime()===o.getTime():!1;if(d=vr(s),u=vr(o),d||u)return s===o;if(d=$t(s),u=$t(o),d||u)return d&&u?Lh(s,o):!1;if(d=os(s),u=os(o),d||u){if(!d||!u)return!1;const h=Object.keys(s).length,v=Object.keys(o).length;if(h!==v)return!1;for(const m in s){const y=s.hasOwnProperty(m),k=o.hasOwnProperty(m);if(y&&!k||!y&&k||!hi(s[m],o[m]))return!1}}return String(s)===String(o)}function pn(s,o){return s.findIndex(d=>hi(d,o))}const kc=s=>!!(s&&s.__v_isRef===!0),pe=s=>ws(s)?s:s==null?"":$t(s)||os(s)&&(s.toString===bc||!zt(s.toString))?kc(s)?pe(s.value):JSON.stringify(s,Cc,2):String(s),Cc=(s,o)=>kc(o)?Cc(s,o.value):ba(o)?{[`Map(${o.size})`]:[...o.entries()].reduce((d,[u,h],v)=>(d[yo(u,v)+" =>"]=h,d),{})}:Ea(o)?{[`Set(${o.size})`]:[...o.values()].map(d=>yo(d))}:vr(o)?yo(o):os(o)&&!$t(o)&&!xc(o)?String(o):o,yo=(s,o="")=>{var d;return vr(s)?`Symbol(${(d=s.description)!=null?d:o})`:s};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let zs;class _c{constructor(o=!1){this.detached=o,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=zs,!o&&zs&&(this.index=(zs.scopes||(zs.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let o,d;if(this.scopes)for(o=0,d=this.scopes.length;o<d;o++)this.scopes[o].pause();for(o=0,d=this.effects.length;o<d;o++)this.effects[o].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let o,d;if(this.scopes)for(o=0,d=this.scopes.length;o<d;o++)this.scopes[o].resume();for(o=0,d=this.effects.length;o<d;o++)this.effects[o].resume()}}run(o){if(this._active){const d=zs;try{return zs=this,o()}finally{zs=d}}}on(){zs=this}off(){zs=this.parent}stop(o){if(this._active){this._active=!1;let d,u;for(d=0,u=this.effects.length;d<u;d++)this.effects[d].stop();for(this.effects.length=0,d=0,u=this.cleanups.length;d<u;d++)this.cleanups[d]();if(this.cleanups.length=0,this.scopes){for(d=0,u=this.scopes.length;d<u;d++)this.scopes[d].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!o){const h=this.parent.scopes.pop();h&&h!==this&&(this.parent.scopes[this.index]=h,h.index=this.index)}this.parent=void 0}}}function Sc(s){return new _c(s)}function Ac(){return zs}function Eh(s,o=!1){zs&&zs.cleanups.push(s)}let ds;const wo=new WeakSet;class Lc{constructor(o){this.fn=o,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,zs&&zs.active&&zs.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,wo.has(this)&&(wo.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Pc(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Gn(this),Ic(this);const o=ds,d=or;ds=this,or=!0;try{return this.fn()}finally{Mc(this),ds=o,or=d,this.flags&=-3}}stop(){if(this.flags&1){for(let o=this.deps;o;o=o.nextDep)vn(o);this.deps=this.depsTail=void 0,Gn(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?wo.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Vo(this)&&this.run()}get dirty(){return Vo(this)}}let Ec=0,Ya,Wa;function Pc(s,o=!1){if(s.flags|=8,o){s.next=Wa,Wa=s;return}s.next=Ya,Ya=s}function gn(){Ec++}function mn(){if(--Ec>0)return;if(Wa){let o=Wa;for(Wa=void 0;o;){const d=o.next;o.next=void 0,o.flags&=-9,o=d}}let s;for(;Ya;){let o=Ya;for(Ya=void 0;o;){const d=o.next;if(o.next=void 0,o.flags&=-9,o.flags&1)try{o.trigger()}catch(u){s||(s=u)}o=d}}if(s)throw s}function Ic(s){for(let o=s.deps;o;o=o.nextDep)o.version=-1,o.prevActiveLink=o.dep.activeLink,o.dep.activeLink=o}function Mc(s){let o,d=s.depsTail,u=d;for(;u;){const h=u.prevDep;u.version===-1?(u===d&&(d=h),vn(u),Ph(u)):o=u,u.dep.activeLink=u.prevActiveLink,u.prevActiveLink=void 0,u=h}s.deps=o,s.depsTail=d}function Vo(s){for(let o=s.deps;o;o=o.nextDep)if(o.dep.version!==o.version||o.dep.computed&&(Tc(o.dep.computed)||o.dep.version!==o.version))return!0;return!!s._dirty}function Tc(s){if(s.flags&4&&!(s.flags&16)||(s.flags&=-17,s.globalVersion===ti))return;s.globalVersion=ti;const o=s.dep;if(s.flags|=2,o.version>0&&!s.isSSR&&s.deps&&!Vo(s)){s.flags&=-3;return}const d=ds,u=or;ds=s,or=!0;try{Ic(s);const h=s.fn(s._value);(o.version===0||Br(h,s._value))&&(s._value=h,o.version++)}catch(h){throw o.version++,h}finally{ds=d,or=u,Mc(s),s.flags&=-3}}function vn(s,o=!1){const{dep:d,prevSub:u,nextSub:h}=s;if(u&&(u.nextSub=h,s.prevSub=void 0),h&&(h.prevSub=u,s.nextSub=void 0),d.subs===s&&(d.subs=u,!u&&d.computed)){d.computed.flags&=-5;for(let v=d.computed.deps;v;v=v.nextDep)vn(v,!0)}!o&&!--d.sc&&d.map&&d.map.delete(d.key)}function Ph(s){const{prevDep:o,nextDep:d}=s;o&&(o.nextDep=d,s.prevDep=void 0),d&&(d.prevDep=o,s.nextDep=void 0)}let or=!0;const Oc=[];function Hr(){Oc.push(or),or=!1}function Vr(){const s=Oc.pop();or=s===void 0?!0:s}function Gn(s){const{cleanup:o}=s;if(s.cleanup=void 0,o){const d=ds;ds=void 0;try{o()}finally{ds=d}}}let ti=0;class Ih{constructor(o,d){this.sub=o,this.dep=d,this.version=d.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class bn{constructor(o){this.computed=o,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(o){if(!ds||!or||ds===this.computed)return;let d=this.activeLink;if(d===void 0||d.sub!==ds)d=this.activeLink=new Ih(ds,this),ds.deps?(d.prevDep=ds.depsTail,ds.depsTail.nextDep=d,ds.depsTail=d):ds.deps=ds.depsTail=d,$c(d);else if(d.version===-1&&(d.version=this.version,d.nextDep)){const u=d.nextDep;u.prevDep=d.prevDep,d.prevDep&&(d.prevDep.nextDep=u),d.prevDep=ds.depsTail,d.nextDep=void 0,ds.depsTail.nextDep=d,ds.depsTail=d,ds.deps===d&&(ds.deps=u)}return d}trigger(o){this.version++,ti++,this.notify(o)}notify(o){gn();try{for(let d=this.subs;d;d=d.prevSub)d.sub.notify()&&d.sub.dep.notify()}finally{mn()}}}function $c(s){if(s.dep.sc++,s.sub.flags&4){const o=s.dep.computed;if(o&&!s.dep.subs){o.flags|=20;for(let u=o.deps;u;u=u.nextDep)$c(u)}const d=s.dep.subs;d!==s&&(s.prevSub=d,d&&(d.nextSub=s)),s.dep.subs=s}}const $i=new WeakMap,Kr=Symbol(""),Uo=Symbol(""),si=Symbol("");function Is(s,o,d){if(or&&ds){let u=$i.get(s);u||$i.set(s,u=new Map);let h=u.get(d);h||(u.set(d,h=new bn),h.map=u,h.key=d),h.track()}}function Cr(s,o,d,u,h,v){const m=$i.get(s);if(!m){ti++;return}const y=k=>{k&&k.trigger()};if(gn(),o==="clear")m.forEach(y);else{const k=$t(s),I=k&&fn(d);if(k&&d==="length"){const L=Number(u);m.forEach((E,P)=>{(P==="length"||P===si||!vr(P)&&P>=L)&&y(E)})}else switch((d!==void 0||m.has(void 0))&&y(m.get(d)),I&&y(m.get(si)),o){case"add":k?I&&y(m.get("length")):(y(m.get(Kr)),ba(s)&&y(m.get(Uo)));break;case"delete":k||(y(m.get(Kr)),ba(s)&&y(m.get(Uo)));break;case"set":ba(s)&&y(m.get(Kr));break}}mn()}function Mh(s,o){const d=$i.get(s);return d&&d.get(o)}function ha(s){const o=Wt(s);return o===s?o:(Is(o,"iterate",si),Ks(s)?o:o.map(Ms))}function Zi(s){return Is(s=Wt(s),"iterate",si),s}const Th={__proto__:null,[Symbol.iterator](){return ko(this,Symbol.iterator,Ms)},concat(...s){return ha(this).concat(...s.map(o=>$t(o)?ha(o):o))},entries(){return ko(this,"entries",s=>(s[1]=Ms(s[1]),s))},every(s,o){return yr(this,"every",s,o,void 0,arguments)},filter(s,o){return yr(this,"filter",s,o,d=>d.map(Ms),arguments)},find(s,o){return yr(this,"find",s,o,Ms,arguments)},findIndex(s,o){return yr(this,"findIndex",s,o,void 0,arguments)},findLast(s,o){return yr(this,"findLast",s,o,Ms,arguments)},findLastIndex(s,o){return yr(this,"findLastIndex",s,o,void 0,arguments)},forEach(s,o){return yr(this,"forEach",s,o,void 0,arguments)},includes(...s){return Co(this,"includes",s)},indexOf(...s){return Co(this,"indexOf",s)},join(s){return ha(this).join(s)},lastIndexOf(...s){return Co(this,"lastIndexOf",s)},map(s,o){return yr(this,"map",s,o,void 0,arguments)},pop(){return Da(this,"pop")},push(...s){return Da(this,"push",s)},reduce(s,...o){return Qn(this,"reduce",s,o)},reduceRight(s,...o){return Qn(this,"reduceRight",s,o)},shift(){return Da(this,"shift")},some(s,o){return yr(this,"some",s,o,void 0,arguments)},splice(...s){return Da(this,"splice",s)},toReversed(){return ha(this).toReversed()},toSorted(s){return ha(this).toSorted(s)},toSpliced(...s){return ha(this).toSpliced(...s)},unshift(...s){return Da(this,"unshift",s)},values(){return ko(this,"values",Ms)}};function ko(s,o,d){const u=Zi(s),h=u[o]();return u!==s&&!Ks(s)&&(h._next=h.next,h.next=()=>{const v=h._next();return v.value&&(v.value=d(v.value)),v}),h}const Oh=Array.prototype;function yr(s,o,d,u,h,v){const m=Zi(s),y=m!==s&&!Ks(s),k=m[o];if(k!==Oh[o]){const E=k.apply(s,v);return y?Ms(E):E}let I=d;m!==s&&(y?I=function(E,P){return d.call(this,Ms(E),P,s)}:d.length>2&&(I=function(E,P){return d.call(this,E,P,s)}));const L=k.call(m,I,u);return y&&h?h(L):L}function Qn(s,o,d,u){const h=Zi(s);let v=d;return h!==s&&(Ks(s)?d.length>3&&(v=function(m,y,k){return d.call(this,m,y,k,s)}):v=function(m,y,k){return d.call(this,m,Ms(y),k,s)}),h[o](v,...u)}function Co(s,o,d){const u=Wt(s);Is(u,"iterate",si);const h=u[o](...d);return(h===-1||h===!1)&&wn(d[0])?(d[0]=Wt(d[0]),u[o](...d)):h}function Da(s,o,d=[]){Hr(),gn();const u=Wt(s)[o].apply(s,d);return mn(),Vr(),u}const $h=dn("__proto__,__v_isRef,__isVue"),Rc=new Set(Object.getOwnPropertyNames(Symbol).filter(s=>s!=="arguments"&&s!=="caller").map(s=>Symbol[s]).filter(vr));function Rh(s){vr(s)||(s=String(s));const o=Wt(this);return Is(o,"has",s),o.hasOwnProperty(s)}class Dc{constructor(o=!1,d=!1){this._isReadonly=o,this._isShallow=d}get(o,d,u){if(d==="__v_skip")return o.__v_skip;const h=this._isReadonly,v=this._isShallow;if(d==="__v_isReactive")return!h;if(d==="__v_isReadonly")return h;if(d==="__v_isShallow")return v;if(d==="__v_raw")return u===(h?v?jh:Fc:v?Bc:zc).get(o)||Object.getPrototypeOf(o)===Object.getPrototypeOf(u)?o:void 0;const m=$t(o);if(!h){let k;if(m&&(k=Th[d]))return k;if(d==="hasOwnProperty")return Rh}const y=Reflect.get(o,d,ps(o)?o:u);return(vr(d)?Rc.has(d):$h(d))||(h||Is(o,"get",d),v)?y:ps(y)?m&&fn(d)?y:y.value:os(y)?h?Vc(y):fi(y):y}}class Nc extends Dc{constructor(o=!1){super(!1,o)}set(o,d,u,h){let v=o[d];if(!this._isShallow){const k=ta(v);if(!Ks(u)&&!ta(u)&&(v=Wt(v),u=Wt(u)),!$t(o)&&ps(v)&&!ps(u))return k?!1:(v.value=u,!0)}const m=$t(o)&&fn(d)?Number(d)<o.length:es(o,d),y=Reflect.set(o,d,u,ps(o)?o:h);return o===Wt(h)&&(m?Br(u,v)&&Cr(o,"set",d,u):Cr(o,"add",d,u)),y}deleteProperty(o,d){const u=es(o,d);o[d];const h=Reflect.deleteProperty(o,d);return h&&u&&Cr(o,"delete",d,void 0),h}has(o,d){const u=Reflect.has(o,d);return(!vr(d)||!Rc.has(d))&&Is(o,"has",d),u}ownKeys(o){return Is(o,"iterate",$t(o)?"length":Kr),Reflect.ownKeys(o)}}class Dh extends Dc{constructor(o=!1){super(!0,o)}set(o,d){return!0}deleteProperty(o,d){return!0}}const Nh=new Nc,zh=new Dh,Bh=new Nc(!0);const qo=s=>s,wi=s=>Reflect.getPrototypeOf(s);function Fh(s,o,d){return function(...u){const h=this.__v_raw,v=Wt(h),m=ba(v),y=s==="entries"||s===Symbol.iterator&&m,k=s==="keys"&&m,I=h[s](...u),L=d?qo:o?jo:Ms;return!o&&Is(v,"iterate",k?Uo:Kr),{next(){const{value:E,done:P}=I.next();return P?{value:E,done:P}:{value:y?[L(E[0]),L(E[1])]:L(E),done:P}},[Symbol.iterator](){return this}}}}function ki(s){return function(...o){return s==="delete"?!1:s==="clear"?void 0:this}}function Hh(s,o){const d={get(h){const v=this.__v_raw,m=Wt(v),y=Wt(h);s||(Br(h,y)&&Is(m,"get",h),Is(m,"get",y));const{has:k}=wi(m),I=o?qo:s?jo:Ms;if(k.call(m,h))return I(v.get(h));if(k.call(m,y))return I(v.get(y));v!==m&&v.get(h)},get size(){const h=this.__v_raw;return!s&&Is(Wt(h),"iterate",Kr),Reflect.get(h,"size",h)},has(h){const v=this.__v_raw,m=Wt(v),y=Wt(h);return s||(Br(h,y)&&Is(m,"has",h),Is(m,"has",y)),h===y?v.has(h):v.has(h)||v.has(y)},forEach(h,v){const m=this,y=m.__v_raw,k=Wt(y),I=o?qo:s?jo:Ms;return!s&&Is(k,"iterate",Kr),y.forEach((L,E)=>h.call(v,I(L),I(E),m))}};return Os(d,s?{add:ki("add"),set:ki("set"),delete:ki("delete"),clear:ki("clear")}:{add(h){!o&&!Ks(h)&&!ta(h)&&(h=Wt(h));const v=Wt(this);return wi(v).has.call(v,h)||(v.add(h),Cr(v,"add",h,h)),this},set(h,v){!o&&!Ks(v)&&!ta(v)&&(v=Wt(v));const m=Wt(this),{has:y,get:k}=wi(m);let I=y.call(m,h);I||(h=Wt(h),I=y.call(m,h));const L=k.call(m,h);return m.set(h,v),I?Br(v,L)&&Cr(m,"set",h,v):Cr(m,"add",h,v),this},delete(h){const v=Wt(this),{has:m,get:y}=wi(v);let k=m.call(v,h);k||(h=Wt(h),k=m.call(v,h)),y&&y.call(v,h);const I=v.delete(h);return k&&Cr(v,"delete",h,void 0),I},clear(){const h=Wt(this),v=h.size!==0,m=h.clear();return v&&Cr(h,"clear",void 0,void 0),m}}),["keys","values","entries",Symbol.iterator].forEach(h=>{d[h]=Fh(h,s,o)}),d}function xn(s,o){const d=Hh(s,o);return(u,h,v)=>h==="__v_isReactive"?!s:h==="__v_isReadonly"?s:h==="__v_raw"?u:Reflect.get(es(d,h)&&h in u?d:u,h,v)}const Vh={get:xn(!1,!1)},Uh={get:xn(!1,!0)},qh={get:xn(!0,!1)};const zc=new WeakMap,Bc=new WeakMap,Fc=new WeakMap,jh=new WeakMap;function Xh(s){switch(s){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Yh(s){return s.__v_skip||!Object.isExtensible(s)?0:Xh(bh(s))}function fi(s){return ta(s)?s:yn(s,!1,Nh,Vh,zc)}function Hc(s){return yn(s,!1,Bh,Uh,Bc)}function Vc(s){return yn(s,!0,zh,qh,Fc)}function yn(s,o,d,u,h){if(!os(s)||s.__v_raw&&!(o&&s.__v_isReactive))return s;const v=h.get(s);if(v)return v;const m=Yh(s);if(m===0)return s;const y=new Proxy(s,m===2?u:d);return h.set(s,y),y}function Sr(s){return ta(s)?Sr(s.__v_raw):!!(s&&s.__v_isReactive)}function ta(s){return!!(s&&s.__v_isReadonly)}function Ks(s){return!!(s&&s.__v_isShallow)}function wn(s){return s?!!s.__v_raw:!1}function Wt(s){const o=s&&s.__v_raw;return o?Wt(o):s}function kn(s){return!es(s,"__v_skip")&&Object.isExtensible(s)&&yc(s,"__v_skip",!0),s}const Ms=s=>os(s)?fi(s):s,jo=s=>os(s)?Vc(s):s;function ps(s){return s?s.__v_isRef===!0:!1}function G(s){return Uc(s,!1)}function Wh(s){return Uc(s,!0)}function Uc(s,o){return ps(s)?s:new Gh(s,o)}class Gh{constructor(o,d){this.dep=new bn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=d?o:Wt(o),this._value=d?o:Ms(o),this.__v_isShallow=d}get value(){return this.dep.track(),this._value}set value(o){const d=this._rawValue,u=this.__v_isShallow||Ks(o)||ta(o);o=u?o:Wt(o),Br(o,d)&&(this._rawValue=o,this._value=u?o:Ms(o),this.dep.trigger())}}function de(s){return ps(s)?s.value:s}const Qh={get:(s,o,d)=>o==="__v_raw"?s:de(Reflect.get(s,o,d)),set:(s,o,d,u)=>{const h=s[o];return ps(h)&&!ps(d)?(h.value=d,!0):Reflect.set(s,o,d,u)}};function qc(s){return Sr(s)?s:new Proxy(s,Qh)}function Zh(s){const o=$t(s)?new Array(s.length):{};for(const d in s)o[d]=jc(s,d);return o}class Kh{constructor(o,d,u){this._object=o,this._key=d,this._defaultValue=u,this.__v_isRef=!0,this._value=void 0}get value(){const o=this._object[this._key];return this._value=o===void 0?this._defaultValue:o}set value(o){this._object[this._key]=o}get dep(){return Mh(Wt(this._object),this._key)}}class Jh{constructor(o){this._getter=o,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function ef(s,o,d){return ps(s)?s:zt(s)?new Jh(s):os(s)&&arguments.length>1?jc(s,o,d):G(s)}function jc(s,o,d){const u=s[o];return ps(u)?u:new Kh(s,o,d)}class tf{constructor(o,d,u){this.fn=o,this.setter=d,this._value=void 0,this.dep=new bn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ti-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!d,this.isSSR=u}notify(){if(this.flags|=16,!(this.flags&8)&&ds!==this)return Pc(this,!0),!0}get value(){const o=this.dep.track();return Tc(this),o&&(o.version=this.dep.version),this._value}set value(o){this.setter&&this.setter(o)}}function sf(s,o,d=!1){let u,h;return zt(s)?u=s:(u=s.get,h=s.set),new tf(u,h,d)}const Ci={},Ri=new WeakMap;let Qr;function rf(s,o=!1,d=Qr){if(d){let u=Ri.get(d);u||Ri.set(d,u=[]),u.push(s)}}function af(s,o,d=is){const{immediate:u,deep:h,once:v,scheduler:m,augmentJob:y,call:k}=d,I=q=>h?q:Ks(q)||h===!1||h===0?_r(q,1):_r(q);let L,E,P,$,D=!1,N=!1;if(ps(s)?(E=()=>s.value,D=Ks(s)):Sr(s)?(E=()=>I(s),D=!0):$t(s)?(N=!0,D=s.some(q=>Sr(q)||Ks(q)),E=()=>s.map(q=>{if(ps(q))return q.value;if(Sr(q))return I(q);if(zt(q))return k?k(q,2):q()})):zt(s)?o?E=k?()=>k(s,2):s:E=()=>{if(P){Hr();try{P()}finally{Vr()}}const q=Qr;Qr=L;try{return k?k(s,3,[$]):s($)}finally{Qr=q}}:E=mr,o&&h){const q=E,S=h===!0?1/0:h;E=()=>_r(q(),S)}const R=Ac(),H=()=>{L.stop(),R&&R.active&&hn(R.effects,L)};if(v&&o){const q=o;o=(...S)=>{q(...S),H()}}let Q=N?new Array(s.length).fill(Ci):Ci;const Y=q=>{if(!(!(L.flags&1)||!L.dirty&&!q))if(o){const S=L.run();if(h||D||(N?S.some((K,ae)=>Br(K,Q[ae])):Br(S,Q))){P&&P();const K=Qr;Qr=L;try{const ae=[S,Q===Ci?void 0:N&&Q[0]===Ci?[]:Q,$];k?k(o,3,ae):o(...ae),Q=S}finally{Qr=K}}}else L.run()};return y&&y(Y),L=new Lc(E),L.scheduler=m?()=>m(Y,!1):Y,$=q=>rf(q,!1,L),P=L.onStop=()=>{const q=Ri.get(L);if(q){if(k)k(q,4);else for(const S of q)S();Ri.delete(L)}},o?u?Y(!0):Q=L.run():m?m(Y.bind(null,!0),!0):L.run(),H.pause=L.pause.bind(L),H.resume=L.resume.bind(L),H.stop=H,H}function _r(s,o=1/0,d){if(o<=0||!os(s)||s.__v_skip||(d=d||new Set,d.has(s)))return s;if(d.add(s),o--,ps(s))_r(s.value,o,d);else if($t(s))for(let u=0;u<s.length;u++)_r(s[u],o,d);else if(Ea(s)||ba(s))s.forEach(u=>{_r(u,o,d)});else if(xc(s)){for(const u in s)_r(s[u],o,d);for(const u of Object.getOwnPropertySymbols(s))Object.prototype.propertyIsEnumerable.call(s,u)&&_r(s[u],o,d)}return s}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function pi(s,o,d,u){try{return u?s(...u):s()}catch(h){Ki(h,o,d)}}function br(s,o,d,u){if(zt(s)){const h=pi(s,o,d,u);return h&&vc(h)&&h.catch(v=>{Ki(v,o,d)}),h}if($t(s)){const h=[];for(let v=0;v<s.length;v++)h.push(br(s[v],o,d,u));return h}}function Ki(s,o,d,u=!0){const h=o?o.vnode:null,{errorHandler:v,throwUnhandledErrorInProduction:m}=o&&o.appContext.config||is;if(o){let y=o.parent;const k=o.proxy,I=`https://vuejs.org/error-reference/#runtime-${d}`;for(;y;){const L=y.ec;if(L){for(let E=0;E<L.length;E++)if(L[E](s,k,I)===!1)return}y=y.parent}if(v){Hr(),pi(v,null,10,[s,k,I]),Vr();return}}of(s,d,h,u,m)}function of(s,o,d,u=!0,h=!1){if(h)throw s;console.error(s)}const Bs=[];let fr=-1;const xa=[];let Rr=null,pa=0;const Xc=Promise.resolve();let Di=null;function Ji(s){const o=Di||Xc;return s?o.then(this?s.bind(this):s):o}function nf(s){let o=fr+1,d=Bs.length;for(;o<d;){const u=o+d>>>1,h=Bs[u],v=ri(h);v<s||v===s&&h.flags&2?o=u+1:d=u}return o}function Cn(s){if(!(s.flags&1)){const o=ri(s),d=Bs[Bs.length-1];!d||!(s.flags&2)&&o>=ri(d)?Bs.push(s):Bs.splice(nf(o),0,s),s.flags|=1,Yc()}}function Yc(){Di||(Di=Xc.then(Gc))}function lf(s){$t(s)?xa.push(...s):Rr&&s.id===-1?Rr.splice(pa+1,0,s):s.flags&1||(xa.push(s),s.flags|=1),Yc()}function Zn(s,o,d=fr+1){for(;d<Bs.length;d++){const u=Bs[d];if(u&&u.flags&2){if(s&&u.id!==s.uid)continue;Bs.splice(d,1),d--,u.flags&4&&(u.flags&=-2),u(),u.flags&4||(u.flags&=-2)}}}function Wc(s){if(xa.length){const o=[...new Set(xa)].sort((d,u)=>ri(d)-ri(u));if(xa.length=0,Rr){Rr.push(...o);return}for(Rr=o,pa=0;pa<Rr.length;pa++){const d=Rr[pa];d.flags&4&&(d.flags&=-2),d.flags&8||d(),d.flags&=-2}Rr=null,pa=0}}const ri=s=>s.id==null?s.flags&2?-1:1/0:s.id;function Gc(s){try{for(fr=0;fr<Bs.length;fr++){const o=Bs[fr];o&&!(o.flags&8)&&(o.flags&4&&(o.flags&=-2),pi(o,o.i,o.i?15:14),o.flags&4||(o.flags&=-2))}}finally{for(;fr<Bs.length;fr++){const o=Bs[fr];o&&(o.flags&=-2)}fr=-1,Bs.length=0,Wc(),Di=null,(Bs.length||xa.length)&&Gc()}}let Us=null,Qc=null;function Ni(s){const o=Us;return Us=s,Qc=s&&s.type.__scopeId||null,o}function ar(s,o=Us,d){if(!o||s._n)return s;const u=(...h)=>{u._d&&nl(-1);const v=Ni(o);let m;try{m=s(...h)}finally{Ni(v),u._d&&nl(1)}return m};return u._n=!0,u._c=!0,u._d=!0,u}function Xe(s,o){if(Us===null)return s;const d=ro(Us),u=s.dirs||(s.dirs=[]);for(let h=0;h<o.length;h++){let[v,m,y,k=is]=o[h];v&&(zt(v)&&(v={mounted:v,updated:v}),v.deep&&_r(m),u.push({dir:v,instance:d,value:m,oldValue:void 0,arg:y,modifiers:k}))}return s}function Wr(s,o,d,u){const h=s.dirs,v=o&&o.dirs;for(let m=0;m<h.length;m++){const y=h[m];v&&(y.oldValue=v[m].value);let k=y.dir[u];k&&(Hr(),br(k,d,8,[s.el,y,s,o]),Vr())}}const cf=Symbol("_vte"),df=s=>s.__isTeleport;function _n(s,o){s.shapeFlag&6&&s.component?(s.transition=o,_n(s.component.subTree,o)):s.shapeFlag&128?(s.ssContent.transition=o.clone(s.ssContent),s.ssFallback.transition=o.clone(s.ssFallback)):s.transition=o}/*! #__NO_SIDE_EFFECTS__ */function gi(s,o){return zt(s)?Os({name:s.name},o,{setup:s}):s}function Zc(s){s.ids=[s.ids[0]+s.ids[2]+++"-",0,0]}function zi(s,o,d,u,h=!1){if($t(s)){s.forEach((D,N)=>zi(D,o&&($t(o)?o[N]:o),d,u,h));return}if(Ga(u)&&!h){u.shapeFlag&512&&u.type.__asyncResolved&&u.component.subTree.component&&zi(s,o,d,u.component.subTree);return}const v=u.shapeFlag&4?ro(u.component):u.el,m=h?null:v,{i:y,r:k}=s,I=o&&o.r,L=y.refs===is?y.refs={}:y.refs,E=y.setupState,P=Wt(E),$=E===is?()=>!1:D=>es(P,D);if(I!=null&&I!==k&&(ws(I)?(L[I]=null,$(I)&&(E[I]=null)):ps(I)&&(I.value=null)),zt(k))pi(k,y,12,[m,L]);else{const D=ws(k),N=ps(k);if(D||N){const R=()=>{if(s.f){const H=D?$(k)?E[k]:L[k]:k.value;h?$t(H)&&hn(H,v):$t(H)?H.includes(v)||H.push(v):D?(L[k]=[v],$(k)&&(E[k]=L[k])):(k.value=[v],s.k&&(L[s.k]=k.value))}else D?(L[k]=m,$(k)&&(E[k]=m)):N&&(k.value=m,s.k&&(L[s.k]=m))};m?(R.id=-1,Ys(R,d)):R()}}}Qi().requestIdleCallback;Qi().cancelIdleCallback;const Ga=s=>!!s.type.__asyncLoader,Kc=s=>s.type.__isKeepAlive;function uf(s,o){Jc(s,"a",o)}function hf(s,o){Jc(s,"da",o)}function Jc(s,o,d=Es){const u=s.__wdc||(s.__wdc=()=>{let h=d;for(;h;){if(h.isDeactivated)return;h=h.parent}return s()});if(eo(o,u,d),d){let h=d.parent;for(;h&&h.parent;)Kc(h.parent.vnode)&&ff(u,o,d,h),h=h.parent}}function ff(s,o,d,u){const h=eo(o,s,u,!0);Nt(()=>{hn(u[o],h)},d)}function eo(s,o,d=Es,u=!1){if(d){const h=d[s]||(d[s]=[]),v=o.__weh||(o.__weh=(...m)=>{Hr();const y=mi(d),k=br(o,d,s,m);return y(),Vr(),k});return u?h.unshift(v):h.push(v),v}}const Lr=s=>(o,d=Es)=>{(!oi||s==="sp")&&eo(s,(...u)=>o(...u),d)},pf=Lr("bm"),gt=Lr("m"),gf=Lr("bu"),Sn=Lr("u"),ed=Lr("bum"),Nt=Lr("um"),mf=Lr("sp"),vf=Lr("rtg"),bf=Lr("rtc");function xf(s,o=Es){eo("ec",s,o)}const yf="components";function ai(s,o){return kf(yf,s,!0,o)||s}const wf=Symbol.for("v-ndc");function kf(s,o,d=!0,u=!1){const h=Us||Es;if(h){const v=h.type;{const y=cp(v,!1);if(y&&(y===o||y===tr(o)||y===Gi(tr(o))))return v}const m=Kn(h[s]||v[s],o)||Kn(h.appContext[s],o);return!m&&u?v:m}}function Kn(s,o){return s&&(s[o]||s[tr(o)]||s[Gi(tr(o))])}function yt(s,o,d,u){let h;const v=d,m=$t(s);if(m||ws(s)){const y=m&&Sr(s);let k=!1;y&&(k=!Ks(s),s=Zi(s)),h=new Array(s.length);for(let I=0,L=s.length;I<L;I++)h[I]=o(k?Ms(s[I]):s[I],I,void 0,v)}else if(typeof s=="number"){h=new Array(s);for(let y=0;y<s;y++)h[y]=o(y+1,y,void 0,v)}else if(os(s))if(s[Symbol.iterator])h=Array.from(s,(y,k)=>o(y,k,void 0,v));else{const y=Object.keys(s);h=new Array(y.length);for(let k=0,I=y.length;k<I;k++){const L=y[k];h[k]=o(s[L],L,k,v)}}else h=[];return h}const Xo=s=>s?kd(s)?ro(s):Xo(s.parent):null,Qa=Os(Object.create(null),{$:s=>s,$el:s=>s.vnode.el,$data:s=>s.data,$props:s=>s.props,$attrs:s=>s.attrs,$slots:s=>s.slots,$refs:s=>s.refs,$parent:s=>Xo(s.parent),$root:s=>Xo(s.root),$host:s=>s.ce,$emit:s=>s.emit,$options:s=>sd(s),$forceUpdate:s=>s.f||(s.f=()=>{Cn(s.update)}),$nextTick:s=>s.n||(s.n=Ji.bind(s.proxy)),$watch:s=>qf.bind(s)}),_o=(s,o)=>s!==is&&!s.__isScriptSetup&&es(s,o),Cf={get({_:s},o){if(o==="__v_skip")return!0;const{ctx:d,setupState:u,data:h,props:v,accessCache:m,type:y,appContext:k}=s;let I;if(o[0]!=="$"){const $=m[o];if($!==void 0)switch($){case 1:return u[o];case 2:return h[o];case 4:return d[o];case 3:return v[o]}else{if(_o(u,o))return m[o]=1,u[o];if(h!==is&&es(h,o))return m[o]=2,h[o];if((I=s.propsOptions[0])&&es(I,o))return m[o]=3,v[o];if(d!==is&&es(d,o))return m[o]=4,d[o];Yo&&(m[o]=0)}}const L=Qa[o];let E,P;if(L)return o==="$attrs"&&Is(s.attrs,"get",""),L(s);if((E=y.__cssModules)&&(E=E[o]))return E;if(d!==is&&es(d,o))return m[o]=4,d[o];if(P=k.config.globalProperties,es(P,o))return P[o]},set({_:s},o,d){const{data:u,setupState:h,ctx:v}=s;return _o(h,o)?(h[o]=d,!0):u!==is&&es(u,o)?(u[o]=d,!0):es(s.props,o)||o[0]==="$"&&o.slice(1)in s?!1:(v[o]=d,!0)},has({_:{data:s,setupState:o,accessCache:d,ctx:u,appContext:h,propsOptions:v}},m){let y;return!!d[m]||s!==is&&es(s,m)||_o(o,m)||(y=v[0])&&es(y,m)||es(u,m)||es(Qa,m)||es(h.config.globalProperties,m)},defineProperty(s,o,d){return d.get!=null?s._.accessCache[o]=0:es(d,"value")&&this.set(s,o,d.value,null),Reflect.defineProperty(s,o,d)}};function Jn(s){return $t(s)?s.reduce((o,d)=>(o[d]=null,o),{}):s}let Yo=!0;function _f(s){const o=sd(s),d=s.proxy,u=s.ctx;Yo=!1,o.beforeCreate&&el(o.beforeCreate,s,"bc");const{data:h,computed:v,methods:m,watch:y,provide:k,inject:I,created:L,beforeMount:E,mounted:P,beforeUpdate:$,updated:D,activated:N,deactivated:R,beforeDestroy:H,beforeUnmount:Q,destroyed:Y,unmounted:q,render:S,renderTracked:K,renderTriggered:ae,errorCaptured:B,serverPrefetch:te,expose:fe,inheritAttrs:Te,components:Ae,directives:Ie,filters:Ee}=o;if(I&&Sf(I,u,null),m)for(const ze in m){const Je=m[ze];zt(Je)&&(u[ze]=Je.bind(d))}if(h){const ze=h.call(d,d);os(ze)&&(s.data=fi(ze))}if(Yo=!0,v)for(const ze in v){const Je=v[ze],Ye=zt(Je)?Je.bind(d,d):zt(Je.get)?Je.get.bind(d,d):mr,st=!zt(Je)&&zt(Je.set)?Je.set.bind(d):mr,xe=Ve({get:Ye,set:st});Object.defineProperty(u,ze,{enumerable:!0,configurable:!0,get:()=>xe.value,set:ue=>xe.value=ue})}if(y)for(const ze in y)td(y[ze],u,d,ze);if(k){const ze=zt(k)?k.call(d):k;Reflect.ownKeys(ze).forEach(Je=>{Ai(Je,ze[Je])})}L&&el(L,s,"c");function Me(ze,Je){$t(Je)?Je.forEach(Ye=>ze(Ye.bind(d))):Je&&ze(Je.bind(d))}if(Me(pf,E),Me(gt,P),Me(gf,$),Me(Sn,D),Me(uf,N),Me(hf,R),Me(xf,B),Me(bf,K),Me(vf,ae),Me(ed,Q),Me(Nt,q),Me(mf,te),$t(fe))if(fe.length){const ze=s.exposed||(s.exposed={});fe.forEach(Je=>{Object.defineProperty(ze,Je,{get:()=>d[Je],set:Ye=>d[Je]=Ye})})}else s.exposed||(s.exposed={});S&&s.render===mr&&(s.render=S),Te!=null&&(s.inheritAttrs=Te),Ae&&(s.components=Ae),Ie&&(s.directives=Ie),te&&Zc(s)}function Sf(s,o,d=mr){$t(s)&&(s=Wo(s));for(const u in s){const h=s[u];let v;os(h)?"default"in h?v=Js(h.from||u,h.default,!0):v=Js(h.from||u):v=Js(h),ps(v)?Object.defineProperty(o,u,{enumerable:!0,configurable:!0,get:()=>v.value,set:m=>v.value=m}):o[u]=v}}function el(s,o,d){br($t(s)?s.map(u=>u.bind(o.proxy)):s.bind(o.proxy),o,d)}function td(s,o,d,u){let h=u.includes(".")?md(d,u):()=>d[u];if(ws(s)){const v=o[s];zt(v)&&it(h,v)}else if(zt(s))it(h,s.bind(d));else if(os(s))if($t(s))s.forEach(v=>td(v,o,d,u));else{const v=zt(s.handler)?s.handler.bind(d):o[s.handler];zt(v)&&it(h,v,s)}}function sd(s){const o=s.type,{mixins:d,extends:u}=o,{mixins:h,optionsCache:v,config:{optionMergeStrategies:m}}=s.appContext,y=v.get(o);let k;return y?k=y:!h.length&&!d&&!u?k=o:(k={},h.length&&h.forEach(I=>Bi(k,I,m,!0)),Bi(k,o,m)),os(o)&&v.set(o,k),k}function Bi(s,o,d,u=!1){const{mixins:h,extends:v}=o;v&&Bi(s,v,d,!0),h&&h.forEach(m=>Bi(s,m,d,!0));for(const m in o)if(!(u&&m==="expose")){const y=Af[m]||d&&d[m];s[m]=y?y(s[m],o[m]):o[m]}return s}const Af={data:tl,props:sl,emits:sl,methods:Ua,computed:Ua,beforeCreate:Ns,created:Ns,beforeMount:Ns,mounted:Ns,beforeUpdate:Ns,updated:Ns,beforeDestroy:Ns,beforeUnmount:Ns,destroyed:Ns,unmounted:Ns,activated:Ns,deactivated:Ns,errorCaptured:Ns,serverPrefetch:Ns,components:Ua,directives:Ua,watch:Ef,provide:tl,inject:Lf};function tl(s,o){return o?s?function(){return Os(zt(s)?s.call(this,this):s,zt(o)?o.call(this,this):o)}:o:s}function Lf(s,o){return Ua(Wo(s),Wo(o))}function Wo(s){if($t(s)){const o={};for(let d=0;d<s.length;d++)o[s[d]]=s[d];return o}return s}function Ns(s,o){return s?[...new Set([].concat(s,o))]:o}function Ua(s,o){return s?Os(Object.create(null),s,o):o}function sl(s,o){return s?$t(s)&&$t(o)?[...new Set([...s,...o])]:Os(Object.create(null),Jn(s),Jn(o??{})):o}function Ef(s,o){if(!s)return o;if(!o)return s;const d=Os(Object.create(null),s);for(const u in o)d[u]=Ns(s[u],o[u]);return d}function rd(){return{app:null,config:{isNativeTag:mh,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Pf=0;function If(s,o){return function(u,h=null){zt(u)||(u=Os({},u)),h!=null&&!os(h)&&(h=null);const v=rd(),m=new WeakSet,y=[];let k=!1;const I=v.app={_uid:Pf++,_component:u,_props:h,_container:null,_context:v,_instance:null,version:up,get config(){return v.config},set config(L){},use(L,...E){return m.has(L)||(L&&zt(L.install)?(m.add(L),L.install(I,...E)):zt(L)&&(m.add(L),L(I,...E))),I},mixin(L){return v.mixins.includes(L)||v.mixins.push(L),I},component(L,E){return E?(v.components[L]=E,I):v.components[L]},directive(L,E){return E?(v.directives[L]=E,I):v.directives[L]},mount(L,E,P){if(!k){const $=I._ceVNode||he(u,h);return $.appContext=v,P===!0?P="svg":P===!1&&(P=void 0),s($,L,P),k=!0,I._container=L,L.__vue_app__=I,ro($.component)}},onUnmount(L){y.push(L)},unmount(){k&&(br(y,I._instance,16),s(null,I._container),delete I._container.__vue_app__)},provide(L,E){return v.provides[L]=E,I},runWithContext(L){const E=Jr;Jr=I;try{return L()}finally{Jr=E}}};return I}}let Jr=null;function Ai(s,o){if(Es){let d=Es.provides;const u=Es.parent&&Es.parent.provides;u===d&&(d=Es.provides=Object.create(u)),d[s]=o}}function Js(s,o,d=!1){const u=Es||Us;if(u||Jr){const h=Jr?Jr._context.provides:u?u.parent==null?u.vnode.appContext&&u.vnode.appContext.provides:u.parent.provides:void 0;if(h&&s in h)return h[s];if(arguments.length>1)return d&&zt(o)?o.call(u&&u.proxy):o}}function Mf(){return!!(Es||Us||Jr)}const ad={},id=()=>Object.create(ad),od=s=>Object.getPrototypeOf(s)===ad;function Tf(s,o,d,u=!1){const h={},v=id();s.propsDefaults=Object.create(null),nd(s,o,h,v);for(const m in s.propsOptions[0])m in h||(h[m]=void 0);d?s.props=u?h:Hc(h):s.type.props?s.props=h:s.props=v,s.attrs=v}function Of(s,o,d,u){const{props:h,attrs:v,vnode:{patchFlag:m}}=s,y=Wt(h),[k]=s.propsOptions;let I=!1;if((u||m>0)&&!(m&16)){if(m&8){const L=s.vnode.dynamicProps;for(let E=0;E<L.length;E++){let P=L[E];if(to(s.emitsOptions,P))continue;const $=o[P];if(k)if(es(v,P))$!==v[P]&&(v[P]=$,I=!0);else{const D=tr(P);h[D]=Go(k,y,D,$,s,!1)}else $!==v[P]&&(v[P]=$,I=!0)}}}else{nd(s,o,h,v)&&(I=!0);let L;for(const E in y)(!o||!es(o,E)&&((L=Fr(E))===E||!es(o,L)))&&(k?d&&(d[E]!==void 0||d[L]!==void 0)&&(h[E]=Go(k,y,E,void 0,s,!0)):delete h[E]);if(v!==y)for(const E in v)(!o||!es(o,E))&&(delete v[E],I=!0)}I&&Cr(s.attrs,"set","")}function nd(s,o,d,u){const[h,v]=s.propsOptions;let m=!1,y;if(o)for(let k in o){if(Xa(k))continue;const I=o[k];let L;h&&es(h,L=tr(k))?!v||!v.includes(L)?d[L]=I:(y||(y={}))[L]=I:to(s.emitsOptions,k)||(!(k in u)||I!==u[k])&&(u[k]=I,m=!0)}if(v){const k=Wt(d),I=y||is;for(let L=0;L<v.length;L++){const E=v[L];d[E]=Go(h,k,E,I[E],s,!es(I,E))}}return m}function Go(s,o,d,u,h,v){const m=s[d];if(m!=null){const y=es(m,"default");if(y&&u===void 0){const k=m.default;if(m.type!==Function&&!m.skipFactory&&zt(k)){const{propsDefaults:I}=h;if(d in I)u=I[d];else{const L=mi(h);u=I[d]=k.call(null,o),L()}}else u=k;h.ce&&h.ce._setProp(d,u)}m[0]&&(v&&!y?u=!1:m[1]&&(u===""||u===Fr(d))&&(u=!0))}return u}const $f=new WeakMap;function ld(s,o,d=!1){const u=d?$f:o.propsCache,h=u.get(s);if(h)return h;const v=s.props,m={},y=[];let k=!1;if(!zt(s)){const L=E=>{k=!0;const[P,$]=ld(E,o,!0);Os(m,P),$&&y.push(...$)};!d&&o.mixins.length&&o.mixins.forEach(L),s.extends&&L(s.extends),s.mixins&&s.mixins.forEach(L)}if(!v&&!k)return os(s)&&u.set(s,va),va;if($t(v))for(let L=0;L<v.length;L++){const E=tr(v[L]);rl(E)&&(m[E]=is)}else if(v)for(const L in v){const E=tr(L);if(rl(E)){const P=v[L],$=m[E]=$t(P)||zt(P)?{type:P}:Os({},P),D=$.type;let N=!1,R=!0;if($t(D))for(let H=0;H<D.length;++H){const Q=D[H],Y=zt(Q)&&Q.name;if(Y==="Boolean"){N=!0;break}else Y==="String"&&(R=!1)}else N=zt(D)&&D.name==="Boolean";$[0]=N,$[1]=R,(N||es($,"default"))&&y.push(E)}}const I=[m,y];return os(s)&&u.set(s,I),I}function rl(s){return s[0]!=="$"&&!Xa(s)}const cd=s=>s[0]==="_"||s==="$stable",An=s=>$t(s)?s.map(pr):[pr(s)],Rf=(s,o,d)=>{if(o._n)return o;const u=ar((...h)=>An(o(...h)),d);return u._c=!1,u},dd=(s,o,d)=>{const u=s._ctx;for(const h in s){if(cd(h))continue;const v=s[h];if(zt(v))o[h]=Rf(h,v,u);else if(v!=null){const m=An(v);o[h]=()=>m}}},ud=(s,o)=>{const d=An(o);s.slots.default=()=>d},hd=(s,o,d)=>{for(const u in o)(d||u!=="_")&&(s[u]=o[u])},Df=(s,o,d)=>{const u=s.slots=id();if(s.vnode.shapeFlag&32){const h=o._;h?(hd(u,o,d),d&&yc(u,"_",h,!0)):dd(o,u)}else o&&ud(s,o)},Nf=(s,o,d)=>{const{vnode:u,slots:h}=s;let v=!0,m=is;if(u.shapeFlag&32){const y=o._;y?d&&y===1?v=!1:hd(h,o,d):(v=!o.$stable,dd(o,h)),m=o}else o&&(ud(s,o),m={default:1});if(v)for(const y in h)!cd(y)&&m[y]==null&&delete h[y]},Ys=Zf;function zf(s){return Bf(s)}function Bf(s,o){const d=Qi();d.__VUE__=!0;const{insert:u,remove:h,patchProp:v,createElement:m,createText:y,createComment:k,setText:I,setElementText:L,parentNode:E,nextSibling:P,setScopeId:$=mr,insertStaticContent:D}=s,N=(ne,le,oe,Ce=null,Le=null,_e=null,rt=void 0,et=null,tt=!!le.dynamicChildren)=>{if(ne===le)return;ne&&!Na(ne,le)&&(Ce=ge(ne),ue(ne,Le,_e,!0),ne=null),le.patchFlag===-2&&(tt=!1,le.dynamicChildren=null);const{type:Qe,ref:Ct,shapeFlag:at}=le;switch(Qe){case so:R(ne,le,oe,Ce);break;case sa:H(ne,le,oe,Ce);break;case Li:ne==null&&Q(le,oe,Ce,rt);break;case ft:Ae(ne,le,oe,Ce,Le,_e,rt,et,tt);break;default:at&1?S(ne,le,oe,Ce,Le,_e,rt,et,tt):at&6?Ie(ne,le,oe,Ce,Le,_e,rt,et,tt):(at&64||at&128)&&Qe.process(ne,le,oe,Ce,Le,_e,rt,et,tt,ie)}Ct!=null&&Le&&zi(Ct,ne&&ne.ref,_e,le||ne,!le)},R=(ne,le,oe,Ce)=>{if(ne==null)u(le.el=y(le.children),oe,Ce);else{const Le=le.el=ne.el;le.children!==ne.children&&I(Le,le.children)}},H=(ne,le,oe,Ce)=>{ne==null?u(le.el=k(le.children||""),oe,Ce):le.el=ne.el},Q=(ne,le,oe,Ce)=>{[ne.el,ne.anchor]=D(ne.children,le,oe,Ce,ne.el,ne.anchor)},Y=({el:ne,anchor:le},oe,Ce)=>{let Le;for(;ne&&ne!==le;)Le=P(ne),u(ne,oe,Ce),ne=Le;u(le,oe,Ce)},q=({el:ne,anchor:le})=>{let oe;for(;ne&&ne!==le;)oe=P(ne),h(ne),ne=oe;h(le)},S=(ne,le,oe,Ce,Le,_e,rt,et,tt)=>{le.type==="svg"?rt="svg":le.type==="math"&&(rt="mathml"),ne==null?K(le,oe,Ce,Le,_e,rt,et,tt):te(ne,le,Le,_e,rt,et,tt)},K=(ne,le,oe,Ce,Le,_e,rt,et)=>{let tt,Qe;const{props:Ct,shapeFlag:at,transition:vt,dirs:lt}=ne;if(tt=ne.el=m(ne.type,_e,Ct&&Ct.is,Ct),at&8?L(tt,ne.children):at&16&&B(ne.children,tt,null,Ce,Le,So(ne,_e),rt,et),lt&&Wr(ne,null,Ce,"created"),ae(tt,ne,ne.scopeId,rt,Ce),Ct){for(const jt in Ct)jt!=="value"&&!Xa(jt)&&v(tt,jt,null,Ct[jt],_e,Ce);"value"in Ct&&v(tt,"value",null,Ct.value,_e),(Qe=Ct.onVnodeBeforeMount)&&ur(Qe,Ce,ne)}lt&&Wr(ne,null,Ce,"beforeMount");const Dt=Ff(Le,vt);Dt&&vt.beforeEnter(tt),u(tt,le,oe),((Qe=Ct&&Ct.onVnodeMounted)||Dt||lt)&&Ys(()=>{Qe&&ur(Qe,Ce,ne),Dt&&vt.enter(tt),lt&&Wr(ne,null,Ce,"mounted")},Le)},ae=(ne,le,oe,Ce,Le)=>{if(oe&&$(ne,oe),Ce)for(let _e=0;_e<Ce.length;_e++)$(ne,Ce[_e]);if(Le){let _e=Le.subTree;if(le===_e||bd(_e.type)&&(_e.ssContent===le||_e.ssFallback===le)){const rt=Le.vnode;ae(ne,rt,rt.scopeId,rt.slotScopeIds,Le.parent)}}},B=(ne,le,oe,Ce,Le,_e,rt,et,tt=0)=>{for(let Qe=tt;Qe<ne.length;Qe++){const Ct=ne[Qe]=et?Dr(ne[Qe]):pr(ne[Qe]);N(null,Ct,le,oe,Ce,Le,_e,rt,et)}},te=(ne,le,oe,Ce,Le,_e,rt)=>{const et=le.el=ne.el;let{patchFlag:tt,dynamicChildren:Qe,dirs:Ct}=le;tt|=ne.patchFlag&16;const at=ne.props||is,vt=le.props||is;let lt;if(oe&&Gr(oe,!1),(lt=vt.onVnodeBeforeUpdate)&&ur(lt,oe,le,ne),Ct&&Wr(le,ne,oe,"beforeUpdate"),oe&&Gr(oe,!0),(at.innerHTML&&vt.innerHTML==null||at.textContent&&vt.textContent==null)&&L(et,""),Qe?fe(ne.dynamicChildren,Qe,et,oe,Ce,So(le,Le),_e):rt||Je(ne,le,et,null,oe,Ce,So(le,Le),_e,!1),tt>0){if(tt&16)Te(et,at,vt,oe,Le);else if(tt&2&&at.class!==vt.class&&v(et,"class",null,vt.class,Le),tt&4&&v(et,"style",at.style,vt.style,Le),tt&8){const Dt=le.dynamicProps;for(let jt=0;jt<Dt.length;jt++){const Ut=Dt[jt],ss=at[Ut],ns=vt[Ut];(ns!==ss||Ut==="value")&&v(et,Ut,ss,ns,Le,oe)}}tt&1&&ne.children!==le.children&&L(et,le.children)}else!rt&&Qe==null&&Te(et,at,vt,oe,Le);((lt=vt.onVnodeUpdated)||Ct)&&Ys(()=>{lt&&ur(lt,oe,le,ne),Ct&&Wr(le,ne,oe,"updated")},Ce)},fe=(ne,le,oe,Ce,Le,_e,rt)=>{for(let et=0;et<le.length;et++){const tt=ne[et],Qe=le[et],Ct=tt.el&&(tt.type===ft||!Na(tt,Qe)||tt.shapeFlag&70)?E(tt.el):oe;N(tt,Qe,Ct,null,Ce,Le,_e,rt,!0)}},Te=(ne,le,oe,Ce,Le)=>{if(le!==oe){if(le!==is)for(const _e in le)!Xa(_e)&&!(_e in oe)&&v(ne,_e,le[_e],null,Le,Ce);for(const _e in oe){if(Xa(_e))continue;const rt=oe[_e],et=le[_e];rt!==et&&_e!=="value"&&v(ne,_e,et,rt,Le,Ce)}"value"in oe&&v(ne,"value",le.value,oe.value,Le)}},Ae=(ne,le,oe,Ce,Le,_e,rt,et,tt)=>{const Qe=le.el=ne?ne.el:y(""),Ct=le.anchor=ne?ne.anchor:y("");let{patchFlag:at,dynamicChildren:vt,slotScopeIds:lt}=le;lt&&(et=et?et.concat(lt):lt),ne==null?(u(Qe,oe,Ce),u(Ct,oe,Ce),B(le.children||[],oe,Ct,Le,_e,rt,et,tt)):at>0&&at&64&&vt&&ne.dynamicChildren?(fe(ne.dynamicChildren,vt,oe,Le,_e,rt,et),(le.key!=null||Le&&le===Le.subTree)&&fd(ne,le,!0)):Je(ne,le,oe,Ct,Le,_e,rt,et,tt)},Ie=(ne,le,oe,Ce,Le,_e,rt,et,tt)=>{le.slotScopeIds=et,ne==null?le.shapeFlag&512?Le.ctx.activate(le,oe,Ce,rt,tt):Ee(le,oe,Ce,Le,_e,rt,tt):Ne(ne,le,tt)},Ee=(ne,le,oe,Ce,Le,_e,rt)=>{const et=ne.component=ap(ne,Ce,Le);if(Kc(ne)&&(et.ctx.renderer=ie),ip(et,!1,rt),et.asyncDep){if(Le&&Le.registerDep(et,Me,rt),!ne.el){const tt=et.subTree=he(sa);H(null,tt,le,oe)}}else Me(et,ne,le,oe,Le,_e,rt)},Ne=(ne,le,oe)=>{const Ce=le.component=ne.component;if(Gf(ne,le,oe))if(Ce.asyncDep&&!Ce.asyncResolved){ze(Ce,le,oe);return}else Ce.next=le,Ce.update();else le.el=ne.el,Ce.vnode=le},Me=(ne,le,oe,Ce,Le,_e,rt)=>{const et=()=>{if(ne.isMounted){let{next:at,bu:vt,u:lt,parent:Dt,vnode:jt}=ne;{const ks=pd(ne);if(ks){at&&(at.el=jt.el,ze(ne,at,rt)),ks.asyncDep.then(()=>{ne.isUnmounted||et()});return}}let Ut=at,ss;Gr(ne,!1),at?(at.el=jt.el,ze(ne,at,rt)):at=jt,vt&&Si(vt),(ss=at.props&&at.props.onVnodeBeforeUpdate)&&ur(ss,Dt,at,jt),Gr(ne,!0);const ns=il(ne),Pt=ne.subTree;ne.subTree=ns,N(Pt,ns,E(Pt.el),ge(Pt),ne,Le,_e),at.el=ns.el,Ut===null&&Qf(ne,ns.el),lt&&Ys(lt,Le),(ss=at.props&&at.props.onVnodeUpdated)&&Ys(()=>ur(ss,Dt,at,jt),Le)}else{let at;const{el:vt,props:lt}=le,{bm:Dt,m:jt,parent:Ut,root:ss,type:ns}=ne,Pt=Ga(le);Gr(ne,!1),Dt&&Si(Dt),!Pt&&(at=lt&&lt.onVnodeBeforeMount)&&ur(at,Ut,le),Gr(ne,!0);{ss.ce&&ss.ce._injectChildStyle(ns);const ks=ne.subTree=il(ne);N(null,ks,oe,Ce,ne,Le,_e),le.el=ks.el}if(jt&&Ys(jt,Le),!Pt&&(at=lt&&lt.onVnodeMounted)){const ks=le;Ys(()=>ur(at,Ut,ks),Le)}(le.shapeFlag&256||Ut&&Ga(Ut.vnode)&&Ut.vnode.shapeFlag&256)&&ne.a&&Ys(ne.a,Le),ne.isMounted=!0,le=oe=Ce=null}};ne.scope.on();const tt=ne.effect=new Lc(et);ne.scope.off();const Qe=ne.update=tt.run.bind(tt),Ct=ne.job=tt.runIfDirty.bind(tt);Ct.i=ne,Ct.id=ne.uid,tt.scheduler=()=>Cn(Ct),Gr(ne,!0),Qe()},ze=(ne,le,oe)=>{le.component=ne;const Ce=ne.vnode.props;ne.vnode=le,ne.next=null,Of(ne,le.props,Ce,oe),Nf(ne,le.children,oe),Hr(),Zn(ne),Vr()},Je=(ne,le,oe,Ce,Le,_e,rt,et,tt=!1)=>{const Qe=ne&&ne.children,Ct=ne?ne.shapeFlag:0,at=le.children,{patchFlag:vt,shapeFlag:lt}=le;if(vt>0){if(vt&128){st(Qe,at,oe,Ce,Le,_e,rt,et,tt);return}else if(vt&256){Ye(Qe,at,oe,Ce,Le,_e,rt,et,tt);return}}lt&8?(Ct&16&&Pe(Qe,Le,_e),at!==Qe&&L(oe,at)):Ct&16?lt&16?st(Qe,at,oe,Ce,Le,_e,rt,et,tt):Pe(Qe,Le,_e,!0):(Ct&8&&L(oe,""),lt&16&&B(at,oe,Ce,Le,_e,rt,et,tt))},Ye=(ne,le,oe,Ce,Le,_e,rt,et,tt)=>{ne=ne||va,le=le||va;const Qe=ne.length,Ct=le.length,at=Math.min(Qe,Ct);let vt;for(vt=0;vt<at;vt++){const lt=le[vt]=tt?Dr(le[vt]):pr(le[vt]);N(ne[vt],lt,oe,null,Le,_e,rt,et,tt)}Qe>Ct?Pe(ne,Le,_e,!0,!1,at):B(le,oe,Ce,Le,_e,rt,et,tt,at)},st=(ne,le,oe,Ce,Le,_e,rt,et,tt)=>{let Qe=0;const Ct=le.length;let at=ne.length-1,vt=Ct-1;for(;Qe<=at&&Qe<=vt;){const lt=ne[Qe],Dt=le[Qe]=tt?Dr(le[Qe]):pr(le[Qe]);if(Na(lt,Dt))N(lt,Dt,oe,null,Le,_e,rt,et,tt);else break;Qe++}for(;Qe<=at&&Qe<=vt;){const lt=ne[at],Dt=le[vt]=tt?Dr(le[vt]):pr(le[vt]);if(Na(lt,Dt))N(lt,Dt,oe,null,Le,_e,rt,et,tt);else break;at--,vt--}if(Qe>at){if(Qe<=vt){const lt=vt+1,Dt=lt<Ct?le[lt].el:Ce;for(;Qe<=vt;)N(null,le[Qe]=tt?Dr(le[Qe]):pr(le[Qe]),oe,Dt,Le,_e,rt,et,tt),Qe++}}else if(Qe>vt)for(;Qe<=at;)ue(ne[Qe],Le,_e,!0),Qe++;else{const lt=Qe,Dt=Qe,jt=new Map;for(Qe=Dt;Qe<=vt;Qe++){const Ke=le[Qe]=tt?Dr(le[Qe]):pr(le[Qe]);Ke.key!=null&&jt.set(Ke.key,Qe)}let Ut,ss=0;const ns=vt-Dt+1;let Pt=!1,ks=0;const We=new Array(ns);for(Qe=0;Qe<ns;Qe++)We[Qe]=0;for(Qe=lt;Qe<=at;Qe++){const Ke=ne[Qe];if(ss>=ns){ue(Ke,Le,_e,!0);continue}let St;if(Ke.key!=null)St=jt.get(Ke.key);else for(Ut=Dt;Ut<=vt;Ut++)if(We[Ut-Dt]===0&&Na(Ke,le[Ut])){St=Ut;break}St===void 0?ue(Ke,Le,_e,!0):(We[St-Dt]=Qe+1,St>=ks?ks=St:Pt=!0,N(Ke,le[St],oe,null,Le,_e,rt,et,tt),ss++)}const He=Pt?Hf(We):va;for(Ut=He.length-1,Qe=ns-1;Qe>=0;Qe--){const Ke=Dt+Qe,St=le[Ke],Ge=Ke+1<Ct?le[Ke+1].el:Ce;We[Qe]===0?N(null,St,oe,Ge,Le,_e,rt,et,tt):Pt&&(Ut<0||Qe!==He[Ut]?xe(St,oe,Ge,2):Ut--)}}},xe=(ne,le,oe,Ce,Le=null)=>{const{el:_e,type:rt,transition:et,children:tt,shapeFlag:Qe}=ne;if(Qe&6){xe(ne.component.subTree,le,oe,Ce);return}if(Qe&128){ne.suspense.move(le,oe,Ce);return}if(Qe&64){rt.move(ne,le,oe,ie);return}if(rt===ft){u(_e,le,oe);for(let at=0;at<tt.length;at++)xe(tt[at],le,oe,Ce);u(ne.anchor,le,oe);return}if(rt===Li){Y(ne,le,oe);return}if(Ce!==2&&Qe&1&&et)if(Ce===0)et.beforeEnter(_e),u(_e,le,oe),Ys(()=>et.enter(_e),Le);else{const{leave:at,delayLeave:vt,afterLeave:lt}=et,Dt=()=>u(_e,le,oe),jt=()=>{at(_e,()=>{Dt(),lt&&lt()})};vt?vt(_e,Dt,jt):jt()}else u(_e,le,oe)},ue=(ne,le,oe,Ce=!1,Le=!1)=>{const{type:_e,props:rt,ref:et,children:tt,dynamicChildren:Qe,shapeFlag:Ct,patchFlag:at,dirs:vt,cacheIndex:lt}=ne;if(at===-2&&(Le=!1),et!=null&&zi(et,null,oe,ne,!0),lt!=null&&(le.renderCache[lt]=void 0),Ct&256){le.ctx.deactivate(ne);return}const Dt=Ct&1&&vt,jt=!Ga(ne);let Ut;if(jt&&(Ut=rt&&rt.onVnodeBeforeUnmount)&&ur(Ut,le,ne),Ct&6)ot(ne.component,oe,Ce);else{if(Ct&128){ne.suspense.unmount(oe,Ce);return}Dt&&Wr(ne,null,le,"beforeUnmount"),Ct&64?ne.type.remove(ne,le,oe,ie,Ce):Qe&&!Qe.hasOnce&&(_e!==ft||at>0&&at&64)?Pe(Qe,le,oe,!1,!0):(_e===ft&&at&384||!Le&&Ct&16)&&Pe(tt,le,oe),Ce&&Re(ne)}(jt&&(Ut=rt&&rt.onVnodeUnmounted)||Dt)&&Ys(()=>{Ut&&ur(Ut,le,ne),Dt&&Wr(ne,null,le,"unmounted")},oe)},Re=ne=>{const{type:le,el:oe,anchor:Ce,transition:Le}=ne;if(le===ft){bt(oe,Ce);return}if(le===Li){q(ne);return}const _e=()=>{h(oe),Le&&!Le.persisted&&Le.afterLeave&&Le.afterLeave()};if(ne.shapeFlag&1&&Le&&!Le.persisted){const{leave:rt,delayLeave:et}=Le,tt=()=>rt(oe,_e);et?et(ne.el,_e,tt):tt()}else _e()},bt=(ne,le)=>{let oe;for(;ne!==le;)oe=P(ne),h(ne),ne=oe;h(le)},ot=(ne,le,oe)=>{const{bum:Ce,scope:Le,job:_e,subTree:rt,um:et,m:tt,a:Qe}=ne;al(tt),al(Qe),Ce&&Si(Ce),Le.stop(),_e&&(_e.flags|=8,ue(rt,ne,le,oe)),et&&Ys(et,le),Ys(()=>{ne.isUnmounted=!0},le),le&&le.pendingBranch&&!le.isUnmounted&&ne.asyncDep&&!ne.asyncResolved&&ne.suspenseId===le.pendingId&&(le.deps--,le.deps===0&&le.resolve())},Pe=(ne,le,oe,Ce=!1,Le=!1,_e=0)=>{for(let rt=_e;rt<ne.length;rt++)ue(ne[rt],le,oe,Ce,Le)},ge=ne=>{if(ne.shapeFlag&6)return ge(ne.component.subTree);if(ne.shapeFlag&128)return ne.suspense.next();const le=P(ne.anchor||ne.el),oe=le&&le[cf];return oe?P(oe):le};let je=!1;const ke=(ne,le,oe)=>{ne==null?le._vnode&&ue(le._vnode,null,null,!0):N(le._vnode||null,ne,le,null,null,null,oe),le._vnode=ne,je||(je=!0,Zn(),Wc(),je=!1)},ie={p:N,um:ue,m:xe,r:Re,mt:Ee,mc:B,pc:Je,pbc:fe,n:ge,o:s};return{render:ke,hydrate:void 0,createApp:If(ke)}}function So({type:s,props:o},d){return d==="svg"&&s==="foreignObject"||d==="mathml"&&s==="annotation-xml"&&o&&o.encoding&&o.encoding.includes("html")?void 0:d}function Gr({effect:s,job:o},d){d?(s.flags|=32,o.flags|=4):(s.flags&=-33,o.flags&=-5)}function Ff(s,o){return(!s||s&&!s.pendingBranch)&&o&&!o.persisted}function fd(s,o,d=!1){const u=s.children,h=o.children;if($t(u)&&$t(h))for(let v=0;v<u.length;v++){const m=u[v];let y=h[v];y.shapeFlag&1&&!y.dynamicChildren&&((y.patchFlag<=0||y.patchFlag===32)&&(y=h[v]=Dr(h[v]),y.el=m.el),!d&&y.patchFlag!==-2&&fd(m,y)),y.type===so&&(y.el=m.el)}}function Hf(s){const o=s.slice(),d=[0];let u,h,v,m,y;const k=s.length;for(u=0;u<k;u++){const I=s[u];if(I!==0){if(h=d[d.length-1],s[h]<I){o[u]=h,d.push(u);continue}for(v=0,m=d.length-1;v<m;)y=v+m>>1,s[d[y]]<I?v=y+1:m=y;I<s[d[v]]&&(v>0&&(o[u]=d[v-1]),d[v]=u)}}for(v=d.length,m=d[v-1];v-- >0;)d[v]=m,m=o[m];return d}function pd(s){const o=s.subTree.component;if(o)return o.asyncDep&&!o.asyncResolved?o:pd(o)}function al(s){if(s)for(let o=0;o<s.length;o++)s[o].flags|=8}const Vf=Symbol.for("v-scx"),Uf=()=>Js(Vf);function it(s,o,d){return gd(s,o,d)}function gd(s,o,d=is){const{immediate:u,deep:h,flush:v,once:m}=d,y=Os({},d),k=o&&u||!o&&v!=="post";let I;if(oi){if(v==="sync"){const $=Uf();I=$.__watcherHandles||($.__watcherHandles=[])}else if(!k){const $=()=>{};return $.stop=mr,$.resume=mr,$.pause=mr,$}}const L=Es;y.call=($,D,N)=>br($,L,D,N);let E=!1;v==="post"?y.scheduler=$=>{Ys($,L&&L.suspense)}:v!=="sync"&&(E=!0,y.scheduler=($,D)=>{D?$():Cn($)}),y.augmentJob=$=>{o&&($.flags|=4),E&&($.flags|=2,L&&($.id=L.uid,$.i=L))};const P=af(s,o,y);return oi&&(I?I.push(P):k&&P()),P}function qf(s,o,d){const u=this.proxy,h=ws(s)?s.includes(".")?md(u,s):()=>u[s]:s.bind(u,u);let v;zt(o)?v=o:(v=o.handler,d=o);const m=mi(this),y=gd(h,v.bind(u),d);return m(),y}function md(s,o){const d=o.split(".");return()=>{let u=s;for(let h=0;h<d.length&&u;h++)u=u[d[h]];return u}}const jf=(s,o)=>o==="modelValue"||o==="model-value"?s.modelModifiers:s[`${o}Modifiers`]||s[`${tr(o)}Modifiers`]||s[`${Fr(o)}Modifiers`];function Xf(s,o,...d){if(s.isUnmounted)return;const u=s.vnode.props||is;let h=d;const v=o.startsWith("update:"),m=v&&jf(u,o.slice(7));m&&(m.trim&&(h=d.map(L=>ws(L)?L.trim():L)),m.number&&(h=d.map(Oi)));let y,k=u[y=xo(o)]||u[y=xo(tr(o))];!k&&v&&(k=u[y=xo(Fr(o))]),k&&br(k,s,6,h);const I=u[y+"Once"];if(I){if(!s.emitted)s.emitted={};else if(s.emitted[y])return;s.emitted[y]=!0,br(I,s,6,h)}}function vd(s,o,d=!1){const u=o.emitsCache,h=u.get(s);if(h!==void 0)return h;const v=s.emits;let m={},y=!1;if(!zt(s)){const k=I=>{const L=vd(I,o,!0);L&&(y=!0,Os(m,L))};!d&&o.mixins.length&&o.mixins.forEach(k),s.extends&&k(s.extends),s.mixins&&s.mixins.forEach(k)}return!v&&!y?(os(s)&&u.set(s,null),null):($t(v)?v.forEach(k=>m[k]=null):Os(m,v),os(s)&&u.set(s,m),m)}function to(s,o){return!s||!Yi(o)?!1:(o=o.slice(2).replace(/Once$/,""),es(s,o[0].toLowerCase()+o.slice(1))||es(s,Fr(o))||es(s,o))}function il(s){const{type:o,vnode:d,proxy:u,withProxy:h,propsOptions:[v],slots:m,attrs:y,emit:k,render:I,renderCache:L,props:E,data:P,setupState:$,ctx:D,inheritAttrs:N}=s,R=Ni(s);let H,Q;try{if(d.shapeFlag&4){const q=h||u,S=q;H=pr(I.call(S,q,L,E,$,P,D)),Q=y}else{const q=o;H=pr(q.length>1?q(E,{attrs:y,slots:m,emit:k}):q(E,null)),Q=o.props?y:Yf(y)}}catch(q){Za.length=0,Ki(q,s,1),H=he(sa)}let Y=H;if(Q&&N!==!1){const q=Object.keys(Q),{shapeFlag:S}=Y;q.length&&S&7&&(v&&q.some(un)&&(Q=Wf(Q,v)),Y=ya(Y,Q,!1,!0))}return d.dirs&&(Y=ya(Y,null,!1,!0),Y.dirs=Y.dirs?Y.dirs.concat(d.dirs):d.dirs),d.transition&&_n(Y,d.transition),H=Y,Ni(R),H}const Yf=s=>{let o;for(const d in s)(d==="class"||d==="style"||Yi(d))&&((o||(o={}))[d]=s[d]);return o},Wf=(s,o)=>{const d={};for(const u in s)(!un(u)||!(u.slice(9)in o))&&(d[u]=s[u]);return d};function Gf(s,o,d){const{props:u,children:h,component:v}=s,{props:m,children:y,patchFlag:k}=o,I=v.emitsOptions;if(o.dirs||o.transition)return!0;if(d&&k>=0){if(k&1024)return!0;if(k&16)return u?ol(u,m,I):!!m;if(k&8){const L=o.dynamicProps;for(let E=0;E<L.length;E++){const P=L[E];if(m[P]!==u[P]&&!to(I,P))return!0}}}else return(h||y)&&(!y||!y.$stable)?!0:u===m?!1:u?m?ol(u,m,I):!0:!!m;return!1}function ol(s,o,d){const u=Object.keys(o);if(u.length!==Object.keys(s).length)return!0;for(let h=0;h<u.length;h++){const v=u[h];if(o[v]!==s[v]&&!to(d,v))return!0}return!1}function Qf({vnode:s,parent:o},d){for(;o;){const u=o.subTree;if(u.suspense&&u.suspense.activeBranch===s&&(u.el=s.el),u===s)(s=o.vnode).el=d,o=o.parent;else break}}const bd=s=>s.__isSuspense;function Zf(s,o){o&&o.pendingBranch?$t(s)?o.effects.push(...s):o.effects.push(s):lf(s)}const ft=Symbol.for("v-fgt"),so=Symbol.for("v-txt"),sa=Symbol.for("v-cmt"),Li=Symbol.for("v-stc"),Za=[];let Ws=null;function F(s=!1){Za.push(Ws=s?null:[])}function Kf(){Za.pop(),Ws=Za[Za.length-1]||null}let ii=1;function nl(s,o=!1){ii+=s,s<0&&Ws&&o&&(Ws.hasOnce=!0)}function xd(s){return s.dynamicChildren=ii>0?Ws||va:null,Kf(),ii>0&&Ws&&Ws.push(s),s}function se(s,o,d,u,h,v){return xd(l(s,o,d,u,h,v,!0))}function Ze(s,o,d,u,h){return xd(he(s,o,d,u,h,!0))}function Fi(s){return s?s.__v_isVNode===!0:!1}function Na(s,o){return s.type===o.type&&s.key===o.key}const yd=({key:s})=>s??null,Ei=({ref:s,ref_key:o,ref_for:d})=>(typeof s=="number"&&(s=""+s),s!=null?ws(s)||ps(s)||zt(s)?{i:Us,r:s,k:o,f:!!d}:s:null);function l(s,o=null,d=null,u=0,h=null,v=s===ft?0:1,m=!1,y=!1){const k={__v_isVNode:!0,__v_skip:!0,type:s,props:o,key:o&&yd(o),ref:o&&Ei(o),scopeId:Qc,slotScopeIds:null,children:d,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:v,patchFlag:u,dynamicProps:h,dynamicChildren:null,appContext:null,ctx:Us};return y?(Ln(k,d),v&128&&s.normalize(k)):d&&(k.shapeFlag|=ws(d)?8:16),ii>0&&!m&&Ws&&(k.patchFlag>0||v&6)&&k.patchFlag!==32&&Ws.push(k),k}const he=Jf;function Jf(s,o=null,d=null,u=0,h=null,v=!1){if((!s||s===wf)&&(s=sa),Fi(s)){const y=ya(s,o,!0);return d&&Ln(y,d),ii>0&&!v&&Ws&&(y.shapeFlag&6?Ws[Ws.indexOf(s)]=y:Ws.push(y)),y.patchFlag=-2,y}if(dp(s)&&(s=s.__vccOpts),o){o=ep(o);let{class:y,style:k}=o;y&&!ws(y)&&(o.class=ct(y)),os(k)&&(wn(k)&&!$t(k)&&(k=Os({},k)),o.style=xr(k))}const m=ws(s)?1:bd(s)?128:df(s)?64:os(s)?4:zt(s)?2:0;return l(s,o,d,u,h,m,v,!0)}function ep(s){return s?wn(s)||od(s)?Os({},s):s:null}function ya(s,o,d=!1,u=!1){const{props:h,ref:v,patchFlag:m,children:y,transition:k}=s,I=o?tp(h||{},o):h,L={__v_isVNode:!0,__v_skip:!0,type:s.type,props:I,key:I&&yd(I),ref:o&&o.ref?d&&v?$t(v)?v.concat(Ei(o)):[v,Ei(o)]:Ei(o):v,scopeId:s.scopeId,slotScopeIds:s.slotScopeIds,children:y,target:s.target,targetStart:s.targetStart,targetAnchor:s.targetAnchor,staticCount:s.staticCount,shapeFlag:s.shapeFlag,patchFlag:o&&s.type!==ft?m===-1?16:m|16:m,dynamicProps:s.dynamicProps,dynamicChildren:s.dynamicChildren,appContext:s.appContext,dirs:s.dirs,transition:k,component:s.component,suspense:s.suspense,ssContent:s.ssContent&&ya(s.ssContent),ssFallback:s.ssFallback&&ya(s.ssFallback),el:s.el,anchor:s.anchor,ctx:s.ctx,ce:s.ce};return k&&u&&_n(L,k.clone(L)),L}function xt(s=" ",o=0){return he(so,null,s,o)}function wd(s,o){const d=he(Li,null,s);return d.staticCount=o,d}function we(s="",o=!1){return o?(F(),Ze(sa,null,s)):he(sa,null,s)}function pr(s){return s==null||typeof s=="boolean"?he(sa):$t(s)?he(ft,null,s.slice()):Fi(s)?Dr(s):he(so,null,String(s))}function Dr(s){return s.el===null&&s.patchFlag!==-1||s.memo?s:ya(s)}function Ln(s,o){let d=0;const{shapeFlag:u}=s;if(o==null)o=null;else if($t(o))d=16;else if(typeof o=="object")if(u&65){const h=o.default;h&&(h._c&&(h._d=!1),Ln(s,h()),h._c&&(h._d=!0));return}else{d=32;const h=o._;!h&&!od(o)?o._ctx=Us:h===3&&Us&&(Us.slots._===1?o._=1:(o._=2,s.patchFlag|=1024))}else zt(o)?(o={default:o,_ctx:Us},d=32):(o=String(o),u&64?(d=16,o=[xt(o)]):d=8);s.children=o,s.shapeFlag|=d}function tp(...s){const o={};for(let d=0;d<s.length;d++){const u=s[d];for(const h in u)if(h==="class")o.class!==u.class&&(o.class=ct([o.class,u.class]));else if(h==="style")o.style=xr([o.style,u.style]);else if(Yi(h)){const v=o[h],m=u[h];m&&v!==m&&!($t(v)&&v.includes(m))&&(o[h]=v?[].concat(v,m):m)}else h!==""&&(o[h]=u[h])}return o}function ur(s,o,d,u=null){br(s,o,7,[d,u])}const sp=rd();let rp=0;function ap(s,o,d){const u=s.type,h=(o?o.appContext:s.appContext)||sp,v={uid:rp++,vnode:s,type:u,parent:o,appContext:h,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new _c(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:o?o.provides:Object.create(h.provides),ids:o?o.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ld(u,h),emitsOptions:vd(u,h),emit:null,emitted:null,propsDefaults:is,inheritAttrs:u.inheritAttrs,ctx:is,data:is,props:is,attrs:is,slots:is,refs:is,setupState:is,setupContext:null,suspense:d,suspenseId:d?d.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return v.ctx={_:v},v.root=o?o.root:v,v.emit=Xf.bind(null,v),s.ce&&s.ce(v),v}let Es=null,Hi,Qo;{const s=Qi(),o=(d,u)=>{let h;return(h=s[d])||(h=s[d]=[]),h.push(u),v=>{h.length>1?h.forEach(m=>m(v)):h[0](v)}};Hi=o("__VUE_INSTANCE_SETTERS__",d=>Es=d),Qo=o("__VUE_SSR_SETTERS__",d=>oi=d)}const mi=s=>{const o=Es;return Hi(s),s.scope.on(),()=>{s.scope.off(),Hi(o)}},ll=()=>{Es&&Es.scope.off(),Hi(null)};function kd(s){return s.vnode.shapeFlag&4}let oi=!1;function ip(s,o=!1,d=!1){o&&Qo(o);const{props:u,children:h}=s.vnode,v=kd(s);Tf(s,u,v,o),Df(s,h,d);const m=v?op(s,o):void 0;return o&&Qo(!1),m}function op(s,o){const d=s.type;s.accessCache=Object.create(null),s.proxy=new Proxy(s.ctx,Cf);const{setup:u}=d;if(u){Hr();const h=s.setupContext=u.length>1?lp(s):null,v=mi(s),m=pi(u,s,0,[s.props,h]),y=vc(m);if(Vr(),v(),(y||s.sp)&&!Ga(s)&&Zc(s),y){if(m.then(ll,ll),o)return m.then(k=>{cl(s,k)}).catch(k=>{Ki(k,s,0)});s.asyncDep=m}else cl(s,m)}else Cd(s)}function cl(s,o,d){zt(o)?s.type.__ssrInlineRender?s.ssrRender=o:s.render=o:os(o)&&(s.setupState=qc(o)),Cd(s)}function Cd(s,o,d){const u=s.type;s.render||(s.render=u.render||mr);{const h=mi(s);Hr();try{_f(s)}finally{Vr(),h()}}}const np={get(s,o){return Is(s,"get",""),s[o]}};function lp(s){const o=d=>{s.exposed=d||{}};return{attrs:new Proxy(s.attrs,np),slots:s.slots,emit:s.emit,expose:o}}function ro(s){return s.exposed?s.exposeProxy||(s.exposeProxy=new Proxy(qc(kn(s.exposed)),{get(o,d){if(d in o)return o[d];if(d in Qa)return Qa[d](s)},has(o,d){return d in o||d in Qa}})):s.proxy}function cp(s,o=!0){return zt(s)?s.displayName||s.name:s.name||o&&s.__name}function dp(s){return zt(s)&&"__vccOpts"in s}const Ve=(s,o)=>sf(s,o,oi);function Ls(s,o,d){const u=arguments.length;return u===2?os(o)&&!$t(o)?Fi(o)?he(s,null,[o]):he(s,o):he(s,null,o):(u>3?d=Array.prototype.slice.call(arguments,2):u===3&&Fi(d)&&(d=[d]),he(s,o,d))}const up="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Zo;const dl=typeof window<"u"&&window.trustedTypes;if(dl)try{Zo=dl.createPolicy("vue",{createHTML:s=>s})}catch{}const _d=Zo?s=>Zo.createHTML(s):s=>s,hp="http://www.w3.org/2000/svg",fp="http://www.w3.org/1998/Math/MathML",kr=typeof document<"u"?document:null,ul=kr&&kr.createElement("template"),pp={insert:(s,o,d)=>{o.insertBefore(s,d||null)},remove:s=>{const o=s.parentNode;o&&o.removeChild(s)},createElement:(s,o,d,u)=>{const h=o==="svg"?kr.createElementNS(hp,s):o==="mathml"?kr.createElementNS(fp,s):d?kr.createElement(s,{is:d}):kr.createElement(s);return s==="select"&&u&&u.multiple!=null&&h.setAttribute("multiple",u.multiple),h},createText:s=>kr.createTextNode(s),createComment:s=>kr.createComment(s),setText:(s,o)=>{s.nodeValue=o},setElementText:(s,o)=>{s.textContent=o},parentNode:s=>s.parentNode,nextSibling:s=>s.nextSibling,querySelector:s=>kr.querySelector(s),setScopeId(s,o){s.setAttribute(o,"")},insertStaticContent(s,o,d,u,h,v){const m=d?d.previousSibling:o.lastChild;if(h&&(h===v||h.nextSibling))for(;o.insertBefore(h.cloneNode(!0),d),!(h===v||!(h=h.nextSibling)););else{ul.innerHTML=_d(u==="svg"?`<svg>${s}</svg>`:u==="mathml"?`<math>${s}</math>`:s);const y=ul.content;if(u==="svg"||u==="mathml"){const k=y.firstChild;for(;k.firstChild;)y.appendChild(k.firstChild);y.removeChild(k)}o.insertBefore(y,d)}return[m?m.nextSibling:o.firstChild,d?d.previousSibling:o.lastChild]}},gp=Symbol("_vtc");function mp(s,o,d){const u=s[gp];u&&(o=(o?[o,...u]:[...u]).join(" ")),o==null?s.removeAttribute("class"):d?s.setAttribute("class",o):s.className=o}const Vi=Symbol("_vod"),Sd=Symbol("_vsh"),Vs={beforeMount(s,{value:o},{transition:d}){s[Vi]=s.style.display==="none"?"":s.style.display,d&&o?d.beforeEnter(s):za(s,o)},mounted(s,{value:o},{transition:d}){d&&o&&d.enter(s)},updated(s,{value:o,oldValue:d},{transition:u}){!o!=!d&&(u?o?(u.beforeEnter(s),za(s,!0),u.enter(s)):u.leave(s,()=>{za(s,!1)}):za(s,o))},beforeUnmount(s,{value:o}){za(s,o)}};function za(s,o){s.style.display=o?s[Vi]:"none",s[Sd]=!o}const vp=Symbol(""),bp=/(^|;)\s*display\s*:/;function xp(s,o,d){const u=s.style,h=ws(d);let v=!1;if(d&&!h){if(o)if(ws(o))for(const m of o.split(";")){const y=m.slice(0,m.indexOf(":")).trim();d[y]==null&&Pi(u,y,"")}else for(const m in o)d[m]==null&&Pi(u,m,"");for(const m in d)m==="display"&&(v=!0),Pi(u,m,d[m])}else if(h){if(o!==d){const m=u[vp];m&&(d+=";"+m),u.cssText=d,v=bp.test(d)}}else o&&s.removeAttribute("style");Vi in s&&(s[Vi]=v?u.display:"",s[Sd]&&(u.display="none"))}const hl=/\s*!important$/;function Pi(s,o,d){if($t(d))d.forEach(u=>Pi(s,o,u));else if(d==null&&(d=""),o.startsWith("--"))s.setProperty(o,d);else{const u=yp(s,o);hl.test(d)?s.setProperty(Fr(u),d.replace(hl,""),"important"):s[u]=d}}const fl=["Webkit","Moz","ms"],Ao={};function yp(s,o){const d=Ao[o];if(d)return d;let u=tr(o);if(u!=="filter"&&u in s)return Ao[o]=u;u=Gi(u);for(let h=0;h<fl.length;h++){const v=fl[h]+u;if(v in s)return Ao[o]=v}return o}const pl="http://www.w3.org/1999/xlink";function gl(s,o,d,u,h,v=Ah(o)){u&&o.startsWith("xlink:")?d==null?s.removeAttributeNS(pl,o.slice(6,o.length)):s.setAttributeNS(pl,o,d):d==null||v&&!wc(d)?s.removeAttribute(o):s.setAttribute(o,v?"":vr(d)?String(d):d)}function ml(s,o,d,u,h){if(o==="innerHTML"||o==="textContent"){d!=null&&(s[o]=o==="innerHTML"?_d(d):d);return}const v=s.tagName;if(o==="value"&&v!=="PROGRESS"&&!v.includes("-")){const y=v==="OPTION"?s.getAttribute("value")||"":s.value,k=d==null?s.type==="checkbox"?"on":"":String(d);(y!==k||!("_value"in s))&&(s.value=k),d==null&&s.removeAttribute(o),s._value=d;return}let m=!1;if(d===""||d==null){const y=typeof s[o];y==="boolean"?d=wc(d):d==null&&y==="string"?(d="",m=!0):y==="number"&&(d=0,m=!0)}try{s[o]=d}catch{}m&&s.removeAttribute(h||o)}function zr(s,o,d,u){s.addEventListener(o,d,u)}function wp(s,o,d,u){s.removeEventListener(o,d,u)}const vl=Symbol("_vei");function kp(s,o,d,u,h=null){const v=s[vl]||(s[vl]={}),m=v[o];if(u&&m)m.value=u;else{const[y,k]=Cp(o);if(u){const I=v[o]=Ap(u,h);zr(s,y,I,k)}else m&&(wp(s,y,m,k),v[o]=void 0)}}const bl=/(?:Once|Passive|Capture)$/;function Cp(s){let o;if(bl.test(s)){o={};let u;for(;u=s.match(bl);)s=s.slice(0,s.length-u[0].length),o[u[0].toLowerCase()]=!0}return[s[2]===":"?s.slice(3):Fr(s.slice(2)),o]}let Lo=0;const _p=Promise.resolve(),Sp=()=>Lo||(_p.then(()=>Lo=0),Lo=Date.now());function Ap(s,o){const d=u=>{if(!u._vts)u._vts=Date.now();else if(u._vts<=d.attached)return;br(Lp(u,d.value),o,5,[u])};return d.value=s,d.attached=Sp(),d}function Lp(s,o){if($t(o)){const d=s.stopImmediatePropagation;return s.stopImmediatePropagation=()=>{d.call(s),s._stopped=!0},o.map(u=>h=>!h._stopped&&u&&u(h))}else return o}const xl=s=>s.charCodeAt(0)===111&&s.charCodeAt(1)===110&&s.charCodeAt(2)>96&&s.charCodeAt(2)<123,Ep=(s,o,d,u,h,v)=>{const m=h==="svg";o==="class"?mp(s,u,m):o==="style"?xp(s,d,u):Yi(o)?un(o)||kp(s,o,d,u,v):(o[0]==="."?(o=o.slice(1),!0):o[0]==="^"?(o=o.slice(1),!1):Pp(s,o,u,m))?(ml(s,o,u),!s.tagName.includes("-")&&(o==="value"||o==="checked"||o==="selected")&&gl(s,o,u,m,v,o!=="value")):s._isVueCE&&(/[A-Z]/.test(o)||!ws(u))?ml(s,tr(o),u,v,o):(o==="true-value"?s._trueValue=u:o==="false-value"&&(s._falseValue=u),gl(s,o,u,m))};function Pp(s,o,d,u){if(u)return!!(o==="innerHTML"||o==="textContent"||o in s&&xl(o)&&zt(d));if(o==="spellcheck"||o==="draggable"||o==="translate"||o==="form"||o==="list"&&s.tagName==="INPUT"||o==="type"&&s.tagName==="TEXTAREA")return!1;if(o==="width"||o==="height"){const h=s.tagName;if(h==="IMG"||h==="VIDEO"||h==="CANVAS"||h==="SOURCE")return!1}return xl(o)&&ws(d)?!1:o in s}const wa=s=>{const o=s.props["onUpdate:modelValue"]||!1;return $t(o)?d=>Si(o,d):o};function Ip(s){s.target.composing=!0}function yl(s){const o=s.target;o.composing&&(o.composing=!1,o.dispatchEvent(new Event("input")))}const Ar=Symbol("_assign"),ht={created(s,{modifiers:{lazy:o,trim:d,number:u}},h){s[Ar]=wa(h);const v=u||h.props&&h.props.type==="number";zr(s,o?"change":"input",m=>{if(m.target.composing)return;let y=s.value;d&&(y=y.trim()),v&&(y=Oi(y)),s[Ar](y)}),d&&zr(s,"change",()=>{s.value=s.value.trim()}),o||(zr(s,"compositionstart",Ip),zr(s,"compositionend",yl),zr(s,"change",yl))},mounted(s,{value:o}){s.value=o??""},beforeUpdate(s,{value:o,oldValue:d,modifiers:{lazy:u,trim:h,number:v}},m){if(s[Ar]=wa(m),s.composing)return;const y=(v||s.type==="number")&&!/^0\d/.test(s.value)?Oi(s.value):s.value,k=o??"";y!==k&&(document.activeElement===s&&s.type!=="range"&&(u&&o===d||h&&s.value.trim()===k)||(s.value=k))}},Hs={deep:!0,created(s,o,d){s[Ar]=wa(d),zr(s,"change",()=>{const u=s._modelValue,h=ni(s),v=s.checked,m=s[Ar];if($t(u)){const y=pn(u,h),k=y!==-1;if(v&&!k)m(u.concat(h));else if(!v&&k){const I=[...u];I.splice(y,1),m(I)}}else if(Ea(u)){const y=new Set(u);v?y.add(h):y.delete(h),m(y)}else m(Ad(s,v))})},mounted:wl,beforeUpdate(s,o,d){s[Ar]=wa(d),wl(s,o,d)}};function wl(s,{value:o,oldValue:d},u){s._modelValue=o;let h;if($t(o))h=pn(o,u.props.value)>-1;else if(Ea(o))h=o.has(u.props.value);else{if(o===d)return;h=hi(o,Ad(s,!0))}s.checked!==h&&(s.checked=h)}const ka={deep:!0,created(s,{value:o,modifiers:{number:d}},u){const h=Ea(o);zr(s,"change",()=>{const v=Array.prototype.filter.call(s.options,m=>m.selected).map(m=>d?Oi(ni(m)):ni(m));s[Ar](s.multiple?h?new Set(v):v:v[0]),s._assigning=!0,Ji(()=>{s._assigning=!1})}),s[Ar]=wa(u)},mounted(s,{value:o}){kl(s,o)},beforeUpdate(s,o,d){s[Ar]=wa(d)},updated(s,{value:o}){s._assigning||kl(s,o)}};function kl(s,o){const d=s.multiple,u=$t(o);if(!(d&&!u&&!Ea(o))){for(let h=0,v=s.options.length;h<v;h++){const m=s.options[h],y=ni(m);if(d)if(u){const k=typeof y;k==="string"||k==="number"?m.selected=o.some(I=>String(I)===String(y)):m.selected=pn(o,y)>-1}else m.selected=o.has(y);else if(hi(ni(m),o)){s.selectedIndex!==h&&(s.selectedIndex=h);return}}!d&&s.selectedIndex!==-1&&(s.selectedIndex=-1)}}function ni(s){return"_value"in s?s._value:s.value}function Ad(s,o){const d=o?"_trueValue":"_falseValue";return d in s?s[d]:o}const Mp=["ctrl","shift","alt","meta"],Tp={stop:s=>s.stopPropagation(),prevent:s=>s.preventDefault(),self:s=>s.target!==s.currentTarget,ctrl:s=>!s.ctrlKey,shift:s=>!s.shiftKey,alt:s=>!s.altKey,meta:s=>!s.metaKey,left:s=>"button"in s&&s.button!==0,middle:s=>"button"in s&&s.button!==1,right:s=>"button"in s&&s.button!==2,exact:(s,o)=>Mp.some(d=>s[`${d}Key`]&&!o.includes(d))},nt=(s,o)=>{const d=s._withMods||(s._withMods={}),u=o.join(".");return d[u]||(d[u]=(h,...v)=>{for(let m=0;m<o.length;m++){const y=Tp[o[m]];if(y&&y(h,o))return}return s(h,...v)})},Op={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Eo=(s,o)=>{const d=s._withKeys||(s._withKeys={}),u=o.join(".");return d[u]||(d[u]=h=>{if(!("key"in h))return;const v=Fr(h.key);if(o.some(m=>m===v||Op[m]===v))return s(h)})},$p=Os({patchProp:Ep},pp);let Cl;function Rp(){return Cl||(Cl=zf($p))}const Dp=(...s)=>{const o=Rp().createApp(...s),{mount:d}=o;return o.mount=u=>{const h=zp(u);if(!h)return;const v=o._component;!zt(v)&&!v.render&&!v.template&&(v.template=h.innerHTML),h.nodeType===1&&(h.textContent="");const m=d(h,!1,Np(h));return h instanceof Element&&(h.removeAttribute("v-cloak"),h.setAttribute("data-v-app","")),m},o};function Np(s){if(s instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&s instanceof MathMLElement)return"mathml"}function zp(s){return ws(s)?document.querySelector(s):s}function Bp(s){return{all:s=s||new Map,on:function(o,d){var u=s.get(o);u?u.push(d):s.set(o,[d])},off:function(o,d){var u=s.get(o);u&&(d?u.splice(u.indexOf(d)>>>0,1):s.set(o,[]))},emit:function(o,d){var u=s.get(o);u&&u.slice().map(function(h){h(d)}),(u=s.get("*"))&&u.slice().map(function(h){h(o,d)})}}}const pt=Bp();function Fp(s,o){o===void 0&&(o={});var d=o.offsetLine||0,u=o.offsetColumn||0,h=s.split(`
`),v=0,m=h.map(function(E,P){var $=v+E.length+1,D={start:v,end:$,line:P};return v=$,D}),y=0;function k(E,P){return E.start<=P&&P<E.end}function I(E,P){return{line:d+E.line,column:u+P-E.start,character:P}}function L(E,P){typeof E=="string"&&(E=s.indexOf(E,P||0));for(var $=m[y],D=E>=$.end?1:-1;$;){if(k($,E))return I($,E);y+=D,$=m[y]}}return L}function Hp(s,o,d){return Fp(s,d)(o,d)}var _l=/[a-zA-Z0-9:_-]/,Sl=/[\s\t\r\n]/,Vp=/['"]/;function Up(s,o){for(var d="";o--;)d+=s;return d}function qp(s){var o="",d=[],u=y,h=null,v=null;function m(q){var S=Hp(s,Y),K=S.line,ae=S.column,B=s.slice(0,Y),te=/(^|\n).*$/.exec(B)[0].replace(/\t/g,"  "),fe=s.slice(Y),Te=/.*(\n|$)/.exec(fe)[0],Ae=""+te+Te+`
`+Up(" ",te.length)+"^";throw new Error(q+" ("+K+":"+ae+`). If this is valid SVG, it's probably a bug in svg-parser. Please raise an issue at https://github.com/Rich-Harris/svg-parser/issues – thanks!

`+Ae)}function y(){for(;Y<s.length&&s[Y]!=="<"||!_l.test(s[Y+1]);)o+=s[Y++];return k()}function k(){for(var q="";Y<s.length&&s[Y]!=="<";)q+=s[Y++];return/\S/.test(q)&&h.children.push({type:"text",value:q}),s[Y]==="<"?I:k}function I(){var q=s[Y];if(q==="?")return k;if(q==="!"){if(s.slice(Y+1,Y+3)==="--")return L;if(s.slice(Y+1,Y+8)==="[CDATA[")return E;if(/doctype/i.test(s.slice(Y+1,Y+8)))return k}if(q==="/")return P;var S=$(),K={type:"element",tagName:S,properties:{},children:[]};h?h.children.push(K):v=K;for(var ae;Y<s.length&&(ae=D());)K.properties[ae.name]=ae.value;var B=!1;return s[Y]==="/"&&(Y+=1,B=!0),s[Y]!==">"&&m("Expected >"),B||(h=K,d.push(K)),k}function L(){var q=s.indexOf("-->",Y);return~q||m("expected -->"),Y=q+2,k}function E(){var q=s.indexOf("]]>",Y);return~q||m("expected ]]>"),h.children.push(s.slice(Y+7,q)),Y=q+2,k}function P(){var q=$();return q||m("Expected tag name"),q!==h.tagName&&m("Expected closing tag </"+q+"> to match opening tag <"+h.tagName+">"),Q(),s[Y]!==">"&&m("Expected >"),d.pop(),h=d[d.length-1],k}function $(){for(var q="";Y<s.length&&_l.test(s[Y]);)q+=s[Y++];return q}function D(){if(!Sl.test(s[Y]))return null;Q();var q=$();if(!q)return null;var S=!0;return Q(),s[Y]==="="&&(Y+=1,Q(),S=N(),!isNaN(S)&&S.trim()!==""&&(S=+S)),{name:q,value:S}}function N(){return Vp.test(s[Y])?H():R()}function R(){var q="";do{var S=s[Y];if(S===" "||S===">"||S==="/")return q;q+=S,Y+=1}while(Y<s.length);return q}function H(){for(var q=s[Y++],S="",K=!1;Y<s.length;){var ae=s[Y++];if(ae===q&&!K)return S;ae==="\\"&&!K&&(K=!0),S+=K?"\\"+ae:ae,K=!1}}function Q(){for(;Y<s.length&&Sl.test(s[Y]);)Y+=1}for(var Y=y.length;Y<s.length;)u||m("Unexpected character"),u=u(),Y+=1;return u!==k&&m("Unexpected end of input"),v.tagName==="svg"&&(v.metadata=o),{type:"root",children:[v]}}const jp=function(s){return s.split(";").reduce((o,d)=>{let[u,h]=d.split(":");return u==="fill"&&h!=="none"&&(h="currentColor"),u==="stroke"&&h!=="none"&&(h="currentColor"),o[u]=h,o},{})};function wt(s,o){const u=qp(o).children[0],{multicolor:h,pathfill:v,twotone:m,width:y,height:k,viewBox:I}=u.properties;if(u.properties.width="1em",u.properties.height="1em",u.properties.xmlns="http://www.w3.org/2000/svg",I===void 0){if(y===void 0||k===void 0)throw new Error("Width and height must be set if viewBox is not set");u.properties.viewBox=`0 0 ${y} ${k}`}const L=function(P){const{fill:$,stroke:D,style:N}=P,R=!m&&$&&["none","white","#fff"].includes($)===!1;if(m==="true"&&$===void 0?P.fill="currentColor":(R||v!==void 0)&&(P.fill=s.color===void 0?"currentColor":s.color),D!==void 0&&D!=="none"&&(P.stroke=s.color===void 0?"currentColor":s.color),N!==void 0){const H=jp(N);P={...P,...H},P.style=""}return P},E=function(P){const{tagName:$,properties:D,children:N}=P;if(h!=="true"&&(P.properties=L(D)),N.length>0){const{properties:R}=P;return $==="title"?Ls($,R):Ls($,R,N.map(E))}return Ls($,P.properties)};return E(u)}const Xp=s=>wt(s,'<svg width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.734 16.06a8.92 8.92 0 0 1-3.915 3.978 8.7 8.7 0 0 1-5.471.832 8.8 8.8 0 0 1-4.887-2.64 9.07 9.07 0 0 1-2.388-5.079 9.14 9.14 0 0 1 1.044-5.53 8.9 8.9 0 0 1 4.069-3.815 8.7 8.7 0 0 1 5.5-.608c1.85.401 3.366 1.313 4.62 2.755.151.16.735.806 1.22 1.781"/><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m15.069 7.813 5.04.907L21 3.59"/></svg>'),sr=s=>wt(s,'<svg width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="18" height="18" x="3" y="3" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" rx="4"/></svg>'),rr=s=>wt(s,'<svg width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="18" height="18" x="3" y="3" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" rx="4"/><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m9 12 2.25 2L15 10"/></svg>'),Yp=s=>wt(s,'<svg width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m4 12 6 6L20 6"/></svg>'),Wp=s=>wt(s,'<svg width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m6 10 6 6 6-6"/></svg>'),Gp=s=>wt(s,'<svg width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m14 6-6 6 6 6"/></svg>'),Qp=s=>wt(s,'<svg width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m9 6 6 6-6 6"/></svg>'),Zp=s=>wt(s,'<svg width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="#000" fill-rule="evenodd" d="M12 1C5.925 1 1 5.925 1 12s4.925 11 11 11 11-4.925 11-11S18.075 1 12 1Zm4.768 9.14a1 1 0 1 0-1.536-1.28l-4.3 5.159-2.225-2.226a1 1 0 0 0-1.414 1.414l3 3a1 1 0 0 0 1.475-.067z" clip-rule="evenodd"/></svg>'),Kp=s=>wt(s,'<svg width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21.257 10.962c.474.62.474 1.457 0 2.076C19.764 14.987 16.182 19 12 19s-7.764-4.013-9.257-5.962a1.69 1.69 0 0 1 0-2.076C4.236 9.013 7.818 5 12 5s7.764 4.013 9.257 5.962Z"/><circle cx="12" cy="12" r="3" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg>'),Jp=s=>wt(s,'<svg width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.029 2.54a2 2 0 0 1 1.942 0l7.515 4.174a1 1 0 0 1 .514.874v8.235a2 2 0 0 1-1.029 1.749l-7 3.888a2 2 0 0 1-1.942 0l-7-3.889A2 2 0 0 1 3 15.824V7.588a1 1 0 0 1 .514-.874z"/><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m7.5 4.5 9 5V13M6 12.328 9 14"/><path stroke="#000" stroke-linejoin="round" stroke-width="2" d="m3 7 9 5m0 0 9-5m-9 5v10"/></svg>'),Al=s=>wt(s,'<svg width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="#000" stroke-linecap="round" stroke-width="2" d="M3 6h18M3 12h10M3 18h15"/></svg>'),Pa=s=>wt(s,'<svg class="icon" viewBox="0 0 1024 1024" fill="currentColor"><path d="M732 120c0-4.4-3.6-8-8-8H300c-4.4 0-8 3.6-8 8v148h440zm120 212H172c-44.2 0-80 35.8-80 80v328c0 17.7 14.3 32 32 32h168v132c0 4.4 3.6 8 8 8h424c4.4 0 8-3.6 8-8V772h168c17.7 0 32-14.3 32-32V412c0-44.2-35.8-80-80-80zM664 844H360V568h304zm164-360c0 4.4-3.6 8-8 8h-40c-4.4 0-8-3.6-8-8v-40c0-4.4 3.6-8 8-8h40c4.4 0 8 3.6 8 8z"/></svg>'),Ca=s=>wt(s,'<svg class="icon" viewBox="0 0 1024 1024" fill="currentColor"><path d="M872 394c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8H708V152c0-4.4-3.6-8-8-8h-64c-4.4 0-8 3.6-8 8v166H400V152c0-4.4-3.6-8-8-8h-64c-4.4 0-8 3.6-8 8v166H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h168v236H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h168v166c0 4.4 3.6 8 8 8h64c4.4 0 8-3.6 8-8V706h228v166c0 4.4 3.6 8 8 8h64c4.4 0 8-3.6 8-8V706h164c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8H708V394zM628 630H400V394h228z"/></svg>'),Ll=s=>wt(s,'<svg class="icon" viewBox="0 0 1024 1024" fill="currentColor"><path d="M678.3 642.4c24.2-13 51.9-20.4 81.4-20.4h.1c3 0 4.4-3.6 2.2-5.6a371.7 371.7 0 0 0-103.7-65.8c-.4-.2-.8-.3-1.2-.5C719.2 505 759.6 431.7 759.6 349c0-137-110.8-248-247.5-248S264.7 212 264.7 349c0 82.7 40.4 156 102.6 201.1-.4.2-.8.3-1.2.5-44.7 18.9-84.8 46-119.3 80.6a373.4 373.4 0 0 0-80.4 119.5A373.6 373.6 0 0 0 137 888.8a8 8 0 0 0 8 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C357 628.2 432.2 597 512.2 597c56.7 0 111.1 15.7 158 45.1a8.1 8.1 0 0 0 8.1.3zM512.2 521c-45.8 0-88.9-17.9-121.4-50.4A171.2 171.2 0 0 1 340.5 349c0-45.9 17.9-89.1 50.3-121.6S466.3 177 512.2 177s88.9 17.9 121.4 50.4A171.2 171.2 0 0 1 683.9 349c0 45.9-17.9 89.1-50.3 121.6C601.1 503.1 558 521 512.2 521zM880 759h-84v-84c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v84h-84c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h84v84c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-84h84c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"/></svg>'),fs=s=>wt(s,'<svg width="16" height="16" fill="currentColor" class="bi bi-box-fill" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M15.528 2.973a.75.75 0 0 1 .472.696v8.662a.75.75 0 0 1-.472.696l-7.25 2.9a.75.75 0 0 1-.557 0l-7.25-2.9A.75.75 0 0 1 0 12.331V3.669a.75.75 0 0 1 .471-.696L7.443.184l.004-.001.274-.11a.75.75 0 0 1 .558 0l.274.11.004.001zm-1.374.527L8 5.962 1.846 3.5 1 3.839v.4l6.5 2.6v7.922l.5.2.5-.2V6.84l6.5-2.6v-.4l-.846-.339Z"/></svg>'),Po=s=>wt(s,'<svg width="16" height="16" fill="currentColor" class="bi bi-check" viewBox="0 0 16 16"><path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425z"/></svg>'),eg=s=>wt(s,'<svg width="16" height="16" fill="currentColor" class="bi bi-exclamation-triangle-fill" viewBox="0 0 16 16"><path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5m.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2"/></svg>'),tg=s=>wt(s,'<svg width="16" height="16" fill="currentColor" class="bi bi-printer-fill" viewBox="0 0 16 16"><path d="M5 1a2 2 0 0 0-2 2v1h10V3a2 2 0 0 0-2-2zm6 8H5a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1"/><path d="M0 7a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2h-1v-2a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v2H2a2 2 0 0 1-2-2zm2.5 1a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1"/></svg>'),Io=s=>wt(s,'<svg width="16" height="16" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16"><path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"/></svg>'),sg=s=>wt(s,'<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M4 21h15.893c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2H4c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2zm0-2v-5h4v5zM14 7v5h-4V7zM8 7v5H4V7zm2 12v-5h4v5zm6 0v-5h3.894v5zm3.893-7H16V7h3.893z"/></svg>'),rg=s=>wt(s,'<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M7 14.001h2v2H7z"/><path d="M19 2h-8a2 2 0 0 0-2 2v6H5c-1.103 0-2 .897-2 2v9a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1V4a2 2 0 0 0-2-2zM5 20v-8h6v8zm9-12h-2V6h2zm4 8h-2v-2h2zm0-4h-2v-2h2zm0-4h-2V6h2z"/></svg>'),_a=s=>wt(s,'<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M10 3H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zm10 10h-6a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1zM17 3c-2.206 0-4 1.794-4 4s1.794 4 4 4 4-1.794 4-4-1.794-4-4-4zM7 13c-2.206 0-4 1.794-4 4s1.794 4 4 4 4-1.794 4-4-1.794-4-4-4z"/></svg>'),Mo=s=>wt(s,'<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M7.5 6.5C7.5 8.981 9.519 11 12 11s4.5-2.019 4.5-4.5S14.481 2 12 2 7.5 4.019 7.5 6.5zM20 21h1v-1c0-3.859-3.141-7-7-7h-4c-3.86 0-7 3.141-7 7v1z"/></svg>'),Ia=s=>wt(s,'<svg width="16" height="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 16 16"><circle cx="2.5" cy="8" r=".75"/><circle cx="8" cy="8" r=".75"/><circle cx="13.5" cy="8" r=".75"/></svg>'),ir=s=>wt(s,'<svg width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 12h6m0 0h6m-6 0v6m0-6V6"/></svg>'),ag=s=>wt(s,'<svg width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 12h12"/></svg>'),ig=s=>wt(s,'<svg width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m18 18-6-6m0 0L6 6m6 6 6-6m-6 6-6 6"/></svg>'),To=s=>wt(s,'<svg width="32" height="32" fill="none" viewBox="0 0 32 32" pathfill="currentColor"><path fill="#212121" d="M9 30h17a1 1 0 1 0 0-2H9a2 2 0 0 1-2-2h18.25A1.75 1.75 0 0 0 27 24.25V6a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v20a4 4 0 0 0 4 4Zm10-19.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm2.5 6.75c0 1.868-1.571 3.75-5.5 3.75s-5.5-1.875-5.5-3.75v-.205c0-1.13.916-2.045 2.046-2.045h6.909c1.13 0 2.045.915 2.045 2.045z"/></svg>'),Ld=s=>wt(s,'<svg width="24" height="24" fill="none" viewBox="0 0 24 24" pathfill="currentColor"><path fill="#212121" d="M21 6.25A3.25 3.25 0 0 0 17.75 3H6.25A3.25 3.25 0 0 0 3 6.25V7h18zm0 5.772V8.5H3v9.25A3.25 3.25 0 0 0 6.25 21h5.772A6.5 6.5 0 0 1 21 12.022Zm2 5.478a5.5 5.5 0 1 0-11 0 5.5 5.5 0 0 0 11 0Zm-6.125 2.875a.625.625 0 1 1 1.25 0 .625.625 0 0 1-1.25 0Zm-1.228-4.547c-.011-1.136.805-1.954 1.853-1.954 1.031 0 1.853.846 1.853 1.95 0 .509-.15.841-.528 1.292l-.134.155-.266.29-.101.116-.085.104c-.18.232-.239.387-.239.59a.5.5 0 1 1-1 0c0-.517.151-.853.535-1.31l.136-.157.265-.29.1-.113.093-.116c.17-.22.224-.37.224-.561 0-.558-.38-.95-.853-.95-.494 0-.859.366-.853.945a.5.5 0 1 1-1 .01Z"/></svg>'),qa=s=>wt(s,'<svg width="24" height="24" fill="none" viewBox="0 0 24 24" pathfill="currentColor"><path fill="#212121" d="M6.25 3A3.25 3.25 0 0 0 3 6.25v11.5A3.25 3.25 0 0 0 6.25 21h11.5A3.25 3.25 0 0 0 21 17.75V6.25A3.25 3.25 0 0 0 17.75 3zM4.5 6.25c0-.966.784-1.75 1.75-1.75h11.5c.966 0 1.75.784 1.75 1.75v11.5a1.75 1.75 0 0 1-1.75 1.75H6.25a1.75 1.75 0 0 1-1.75-1.75zm12.78 3.03a.75.75 0 1 0-1.06-1.06l-6.223 6.216L7.78 12.22a.75.75 0 0 0-1.06 1.06l2.745 2.746a.75.75 0 0 0 1.06 0z"/></svg>'),ja=s=>wt(s,'<svg width="24" height="24" fill="none" viewBox="0 0 24 24" pathfill="currentColor"><path fill="#212121" d="M3 6.25A3.25 3.25 0 0 1 6.25 3h11.5A3.25 3.25 0 0 1 21 6.25v11.5A3.25 3.25 0 0 1 17.75 21H6.25A3.25 3.25 0 0 1 3 17.75zM6.25 4.5A1.75 1.75 0 0 0 4.5 6.25v11.5c0 .966.784 1.75 1.75 1.75h11.5a1.75 1.75 0 0 0 1.75-1.75V6.25a1.75 1.75 0 0 0-1.75-1.75z"/></svg>'),og=s=>wt(s,'<svg width="24" height="24" fill="none" viewBox="0 0 24 24" pathfill="currentColor"><path fill="#212121" d="M8.75 13A2.25 2.25 0 0 1 11 15.25v3.5A2.25 2.25 0 0 1 8.75 21h-3.5A2.25 2.25 0 0 1 3 18.75v-3.5A2.25 2.25 0 0 1 5.25 13zm10 0A2.25 2.25 0 0 1 21 15.25v3.5A2.25 2.25 0 0 1 18.75 21h-3.5A2.25 2.25 0 0 1 13 18.75v-3.5A2.25 2.25 0 0 1 15.25 13zm-10-10A2.25 2.25 0 0 1 11 5.25v3.5A2.25 2.25 0 0 1 8.75 11h-3.5A2.25 2.25 0 0 1 3 8.75v-3.5A2.25 2.25 0 0 1 5.25 3zm10 0A2.25 2.25 0 0 1 21 5.25v3.5A2.25 2.25 0 0 1 18.75 11h-3.5A2.25 2.25 0 0 1 13 8.75v-3.5A2.25 2.25 0 0 1 15.25 3z"/></svg>'),ng=s=>wt(s,'<svg width="24" height="24" fill="none" viewBox="0 0 24 24" pathfill="currentColor"><path fill="#212121" d="M12 8a4 4 0 1 1-8 0 4 4 0 0 1 8 0Zm8 1a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM2 16.25A2.25 2.25 0 0 1 4.25 14h7.5c.37 0 .72.09 1.027.248l-2.264 2.265a1.75 1.75 0 0 0 0 2.474l1.186 1.187C10.833 20.664 9.641 21 8 21c-6 0-6-4.5-6-4.5zm18.28-1.53a.75.75 0 0 0-1.06 1.06L20.44 17h-6.88l1.22-1.22a.75.75 0 0 0-1.06-1.06l-2.5 2.5a.75.75 0 0 0 0 1.06l2.5 2.5a.75.75 0 0 0 1.06-1.06l-1.22-1.22h6.88l-1.22 1.22a.75.75 0 0 0 1.06 1.06l2.5-2.5a.75.75 0 0 0 0-1.06z"/></svg>'),lg=s=>wt(s,'<svg width="48" height="48" fill="none" viewBox="0 0 48 48" pathfill="currentColor"><path fill="#212121" d="M20 6C12.268 6 6 12.268 6 20s6.268 14 14 14c3.416 0 6.546-1.223 8.976-3.256l10.89 10.89a1.25 1.25 0 0 0 1.768-1.768l-10.89-10.89A13.94 13.94 0 0 0 34 20c0-7.732-6.268-14-14-14ZM8.5 20c0-6.351 5.149-11.5 11.5-11.5S31.5 13.649 31.5 20 26.351 31.5 20 31.5 8.5 26.351 8.5 20Z"/></svg>'),Ui=s=>wt(s,'<svg width="32" height="32" fill="none" viewBox="0 0 32 32" pathfill="currentColor"><path fill="#212121" d="M3.25 6a1.25 1.25 0 1 0 0 2.5h25.5a1.25 1.25 0 1 0 0-2.5zm0 6a1.25 1.25 0 1 0 0 2.5h25.5a1.25 1.25 0 1 0 0-2.5zM2 19.25c0-.69.56-1.25 1.25-1.25h25.5a1.25 1.25 0 1 1 0 2.5H3.25c-.69 0-1.25-.56-1.25-1.25ZM3.25 24a1.25 1.25 0 1 0 0 2.5h16.5a1.25 1.25 0 1 0 0-2.5z"/></svg>'),cg=s=>wt(s,'<svg viewBox="0 0 512 512" fill="currentColor"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="m469.3 19.3 23.4 23.4c25 25 25 65.5 0 90.5l-56.4 56.4-114-113.9 56.4-56.4c25-25 65.5-25 90.5 0zM44.9 353.2 299.7 98.3l114 114-254.9 254.8c-6.7 6.7-15.1 11.6-24.2 14.2L30.6 511c-8.4 2.4-17.4.1-23.6-6.1s-8.5-15.2-6.1-23.6l29.7-104c2.6-9.2 7.5-17.5 14.2-24.2zm204.5-249.8-146 146L16 161.9C-2.7 143.2-2.7 112.8 16 94l78.1-78c18.7-18.7 49.1-18.7 67.9 0l19.8 19.8c-.3.3-.7.6-1 .9l-64 64c-6.2 6.2-6.2 16.4 0 22.6s16.4 6.2 22.6 0l64-64c.3-.3.6-.7.9-1zm159.2 159.2 45.1 45.1c-.3.3-.7.6-1 .9l-64 64c-6.2 6.2-6.2 16.4 0 22.6s16.4 6.2 22.6 0l64-64c.3-.3.6-.7.9-1l19.8 19.9c18.7 18.7 18.7 49.1 0 67.9l-78.1 78c-18.7 18.7-49.1 18.7-67.9 0l-87.4-87.4z"/></svg>'),dg=s=>wt(s,'<svg viewBox="0 0 320 512" fill="currentColor"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M137.4 41.4c12.5-12.5 32.8-12.5 45.3 0l128 128c9.2 9.2 11.9 22.9 6.9 34.9S301 224.1 288 224.1H32c-12.9 0-24.6-7.8-29.6-19.8s-2.2-25.7 6.9-34.9l128-128zm0 429.3-128-128c-9.2-9.2-11.9-22.9-6.9-34.9S19.1 288 32.1 288H288c12.9 0 24.6 7.8 29.6 19.8s2.2 25.7-6.9 34.9l-128 128c-12.5 12.5-32.8 12.5-45.3 0z"/></svg>'),El=s=>wt(s,'<svg viewBox="0 0 640 512" fill="currentColor"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M224 0a128 128 0 1 1 0 256 128 128 0 1 1 0-256zm-45.7 304h91.4c11.8 0 23.4 1.2 34.5 3.3-2.1 18.5 7.4 35.6 21.8 44.8-16.6 10.6-26.7 31.6-20 53.3 4 12.9 9.4 25.5 16.4 37.6s15.2 23.1 24.4 33c15.7 16.9 39.6 18.4 57.2 8.7v.9c0 9.2 2.7 18.5 7.9 26.3H29.7C13.3 512 0 498.7 0 482.3 0 383.8 79.8 304 178.3 304zM436 218.2c0-7 4.5-13.3 11.3-14.8 10.5-2.4 21.5-3.7 32.7-3.7s22.2 1.3 32.7 3.7c6.8 1.5 11.3 7.8 11.3 14.8v17.7c0 7.8 4.8 14.8 11.6 18.7s15.1 4.5 21.8.6l13.8-7.9c6.1-3.5 13.7-2.7 18.5 2.4 7.6 8.1 14.3 17.2 20.1 27.2s10.3 20.4 13.5 31c2.1 6.7-1.1 13.7-7.2 17.2l-14.4 8.3c-6.5 3.7-10 10.9-10 18.4s3.5 14.7 10 18.4l14.4 8.3c6.1 3.5 9.2 10.5 7.2 17.2-3.3 10.6-7.8 21-13.5 31s-12.5 19.1-20.1 27.2c-4.8 5.1-12.5 5.9-18.5 2.4l-13.8-7.9c-6.7-3.9-15.1-3.3-21.8.6-6.8 3.9-11.6 10.9-11.6 18.7v17.7c0 7-4.5 13.3-11.3 14.8-10.5 2.4-21.5 3.7-32.7 3.7s-22.2-1.3-32.7-3.7c-6.8-1.5-11.3-7.8-11.3-14.8v-17.6c0-7.9-4.9-14.9-11.7-18.9-6.8-3.9-15.2-4.5-22-.6l-13.5 7.8c-6.1 3.5-13.7 2.7-18.5-2.4-7.6-8.1-14.3-17.2-20.1-27.2s-10.3-20.4-13.5-31c-2.1-6.7 1.1-13.7 7.2-17.2l14-8.1c6.5-3.8 10.1-11.1 10.1-18.6s-3.5-14.8-10.1-18.6l-14-8.1c-6.1-3.5-9.2-10.5-7.2-17.2 3.3-10.6 7.7-21 13.5-31s12.5-19.1 20.1-27.2c4.8-5.1 12.4-5.9 18.5-2.4l13.6 7.8c6.8 3.9 15.2 3.3 22-.6 6.9-3.9 11.7-11 11.7-18.9v-17.2zm92.1 133.5a48.1 48.1 0 1 0-96.1 0 48.1 48.1 0 1 0 96.1 0z"/></svg>'),Pl=s=>wt(s,'<svg width="24" height="24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4M16 17l5-5-5-5M21 12H9"/></svg>'),ra=s=>wt(s,'<svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor"><path fill-rule="evenodd" d="M4.28 3.22a.75.75 0 0 0-1.06 1.06L4.94 6 3.22 7.72a.75.75 0 0 0 1.06 1.06L6 7.06l1.72 1.72a.75.75 0 0 0 1.06-1.06L7.06 6l1.72-1.72a.75.75 0 0 0-1.06-1.06L6 4.94z" clip-rule="evenodd"/></svg>'),Sa=s=>wt(s,'<svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor"><path fill-rule="evenodd" d="m2.87 7.75 1.97 1.97a.75.75 0 1 1-1.06 1.06L.53 7.53 0 7l.53-.53 3.25-3.25a.75.75 0 0 1 1.06 1.06L2.87 6.25h9.88a3.25 3.25 0 0 1 0 6.5h-2a.75.75 0 0 1 0-1.5h2a1.75 1.75 0 1 0 0-3.5z" clip-rule="evenodd"/></svg>'),ug=s=>wt(s,'<svg width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="#0F172A" d="M5.25 6.375a4.125 4.125 0 1 1 8.25 0 4.125 4.125 0 0 1-8.25 0ZM2.25 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63 13.07 13.07 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63zM18.75 7.5a.75.75 0 0 0-1.5 0v2.25H15a.75.75 0 0 0 0 1.5h2.25v2.25a.75.75 0 0 0 1.5 0v-2.25H21a.75.75 0 0 0 0-1.5h-2.25z"/></svg>'),Ed=s=>wt(s,'<svg width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 17h12M4 17l3.5-3.5M4 17l3.5 3.5M7 7h13m0 0-3.5-3.5M20 7l-3.5 3.5"/></svg>'),hg=s=>wt(s,'<svg width="24" height="24" fill="currentColor" viewBox="-6 -6 24 24"><path d="m7.314 5.9 3.535-3.536A1 1 0 1 0 9.435.95L5.899 4.485 2.364.95A1 1 0 1 0 .95 2.364l3.535 3.535L.95 9.435a1 1 0 1 0 1.414 1.414l3.535-3.535 3.536 3.535a1 1 0 1 0 1.414-1.414L7.314 5.899z"/></svg>'),fg=s=>wt(s,'<svg width="24" height="24" fill="none" stroke-width="1.5" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" d="m8 14.571-1.823-1.736a1.56 1.56 0 0 0-2.247.103v0a1.56 1.56 0 0 0 .035 2.092l5.942 6.338c.379.403.906.632 1.459.632H16c2.4 0 4-2 4-4q0 0 0 0V9.429"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" d="M17 10v-.571c0-2.286 3-2.286 3 0M14 10V8.286C14 6 17 6 17 8.286V10M11 10V7.5c0-2.286 3-2.286 3 0q0 0 0 0V10M8 14.571V3.5A1.5 1.5 0 0 1 9.5 2v0c.828 0 1.5.67 1.5 1.499V10"/></svg>'),Pd=s=>wt(s,'<svg width="24" height="24" fill="none" stroke-width="1.5" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" d="M7 22h10"/><path stroke="currentColor" d="M2 17V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2Z"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" d="M14.857 7.7a4 4 0 1 0-5.713 5.6m5.713-5.6a4 4 0 0 1-5.713 5.6m5.713-5.6-5.714 5.6"/></svg>'),Ba=s=>wt(s,'<svg width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 3h16a1 1 0 0 1 1 1v1.586a1 1 0 0 1-.293.707l-6.414 6.414a1 1 0 0 0-.293.707v6.305a1 1 0 0 1-1.242.97l-2-.5a1 1 0 0 1-.758-.97v-5.805a1 1 0 0 0-.293-.707L3.293 6.293A1 1 0 0 1 3 5.586V4a1 1 0 0 1 1-1Z"/></svg>'),Il=s=>wt(s,'<svg width="24" height="24" fill="none" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M9.616 3.642c1.058-1.839 3.71-1.839 4.768 0l8.043 13.988c1.054 1.833-.27 4.12-2.384 4.12H3.957c-2.115 0-3.438-2.287-2.384-4.12zM12 8.25a.75.75 0 0 1 .75.75v4a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm.568 9.25a.75.75 0 0 0-1.115-1.003l-.01.011a.75.75 0 0 0 1.114 1.004z" clip-rule="evenodd"/></svg>'),pg=s=>wt(s,'<svg width="512" height="512" viewBox="0 0 512 512" fill="currentColor"><path d="m268 112 144 144-144 144M392 256H100" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:48px"/></svg>'),gg=s=>wt(s,'<svg width="512" height="512" viewBox="0 0 512 512" fill="currentColor"><path d="M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48Zm75.31 260.69a16 16 0 1 1-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 0 1-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0 1 22.62-22.62L256 233.37l52.69-52.68a16 16 0 0 1 22.62 22.62L278.63 256Z"/></svg>'),mg=s=>wt(s,'<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path fill="none" d="M0 0h24v24H0z"/><path d="M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V10h14zm0-12H5V6h14zM9 14H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2zm-8 4H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2z"/></svg>'),vg=s=>wt(s,'<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path fill="none" d="M0 0h24v24H0z"/><path d="M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"/></svg>'),bg=s=>wt(s,'<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path fill="none" d="M0 0h24v24H0z"/><path fill="none" d="M0 0h24v24H0z"/><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"/></svg>'),Id=s=>wt(s,'<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path fill="none" d="M0 0h24v24H0z"/><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zm3.17-6.41a.996.996 0 1 1 1.41-1.41L12 12.59l1.41-1.41a.996.996 0 1 1 1.41 1.41L13.41 14l1.41 1.41a.996.996 0 1 1-1.41 1.41L12 15.41l-1.41 1.41a.996.996 0 1 1-1.41-1.41L10.59 14zM18 4h-2.5l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1z"/></svg>'),ao=s=>wt(s,'<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path fill="none" d="M0 0h24v24H0z"/><path d="M13 3a9 9 0 0 0-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42A8.95 8.95 0 0 0 13 21a9 9 0 0 0 0-18zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"/></svg>'),xg=s=>wt(s,'<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 1.95c-5.52 0-10 4.48-10 10s4.48 10 10 10h5v-2h-5c-4.34 0-8-3.66-8-8s3.66-8 8-8 8 3.66 8 8v1.43c0 .79-.71 1.57-1.5 1.57s-1.5-.78-1.5-1.57v-1.43c0-2.76-2.24-5-5-5s-5 2.24-5 5 2.24 5 5 5c1.38 0 2.64-.56 3.54-1.47.65.89 1.77 1.47 2.96 1.47 1.97 0 3.5-1.6 3.5-3.57v-1.43c0-5.52-4.48-10-10-10zm0 13c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"/></svg>'),yg=s=>wt(s,'<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 19a6.995 6.995 0 0 1 10-6.32V6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h8.08c-.05-.33-.08-.66-.08-1zM4 6l8 5 8-5v2l-8 5-8-5zm13.34 16-3.54-3.54 1.41-1.41 2.12 2.12 4.24-4.24L23 16.34z"/></svg>'),Md=s=>wt(s,'<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path fill="none" d="M0 0h24v24H0z"/><path d="M20 2H4c-1 0-2 .9-2 2v3.01c0 .72.43 1.34 1 1.69V20c0 1.1 1.1 2 2 2h14c.9 0 2-.9 2-2V8.7c.57-.35 1-.97 1-1.69V4c0-1.1-1-2-2-2zm-5 12H9v-2h6zm5-7H4V4h16z"/></svg>'),wg=s=>wt(s,'<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path fill="none" d="M0 0h24v24H0z"/><path d="M11.01 3.05C6.51 3.54 3 7.36 3 12a9 9 0 0 0 9 9c4.63 0 8.45-3.5 8.95-8 .09-.79-.78-1.42-1.54-.95A5.403 5.403 0 0 1 11.1 7.5c0-1.06.31-2.06.84-2.89.45-.67-.04-1.63-.93-1.56z"/></svg>'),kg=s=>wt(s,'<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zM5.99 4.58a.996.996 0 0 0-1.41 0 .996.996 0 0 0 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41zm12.37 12.37a.996.996 0 0 0-1.41 0 .996.996 0 0 0 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0a.996.996 0 0 0 0-1.41zm1.06-10.96a.996.996 0 0 0 0-1.41.996.996 0 0 0-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0zM7.05 18.36a.996.996 0 0 0 0-1.41.996.996 0 0 0-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0z"/></svg>'),Cg=s=>wt(s,'<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path fill="none" d="M0 0h24v24H0z"/><path d="M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>'),Ml=s=>wt(s,'<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path fill="none" d="M0 0h24v24H0z"/><path d="M9.31 6.71a.996.996 0 0 0 0 1.41L13.19 12l-3.88 3.88a.996.996 0 1 0 1.41 1.41l4.59-4.59a.996.996 0 0 0 0-1.41L10.72 6.7c-.38-.38-1.02-.38-1.41.01z"/></svg>'),_g=s=>wt(s,'<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path fill="none" d="M0 0h24v24H0z"/><path d="M11.15 3.4 7.43 9.48c-.41.66.07 1.52.85 1.52h7.43c.78 0 1.26-.86.85-1.52L12.85 3.4a.993.993 0 0 0-1.7 0z"/><circle cx="17.5" cy="17.5" r="4.5"/><path d="M4 21.5h6c.55 0 1-.45 1-1v-6c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1z"/></svg>'),Fa=s=>wt(s,'<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path fill="none" d="M0 0h24v24H0z"/><path d="m7 10 5 5 5-5z"/></svg>'),Tl=s=>wt(s,'<svg width="15" height="15" fill="none" viewBox="0 0 15 15"><path fill="currentColor" fill-rule="evenodd" d="M11.782 4.032a.575.575 0 1 0-.813-.814L7.5 6.687 4.032 3.218a.575.575 0 0 0-.814.814L6.687 7.5l-3.469 3.468a.575.575 0 0 0 .814.814L7.5 8.313l3.469 3.469a.575.575 0 0 0 .813-.814L8.313 7.5z" clip-rule="evenodd"/></svg>'),Ol=s=>wt(s,'<svg fill="currentColor" viewBox="0 0 24 24"><path d="M18 8h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h2V7a6 6 0 1 1 12 0zM5 10v10h14V10zm6 4h2v2h-2zm-4 0h2v2H7zm8 0h2v2h-2zm1-6V7a4 4 0 0 0-8 0v1z"/></svg>'),Td=s=>wt(s,'<svg width="24" height="24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon icon-tabler icon-tabler-qrcode" viewBox="0 0 24 24"><path stroke="none" d="M0 0h24v24H0z"/><path d="M4 5a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1zM7 17v.01M14 5a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1zM7 7v.01M4 15a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1zM17 7v.01M14 14h3M20 14v.01M14 14v3M14 20h3M17 17h3M20 17v3"/></svg>'),Sg={class:"fixed top-20 right-5 flex flex-col items-end space-y-4 z-500"},Ag={class:"col-span-1"},Lg=["onClick"],Eg={class:"col-span-9 text-gray-200 dark:text-gray-200"},Pg={__name:"Toast",setup(s){const o=G([]),d=({message:h,type:v="success"})=>{const m=Date.now();o.value.push({id:m,message:h,type:v}),setTimeout(()=>{u(m)},5e3)},u=h=>{o.value=o.value.filter(v=>v.id!==h)};return gt(()=>{pt.on("show-toast",d)}),Nt(()=>{pt.off("show-toast",d)}),(h,v)=>(F(),se("div",Sg,[(F(!0),se(ft,null,yt(o.value,m=>(F(),se("div",{key:m.id,class:ct(["grid grid-cols-10 items-center rounded-lg px-5 py-2 transition-all duration-500 bg-gradient-to-b border border-2 w-full w-[300px] sm:w-[350px] md:w-[400px]",{"from-green-950 to-gray-950 border-emerald-900 dark:from-green-950 dark:to-gray-950 dark:border-emerald-900":m.type==="success","from-red-950 to-gray-950 border-red-900 dark:from-red-950 dark:to-gray-950 dark:border-red-900":m.type==="error","from-yellow-950 to-gray-950 border-yellow-900 dark:from-yellow-950 dark:to-gray-950 dark:border-yellow-900":m.type==="warning"}])},[l("span",Ag,[m.type==="success"?(F(),Ze(de(Zp),{key:0,class:"w-7 h-7 text-green-500 mr-4"})):m.type==="warning"?(F(),Ze(de(eg),{key:1,class:"w-6 h-6 text-yellow-500 mr-2"})):(F(),Ze(de(gg),{key:2,class:"w-7 h-7 text-red-600 mr-4"}))]),l("p",{class:ct(["col-span-8 font-semibold text-lg",{"text-green-600 dark:text-green-500":m.type==="success","text-red-600 dark:text-red-500":m.type==="error","text-yellow-600 dark:text-yellow-500":m.type==="warning"}])},pe(m.type.charAt(0).toUpperCase()+m.type.slice(1)),3),l("button",{class:"col-span-1 ml-4 text-gray-200 dark:text-gray-200",onClick:y=>u(m.id)},[he(de(hg),{class:"w-7 h-7"})],8,Lg),v[0]||(v[0]=l("div",{class:"col-span-1"},null,-1)),l("p",Eg,pe(m.message),1)],2))),128))]))}};/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Od;const io=s=>Od=s,$d=Symbol();function Ko(s){return s&&typeof s=="object"&&Object.prototype.toString.call(s)==="[object Object]"&&typeof s.toJSON!="function"}var Ka;(function(s){s.direct="direct",s.patchObject="patch object",s.patchFunction="patch function"})(Ka||(Ka={}));function Ig(){const s=Sc(!0),o=s.run(()=>G({}));let d=[],u=[];const h=kn({install(v){io(h),h._a=v,v.provide($d,h),v.config.globalProperties.$pinia=h,u.forEach(m=>d.push(m)),u=[]},use(v){return this._a?d.push(v):u.push(v),this},_p:d,_a:null,_e:s,_s:new Map,state:o});return h}const Rd=()=>{};function $l(s,o,d,u=Rd){s.push(o);const h=()=>{const v=s.indexOf(o);v>-1&&(s.splice(v,1),u())};return!d&&Ac()&&Eh(h),h}function fa(s,...o){s.slice().forEach(d=>{d(...o)})}const Mg=s=>s(),Rl=Symbol(),Oo=Symbol();function Jo(s,o){s instanceof Map&&o instanceof Map?o.forEach((d,u)=>s.set(u,d)):s instanceof Set&&o instanceof Set&&o.forEach(s.add,s);for(const d in o){if(!o.hasOwnProperty(d))continue;const u=o[d],h=s[d];Ko(h)&&Ko(u)&&s.hasOwnProperty(d)&&!ps(u)&&!Sr(u)?s[d]=Jo(h,u):s[d]=u}return s}const Tg=Symbol();function Og(s){return!Ko(s)||!s.hasOwnProperty(Tg)}const{assign:$r}=Object;function $g(s){return!!(ps(s)&&s.effect)}function Rg(s,o,d,u){const{state:h,actions:v,getters:m}=o,y=d.state.value[s];let k;function I(){y||(d.state.value[s]=h?h():{});const L=Zh(d.state.value[s]);return $r(L,v,Object.keys(m||{}).reduce((E,P)=>(E[P]=kn(Ve(()=>{io(d);const $=d._s.get(s);return m[P].call($,$)})),E),{}))}return k=Dd(s,I,o,d,u,!0),k}function Dd(s,o,d={},u,h,v){let m;const y=$r({actions:{}},d),k={deep:!0};let I,L,E=[],P=[],$;const D=u.state.value[s];!v&&!D&&(u.state.value[s]={}),G({});let N;function R(B){let te;I=L=!1,typeof B=="function"?(B(u.state.value[s]),te={type:Ka.patchFunction,storeId:s,events:$}):(Jo(u.state.value[s],B),te={type:Ka.patchObject,payload:B,storeId:s,events:$});const fe=N=Symbol();Ji().then(()=>{N===fe&&(I=!0)}),L=!0,fa(E,te,u.state.value[s])}const H=v?function(){const{state:te}=d,fe=te?te():{};this.$patch(Te=>{$r(Te,fe)})}:Rd;function Q(){m.stop(),E=[],P=[],u._s.delete(s)}const Y=(B,te="")=>{if(Rl in B)return B[Oo]=te,B;const fe=function(){io(u);const Te=Array.from(arguments),Ae=[],Ie=[];function Ee(ze){Ae.push(ze)}function Ne(ze){Ie.push(ze)}fa(P,{args:Te,name:fe[Oo],store:S,after:Ee,onError:Ne});let Me;try{Me=B.apply(this&&this.$id===s?this:S,Te)}catch(ze){throw fa(Ie,ze),ze}return Me instanceof Promise?Me.then(ze=>(fa(Ae,ze),ze)).catch(ze=>(fa(Ie,ze),Promise.reject(ze))):(fa(Ae,Me),Me)};return fe[Rl]=!0,fe[Oo]=te,fe},q={_p:u,$id:s,$onAction:$l.bind(null,P),$patch:R,$reset:H,$subscribe(B,te={}){const fe=$l(E,B,te.detached,()=>Te()),Te=m.run(()=>it(()=>u.state.value[s],Ae=>{(te.flush==="sync"?L:I)&&B({storeId:s,type:Ka.direct,events:$},Ae)},$r({},k,te)));return fe},$dispose:Q},S=fi(q);u._s.set(s,S);const ae=(u._a&&u._a.runWithContext||Mg)(()=>u._e.run(()=>(m=Sc()).run(()=>o({action:Y}))));for(const B in ae){const te=ae[B];if(ps(te)&&!$g(te)||Sr(te))v||(D&&Og(te)&&(ps(te)?te.value=D[B]:Jo(te,D[B])),u.state.value[s][B]=te);else if(typeof te=="function"){const fe=Y(te,B);ae[B]=fe,y.actions[B]=te}}return $r(S,ae),$r(Wt(S),ae),Object.defineProperty(S,"$state",{get:()=>u.state.value[s],set:B=>{R(te=>{$r(te,B)})}}),u._p.forEach(B=>{$r(S,m.run(()=>B({store:S,app:u._a,pinia:u,options:y})))}),D&&v&&d.hydrate&&d.hydrate(S.$state,D),I=!0,L=!0,S}/*! #__NO_SIDE_EFFECTS__ */function En(s,o,d){let u,h;const v=typeof o=="function";typeof s=="string"?(u=s,h=v?d:o):(h=s,u=s.id);function m(y,k){const I=Mf();return y=y||(I?Js($d,null):null),y&&io(y),y=Od,y._s.has(u)||(v?Dd(u,o,h,y):Rg(u,h,y)),y._s.get(u)}return m.$id=u,m}function Dg(s){{const o=Wt(s),d={};for(const u in o){const h=o[u];h.effect?d[u]=Ve({get:()=>s[u],set(v){s[u]=v}}):(ps(h)||Sr(h))&&(d[u]=ef(s,u))}return d}}const Ng={id:1,firstName:"John",middleName:"Doe",lastName:"Lacay",email:"sample@gmail.com",email_verified_at:"01/02/2025",password:"p@ssword123",for_911:!0,for_inventory:!0,for_traffic:!0,role:!0},Nd={user:Ng},zg={for_dashboard:!0,for_transactions:!0,for_inventory:!0,for_offices:!0,for_categories:!0,for_borrowers:!0,for_users:!0,user_id:1},zd={inventoryAccess:zg},js=En("user",{state:()=>({user:null,inventoryAccess:null,loading:!1,userLoaded:!1}),actions:{fetchUser(){this.loading=!0,this.user=Nd.user,this.inventoryAccess=zd,this.loading=!1,this.userLoaded=!0}}}),gs="/assets/baguio-logo-CaRZa1lp.png",oa=(s,o)=>{const d=s.__vccOpts||s;for(const[u,h]of o)d[u]=h;return d},Bg={class:"flex flex-col items-center justify-center h-screen bg-gradient-to-t from-black to-blue-700 relative overflow-hidden"},Fg={class:"absolute inset-0 grid grid-cols-12 gap-4 opacity-5"},Hg={class:"absolute inset-0 grid grid-rows-12 gap-4 opacity-5"},Vg={class:"relative flex items-center justify-center mb-8"},Ug={class:"relative w-60 h-60 flex items-center justify-center"},qg=["src"],jg={__name:"MainLoading",setup(s){const o=G(!0);let d;return gt(()=>{d=setTimeout(()=>{o.value=!1},5e3)}),ed(()=>{clearTimeout(d)}),(u,h)=>(F(),se("div",Bg,[h[4]||(h[4]=l("div",{class:"absolute w-full h-full"},[l("div",{class:"absolute w-32 h-32 bg-blue-500 rounded-full opacity-10 top-1/4 left-1/4 animate-pulse"}),l("div",{class:"absolute w-48 h-48 bg-cyan-400 rounded-full opacity-5 bottom-1/3 right-1/4 animation-delay-700"}),l("div",{class:"absolute w-24 h-24 bg-indigo-500 rounded-full opacity-10 bottom-1/4 left-1/3 animation-delay-500"})],-1)),l("div",Fg,[(F(),se(ft,null,yt(12,v=>l("div",{key:`col-${v}`,class:"h-full w-px bg-blue-200"})),64))]),l("div",Hg,[(F(),se(ft,null,yt(12,v=>l("div",{key:`row-${v}`,class:"w-full h-px bg-blue-200"})),64))]),l("div",Vg,[h[1]||(h[1]=l("div",{class:"absolute w-80 h-80 rounded-full border-4 border-blue-300 opacity-30 animate-spin-slow"},null,-1)),h[2]||(h[2]=l("div",{class:"absolute w-72 h-72 rounded-full border-2 border-cyan-400 opacity-20 animate-spin-reverse"},null,-1)),l("div",Ug,[h[0]||(h[0]=l("div",{class:"absolute inset-0 bg-blue-500 rounded-full opacity-20 animate-ping-slow"},null,-1)),l("img",{class:"w-60 h-60 rounded-full animate-pulse shadow-lg",src:de(gs),alt:"Loading..."},null,8,qg)])]),l("div",{class:ct(["text-center z-10 transition-all duration-1000",o.value?"opacity-100":"opacity-0"])},h[3]||(h[3]=[l("div",{class:"animated-text text-white font-bold text-3xl mb-2"}," Smart City Command Center ",-1),l("div",{class:"animated-text text-white font-bold text-3xl"}," Inventory System ",-1)]),2)]))}},Xg=oa(jg,[["__scopeId","data-v-8bd4f71f"]]),Yg=[{id:1,for_dashboard:!0,for_transactions:!0,for_inventory:!0,for_offices:!0,for_categories:!0,for_borrowers:!0,for_users:!0,user_id:1,created_at:"2025-01-02T10:00:00+08:00",updated_at:"2025-01-02T10:00:00+08:00"},{id:2,for_dashboard:!0,for_transactions:!0,for_inventory:!0,for_offices:!1,for_categories:!1,for_borrowers:!0,for_users:!1,user_id:2,created_at:"2025-01-03T10:00:00+08:00",updated_at:"2025-01-03T10:00:00+08:00"},{id:3,for_dashboard:!1,for_transactions:!1,for_inventory:!1,for_offices:!1,for_categories:!1,for_borrowers:!1,for_users:!1,user_id:3,created_at:"2025-01-04T10:00:00+08:00",updated_at:"2025-01-04T10:00:00+08:00"},{id:4,for_dashboard:!1,for_transactions:!0,for_inventory:!0,for_offices:!1,for_categories:!1,for_borrowers:!0,for_users:!1,user_id:4,created_at:"2025-01-05T10:00:00+08:00",updated_at:"2025-01-05T10:00:00+08:00"},{id:5,for_dashboard:!0,for_transactions:!0,for_inventory:!0,for_offices:!0,for_categories:!0,for_borrowers:!0,for_users:!0,user_id:5,created_at:"2025-01-06T10:00:00+08:00",updated_at:"2025-01-06T10:00:00+08:00"},{id:6,for_dashboard:!1,for_transactions:!0,for_inventory:!0,for_offices:!1,for_categories:!1,for_borrowers:!0,for_users:!1,user_id:6,created_at:"2025-01-07T10:00:00+08:00",updated_at:"2025-01-07T10:00:00+08:00"},{id:7,for_dashboard:!1,for_transactions:!0,for_inventory:!0,for_offices:!1,for_categories:!1,for_borrowers:!0,for_users:!1,user_id:7,created_at:"2025-01-08T10:00:00+08:00",updated_at:"2025-01-08T10:00:00+08:00"},{id:8,for_dashboard:!0,for_transactions:!1,for_inventory:!1,for_offices:!1,for_categories:!1,for_borrowers:!1,for_users:!1,user_id:8,created_at:"2025-01-09T10:00:00+08:00",updated_at:"2025-01-09T10:00:00+08:00"},{id:9,for_dashboard:!1,for_transactions:!0,for_inventory:!0,for_offices:!1,for_categories:!1,for_borrowers:!0,for_users:!1,user_id:9,created_at:"2025-01-10T10:00:00+08:00",updated_at:"2025-01-10T10:00:00+08:00"},{id:10,for_dashboard:!1,for_transactions:!1,for_inventory:!1,for_offices:!1,for_categories:!1,for_borrowers:!1,for_users:!1,user_id:10,created_at:"2025-01-11T10:00:00+08:00",updated_at:"2025-01-11T10:00:00+08:00"}],Wg=[{id:1,firstName:"John",middleName:"Doe",lastName:"Aquino",email:"sample@gmail.com",email_verified_at:"2025-01-02T10:00:00+08:00",password:"p@ssword123",for_911:!0,for_inventory:!0,for_traffic:!0,role:!0,is_deleted:0,created_at:"2025-01-02T10:00:00+08:00",updated_at:"2025-01-02T10:00:00+08:00"},{id:2,firstName:"Maria",middleName:"Santos",lastName:"Garcia",email:"inventory@city.gov",email_verified_at:"2025-01-03T10:00:00+08:00",password:"inventory@123",for_911:!1,for_inventory:!0,for_traffic:!1,role:!0,is_deleted:0,created_at:"2025-01-03T10:00:00+08:00",updated_at:"2025-01-03T10:00:00+08:00"},{id:3,firstName:"Carlos",middleName:"Mendoza",lastName:"Rodriguez",email:"traffic@city.gov",email_verified_at:"2025-01-04T10:00:00+08:00",password:"traffic@123",for_911:!1,for_inventory:!1,for_traffic:!0,role:!0,is_deleted:0,created_at:"2025-01-04T10:00:00+08:00",updated_at:"2025-01-04T10:00:00+08:00"},{id:4,firstName:"Ana",middleName:"Perez",lastName:"Martinez",email:"borrower@city.gov",email_verified_at:"2025-01-05T10:00:00+08:00",password:"borrower@123",for_911:!1,for_inventory:!0,for_traffic:!1,role:!0,is_deleted:0,created_at:"2025-01-05T10:00:00+08:00",updated_at:"2025-01-05T10:00:00+08:00"},{id:5,firstName:"Pedro",middleName:"Gonzales",lastName:"Fernandez",email:"supervisor@city.gov",email_verified_at:"2025-01-06T10:00:00+08:00",password:"supervisor@123",for_911:!0,for_inventory:!0,for_traffic:!0,role:!0,is_deleted:0,created_at:"2025-01-06T10:00:00+08:00",updated_at:"2025-01-06T10:00:00+08:00"},{id:6,firstName:"Luisa",middleName:"Reyes",lastName:"Torres",email:"clerk@city.gov",email_verified_at:"2025-01-07T10:00:00+08:00",password:"clerk@123",for_911:!1,for_inventory:!0,for_traffic:!1,role:!0,is_deleted:0,created_at:"2025-01-07T10:00:00+08:00",updated_at:"2025-01-07T10:00:00+08:00"},{id:7,firstName:"Juan",middleName:"Castro",lastName:"Santos",email:"assistant@city.gov",email_verified_at:"2025-01-08T10:00:00+08:00",password:"assistant@123",for_911:!1,for_inventory:!0,for_traffic:!1,role:!0,is_deleted:0,created_at:"2025-01-08T10:00:00+08:00",updated_at:"2025-01-08T10:00:00+08:00"},{id:8,firstName:"Isabel",middleName:"Vargas",lastName:"Ramirez",email:"911@city.gov",email_verified_at:"2025-01-09T10:00:00+08:00",password:"911@123",for_911:!0,for_inventory:!1,for_traffic:!1,role:!0,is_deleted:0,created_at:"2025-01-09T10:00:00+08:00",updated_at:"2025-01-09T10:00:00+08:00"},{id:9,firstName:"Francisco",middleName:"Morales",lastName:"Diaz",email:"maintenance@city.gov",email_verified_at:"2025-01-10T10:00:00+08:00",password:"maintenance@123",for_911:!1,for_inventory:!0,for_traffic:!1,role:!0,is_deleted:0,created_at:"2025-01-10T10:00:00+08:00",updated_at:"2025-01-10T10:00:00+08:00"},{id:10,firstName:"Carmen",middleName:"Gutierrez",lastName:"Hernandez",email:"office@city.gov",email_verified_at:"2025-01-11T10:00:00+08:00",password:"office@123",for_911:!1,for_inventory:!1,for_traffic:!1,role:!0,is_deleted:0,created_at:"2025-01-11T10:00:00+08:00",updated_at:"2025-01-11T10:00:00+08:00"}],Gg=[{id:1,borrowers_name:"Juan Santos",borrowers_contact:"09171234567",office_id:1,deleted_by:null},{id:2,borrowers_name:"Maria Reyes",borrowers_contact:"09281234568",office_id:2,deleted_by:3},{id:3,borrowers_name:"Jose Cruz",borrowers_contact:"09391234569",office_id:3,deleted_by:null},{id:4,borrowers_name:"Ana Bautista",borrowers_contact:"09471234560",office_id:4,deleted_by:2},{id:5,borrowers_name:"Pedro Garcia",borrowers_contact:"09581234561",office_id:5,deleted_by:null},{id:6,borrowers_name:"Rosa Torres",borrowers_contact:"09691234562",office_id:6,deleted_by:4},{id:7,borrowers_name:"Luis Gonzalez",borrowers_contact:"09771234563",office_id:7,deleted_by:null},{id:8,borrowers_name:"Carmen Martinez",borrowers_contact:"09881234564",office_id:8,deleted_by:1},{id:9,borrowers_name:"Miguel Lopez",borrowers_contact:"09991234565",office_id:9,deleted_by:null},{id:10,borrowers_name:"Elena Fernandez",borrowers_contact:"09181234566",office_id:10,deleted_by:5}],Qg=[{id:1,category_name:"Electronics",deleted_by:null},{id:2,category_name:"Office Supplies",deleted_by:null},{id:3,category_name:"Furniture",deleted_by:null},{id:4,category_name:"Books",deleted_by:null},{id:5,category_name:"Stationery",deleted_by:null},{id:6,category_name:"Audio Equipment",deleted_by:null},{id:7,category_name:"Networking Devices",deleted_by:null},{id:8,category_name:"Storage Equipment",deleted_by:null},{id:9,category_name:"Cleaning Supplies",deleted_by:null},{id:10,category_name:"Tools & Hardware",deleted_by:null}],Zg=[{id:1,item_id:1,is_available:!0,copy_num:1,serial_number:"C02Z50G3MD6R"},{id:2,item_id:2,is_available:!1,copy_num:2,serial_number:"721TAGM4563"},{id:3,item_id:3,is_available:!0,copy_num:1,serial_number:"PH1234567890A"},{id:4,item_id:4,is_available:!0,copy_num:3,serial_number:"1HGCM82633A123456"},{id:5,item_id:5,is_available:!1,copy_num:2,serial_number:"8935201234567890123"},{id:6,item_id:6,is_available:!0,copy_num:1,serial_number:"XXXX-XXXXX-XXXXX-XXXXX-XXXXX"},{id:7,item_id:7,is_available:!1,copy_num:4,serial_number:"RUG1234567"},{id:8,item_id:8,is_available:!0,copy_num:1,serial_number:"MD1234567"},{id:9,item_id:9,is_available:!0,copy_num:2,serial_number:"Copy No. 142 of 500"},{id:10,item_id:10,is_available:!1,copy_num:3,serial_number:"LZ123456789PH"}],Kg=[{id:1,type:"Office Equipment",image:null,equipment_name:"Projector",equipment_description:"High-resolution projector for presentations",category_id:1,isc:"Juan Carlo"},{id:2,type:"Office Equipment",image:null,equipment_name:"Office Chair",equipment_description:"Ergonomic office chair with lumbar support",category_id:3,isc:"Kardo Carding"},{id:3,type:"Office Equipment",image:null,equipment_name:"Printer",equipment_description:"All-in-one printer with scanning and copying features",category_id:2,isc:"Stepping Curry"},{id:4,type:"Office Equipment",image:null,equipment_name:"Whiteboard",equipment_description:"Magnetic whiteboard for brainstorming sessions",category_id:4,isc:"Lebron Goat James"},{id:5,type:"Office Equipment",image:null,equipment_name:"Microphone",equipment_description:"Wireless microphone for meetings and events",category_id:6,isc:"Hatdog Itlog"},{id:6,type:"Office Equipment",image:null,equipment_name:"File Cabinet",equipment_description:"Steel file cabinet for document storage",category_id:3,isc:"Porta Vaga"},{id:7,type:"Office Equipment",image:null,equipment_name:"Laminator",equipment_description:"Thermal laminator for protecting documents",category_id:5,isc:"Nilagang Hatdog"},{id:8,type:"Office Equipment",image:null,equipment_name:"Conference Table",equipment_description:"Large wooden conference table for meetings",category_id:3,isc:"Jollibee McDo"},{id:9,type:"Office Equipment",image:null,equipment_name:"Wi-Fi Router",equipment_description:"High-speed wireless router for office internet",category_id:7,isc:"Siomai Danes"},{id:10,type:"Office Equipment",image:null,equipment_name:"Power Strip",equipment_description:"Surge-protected power strip with multiple outlets",category_id:10,isc:"Browny James"}],Jg=[{id:1,office_name:"City Mayors Office"},{id:2,office_name:"Sangguniang Panlungsod ng Baguio"},{id:3,office_name:"City Administrators Office"},{id:4,office_name:"City Human Resource Management Office"},{id:5,office_name:"City General Services Office"},{id:6,office_name:"City Building And Architecture Office"},{id:7,office_name:"City Planning, Development, and Sustainability Office"},{id:8,office_name:"City Accounting Office"},{id:9,office_name:"City Assessors Office"},{id:10,office_name:"City Budget Office"},{id:11,office_name:"City Treasurers Office"},{id:12,office_name:"City Civil Registry Office"},{id:13,office_name:"City Legal Office"},{id:14,office_name:"City Disaster Risk Reduction and Management Office"},{id:15,office_name:"City Veterinary and Agriculture Office"},{id:16,office_name:"City Social Welfare and Development Office"},{id:17,office_name:"City Health Services Office"},{id:18,office_name:"City Environment And Parks Management Office"},{id:19,office_name:"City Engineering Office"},{id:20,office_name:"Baguio City Police Office"},{id:21,office_name:"Bureau Of Fire Protection"},{id:22,office_name:"Bureau Of Jail Management And Penology (Female)"},{id:23,office_name:"Bureau Of Jail Management And Penology (Male)"},{id:24,office_name:"Commission On Audit"},{id:25,office_name:"Department Of Education"},{id:26,office_name:"Municipal Trial Court"},{id:27,office_name:"Parole"},{id:28,office_name:"Prosecutors Office"},{id:29,office_name:"Public Attorneys Office"},{id:30,office_name:"Regional Trial Court"},{id:31,office_name:"DILG - Baguio City Field Office"}],e0=[{id:1,type:"Office Supply",supply_name:"Bond Paper",supply_description:"A4 size white paper for printing",category_id:5,supply_quantity:500,isc:"Juan Carlo"},{id:2,type:"Office Supply",supply_name:"Ballpoint Pens",supply_description:"Black ink pens for office use",category_id:5,supply_quantity:200,isc:"Kardo Carding"},{id:3,type:"Office Supply",supply_name:"Stapler",supply_description:"Heavy-duty stapler for office documents",category_id:2,supply_quantity:50,isc:"Stepping Curry"},{id:4,type:"Office Supply",supply_name:"Paper Clips",supply_description:"Assorted sizes of paper clips",category_id:5,supply_quantity:1e3,isc:"Lebron Goat James"},{id:5,type:"Office Supply",supply_name:"Whiteboard Markers",supply_description:"Set of dry-erase markers",category_id:4,supply_quantity:100,isc:"Hatdog Itlog"},{id:6,type:"Office Supply",supply_name:"Sticky Notes",supply_description:"Colorful sticky notes for reminders",category_id:5,supply_quantity:300,isc:"Porta Vaga"},{id:7,type:"Office Supply",supply_name:"Correction Tape",supply_description:"Quick-dry correction tape for mistakes",category_id:5,supply_quantity:150,isc:"Nilagang Hatdog"},{id:8,type:"Office Supply",supply_name:"Folders",supply_description:"Standard legal-size document folders",category_id:2,supply_quantity:400,isc:"Jollibee McDo"},{id:9,type:"Office Supply",supply_name:"Highlighters",supply_description:"Pack of assorted color highlighters",category_id:5,supply_quantity:250,isc:"Siomai Danes"},{id:10,type:"Office Supply",supply_name:"Envelopes",supply_description:"Brown legal envelopes for documents",category_id:2,supply_quantity:600,isc:"Browny James"}],t0=[{id:1,borrower_id:1,borrow_date:"2025-06-12T10:00:00+08:00",return_date:null,lender_id:3,remarks:"Laptop borrowed for presentation",office_id:1,isc:"Michael"},{id:2,borrower_id:2,borrow_date:"2025-06-02T10:00:00+08:00",return_date:null,lender_id:4,remarks:"Office supplies for finance team",office_id:2,isc:"Jan"},{id:3,borrower_id:3,borrow_date:"2025-06-07T10:00:00+08:00",return_date:null,lender_id:2,remarks:"Projector borrowed for training",office_id:3,isc:"Rie"},{id:4,borrower_id:4,borrow_date:"2025-05-28T10:00:00+08:00",return_date:null,lender_id:5,remarks:"Books for research purposes",office_id:4,isc:"Oliver"},{id:5,borrower_id:5,borrow_date:"2025-06-10T10:00:00+08:00",return_date:null,lender_id:1,remarks:"Microphone borrowed for event",office_id:5,isc:"Glenn"},{id:6,borrower_id:6,borrow_date:"2025-06-04T10:00:00+08:00",return_date:null,lender_id:7,remarks:"Chairs borrowed for seminar",office_id:6,isc:"Ronjay"},{id:7,borrower_id:7,borrow_date:"2025-05-23T10:00:00+08:00",return_date:null,lender_id:6,remarks:"Whiteboard borrowed for meeting",office_id:7,isc:"Vincent"},{id:8,borrower_id:8,borrow_date:"2025-06-17T10:00:00+08:00",return_date:null,lender_id:8,remarks:"Printer borrowed for reports",office_id:8,isc:"Andre"},{id:9,borrower_id:9,borrow_date:"2025-05-31T10:00:00+08:00",return_date:null,lender_id:9,remarks:"Camera borrowed for documentation",office_id:9,isc:"Erynth"},{id:10,borrower_id:10,borrow_date:"2025-06-15T10:00:00+08:00",return_date:null,lender_id:10,remarks:"Extension cords borrowed for event",office_id:10,isc:"Rafael"}],s0=[{id:1,transaction_id:1,item_copy_id:2,returned:!1,item_type:"Equipment Copy",quantity:1,return_date:null},{id:2,transaction_id:2,item_copy_id:3,returned:!1,item_type:"Office Supply",quantity:1,return_date:null},{id:3,transaction_id:3,item_copy_id:5,returned:!1,item_type:"Equipment Copy",quantity:1,return_date:null},{id:4,transaction_id:4,item_copy_id:7,returned:!1,item_type:"Office Supply",quantity:1,return_date:null},{id:5,transaction_id:5,item_copy_id:1,returned:!1,item_type:"Equipment Copy",quantity:1,return_date:null},{id:6,transaction_id:6,item_copy_id:4,returned:!1,item_type:"Office Supply",quantity:1,return_date:null},{id:7,transaction_id:7,item_copy_id:6,returned:!1,item_type:"Equipment Copy",quantity:1,return_date:null},{id:8,transaction_id:8,item_copy_id:8,returned:!1,item_type:"Office Supply",quantity:1,return_date:null},{id:9,transaction_id:9,item_copy_id:9,returned:!1,item_type:"Equipment Copy",quantity:1,return_date:null},{id:10,transaction_id:10,item_copy_id:10,returned:!1,item_type:"Office Supply",quantity:1,return_date:null}],qt=En("database",{state:()=>({officeEquipments:[],officeSupplies:[],equipmentCopies:[],categoryList:[],transactionItems:[],transactionHistory:[],users:[],borrowers:[],officeList:[],inventoryAccesses:[],fetchedDataCount:0,isLoading:!0}),actions:{fetchData(){this.isLoading=!0,this.fetchedDataCount=12,this.inventoryAccesses=Yg,this.users=Wg,this.officeEquipments=Kg,this.officeSupplies=e0,this.equipmentCopies=Zg,this.categoryList=Qg,this.transactionItems=s0,this.transactionHistory=t0,this.borrowers=Gg,this.officeList=Jg,this.isLoading=!1},addBorrower(s){this.borrowers.push(s)},updateBorrower(s){const o=this.borrowers.findIndex(d=>d.id===s.id);o!==-1&&(this.borrowers[o]={...this.borrowers[o],...s})},deleteBorrower(s,o){const d=this.borrowers.findIndex(u=>u.id===s);d!==-1&&(this.borrowers[d].is_deleted=1,this.borrowers[d].deleted_by=o)},restoreBorrower(s){const o=this.borrowers.findIndex(d=>d.id===s);o!==-1&&(this.borrowers[o].is_deleted=0,this.borrowers[o].deleted_by=null,this.borrowers[o].updated_at=new Date().toLocaleDateString())},addCategory(s){this.categoryList.push(s)},updateCategory(s){const o=this.categoryList.findIndex(d=>d.id===s.id);o!==-1&&(this.categoryList[o]={...this.categoryList[o],...s})},deleteCategory(s){const o=this.categoryList.findIndex(d=>d.id===s);o!==-1&&(this.categoryList[o].is_deleted=1,this.categoryList[o].updated_at=new Date().toLocaleDateString())},restoreCategory(s){const o=this.categoryList.findIndex(d=>d.id===s);o!==-1&&(this.categoryList[o].is_deleted=0)},addEquipmentCopy(s){this.equipmentCopies.push(s)},updateEquipmentCopy(s){const o=this.equipmentCopies.findIndex(d=>d.id===s.id);o!==-1&&(this.equipmentCopies[o]={...this.equipmentCopies[o],...s})},deleteEquipmentCopy(s){const o=this.equipmentCopies.findIndex(d=>d.id===s);o!==-1&&this.equipmentCopies.splice(o,1)},addInventoryAccess(s){this.inventoryAccesses.push(s)},updateInventoryAccess(s){const o=this.inventoryAccesses.findIndex(d=>d.user_id===s.user_id);o!==-1&&(this.inventoryAccesses[o]={...this.inventoryAccesses[o],...s})},deleteInventoryAccess(s){const o=this.inventoryAccesses.findIndex(d=>d.id===s);o!==-1&&this.inventoryAccesses.splice(o,1)},addOfficeEquipment(s){this.officeEquipments.push(s)},updateOfficeEquipment(s){const o=this.officeEquipments.findIndex(d=>d.id===s.id);o!==-1&&(this.officeEquipments[o]={...this.officeEquipments[o],...s})},deleteOfficeEquipment(s){const o=this.officeEquipments.findIndex(d=>d.id===s);o!==-1&&this.officeEquipments.splice(o,1)},addOffice(s){this.officeList.push(s)},updateOffice(s){const o=this.officeList.findIndex(d=>d.id===s.id);o!==-1&&(this.officeList[o]={...this.officeList[o],...s})},deleteOffice(s){const o=this.officeList.findIndex(d=>d.id===s);o!==-1&&(this.officeList[o].is_deleted=1,this.officeList[o].updated_at=new Date().toLocaleDateString())},restoreOffice(s){const o=this.officeList.findIndex(d=>d.id===s);o!==-1&&(this.officeList[o].is_deleted=0)},addOfficeSupply(s){this.officeSupplies.push(s)},updateOfficeSupply(s){const o=this.officeSupplies.findIndex(d=>d.id===s.id);o!==-1&&(this.officeSupplies[o]={...this.officeSupplies[o],...s})},deleteOfficeSupply(s){const o=this.officeSupplies.findIndex(d=>d.id===s);o!==-1&&this.officeSupplies.splice(o,1)},addTransactionHistory(s){this.transactionHistory.push(s)},updateTransactionHistory(s){const o=this.transactionHistory.findIndex(d=>d.id===s.id);o!==-1&&(this.transactionHistory[o]={...this.transactionHistory[o],...s})},deleteTransactionHistory(s){const o=this.transactionHistory.findIndex(d=>d.id===s);o!==-1&&this.transactionHistory.splice(o,1)},addTransactionItem(s){this.transactionItems.push(s)},updateTransactionItem(s){const o=this.transactionItems.findIndex(d=>d.id===s.id);o!==-1&&(this.transactionItems[o]={...this.transactionItems[o],...s})},deleteTransactionItem(s){const o=this.transactionItems.findIndex(d=>d.id===s);o!==-1&&this.transactionItems.splice(o,1)},addUser(s){this.users.push(s)},updateUser(s){const o=this.users.findIndex(d=>d.id===s.id);o!==-1&&(this.users[o]={...this.users[o],...s})},deleteUser(s){const o=this.users.findIndex(d=>d.id===s);o!==-1&&(this.users[o].is_deleted=1,this.users[o].updated_at=new Date().toLocaleDateString())},restoreUser(s){const o=this.users.findIndex(d=>d.id===s);o!==-1&&(this.users[o].is_deleted=0,this.users[o].updated_at=new Date().toLocaleDateString())}}}),r0={__name:"App",setup(s){const o=js();return qt(),(d,u)=>{const h=ai("RouterView");return F(),se("div",null,[de(o).loading?(F(),Ze(Xg,{key:0})):(F(),Ze(h,{key:1})),he(Pg)])}}};/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const ga=typeof document<"u";function Bd(s){return typeof s=="object"||"displayName"in s||"props"in s||"__vccOpts"in s}function a0(s){return s.__esModule||s[Symbol.toStringTag]==="Module"||s.default&&Bd(s.default)}const Jt=Object.assign;function $o(s,o){const d={};for(const u in o){const h=o[u];d[u]=nr(h)?h.map(s):s(h)}return d}const Ja=()=>{},nr=Array.isArray,Fd=/#/g,i0=/&/g,o0=/\//g,n0=/=/g,l0=/\?/g,Hd=/\+/g,c0=/%5B/g,d0=/%5D/g,Vd=/%5E/g,u0=/%60/g,Ud=/%7B/g,h0=/%7C/g,qd=/%7D/g,f0=/%20/g;function Pn(s){return encodeURI(""+s).replace(h0,"|").replace(c0,"[").replace(d0,"]")}function p0(s){return Pn(s).replace(Ud,"{").replace(qd,"}").replace(Vd,"^")}function en(s){return Pn(s).replace(Hd,"%2B").replace(f0,"+").replace(Fd,"%23").replace(i0,"%26").replace(u0,"`").replace(Ud,"{").replace(qd,"}").replace(Vd,"^")}function g0(s){return en(s).replace(n0,"%3D")}function m0(s){return Pn(s).replace(Fd,"%23").replace(l0,"%3F")}function v0(s){return s==null?"":m0(s).replace(o0,"%2F")}function li(s){try{return decodeURIComponent(""+s)}catch{}return""+s}const b0=/\/$/,x0=s=>s.replace(b0,"");function Ro(s,o,d="/"){let u,h={},v="",m="";const y=o.indexOf("#");let k=o.indexOf("?");return y<k&&y>=0&&(k=-1),k>-1&&(u=o.slice(0,k),v=o.slice(k+1,y>-1?y:o.length),h=s(v)),y>-1&&(u=u||o.slice(0,y),m=o.slice(y,o.length)),u=C0(u??o,d),{fullPath:u+(v&&"?")+v+m,path:u,query:h,hash:li(m)}}function y0(s,o){const d=o.query?s(o.query):"";return o.path+(d&&"?")+d+(o.hash||"")}function Dl(s,o){return!o||!s.toLowerCase().startsWith(o.toLowerCase())?s:s.slice(o.length)||"/"}function w0(s,o,d){const u=o.matched.length-1,h=d.matched.length-1;return u>-1&&u===h&&Aa(o.matched[u],d.matched[h])&&jd(o.params,d.params)&&s(o.query)===s(d.query)&&o.hash===d.hash}function Aa(s,o){return(s.aliasOf||s)===(o.aliasOf||o)}function jd(s,o){if(Object.keys(s).length!==Object.keys(o).length)return!1;for(const d in s)if(!k0(s[d],o[d]))return!1;return!0}function k0(s,o){return nr(s)?Nl(s,o):nr(o)?Nl(o,s):s===o}function Nl(s,o){return nr(o)?s.length===o.length&&s.every((d,u)=>d===o[u]):s.length===1&&s[0]===o}function C0(s,o){if(s.startsWith("/"))return s;if(!s)return o;const d=o.split("/"),u=s.split("/"),h=u[u.length-1];(h===".."||h===".")&&u.push("");let v=d.length-1,m,y;for(m=0;m<u.length;m++)if(y=u[m],y!==".")if(y==="..")v>1&&v--;else break;return d.slice(0,v).join("/")+"/"+u.slice(m).join("/")}const Or={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var ci;(function(s){s.pop="pop",s.push="push"})(ci||(ci={}));var ei;(function(s){s.back="back",s.forward="forward",s.unknown=""})(ei||(ei={}));function _0(s){if(!s)if(ga){const o=document.querySelector("base");s=o&&o.getAttribute("href")||"/",s=s.replace(/^\w+:\/\/[^\/]+/,"")}else s="/";return s[0]!=="/"&&s[0]!=="#"&&(s="/"+s),x0(s)}const S0=/^[^#]+#/;function A0(s,o){return s.replace(S0,"#")+o}function L0(s,o){const d=document.documentElement.getBoundingClientRect(),u=s.getBoundingClientRect();return{behavior:o.behavior,left:u.left-d.left-(o.left||0),top:u.top-d.top-(o.top||0)}}const oo=()=>({left:window.scrollX,top:window.scrollY});function E0(s){let o;if("el"in s){const d=s.el,u=typeof d=="string"&&d.startsWith("#"),h=typeof d=="string"?u?document.getElementById(d.slice(1)):document.querySelector(d):d;if(!h)return;o=L0(h,s)}else o=s;"scrollBehavior"in document.documentElement.style?window.scrollTo(o):window.scrollTo(o.left!=null?o.left:window.scrollX,o.top!=null?o.top:window.scrollY)}function zl(s,o){return(history.state?history.state.position-o:-1)+s}const tn=new Map;function P0(s,o){tn.set(s,o)}function I0(s){const o=tn.get(s);return tn.delete(s),o}let M0=()=>location.protocol+"//"+location.host;function Xd(s,o){const{pathname:d,search:u,hash:h}=o,v=s.indexOf("#");if(v>-1){let y=h.includes(s.slice(v))?s.slice(v).length:1,k=h.slice(y);return k[0]!=="/"&&(k="/"+k),Dl(k,"")}return Dl(d,s)+u+h}function T0(s,o,d,u){let h=[],v=[],m=null;const y=({state:P})=>{const $=Xd(s,location),D=d.value,N=o.value;let R=0;if(P){if(d.value=$,o.value=P,m&&m===D){m=null;return}R=N?P.position-N.position:0}else u($);h.forEach(H=>{H(d.value,D,{delta:R,type:ci.pop,direction:R?R>0?ei.forward:ei.back:ei.unknown})})};function k(){m=d.value}function I(P){h.push(P);const $=()=>{const D=h.indexOf(P);D>-1&&h.splice(D,1)};return v.push($),$}function L(){const{history:P}=window;P.state&&P.replaceState(Jt({},P.state,{scroll:oo()}),"")}function E(){for(const P of v)P();v=[],window.removeEventListener("popstate",y),window.removeEventListener("beforeunload",L)}return window.addEventListener("popstate",y),window.addEventListener("beforeunload",L,{passive:!0}),{pauseListeners:k,listen:I,destroy:E}}function Bl(s,o,d,u=!1,h=!1){return{back:s,current:o,forward:d,replaced:u,position:window.history.length,scroll:h?oo():null}}function O0(s){const{history:o,location:d}=window,u={value:Xd(s,d)},h={value:o.state};h.value||v(u.value,{back:null,current:u.value,forward:null,position:o.length-1,replaced:!0,scroll:null},!0);function v(k,I,L){const E=s.indexOf("#"),P=E>-1?(d.host&&document.querySelector("base")?s:s.slice(E))+k:M0()+s+k;try{o[L?"replaceState":"pushState"](I,"",P),h.value=I}catch($){console.error($),d[L?"replace":"assign"](P)}}function m(k,I){const L=Jt({},o.state,Bl(h.value.back,k,h.value.forward,!0),I,{position:h.value.position});v(k,L,!0),u.value=k}function y(k,I){const L=Jt({},h.value,o.state,{forward:k,scroll:oo()});v(L.current,L,!0);const E=Jt({},Bl(u.value,k,null),{position:L.position+1},I);v(k,E,!1),u.value=k}return{location:u,state:h,push:y,replace:m}}function $0(s){s=_0(s);const o=O0(s),d=T0(s,o.state,o.location,o.replace);function u(v,m=!0){m||d.pauseListeners(),history.go(v)}const h=Jt({location:"",base:s,go:u,createHref:A0.bind(null,s)},o,d);return Object.defineProperty(h,"location",{enumerable:!0,get:()=>o.location.value}),Object.defineProperty(h,"state",{enumerable:!0,get:()=>o.state.value}),h}function R0(s){return typeof s=="string"||s&&typeof s=="object"}function Yd(s){return typeof s=="string"||typeof s=="symbol"}const Wd=Symbol("");var Fl;(function(s){s[s.aborted=4]="aborted",s[s.cancelled=8]="cancelled",s[s.duplicated=16]="duplicated"})(Fl||(Fl={}));function La(s,o){return Jt(new Error,{type:s,[Wd]:!0},o)}function wr(s,o){return s instanceof Error&&Wd in s&&(o==null||!!(s.type&o))}const Hl="[^/]+?",D0={sensitive:!1,strict:!1,start:!0,end:!0},N0=/[.+*?^${}()[\]/\\]/g;function z0(s,o){const d=Jt({},D0,o),u=[];let h=d.start?"^":"";const v=[];for(const I of s){const L=I.length?[]:[90];d.strict&&!I.length&&(h+="/");for(let E=0;E<I.length;E++){const P=I[E];let $=40+(d.sensitive?.25:0);if(P.type===0)E||(h+="/"),h+=P.value.replace(N0,"\\$&"),$+=40;else if(P.type===1){const{value:D,repeatable:N,optional:R,regexp:H}=P;v.push({name:D,repeatable:N,optional:R});const Q=H||Hl;if(Q!==Hl){$+=10;try{new RegExp(`(${Q})`)}catch(q){throw new Error(`Invalid custom RegExp for param "${D}" (${Q}): `+q.message)}}let Y=N?`((?:${Q})(?:/(?:${Q}))*)`:`(${Q})`;E||(Y=R&&I.length<2?`(?:/${Y})`:"/"+Y),R&&(Y+="?"),h+=Y,$+=20,R&&($+=-8),N&&($+=-20),Q===".*"&&($+=-50)}L.push($)}u.push(L)}if(d.strict&&d.end){const I=u.length-1;u[I][u[I].length-1]+=.7000000000000001}d.strict||(h+="/?"),d.end?h+="$":d.strict&&!h.endsWith("/")&&(h+="(?:/|$)");const m=new RegExp(h,d.sensitive?"":"i");function y(I){const L=I.match(m),E={};if(!L)return null;for(let P=1;P<L.length;P++){const $=L[P]||"",D=v[P-1];E[D.name]=$&&D.repeatable?$.split("/"):$}return E}function k(I){let L="",E=!1;for(const P of s){(!E||!L.endsWith("/"))&&(L+="/"),E=!1;for(const $ of P)if($.type===0)L+=$.value;else if($.type===1){const{value:D,repeatable:N,optional:R}=$,H=D in I?I[D]:"";if(nr(H)&&!N)throw new Error(`Provided param "${D}" is an array but it is not repeatable (* or + modifiers)`);const Q=nr(H)?H.join("/"):H;if(!Q)if(R)P.length<2&&(L.endsWith("/")?L=L.slice(0,-1):E=!0);else throw new Error(`Missing required param "${D}"`);L+=Q}}return L||"/"}return{re:m,score:u,keys:v,parse:y,stringify:k}}function B0(s,o){let d=0;for(;d<s.length&&d<o.length;){const u=o[d]-s[d];if(u)return u;d++}return s.length<o.length?s.length===1&&s[0]===80?-1:1:s.length>o.length?o.length===1&&o[0]===80?1:-1:0}function Gd(s,o){let d=0;const u=s.score,h=o.score;for(;d<u.length&&d<h.length;){const v=B0(u[d],h[d]);if(v)return v;d++}if(Math.abs(h.length-u.length)===1){if(Vl(u))return 1;if(Vl(h))return-1}return h.length-u.length}function Vl(s){const o=s[s.length-1];return s.length>0&&o[o.length-1]<0}const F0={type:0,value:""},H0=/[a-zA-Z0-9_]/;function V0(s){if(!s)return[[]];if(s==="/")return[[F0]];if(!s.startsWith("/"))throw new Error(`Invalid path "${s}"`);function o($){throw new Error(`ERR (${d})/"${I}": ${$}`)}let d=0,u=d;const h=[];let v;function m(){v&&h.push(v),v=[]}let y=0,k,I="",L="";function E(){I&&(d===0?v.push({type:0,value:I}):d===1||d===2||d===3?(v.length>1&&(k==="*"||k==="+")&&o(`A repeatable param (${I}) must be alone in its segment. eg: '/:ids+.`),v.push({type:1,value:I,regexp:L,repeatable:k==="*"||k==="+",optional:k==="*"||k==="?"})):o("Invalid state to consume buffer"),I="")}function P(){I+=k}for(;y<s.length;){if(k=s[y++],k==="\\"&&d!==2){u=d,d=4;continue}switch(d){case 0:k==="/"?(I&&E(),m()):k===":"?(E(),d=1):P();break;case 4:P(),d=u;break;case 1:k==="("?d=2:H0.test(k)?P():(E(),d=0,k!=="*"&&k!=="?"&&k!=="+"&&y--);break;case 2:k===")"?L[L.length-1]=="\\"?L=L.slice(0,-1)+k:d=3:L+=k;break;case 3:E(),d=0,k!=="*"&&k!=="?"&&k!=="+"&&y--,L="";break;default:o("Unknown state");break}}return d===2&&o(`Unfinished custom RegExp for param "${I}"`),E(),m(),h}function U0(s,o,d){const u=z0(V0(s.path),d),h=Jt(u,{record:s,parent:o,children:[],alias:[]});return o&&!h.record.aliasOf==!o.record.aliasOf&&o.children.push(h),h}function q0(s,o){const d=[],u=new Map;o=Xl({strict:!1,end:!0,sensitive:!1},o);function h(E){return u.get(E)}function v(E,P,$){const D=!$,N=ql(E);N.aliasOf=$&&$.record;const R=Xl(o,E),H=[N];if("alias"in E){const q=typeof E.alias=="string"?[E.alias]:E.alias;for(const S of q)H.push(ql(Jt({},N,{components:$?$.record.components:N.components,path:S,aliasOf:$?$.record:N})))}let Q,Y;for(const q of H){const{path:S}=q;if(P&&S[0]!=="/"){const K=P.record.path,ae=K[K.length-1]==="/"?"":"/";q.path=P.record.path+(S&&ae+S)}if(Q=U0(q,P,R),$?$.alias.push(Q):(Y=Y||Q,Y!==Q&&Y.alias.push(Q),D&&E.name&&!jl(Q)&&m(E.name)),Qd(Q)&&k(Q),N.children){const K=N.children;for(let ae=0;ae<K.length;ae++)v(K[ae],Q,$&&$.children[ae])}$=$||Q}return Y?()=>{m(Y)}:Ja}function m(E){if(Yd(E)){const P=u.get(E);P&&(u.delete(E),d.splice(d.indexOf(P),1),P.children.forEach(m),P.alias.forEach(m))}else{const P=d.indexOf(E);P>-1&&(d.splice(P,1),E.record.name&&u.delete(E.record.name),E.children.forEach(m),E.alias.forEach(m))}}function y(){return d}function k(E){const P=Y0(E,d);d.splice(P,0,E),E.record.name&&!jl(E)&&u.set(E.record.name,E)}function I(E,P){let $,D={},N,R;if("name"in E&&E.name){if($=u.get(E.name),!$)throw La(1,{location:E});R=$.record.name,D=Jt(Ul(P.params,$.keys.filter(Y=>!Y.optional).concat($.parent?$.parent.keys.filter(Y=>Y.optional):[]).map(Y=>Y.name)),E.params&&Ul(E.params,$.keys.map(Y=>Y.name))),N=$.stringify(D)}else if(E.path!=null)N=E.path,$=d.find(Y=>Y.re.test(N)),$&&(D=$.parse(N),R=$.record.name);else{if($=P.name?u.get(P.name):d.find(Y=>Y.re.test(P.path)),!$)throw La(1,{location:E,currentLocation:P});R=$.record.name,D=Jt({},P.params,E.params),N=$.stringify(D)}const H=[];let Q=$;for(;Q;)H.unshift(Q.record),Q=Q.parent;return{name:R,path:N,params:D,matched:H,meta:X0(H)}}s.forEach(E=>v(E));function L(){d.length=0,u.clear()}return{addRoute:v,resolve:I,removeRoute:m,clearRoutes:L,getRoutes:y,getRecordMatcher:h}}function Ul(s,o){const d={};for(const u of o)u in s&&(d[u]=s[u]);return d}function ql(s){const o={path:s.path,redirect:s.redirect,name:s.name,meta:s.meta||{},aliasOf:s.aliasOf,beforeEnter:s.beforeEnter,props:j0(s),children:s.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in s?s.components||null:s.component&&{default:s.component}};return Object.defineProperty(o,"mods",{value:{}}),o}function j0(s){const o={},d=s.props||!1;if("component"in s)o.default=d;else for(const u in s.components)o[u]=typeof d=="object"?d[u]:d;return o}function jl(s){for(;s;){if(s.record.aliasOf)return!0;s=s.parent}return!1}function X0(s){return s.reduce((o,d)=>Jt(o,d.meta),{})}function Xl(s,o){const d={};for(const u in s)d[u]=u in o?o[u]:s[u];return d}function Y0(s,o){let d=0,u=o.length;for(;d!==u;){const v=d+u>>1;Gd(s,o[v])<0?u=v:d=v+1}const h=W0(s);return h&&(u=o.lastIndexOf(h,u-1)),u}function W0(s){let o=s;for(;o=o.parent;)if(Qd(o)&&Gd(s,o)===0)return o}function Qd({record:s}){return!!(s.name||s.components&&Object.keys(s.components).length||s.redirect)}function G0(s){const o={};if(s===""||s==="?")return o;const u=(s[0]==="?"?s.slice(1):s).split("&");for(let h=0;h<u.length;++h){const v=u[h].replace(Hd," "),m=v.indexOf("="),y=li(m<0?v:v.slice(0,m)),k=m<0?null:li(v.slice(m+1));if(y in o){let I=o[y];nr(I)||(I=o[y]=[I]),I.push(k)}else o[y]=k}return o}function Yl(s){let o="";for(let d in s){const u=s[d];if(d=g0(d),u==null){u!==void 0&&(o+=(o.length?"&":"")+d);continue}(nr(u)?u.map(v=>v&&en(v)):[u&&en(u)]).forEach(v=>{v!==void 0&&(o+=(o.length?"&":"")+d,v!=null&&(o+="="+v))})}return o}function Q0(s){const o={};for(const d in s){const u=s[d];u!==void 0&&(o[d]=nr(u)?u.map(h=>h==null?null:""+h):u==null?u:""+u)}return o}const Z0=Symbol(""),Wl=Symbol(""),no=Symbol(""),In=Symbol(""),sn=Symbol("");function Ha(){let s=[];function o(u){return s.push(u),()=>{const h=s.indexOf(u);h>-1&&s.splice(h,1)}}function d(){s=[]}return{add:o,list:()=>s.slice(),reset:d}}function Nr(s,o,d,u,h,v=m=>m()){const m=u&&(u.enterCallbacks[h]=u.enterCallbacks[h]||[]);return()=>new Promise((y,k)=>{const I=P=>{P===!1?k(La(4,{from:d,to:o})):P instanceof Error?k(P):R0(P)?k(La(2,{from:o,to:P})):(m&&u.enterCallbacks[h]===m&&typeof P=="function"&&m.push(P),y())},L=v(()=>s.call(u&&u.instances[h],o,d,I));let E=Promise.resolve(L);s.length<3&&(E=E.then(I)),E.catch(P=>k(P))})}function Do(s,o,d,u,h=v=>v()){const v=[];for(const m of s)for(const y in m.components){let k=m.components[y];if(!(o!=="beforeRouteEnter"&&!m.instances[y]))if(Bd(k)){const L=(k.__vccOpts||k)[o];L&&v.push(Nr(L,d,u,m,y,h))}else{let I=k();v.push(()=>I.then(L=>{if(!L)throw new Error(`Couldn't resolve component "${y}" at "${m.path}"`);const E=a0(L)?L.default:L;m.mods[y]=L,m.components[y]=E;const $=(E.__vccOpts||E)[o];return $&&Nr($,d,u,m,y,h)()}))}}return v}function Gl(s){const o=Js(no),d=Js(In),u=Ve(()=>{const k=de(s.to);return o.resolve(k)}),h=Ve(()=>{const{matched:k}=u.value,{length:I}=k,L=k[I-1],E=d.matched;if(!L||!E.length)return-1;const P=E.findIndex(Aa.bind(null,L));if(P>-1)return P;const $=Ql(k[I-2]);return I>1&&Ql(L)===$&&E[E.length-1].path!==$?E.findIndex(Aa.bind(null,k[I-2])):P}),v=Ve(()=>h.value>-1&&sm(d.params,u.value.params)),m=Ve(()=>h.value>-1&&h.value===d.matched.length-1&&jd(d.params,u.value.params));function y(k={}){if(tm(k)){const I=o[de(s.replace)?"replace":"push"](de(s.to)).catch(Ja);return s.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>I),I}return Promise.resolve()}return{route:u,href:Ve(()=>u.value.href),isActive:v,isExactActive:m,navigate:y}}function K0(s){return s.length===1?s[0]:s}const J0=gi({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Gl,setup(s,{slots:o}){const d=fi(Gl(s)),{options:u}=Js(no),h=Ve(()=>({[Zl(s.activeClass,u.linkActiveClass,"router-link-active")]:d.isActive,[Zl(s.exactActiveClass,u.linkExactActiveClass,"router-link-exact-active")]:d.isExactActive}));return()=>{const v=o.default&&K0(o.default(d));return s.custom?v:Ls("a",{"aria-current":d.isExactActive?s.ariaCurrentValue:null,href:d.href,onClick:d.navigate,class:h.value},v)}}}),em=J0;function tm(s){if(!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)&&!s.defaultPrevented&&!(s.button!==void 0&&s.button!==0)){if(s.currentTarget&&s.currentTarget.getAttribute){const o=s.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(o))return}return s.preventDefault&&s.preventDefault(),!0}}function sm(s,o){for(const d in o){const u=o[d],h=s[d];if(typeof u=="string"){if(u!==h)return!1}else if(!nr(h)||h.length!==u.length||u.some((v,m)=>v!==h[m]))return!1}return!0}function Ql(s){return s?s.aliasOf?s.aliasOf.path:s.path:""}const Zl=(s,o,d)=>s??o??d,rm=gi({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(s,{attrs:o,slots:d}){const u=Js(sn),h=Ve(()=>s.route||u.value),v=Js(Wl,0),m=Ve(()=>{let I=de(v);const{matched:L}=h.value;let E;for(;(E=L[I])&&!E.components;)I++;return I}),y=Ve(()=>h.value.matched[m.value]);Ai(Wl,Ve(()=>m.value+1)),Ai(Z0,y),Ai(sn,h);const k=G();return it(()=>[k.value,y.value,s.name],([I,L,E],[P,$,D])=>{L&&(L.instances[E]=I,$&&$!==L&&I&&I===P&&(L.leaveGuards.size||(L.leaveGuards=$.leaveGuards),L.updateGuards.size||(L.updateGuards=$.updateGuards))),I&&L&&(!$||!Aa(L,$)||!P)&&(L.enterCallbacks[E]||[]).forEach(N=>N(I))},{flush:"post"}),()=>{const I=h.value,L=s.name,E=y.value,P=E&&E.components[L];if(!P)return Kl(d.default,{Component:P,route:I});const $=E.props[L],D=$?$===!0?I.params:typeof $=="function"?$(I):$:null,R=Ls(P,Jt({},D,o,{onVnodeUnmounted:H=>{H.component.isUnmounted&&(E.instances[L]=null)},ref:k}));return Kl(d.default,{Component:R,route:I})||R}}});function Kl(s,o){if(!s)return null;const d=s(o);return d.length===1?d[0]:d}const am=rm;function im(s){const o=q0(s.routes,s),d=s.parseQuery||G0,u=s.stringifyQuery||Yl,h=s.history,v=Ha(),m=Ha(),y=Ha(),k=Wh(Or);let I=Or;ga&&s.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const L=$o.bind(null,ge=>""+ge),E=$o.bind(null,v0),P=$o.bind(null,li);function $(ge,je){let ke,ie;return Yd(ge)?(ke=o.getRecordMatcher(ge),ie=je):ie=ge,o.addRoute(ie,ke)}function D(ge){const je=o.getRecordMatcher(ge);je&&o.removeRoute(je)}function N(){return o.getRoutes().map(ge=>ge.record)}function R(ge){return!!o.getRecordMatcher(ge)}function H(ge,je){if(je=Jt({},je||k.value),typeof ge=="string"){const oe=Ro(d,ge,je.path),Ce=o.resolve({path:oe.path},je),Le=h.createHref(oe.fullPath);return Jt(oe,Ce,{params:P(Ce.params),hash:li(oe.hash),redirectedFrom:void 0,href:Le})}let ke;if(ge.path!=null)ke=Jt({},ge,{path:Ro(d,ge.path,je.path).path});else{const oe=Jt({},ge.params);for(const Ce in oe)oe[Ce]==null&&delete oe[Ce];ke=Jt({},ge,{params:E(oe)}),je.params=E(je.params)}const ie=o.resolve(ke,je),ye=ge.hash||"";ie.params=L(P(ie.params));const ne=y0(u,Jt({},ge,{hash:p0(ye),path:ie.path})),le=h.createHref(ne);return Jt({fullPath:ne,hash:ye,query:u===Yl?Q0(ge.query):ge.query||{}},ie,{redirectedFrom:void 0,href:le})}function Q(ge){return typeof ge=="string"?Ro(d,ge,k.value.path):Jt({},ge)}function Y(ge,je){if(I!==ge)return La(8,{from:je,to:ge})}function q(ge){return ae(ge)}function S(ge){return q(Jt(Q(ge),{replace:!0}))}function K(ge){const je=ge.matched[ge.matched.length-1];if(je&&je.redirect){const{redirect:ke}=je;let ie=typeof ke=="function"?ke(ge):ke;return typeof ie=="string"&&(ie=ie.includes("?")||ie.includes("#")?ie=Q(ie):{path:ie},ie.params={}),Jt({query:ge.query,hash:ge.hash,params:ie.path!=null?{}:ge.params},ie)}}function ae(ge,je){const ke=I=H(ge),ie=k.value,ye=ge.state,ne=ge.force,le=ge.replace===!0,oe=K(ke);if(oe)return ae(Jt(Q(oe),{state:typeof oe=="object"?Jt({},ye,oe.state):ye,force:ne,replace:le}),je||ke);const Ce=ke;Ce.redirectedFrom=je;let Le;return!ne&&w0(u,ie,ke)&&(Le=La(16,{to:Ce,from:ie}),xe(ie,ie,!0,!1)),(Le?Promise.resolve(Le):fe(Ce,ie)).catch(_e=>wr(_e)?wr(_e,2)?_e:st(_e):Je(_e,Ce,ie)).then(_e=>{if(_e){if(wr(_e,2))return ae(Jt({replace:le},Q(_e.to),{state:typeof _e.to=="object"?Jt({},ye,_e.to.state):ye,force:ne}),je||Ce)}else _e=Ae(Ce,ie,!0,le,ye);return Te(Ce,ie,_e),_e})}function B(ge,je){const ke=Y(ge,je);return ke?Promise.reject(ke):Promise.resolve()}function te(ge){const je=bt.values().next().value;return je&&typeof je.runWithContext=="function"?je.runWithContext(ge):ge()}function fe(ge,je){let ke;const[ie,ye,ne]=om(ge,je);ke=Do(ie.reverse(),"beforeRouteLeave",ge,je);for(const oe of ie)oe.leaveGuards.forEach(Ce=>{ke.push(Nr(Ce,ge,je))});const le=B.bind(null,ge,je);return ke.push(le),Pe(ke).then(()=>{ke=[];for(const oe of v.list())ke.push(Nr(oe,ge,je));return ke.push(le),Pe(ke)}).then(()=>{ke=Do(ye,"beforeRouteUpdate",ge,je);for(const oe of ye)oe.updateGuards.forEach(Ce=>{ke.push(Nr(Ce,ge,je))});return ke.push(le),Pe(ke)}).then(()=>{ke=[];for(const oe of ne)if(oe.beforeEnter)if(nr(oe.beforeEnter))for(const Ce of oe.beforeEnter)ke.push(Nr(Ce,ge,je));else ke.push(Nr(oe.beforeEnter,ge,je));return ke.push(le),Pe(ke)}).then(()=>(ge.matched.forEach(oe=>oe.enterCallbacks={}),ke=Do(ne,"beforeRouteEnter",ge,je,te),ke.push(le),Pe(ke))).then(()=>{ke=[];for(const oe of m.list())ke.push(Nr(oe,ge,je));return ke.push(le),Pe(ke)}).catch(oe=>wr(oe,8)?oe:Promise.reject(oe))}function Te(ge,je,ke){y.list().forEach(ie=>te(()=>ie(ge,je,ke)))}function Ae(ge,je,ke,ie,ye){const ne=Y(ge,je);if(ne)return ne;const le=je===Or,oe=ga?history.state:{};ke&&(ie||le?h.replace(ge.fullPath,Jt({scroll:le&&oe&&oe.scroll},ye)):h.push(ge.fullPath,ye)),k.value=ge,xe(ge,je,ke,le),st()}let Ie;function Ee(){Ie||(Ie=h.listen((ge,je,ke)=>{if(!ot.listening)return;const ie=H(ge),ye=K(ie);if(ye){ae(Jt(ye,{replace:!0,force:!0}),ie).catch(Ja);return}I=ie;const ne=k.value;ga&&P0(zl(ne.fullPath,ke.delta),oo()),fe(ie,ne).catch(le=>wr(le,12)?le:wr(le,2)?(ae(Jt(Q(le.to),{force:!0}),ie).then(oe=>{wr(oe,20)&&!ke.delta&&ke.type===ci.pop&&h.go(-1,!1)}).catch(Ja),Promise.reject()):(ke.delta&&h.go(-ke.delta,!1),Je(le,ie,ne))).then(le=>{le=le||Ae(ie,ne,!1),le&&(ke.delta&&!wr(le,8)?h.go(-ke.delta,!1):ke.type===ci.pop&&wr(le,20)&&h.go(-1,!1)),Te(ie,ne,le)}).catch(Ja)}))}let Ne=Ha(),Me=Ha(),ze;function Je(ge,je,ke){st(ge);const ie=Me.list();return ie.length?ie.forEach(ye=>ye(ge,je,ke)):console.error(ge),Promise.reject(ge)}function Ye(){return ze&&k.value!==Or?Promise.resolve():new Promise((ge,je)=>{Ne.add([ge,je])})}function st(ge){return ze||(ze=!ge,Ee(),Ne.list().forEach(([je,ke])=>ge?ke(ge):je()),Ne.reset()),ge}function xe(ge,je,ke,ie){const{scrollBehavior:ye}=s;if(!ga||!ye)return Promise.resolve();const ne=!ke&&I0(zl(ge.fullPath,0))||(ie||!ke)&&history.state&&history.state.scroll||null;return Ji().then(()=>ye(ge,je,ne)).then(le=>le&&E0(le)).catch(le=>Je(le,ge,je))}const ue=ge=>h.go(ge);let Re;const bt=new Set,ot={currentRoute:k,listening:!0,addRoute:$,removeRoute:D,clearRoutes:o.clearRoutes,hasRoute:R,getRoutes:N,resolve:H,options:s,push:q,replace:S,go:ue,back:()=>ue(-1),forward:()=>ue(1),beforeEach:v.add,beforeResolve:m.add,afterEach:y.add,onError:Me.add,isReady:Ye,install(ge){const je=this;ge.component("RouterLink",em),ge.component("RouterView",am),ge.config.globalProperties.$router=je,Object.defineProperty(ge.config.globalProperties,"$route",{enumerable:!0,get:()=>de(k)}),ga&&!Re&&k.value===Or&&(Re=!0,q(h.location).catch(ye=>{}));const ke={};for(const ye in Or)Object.defineProperty(ke,ye,{get:()=>k.value[ye],enumerable:!0});ge.provide(no,je),ge.provide(In,Hc(ke)),ge.provide(sn,k);const ie=ge.unmount;bt.add(ge),ge.unmount=function(){bt.delete(ge),bt.size<1&&(I=Or,Ie&&Ie(),Ie=null,k.value=Or,Re=!1,ze=!1),ie()}}};function Pe(ge){return ge.reduce((je,ke)=>je.then(()=>te(ke)),Promise.resolve())}return ot}function om(s,o){const d=[],u=[],h=[],v=Math.max(o.matched.length,s.matched.length);for(let m=0;m<v;m++){const y=o.matched[m];y&&(s.matched.find(I=>Aa(I,y))?u.push(y):d.push(y));const k=s.matched[m];k&&(o.matched.find(I=>Aa(I,k))||h.push(k))}return[d,u,h]}function Ur(){return Js(no)}function nm(s){return Js(In)}const lm={},cm={viewBox:"25 25 50 50",class:"container"};function dm(s,o){return F(),se("svg",cm,o[0]||(o[0]=[l("circle",{cx:"50",cy:"50",r:"20",class:"loader"},null,-1)]))}const Ht=oa(lm,[["render",dm],["__scopeId","data-v-595d68a6"]]),um={class:"min-h-screen flex items-center justify-center bg-gradient-to-b from-black to-blue-900 relative"},hm={key:0,class:"h-[72vh] flex flex-col items-center justify-center"},fm={key:1,class:"flex flex-col md:flex-row items-center gap-2 z-10"},pm={class:"text-center flex w-md items-center md:flex-col"},gm=["src"],mm={class:"bg-white p-6 rounded-xl shadow-lg w-md h-94"},vm={class:"flex flex-row"},bm={class:"text-red-700 ml-2 font-semibold italic"},xm={class:"flex flex-row"},ym={class:"text-red-700 ml-1 font-semibold italic"},wm={class:"text-sm text-center mt-4"},km={class:"text-sm text-center mt-2"},Cm={__name:"Login",setup(s){const o=G(!1),d=G({email:"sample@gmail.com",password:"p@ssword123"}),u=G({email:[],password:[]}),h=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,v=/^(?=.*[A-Za-z])(?=.*\d)(?=.*[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?])[A-Za-z\d!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]{8,}$/;function m(){Object.keys(u.value).forEach(k=>{u.value[k]=[]});let y=!1;d.value.email?h.test(d.value.email)||(u.value.email=["Please enter a valid email address"],y=!0):(u.value.email=["Email is required"],y=!0),d.value.password?(v.test(d.value.password)||(u.value.password=["Password must contain special characters, letters and numbers"],y=!0),d.value.password.length<8&&(u.value.password=["Password must be at least 8 characters long"],y=!0)):(u.value.password=["Password is required"],y=!0),!y&&(o.value=!0,setTimeout(()=>{const k=js();k.user=Nd.user,k.inventoryAccess=zd,k.userLoaded=!0,pt.emit("show-toast",{message:"Login successfully!",type:"success"}),$a.push({name:"Dashboard"}),o.value=!1},1e3))}return(y,k)=>{const I=ai("RouterLink");return F(),se("div",um,[o.value?(F(),se("div",hm,[he(Ht)])):(F(),se("div",fm,[l("div",pm,[l("img",{src:de(gs),alt:"City of Baguio Logo",class:"w-40 mx-auto md:w-65"},null,8,gm),k[2]||(k[2]=l("div",{class:"w-3xs mx-auto md:w-xs"},[l("p",{class:"text-white text-2xl font-bold leading-tight md:text-3xl"}," Smart City Command and Control Center Inventory System "),l("p",{class:"text-white text-sm mt-2"},[xt(" Use these credentials for testing:"),l("br"),xt(" Email: sample@gmail.com"),l("br"),xt(" Password: p@ssword123 ")])],-1))]),l("div",mm,[k[8]||(k[8]=l("p",{class:"text-gray-800 text-2xl text-center font-bold mb-4"},"Sign in to your Account",-1)),l("form",{onSubmit:nt(m,["prevent"]),class:"flex flex-col gap-4"},[l("div",null,[l("div",vm,[k[3]||(k[3]=l("label",{for:"email",class:"block text-md font-medium text-gray-700"},"Email",-1)),l("p",bm,pe(u.value.email?u.value.email[0]:""),1)]),Xe(l("input",{name:"email",id:"email",autocomplete:"email","onUpdate:modelValue":k[0]||(k[0]=L=>d.value.email=L),class:"mt-1 w-full px-3 py-2 border text-gray-800 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[ht,d.value.email]])]),l("div",null,[l("div",xm,[k[4]||(k[4]=l("label",{for:"password",class:"block text-md font-medium text-gray-700"},"Password",-1)),l("p",ym,pe(u.value.password?u.value.password[0]:""),1)]),Xe(l("input",{type:"password",name:"password",id:"password",autocomplete:"current-password","onUpdate:modelValue":k[1]||(k[1]=L=>d.value.password=L),class:"mt-1 w-full px-3 py-2 border text-gray-800 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[ht,d.value.password]])]),k[5]||(k[5]=l("button",{type:"submit",class:"w-full bg-blue-600 text-white py-2 mt-1 font-semibold rounded-md hover:bg-blue-700"},"Sign in",-1))],32),l("div",wm,[he(I,{to:{name:"Signup"},class:"text-md text-blue-600 hover:underline"},{default:ar(()=>k[6]||(k[6]=[xt("Don't have an account? Sign up ")])),_:1})]),l("div",km,[he(I,{to:{name:"ForgotPassword"},class:"text-md text-blue-600 hover:underline"},{default:ar(()=>k[7]||(k[7]=[xt("Forgot Password? ")])),_:1})])])]))])}}};function Zd(s,o){return function(){return s.apply(o,arguments)}}const{toString:_m}=Object.prototype,{getPrototypeOf:Mn}=Object,lo=(s=>o=>{const d=_m.call(o);return s[d]||(s[d]=d.slice(8,-1).toLowerCase())})(Object.create(null)),lr=s=>(s=s.toLowerCase(),o=>lo(o)===s),co=s=>o=>typeof o===s,{isArray:Ma}=Array,di=co("undefined");function Sm(s){return s!==null&&!di(s)&&s.constructor!==null&&!di(s.constructor)&&Gs(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const Kd=lr("ArrayBuffer");function Am(s){let o;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?o=ArrayBuffer.isView(s):o=s&&s.buffer&&Kd(s.buffer),o}const Lm=co("string"),Gs=co("function"),Jd=co("number"),uo=s=>s!==null&&typeof s=="object",Em=s=>s===!0||s===!1,Ii=s=>{if(lo(s)!=="object")return!1;const o=Mn(s);return(o===null||o===Object.prototype||Object.getPrototypeOf(o)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},Pm=lr("Date"),Im=lr("File"),Mm=lr("Blob"),Tm=lr("FileList"),Om=s=>uo(s)&&Gs(s.pipe),$m=s=>{let o;return s&&(typeof FormData=="function"&&s instanceof FormData||Gs(s.append)&&((o=lo(s))==="formdata"||o==="object"&&Gs(s.toString)&&s.toString()==="[object FormData]"))},Rm=lr("URLSearchParams"),[Dm,Nm,zm,Bm]=["ReadableStream","Request","Response","Headers"].map(lr),Fm=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function vi(s,o,{allOwnKeys:d=!1}={}){if(s===null||typeof s>"u")return;let u,h;if(typeof s!="object"&&(s=[s]),Ma(s))for(u=0,h=s.length;u<h;u++)o.call(null,s[u],u,s);else{const v=d?Object.getOwnPropertyNames(s):Object.keys(s),m=v.length;let y;for(u=0;u<m;u++)y=v[u],o.call(null,s[y],y,s)}}function eu(s,o){o=o.toLowerCase();const d=Object.keys(s);let u=d.length,h;for(;u-- >0;)if(h=d[u],o===h.toLowerCase())return h;return null}const Zr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,tu=s=>!di(s)&&s!==Zr;function rn(){const{caseless:s}=tu(this)&&this||{},o={},d=(u,h)=>{const v=s&&eu(o,h)||h;Ii(o[v])&&Ii(u)?o[v]=rn(o[v],u):Ii(u)?o[v]=rn({},u):Ma(u)?o[v]=u.slice():o[v]=u};for(let u=0,h=arguments.length;u<h;u++)arguments[u]&&vi(arguments[u],d);return o}const Hm=(s,o,d,{allOwnKeys:u}={})=>(vi(o,(h,v)=>{d&&Gs(h)?s[v]=Zd(h,d):s[v]=h},{allOwnKeys:u}),s),Vm=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),Um=(s,o,d,u)=>{s.prototype=Object.create(o.prototype,u),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:o.prototype}),d&&Object.assign(s.prototype,d)},qm=(s,o,d,u)=>{let h,v,m;const y={};if(o=o||{},s==null)return o;do{for(h=Object.getOwnPropertyNames(s),v=h.length;v-- >0;)m=h[v],(!u||u(m,s,o))&&!y[m]&&(o[m]=s[m],y[m]=!0);s=d!==!1&&Mn(s)}while(s&&(!d||d(s,o))&&s!==Object.prototype);return o},jm=(s,o,d)=>{s=String(s),(d===void 0||d>s.length)&&(d=s.length),d-=o.length;const u=s.indexOf(o,d);return u!==-1&&u===d},Xm=s=>{if(!s)return null;if(Ma(s))return s;let o=s.length;if(!Jd(o))return null;const d=new Array(o);for(;o-- >0;)d[o]=s[o];return d},Ym=(s=>o=>s&&o instanceof s)(typeof Uint8Array<"u"&&Mn(Uint8Array)),Wm=(s,o)=>{const u=(s&&s[Symbol.iterator]).call(s);let h;for(;(h=u.next())&&!h.done;){const v=h.value;o.call(s,v[0],v[1])}},Gm=(s,o)=>{let d;const u=[];for(;(d=s.exec(o))!==null;)u.push(d);return u},Qm=lr("HTMLFormElement"),Zm=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(d,u,h){return u.toUpperCase()+h}),Jl=(({hasOwnProperty:s})=>(o,d)=>s.call(o,d))(Object.prototype),Km=lr("RegExp"),su=(s,o)=>{const d=Object.getOwnPropertyDescriptors(s),u={};vi(d,(h,v)=>{let m;(m=o(h,v,s))!==!1&&(u[v]=m||h)}),Object.defineProperties(s,u)},Jm=s=>{su(s,(o,d)=>{if(Gs(s)&&["arguments","caller","callee"].indexOf(d)!==-1)return!1;const u=s[d];if(Gs(u)){if(o.enumerable=!1,"writable"in o){o.writable=!1;return}o.set||(o.set=()=>{throw Error("Can not rewrite read-only method '"+d+"'")})}})},ev=(s,o)=>{const d={},u=h=>{h.forEach(v=>{d[v]=!0})};return Ma(s)?u(s):u(String(s).split(o)),d},tv=()=>{},sv=(s,o)=>s!=null&&Number.isFinite(s=+s)?s:o;function rv(s){return!!(s&&Gs(s.append)&&s[Symbol.toStringTag]==="FormData"&&s[Symbol.iterator])}const av=s=>{const o=new Array(10),d=(u,h)=>{if(uo(u)){if(o.indexOf(u)>=0)return;if(!("toJSON"in u)){o[h]=u;const v=Ma(u)?[]:{};return vi(u,(m,y)=>{const k=d(m,h+1);!di(k)&&(v[y]=k)}),o[h]=void 0,v}}return u};return d(s,0)},iv=lr("AsyncFunction"),ov=s=>s&&(uo(s)||Gs(s))&&Gs(s.then)&&Gs(s.catch),ru=((s,o)=>s?setImmediate:o?((d,u)=>(Zr.addEventListener("message",({source:h,data:v})=>{h===Zr&&v===d&&u.length&&u.shift()()},!1),h=>{u.push(h),Zr.postMessage(d,"*")}))(`axios@${Math.random()}`,[]):d=>setTimeout(d))(typeof setImmediate=="function",Gs(Zr.postMessage)),nv=typeof queueMicrotask<"u"?queueMicrotask.bind(Zr):typeof process<"u"&&process.nextTick||ru,De={isArray:Ma,isArrayBuffer:Kd,isBuffer:Sm,isFormData:$m,isArrayBufferView:Am,isString:Lm,isNumber:Jd,isBoolean:Em,isObject:uo,isPlainObject:Ii,isReadableStream:Dm,isRequest:Nm,isResponse:zm,isHeaders:Bm,isUndefined:di,isDate:Pm,isFile:Im,isBlob:Mm,isRegExp:Km,isFunction:Gs,isStream:Om,isURLSearchParams:Rm,isTypedArray:Ym,isFileList:Tm,forEach:vi,merge:rn,extend:Hm,trim:Fm,stripBOM:Vm,inherits:Um,toFlatObject:qm,kindOf:lo,kindOfTest:lr,endsWith:jm,toArray:Xm,forEachEntry:Wm,matchAll:Gm,isHTMLForm:Qm,hasOwnProperty:Jl,hasOwnProp:Jl,reduceDescriptors:su,freezeMethods:Jm,toObjectSet:ev,toCamelCase:Zm,noop:tv,toFiniteNumber:sv,findKey:eu,global:Zr,isContextDefined:tu,isSpecCompliantForm:rv,toJSONObject:av,isAsyncFn:iv,isThenable:ov,setImmediate:ru,asap:nv};function Ft(s,o,d,u,h){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",o&&(this.code=o),d&&(this.config=d),u&&(this.request=u),h&&(this.response=h,this.status=h.status?h.status:null)}De.inherits(Ft,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:De.toJSONObject(this.config),code:this.code,status:this.status}}});const au=Ft.prototype,iu={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{iu[s]={value:s}});Object.defineProperties(Ft,iu);Object.defineProperty(au,"isAxiosError",{value:!0});Ft.from=(s,o,d,u,h,v)=>{const m=Object.create(au);return De.toFlatObject(s,m,function(k){return k!==Error.prototype},y=>y!=="isAxiosError"),Ft.call(m,s.message,o,d,u,h),m.cause=s,m.name=s.name,v&&Object.assign(m,v),m};const lv=null;function an(s){return De.isPlainObject(s)||De.isArray(s)}function ou(s){return De.endsWith(s,"[]")?s.slice(0,-2):s}function ec(s,o,d){return s?s.concat(o).map(function(h,v){return h=ou(h),!d&&v?"["+h+"]":h}).join(d?".":""):o}function cv(s){return De.isArray(s)&&!s.some(an)}const dv=De.toFlatObject(De,{},null,function(o){return/^is[A-Z]/.test(o)});function ho(s,o,d){if(!De.isObject(s))throw new TypeError("target must be an object");o=o||new FormData,d=De.toFlatObject(d,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,R){return!De.isUndefined(R[N])});const u=d.metaTokens,h=d.visitor||L,v=d.dots,m=d.indexes,k=(d.Blob||typeof Blob<"u"&&Blob)&&De.isSpecCompliantForm(o);if(!De.isFunction(h))throw new TypeError("visitor must be a function");function I(D){if(D===null)return"";if(De.isDate(D))return D.toISOString();if(!k&&De.isBlob(D))throw new Ft("Blob is not supported. Use a Buffer instead.");return De.isArrayBuffer(D)||De.isTypedArray(D)?k&&typeof Blob=="function"?new Blob([D]):Buffer.from(D):D}function L(D,N,R){let H=D;if(D&&!R&&typeof D=="object"){if(De.endsWith(N,"{}"))N=u?N:N.slice(0,-2),D=JSON.stringify(D);else if(De.isArray(D)&&cv(D)||(De.isFileList(D)||De.endsWith(N,"[]"))&&(H=De.toArray(D)))return N=ou(N),H.forEach(function(Y,q){!(De.isUndefined(Y)||Y===null)&&o.append(m===!0?ec([N],q,v):m===null?N:N+"[]",I(Y))}),!1}return an(D)?!0:(o.append(ec(R,N,v),I(D)),!1)}const E=[],P=Object.assign(dv,{defaultVisitor:L,convertValue:I,isVisitable:an});function $(D,N){if(!De.isUndefined(D)){if(E.indexOf(D)!==-1)throw Error("Circular reference detected in "+N.join("."));E.push(D),De.forEach(D,function(H,Q){(!(De.isUndefined(H)||H===null)&&h.call(o,H,De.isString(Q)?Q.trim():Q,N,P))===!0&&$(H,N?N.concat(Q):[Q])}),E.pop()}}if(!De.isObject(s))throw new TypeError("data must be an object");return $(s),o}function tc(s){const o={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(u){return o[u]})}function Tn(s,o){this._pairs=[],s&&ho(s,this,o)}const nu=Tn.prototype;nu.append=function(o,d){this._pairs.push([o,d])};nu.toString=function(o){const d=o?function(u){return o.call(this,u,tc)}:tc;return this._pairs.map(function(h){return d(h[0])+"="+d(h[1])},"").join("&")};function uv(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function lu(s,o,d){if(!o)return s;const u=d&&d.encode||uv;De.isFunction(d)&&(d={serialize:d});const h=d&&d.serialize;let v;if(h?v=h(o,d):v=De.isURLSearchParams(o)?o.toString():new Tn(o,d).toString(u),v){const m=s.indexOf("#");m!==-1&&(s=s.slice(0,m)),s+=(s.indexOf("?")===-1?"?":"&")+v}return s}class sc{constructor(){this.handlers=[]}use(o,d,u){return this.handlers.push({fulfilled:o,rejected:d,synchronous:u?u.synchronous:!1,runWhen:u?u.runWhen:null}),this.handlers.length-1}eject(o){this.handlers[o]&&(this.handlers[o]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(o){De.forEach(this.handlers,function(u){u!==null&&o(u)})}}const cu={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hv=typeof URLSearchParams<"u"?URLSearchParams:Tn,fv=typeof FormData<"u"?FormData:null,pv=typeof Blob<"u"?Blob:null,gv={isBrowser:!0,classes:{URLSearchParams:hv,FormData:fv,Blob:pv},protocols:["http","https","file","blob","url","data"]},On=typeof window<"u"&&typeof document<"u",on=typeof navigator=="object"&&navigator||void 0,mv=On&&(!on||["ReactNative","NativeScript","NS"].indexOf(on.product)<0),vv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",bv=On&&window.location.href||"http://localhost",xv=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:On,hasStandardBrowserEnv:mv,hasStandardBrowserWebWorkerEnv:vv,navigator:on,origin:bv},Symbol.toStringTag,{value:"Module"})),Ts={...xv,...gv};function yv(s,o){return ho(s,new Ts.classes.URLSearchParams,Object.assign({visitor:function(d,u,h,v){return Ts.isNode&&De.isBuffer(d)?(this.append(u,d.toString("base64")),!1):v.defaultVisitor.apply(this,arguments)}},o))}function wv(s){return De.matchAll(/\w+|\[(\w*)]/g,s).map(o=>o[0]==="[]"?"":o[1]||o[0])}function kv(s){const o={},d=Object.keys(s);let u;const h=d.length;let v;for(u=0;u<h;u++)v=d[u],o[v]=s[v];return o}function du(s){function o(d,u,h,v){let m=d[v++];if(m==="__proto__")return!0;const y=Number.isFinite(+m),k=v>=d.length;return m=!m&&De.isArray(h)?h.length:m,k?(De.hasOwnProp(h,m)?h[m]=[h[m],u]:h[m]=u,!y):((!h[m]||!De.isObject(h[m]))&&(h[m]=[]),o(d,u,h[m],v)&&De.isArray(h[m])&&(h[m]=kv(h[m])),!y)}if(De.isFormData(s)&&De.isFunction(s.entries)){const d={};return De.forEachEntry(s,(u,h)=>{o(wv(u),h,d,0)}),d}return null}function Cv(s,o,d){if(De.isString(s))try{return(o||JSON.parse)(s),De.trim(s)}catch(u){if(u.name!=="SyntaxError")throw u}return(d||JSON.stringify)(s)}const bi={transitional:cu,adapter:["xhr","http","fetch"],transformRequest:[function(o,d){const u=d.getContentType()||"",h=u.indexOf("application/json")>-1,v=De.isObject(o);if(v&&De.isHTMLForm(o)&&(o=new FormData(o)),De.isFormData(o))return h?JSON.stringify(du(o)):o;if(De.isArrayBuffer(o)||De.isBuffer(o)||De.isStream(o)||De.isFile(o)||De.isBlob(o)||De.isReadableStream(o))return o;if(De.isArrayBufferView(o))return o.buffer;if(De.isURLSearchParams(o))return d.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),o.toString();let y;if(v){if(u.indexOf("application/x-www-form-urlencoded")>-1)return yv(o,this.formSerializer).toString();if((y=De.isFileList(o))||u.indexOf("multipart/form-data")>-1){const k=this.env&&this.env.FormData;return ho(y?{"files[]":o}:o,k&&new k,this.formSerializer)}}return v||h?(d.setContentType("application/json",!1),Cv(o)):o}],transformResponse:[function(o){const d=this.transitional||bi.transitional,u=d&&d.forcedJSONParsing,h=this.responseType==="json";if(De.isResponse(o)||De.isReadableStream(o))return o;if(o&&De.isString(o)&&(u&&!this.responseType||h)){const m=!(d&&d.silentJSONParsing)&&h;try{return JSON.parse(o)}catch(y){if(m)throw y.name==="SyntaxError"?Ft.from(y,Ft.ERR_BAD_RESPONSE,this,null,this.response):y}}return o}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ts.classes.FormData,Blob:Ts.classes.Blob},validateStatus:function(o){return o>=200&&o<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};De.forEach(["delete","get","head","post","put","patch"],s=>{bi.headers[s]={}});const _v=De.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Sv=s=>{const o={};let d,u,h;return s&&s.split(`
`).forEach(function(m){h=m.indexOf(":"),d=m.substring(0,h).trim().toLowerCase(),u=m.substring(h+1).trim(),!(!d||o[d]&&_v[d])&&(d==="set-cookie"?o[d]?o[d].push(u):o[d]=[u]:o[d]=o[d]?o[d]+", "+u:u)}),o},rc=Symbol("internals");function Va(s){return s&&String(s).trim().toLowerCase()}function Mi(s){return s===!1||s==null?s:De.isArray(s)?s.map(Mi):String(s)}function Av(s){const o=Object.create(null),d=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let u;for(;u=d.exec(s);)o[u[1]]=u[2];return o}const Lv=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function No(s,o,d,u,h){if(De.isFunction(u))return u.call(this,o,d);if(h&&(o=d),!!De.isString(o)){if(De.isString(u))return o.indexOf(u)!==-1;if(De.isRegExp(u))return u.test(o)}}function Ev(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(o,d,u)=>d.toUpperCase()+u)}function Pv(s,o){const d=De.toCamelCase(" "+o);["get","set","has"].forEach(u=>{Object.defineProperty(s,u+d,{value:function(h,v,m){return this[u].call(this,o,h,v,m)},configurable:!0})})}let qs=class{constructor(o){o&&this.set(o)}set(o,d,u){const h=this;function v(y,k,I){const L=Va(k);if(!L)throw new Error("header name must be a non-empty string");const E=De.findKey(h,L);(!E||h[E]===void 0||I===!0||I===void 0&&h[E]!==!1)&&(h[E||k]=Mi(y))}const m=(y,k)=>De.forEach(y,(I,L)=>v(I,L,k));if(De.isPlainObject(o)||o instanceof this.constructor)m(o,d);else if(De.isString(o)&&(o=o.trim())&&!Lv(o))m(Sv(o),d);else if(De.isHeaders(o))for(const[y,k]of o.entries())v(k,y,u);else o!=null&&v(d,o,u);return this}get(o,d){if(o=Va(o),o){const u=De.findKey(this,o);if(u){const h=this[u];if(!d)return h;if(d===!0)return Av(h);if(De.isFunction(d))return d.call(this,h,u);if(De.isRegExp(d))return d.exec(h);throw new TypeError("parser must be boolean|regexp|function")}}}has(o,d){if(o=Va(o),o){const u=De.findKey(this,o);return!!(u&&this[u]!==void 0&&(!d||No(this,this[u],u,d)))}return!1}delete(o,d){const u=this;let h=!1;function v(m){if(m=Va(m),m){const y=De.findKey(u,m);y&&(!d||No(u,u[y],y,d))&&(delete u[y],h=!0)}}return De.isArray(o)?o.forEach(v):v(o),h}clear(o){const d=Object.keys(this);let u=d.length,h=!1;for(;u--;){const v=d[u];(!o||No(this,this[v],v,o,!0))&&(delete this[v],h=!0)}return h}normalize(o){const d=this,u={};return De.forEach(this,(h,v)=>{const m=De.findKey(u,v);if(m){d[m]=Mi(h),delete d[v];return}const y=o?Ev(v):String(v).trim();y!==v&&delete d[v],d[y]=Mi(h),u[y]=!0}),this}concat(...o){return this.constructor.concat(this,...o)}toJSON(o){const d=Object.create(null);return De.forEach(this,(u,h)=>{u!=null&&u!==!1&&(d[h]=o&&De.isArray(u)?u.join(", "):u)}),d}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([o,d])=>o+": "+d).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(o){return o instanceof this?o:new this(o)}static concat(o,...d){const u=new this(o);return d.forEach(h=>u.set(h)),u}static accessor(o){const u=(this[rc]=this[rc]={accessors:{}}).accessors,h=this.prototype;function v(m){const y=Va(m);u[y]||(Pv(h,m),u[y]=!0)}return De.isArray(o)?o.forEach(v):v(o),this}};qs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);De.reduceDescriptors(qs.prototype,({value:s},o)=>{let d=o[0].toUpperCase()+o.slice(1);return{get:()=>s,set(u){this[d]=u}}});De.freezeMethods(qs);function zo(s,o){const d=this||bi,u=o||d,h=qs.from(u.headers);let v=u.data;return De.forEach(s,function(y){v=y.call(d,v,h.normalize(),o?o.status:void 0)}),h.normalize(),v}function uu(s){return!!(s&&s.__CANCEL__)}function Ta(s,o,d){Ft.call(this,s??"canceled",Ft.ERR_CANCELED,o,d),this.name="CanceledError"}De.inherits(Ta,Ft,{__CANCEL__:!0});function hu(s,o,d){const u=d.config.validateStatus;!d.status||!u||u(d.status)?s(d):o(new Ft("Request failed with status code "+d.status,[Ft.ERR_BAD_REQUEST,Ft.ERR_BAD_RESPONSE][Math.floor(d.status/100)-4],d.config,d.request,d))}function Iv(s){const o=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return o&&o[1]||""}function Mv(s,o){s=s||10;const d=new Array(s),u=new Array(s);let h=0,v=0,m;return o=o!==void 0?o:1e3,function(k){const I=Date.now(),L=u[v];m||(m=I),d[h]=k,u[h]=I;let E=v,P=0;for(;E!==h;)P+=d[E++],E=E%s;if(h=(h+1)%s,h===v&&(v=(v+1)%s),I-m<o)return;const $=L&&I-L;return $?Math.round(P*1e3/$):void 0}}function Tv(s,o){let d=0,u=1e3/o,h,v;const m=(I,L=Date.now())=>{d=L,h=null,v&&(clearTimeout(v),v=null),s.apply(null,I)};return[(...I)=>{const L=Date.now(),E=L-d;E>=u?m(I,L):(h=I,v||(v=setTimeout(()=>{v=null,m(h)},u-E)))},()=>h&&m(h)]}const qi=(s,o,d=3)=>{let u=0;const h=Mv(50,250);return Tv(v=>{const m=v.loaded,y=v.lengthComputable?v.total:void 0,k=m-u,I=h(k),L=m<=y;u=m;const E={loaded:m,total:y,progress:y?m/y:void 0,bytes:k,rate:I||void 0,estimated:I&&y&&L?(y-m)/I:void 0,event:v,lengthComputable:y!=null,[o?"download":"upload"]:!0};s(E)},d)},ac=(s,o)=>{const d=s!=null;return[u=>o[0]({lengthComputable:d,total:s,loaded:u}),o[1]]},ic=s=>(...o)=>De.asap(()=>s(...o)),Ov=Ts.hasStandardBrowserEnv?((s,o)=>d=>(d=new URL(d,Ts.origin),s.protocol===d.protocol&&s.host===d.host&&(o||s.port===d.port)))(new URL(Ts.origin),Ts.navigator&&/(msie|trident)/i.test(Ts.navigator.userAgent)):()=>!0,$v=Ts.hasStandardBrowserEnv?{write(s,o,d,u,h,v){const m=[s+"="+encodeURIComponent(o)];De.isNumber(d)&&m.push("expires="+new Date(d).toGMTString()),De.isString(u)&&m.push("path="+u),De.isString(h)&&m.push("domain="+h),v===!0&&m.push("secure"),document.cookie=m.join("; ")},read(s){const o=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Rv(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function Dv(s,o){return o?s.replace(/\/?\/$/,"")+"/"+o.replace(/^\/+/,""):s}function fu(s,o,d){let u=!Rv(o);return s&&u||d==!1?Dv(s,o):o}const oc=s=>s instanceof qs?{...s}:s;function aa(s,o){o=o||{};const d={};function u(I,L,E,P){return De.isPlainObject(I)&&De.isPlainObject(L)?De.merge.call({caseless:P},I,L):De.isPlainObject(L)?De.merge({},L):De.isArray(L)?L.slice():L}function h(I,L,E,P){if(De.isUndefined(L)){if(!De.isUndefined(I))return u(void 0,I,E,P)}else return u(I,L,E,P)}function v(I,L){if(!De.isUndefined(L))return u(void 0,L)}function m(I,L){if(De.isUndefined(L)){if(!De.isUndefined(I))return u(void 0,I)}else return u(void 0,L)}function y(I,L,E){if(E in o)return u(I,L);if(E in s)return u(void 0,I)}const k={url:v,method:v,data:v,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,withXSRFToken:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:y,headers:(I,L,E)=>h(oc(I),oc(L),E,!0)};return De.forEach(Object.keys(Object.assign({},s,o)),function(L){const E=k[L]||h,P=E(s[L],o[L],L);De.isUndefined(P)&&E!==y||(d[L]=P)}),d}const pu=s=>{const o=aa({},s);let{data:d,withXSRFToken:u,xsrfHeaderName:h,xsrfCookieName:v,headers:m,auth:y}=o;o.headers=m=qs.from(m),o.url=lu(fu(o.baseURL,o.url,o.allowAbsoluteUrls),s.params,s.paramsSerializer),y&&m.set("Authorization","Basic "+btoa((y.username||"")+":"+(y.password?unescape(encodeURIComponent(y.password)):"")));let k;if(De.isFormData(d)){if(Ts.hasStandardBrowserEnv||Ts.hasStandardBrowserWebWorkerEnv)m.setContentType(void 0);else if((k=m.getContentType())!==!1){const[I,...L]=k?k.split(";").map(E=>E.trim()).filter(Boolean):[];m.setContentType([I||"multipart/form-data",...L].join("; "))}}if(Ts.hasStandardBrowserEnv&&(u&&De.isFunction(u)&&(u=u(o)),u||u!==!1&&Ov(o.url))){const I=h&&v&&$v.read(v);I&&m.set(h,I)}return o},Nv=typeof XMLHttpRequest<"u",zv=Nv&&function(s){return new Promise(function(d,u){const h=pu(s);let v=h.data;const m=qs.from(h.headers).normalize();let{responseType:y,onUploadProgress:k,onDownloadProgress:I}=h,L,E,P,$,D;function N(){$&&$(),D&&D(),h.cancelToken&&h.cancelToken.unsubscribe(L),h.signal&&h.signal.removeEventListener("abort",L)}let R=new XMLHttpRequest;R.open(h.method.toUpperCase(),h.url,!0),R.timeout=h.timeout;function H(){if(!R)return;const Y=qs.from("getAllResponseHeaders"in R&&R.getAllResponseHeaders()),S={data:!y||y==="text"||y==="json"?R.responseText:R.response,status:R.status,statusText:R.statusText,headers:Y,config:s,request:R};hu(function(ae){d(ae),N()},function(ae){u(ae),N()},S),R=null}"onloadend"in R?R.onloadend=H:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout(H)},R.onabort=function(){R&&(u(new Ft("Request aborted",Ft.ECONNABORTED,s,R)),R=null)},R.onerror=function(){u(new Ft("Network Error",Ft.ERR_NETWORK,s,R)),R=null},R.ontimeout=function(){let q=h.timeout?"timeout of "+h.timeout+"ms exceeded":"timeout exceeded";const S=h.transitional||cu;h.timeoutErrorMessage&&(q=h.timeoutErrorMessage),u(new Ft(q,S.clarifyTimeoutError?Ft.ETIMEDOUT:Ft.ECONNABORTED,s,R)),R=null},v===void 0&&m.setContentType(null),"setRequestHeader"in R&&De.forEach(m.toJSON(),function(q,S){R.setRequestHeader(S,q)}),De.isUndefined(h.withCredentials)||(R.withCredentials=!!h.withCredentials),y&&y!=="json"&&(R.responseType=h.responseType),I&&([P,D]=qi(I,!0),R.addEventListener("progress",P)),k&&R.upload&&([E,$]=qi(k),R.upload.addEventListener("progress",E),R.upload.addEventListener("loadend",$)),(h.cancelToken||h.signal)&&(L=Y=>{R&&(u(!Y||Y.type?new Ta(null,s,R):Y),R.abort(),R=null)},h.cancelToken&&h.cancelToken.subscribe(L),h.signal&&(h.signal.aborted?L():h.signal.addEventListener("abort",L)));const Q=Iv(h.url);if(Q&&Ts.protocols.indexOf(Q)===-1){u(new Ft("Unsupported protocol "+Q+":",Ft.ERR_BAD_REQUEST,s));return}R.send(v||null)})},Bv=(s,o)=>{const{length:d}=s=s?s.filter(Boolean):[];if(o||d){let u=new AbortController,h;const v=function(I){if(!h){h=!0,y();const L=I instanceof Error?I:this.reason;u.abort(L instanceof Ft?L:new Ta(L instanceof Error?L.message:L))}};let m=o&&setTimeout(()=>{m=null,v(new Ft(`timeout ${o} of ms exceeded`,Ft.ETIMEDOUT))},o);const y=()=>{s&&(m&&clearTimeout(m),m=null,s.forEach(I=>{I.unsubscribe?I.unsubscribe(v):I.removeEventListener("abort",v)}),s=null)};s.forEach(I=>I.addEventListener("abort",v));const{signal:k}=u;return k.unsubscribe=()=>De.asap(y),k}},Fv=function*(s,o){let d=s.byteLength;if(d<o){yield s;return}let u=0,h;for(;u<d;)h=u+o,yield s.slice(u,h),u=h},Hv=async function*(s,o){for await(const d of Vv(s))yield*Fv(d,o)},Vv=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const o=s.getReader();try{for(;;){const{done:d,value:u}=await o.read();if(d)break;yield u}}finally{await o.cancel()}},nc=(s,o,d,u)=>{const h=Hv(s,o);let v=0,m,y=k=>{m||(m=!0,u&&u(k))};return new ReadableStream({async pull(k){try{const{done:I,value:L}=await h.next();if(I){y(),k.close();return}let E=L.byteLength;if(d){let P=v+=E;d(P)}k.enqueue(new Uint8Array(L))}catch(I){throw y(I),I}},cancel(k){return y(k),h.return()}},{highWaterMark:2})},fo=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",gu=fo&&typeof ReadableStream=="function",Uv=fo&&(typeof TextEncoder=="function"?(s=>o=>s.encode(o))(new TextEncoder):async s=>new Uint8Array(await new Response(s).arrayBuffer())),mu=(s,...o)=>{try{return!!s(...o)}catch{return!1}},qv=gu&&mu(()=>{let s=!1;const o=new Request(Ts.origin,{body:new ReadableStream,method:"POST",get duplex(){return s=!0,"half"}}).headers.has("Content-Type");return s&&!o}),lc=64*1024,nn=gu&&mu(()=>De.isReadableStream(new Response("").body)),ji={stream:nn&&(s=>s.body)};fo&&(s=>{["text","arrayBuffer","blob","formData","stream"].forEach(o=>{!ji[o]&&(ji[o]=De.isFunction(s[o])?d=>d[o]():(d,u)=>{throw new Ft(`Response type '${o}' is not supported`,Ft.ERR_NOT_SUPPORT,u)})})})(new Response);const jv=async s=>{if(s==null)return 0;if(De.isBlob(s))return s.size;if(De.isSpecCompliantForm(s))return(await new Request(Ts.origin,{method:"POST",body:s}).arrayBuffer()).byteLength;if(De.isArrayBufferView(s)||De.isArrayBuffer(s))return s.byteLength;if(De.isURLSearchParams(s)&&(s=s+""),De.isString(s))return(await Uv(s)).byteLength},Xv=async(s,o)=>{const d=De.toFiniteNumber(s.getContentLength());return d??jv(o)},Yv=fo&&(async s=>{let{url:o,method:d,data:u,signal:h,cancelToken:v,timeout:m,onDownloadProgress:y,onUploadProgress:k,responseType:I,headers:L,withCredentials:E="same-origin",fetchOptions:P}=pu(s);I=I?(I+"").toLowerCase():"text";let $=Bv([h,v&&v.toAbortSignal()],m),D;const N=$&&$.unsubscribe&&(()=>{$.unsubscribe()});let R;try{if(k&&qv&&d!=="get"&&d!=="head"&&(R=await Xv(L,u))!==0){let S=new Request(o,{method:"POST",body:u,duplex:"half"}),K;if(De.isFormData(u)&&(K=S.headers.get("content-type"))&&L.setContentType(K),S.body){const[ae,B]=ac(R,qi(ic(k)));u=nc(S.body,lc,ae,B)}}De.isString(E)||(E=E?"include":"omit");const H="credentials"in Request.prototype;D=new Request(o,{...P,signal:$,method:d.toUpperCase(),headers:L.normalize().toJSON(),body:u,duplex:"half",credentials:H?E:void 0});let Q=await fetch(D);const Y=nn&&(I==="stream"||I==="response");if(nn&&(y||Y&&N)){const S={};["status","statusText","headers"].forEach(te=>{S[te]=Q[te]});const K=De.toFiniteNumber(Q.headers.get("content-length")),[ae,B]=y&&ac(K,qi(ic(y),!0))||[];Q=new Response(nc(Q.body,lc,ae,()=>{B&&B(),N&&N()}),S)}I=I||"text";let q=await ji[De.findKey(ji,I)||"text"](Q,s);return!Y&&N&&N(),await new Promise((S,K)=>{hu(S,K,{data:q,headers:qs.from(Q.headers),status:Q.status,statusText:Q.statusText,config:s,request:D})})}catch(H){throw N&&N(),H&&H.name==="TypeError"&&/fetch/i.test(H.message)?Object.assign(new Ft("Network Error",Ft.ERR_NETWORK,s,D),{cause:H.cause||H}):Ft.from(H,H&&H.code,s,D)}}),ln={http:lv,xhr:zv,fetch:Yv};De.forEach(ln,(s,o)=>{if(s){try{Object.defineProperty(s,"name",{value:o})}catch{}Object.defineProperty(s,"adapterName",{value:o})}});const cc=s=>`- ${s}`,Wv=s=>De.isFunction(s)||s===null||s===!1,vu={getAdapter:s=>{s=De.isArray(s)?s:[s];const{length:o}=s;let d,u;const h={};for(let v=0;v<o;v++){d=s[v];let m;if(u=d,!Wv(d)&&(u=ln[(m=String(d)).toLowerCase()],u===void 0))throw new Ft(`Unknown adapter '${m}'`);if(u)break;h[m||"#"+v]=u}if(!u){const v=Object.entries(h).map(([y,k])=>`adapter ${y} `+(k===!1?"is not supported by the environment":"is not available in the build"));let m=o?v.length>1?`since :
`+v.map(cc).join(`
`):" "+cc(v[0]):"as no adapter specified";throw new Ft("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return u},adapters:ln};function Bo(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new Ta(null,s)}function dc(s){return Bo(s),s.headers=qs.from(s.headers),s.data=zo.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),vu.getAdapter(s.adapter||bi.adapter)(s).then(function(u){return Bo(s),u.data=zo.call(s,s.transformResponse,u),u.headers=qs.from(u.headers),u},function(u){return uu(u)||(Bo(s),u&&u.response&&(u.response.data=zo.call(s,s.transformResponse,u.response),u.response.headers=qs.from(u.response.headers))),Promise.reject(u)})}const bu="1.8.3",po={};["object","boolean","number","function","string","symbol"].forEach((s,o)=>{po[s]=function(u){return typeof u===s||"a"+(o<1?"n ":" ")+s}});const uc={};po.transitional=function(o,d,u){function h(v,m){return"[Axios v"+bu+"] Transitional option '"+v+"'"+m+(u?". "+u:"")}return(v,m,y)=>{if(o===!1)throw new Ft(h(m," has been removed"+(d?" in "+d:"")),Ft.ERR_DEPRECATED);return d&&!uc[m]&&(uc[m]=!0,console.warn(h(m," has been deprecated since v"+d+" and will be removed in the near future"))),o?o(v,m,y):!0}};po.spelling=function(o){return(d,u)=>(console.warn(`${u} is likely a misspelling of ${o}`),!0)};function Gv(s,o,d){if(typeof s!="object")throw new Ft("options must be an object",Ft.ERR_BAD_OPTION_VALUE);const u=Object.keys(s);let h=u.length;for(;h-- >0;){const v=u[h],m=o[v];if(m){const y=s[v],k=y===void 0||m(y,v,s);if(k!==!0)throw new Ft("option "+v+" must be "+k,Ft.ERR_BAD_OPTION_VALUE);continue}if(d!==!0)throw new Ft("Unknown option "+v,Ft.ERR_BAD_OPTION)}}const Ti={assertOptions:Gv,validators:po},hr=Ti.validators;let ea=class{constructor(o){this.defaults=o,this.interceptors={request:new sc,response:new sc}}async request(o,d){try{return await this._request(o,d)}catch(u){if(u instanceof Error){let h={};Error.captureStackTrace?Error.captureStackTrace(h):h=new Error;const v=h.stack?h.stack.replace(/^.+\n/,""):"";try{u.stack?v&&!String(u.stack).endsWith(v.replace(/^.+\n.+\n/,""))&&(u.stack+=`
`+v):u.stack=v}catch{}}throw u}}_request(o,d){typeof o=="string"?(d=d||{},d.url=o):d=o||{},d=aa(this.defaults,d);const{transitional:u,paramsSerializer:h,headers:v}=d;u!==void 0&&Ti.assertOptions(u,{silentJSONParsing:hr.transitional(hr.boolean),forcedJSONParsing:hr.transitional(hr.boolean),clarifyTimeoutError:hr.transitional(hr.boolean)},!1),h!=null&&(De.isFunction(h)?d.paramsSerializer={serialize:h}:Ti.assertOptions(h,{encode:hr.function,serialize:hr.function},!0)),d.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?d.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:d.allowAbsoluteUrls=!0),Ti.assertOptions(d,{baseUrl:hr.spelling("baseURL"),withXsrfToken:hr.spelling("withXSRFToken")},!0),d.method=(d.method||this.defaults.method||"get").toLowerCase();let m=v&&De.merge(v.common,v[d.method]);v&&De.forEach(["delete","get","head","post","put","patch","common"],D=>{delete v[D]}),d.headers=qs.concat(m,v);const y=[];let k=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(d)===!1||(k=k&&N.synchronous,y.unshift(N.fulfilled,N.rejected))});const I=[];this.interceptors.response.forEach(function(N){I.push(N.fulfilled,N.rejected)});let L,E=0,P;if(!k){const D=[dc.bind(this),void 0];for(D.unshift.apply(D,y),D.push.apply(D,I),P=D.length,L=Promise.resolve(d);E<P;)L=L.then(D[E++],D[E++]);return L}P=y.length;let $=d;for(E=0;E<P;){const D=y[E++],N=y[E++];try{$=D($)}catch(R){N.call(this,R);break}}try{L=dc.call(this,$)}catch(D){return Promise.reject(D)}for(E=0,P=I.length;E<P;)L=L.then(I[E++],I[E++]);return L}getUri(o){o=aa(this.defaults,o);const d=fu(o.baseURL,o.url,o.allowAbsoluteUrls);return lu(d,o.params,o.paramsSerializer)}};De.forEach(["delete","get","head","options"],function(o){ea.prototype[o]=function(d,u){return this.request(aa(u||{},{method:o,url:d,data:(u||{}).data}))}});De.forEach(["post","put","patch"],function(o){function d(u){return function(v,m,y){return this.request(aa(y||{},{method:o,headers:u?{"Content-Type":"multipart/form-data"}:{},url:v,data:m}))}}ea.prototype[o]=d(),ea.prototype[o+"Form"]=d(!0)});let Qv=class xu{constructor(o){if(typeof o!="function")throw new TypeError("executor must be a function.");let d;this.promise=new Promise(function(v){d=v});const u=this;this.promise.then(h=>{if(!u._listeners)return;let v=u._listeners.length;for(;v-- >0;)u._listeners[v](h);u._listeners=null}),this.promise.then=h=>{let v;const m=new Promise(y=>{u.subscribe(y),v=y}).then(h);return m.cancel=function(){u.unsubscribe(v)},m},o(function(v,m,y){u.reason||(u.reason=new Ta(v,m,y),d(u.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(o){if(this.reason){o(this.reason);return}this._listeners?this._listeners.push(o):this._listeners=[o]}unsubscribe(o){if(!this._listeners)return;const d=this._listeners.indexOf(o);d!==-1&&this._listeners.splice(d,1)}toAbortSignal(){const o=new AbortController,d=u=>{o.abort(u)};return this.subscribe(d),o.signal.unsubscribe=()=>this.unsubscribe(d),o.signal}static source(){let o;return{token:new xu(function(h){o=h}),cancel:o}}};function Zv(s){return function(d){return s.apply(null,d)}}function Kv(s){return De.isObject(s)&&s.isAxiosError===!0}const cn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(cn).forEach(([s,o])=>{cn[o]=s});function yu(s){const o=new ea(s),d=Zd(ea.prototype.request,o);return De.extend(d,ea.prototype,o,{allOwnKeys:!0}),De.extend(d,o,null,{allOwnKeys:!0}),d.create=function(h){return yu(aa(s,h))},d}const bs=yu(bi);bs.Axios=ea;bs.CanceledError=Ta;bs.CancelToken=Qv;bs.isCancel=uu;bs.VERSION=bu;bs.toFormData=ho;bs.AxiosError=Ft;bs.Cancel=bs.CanceledError;bs.all=function(o){return Promise.all(o)};bs.spread=Zv;bs.isAxiosError=Kv;bs.mergeConfig=aa;bs.AxiosHeaders=qs;bs.formToJSON=s=>du(De.isHTMLForm(s)?new FormData(s):s);bs.getAdapter=vu.getAdapter;bs.HttpStatusCode=cn;bs.default=bs;const{Axios:lT,AxiosError:cT,CanceledError:dT,isCancel:uT,CancelToken:hT,VERSION:fT,all:pT,Cancel:gT,isAxiosError:mT,spread:vT,toFormData:bT,AxiosHeaders:xT,HttpStatusCode:yT,formToJSON:wT,getAdapter:kT,mergeConfig:CT}=bs,er=bs.create({baseURL:"http://localhost:8000",withCredentials:!0,withXSRFToken:!0});er.interceptors.response.use(s=>s,s=>{throw s.response&&s.response.status===401&&$a.push({name:"Login"}),s});const Jv={class:"min-h-screen flex items-center justify-center bg-gradient-to-b from-black to-blue-900 relative"},eb={key:0,class:"h-[72vh] flex flex-col items-center justify-center"},tb={key:1,class:"flex flex-col md:flex-row items-center gap-1 z-10"},sb={class:"text-center flex w-md items-center mb-2 md:flex-col"},rb=["src"],ab={class:"bg-white p-6 rounded-xl shadow-lg max-w-lg"},ib={class:"text-red-700 ml-2 font-semibold italic"},ob={class:"text-red-700 ml-2 font-semibold italic"},nb={class:"col-span-3"},lb={class:"flex flex-row"},cb={class:"text-red-700 ml-2 font-semibold italic"},db={class:"col-span-3"},ub={class:"flex flex-row"},hb={class:"text-red-700 ml-2 font-semibold italic"},fb={class:"col-span-3"},pb={class:"flex flex-row"},gb={class:"text-red-700 ml-2 font-semibold italic"},mb={class:"text-sm text-center mt-4"},vb={__name:"Signup",setup(s){const o="5m@rtC!ty",d=qt();gt(()=>{d.fetchData()});const u={users:"users"},{users:h}=Object.fromEntries(Object.entries(u).map(([$,D])=>[$,Ve(()=>d[D])])),v=G({firstName:"",middleName:"",lastName:"",email:"",password:"",password_confirmation:"",for_911:!1,for_inventory:!0,for_traffic:!1,role:!1}),m=G({firstName:[],middleName:[],lastName:[],email:[],password:[],password_confirmation:[]}),y=G(null),k=()=>{const $=h.value.find(D=>D.email===v.value.email);return $?(y.value=$,m.value.email=["Email is already registered"],!1):(y.value=null,m.value.email=[],!0)},I=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,L=/^(?=.*[A-Za-z])(?=.*\d)(?=.*[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?])[A-Za-z\d!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]{8,}$/;it(()=>v.value.email,$=>{$?I.test($)?k()||(m.value.email=["Email is already registered by another user"]):m.value.email=["Please enter a valid email address"]:m.value.email=["Email is required"]}),it(()=>v.value.password,$=>{m.value.password=[],$?(L.test($)||(m.value.password=["Password must contain special characters, letters and numbers"]),$.length<8&&(m.value.password=["Password must be at least 8 characters long"])):m.value.password=["Password is required"]}),it(()=>v.value.password_confirmation,$=>{$?$!==v.value.password?m.value.password_confirmation=["Passwords don't match"]:m.value.password_confirmation=[]:m.value.password_confirmation=["Password confirmation is required"]}),it(()=>v.value.firstName,$=>{$?m.value.firstName=[]:m.value.firstName=["First name is required"]}),it(()=>v.value.lastName,$=>{$?m.value.lastName=[]:m.value.lastName=["Last name is required"]});const E=G(!1);function P(){Object.keys(m.value).forEach(N=>{m.value[N]=[]});let $=!1;if(v.value.firstName||(m.value.firstName=["First name is required"],$=!0),v.value.lastName||(m.value.lastName=["Last name is required"],$=!0),v.value.email?I.test(v.value.email)?k()||($=!0):(m.value.email=["Please enter a valid email address"],$=!0):(m.value.email=["Email is required"],$=!0),v.value.password?(L.test(v.value.password)||(m.value.password=["Password must contain special characters, letters and numbers"],$=!0),v.value.password.length<8&&(m.value.password=["Password must be at least 8 characters long"],$=!0)):(m.value.password=["Password is required"],$=!0),v.value.password_confirmation?v.value.password!==v.value.password_confirmation&&(m.value.password_confirmation=["Passwords don't match"],$=!0):(m.value.password_confirmation=["Password confirmation is required"],$=!0),$)return;E.value=!0;const D=async N=>{var R;try{E.value=!0;const H={for_dashboard:0,for_transactions:0,for_inventory:0,for_offices:0,for_categories:0,for_borrowers:0,for_users:0,user_id:N};console.log("Add copy data sent: ",H);const Q=await er.post("/api/inventory_access/",H,{headers:{"x-api-key":o}});console.log("Add Access API response:",Q)}catch(H){console.error("Error adding access:",H),console.error("Error details:",(R=H.response)==null?void 0:R.data)}finally{E.value=!1}};er.get("/sanctum/csrf-cookie").then(()=>{er.post("/register",v.value).then(async N=>{try{const R=N.data.user.id;await D(R),pt.emit("show-toast",{message:"Signed up successfully! Please check your email for verification.",type:"success"}),$a.push({name:"Login"})}catch(R){console.error("Registration process error:",R),pt.emit("show-toast",{message:"Error during registration",type:"error"})}}).catch(N=>{var R,H;console.error("Registration error:",N),(H=(R=N.response)==null?void 0:R.data)!=null&&H.errors&&(m.value=N.response.data.errors),pt.emit("show-toast",{message:"Registration failed",type:"error"})}).finally(()=>{E.value=!1})})}return($,D)=>{const N=ai("router-link");return F(),se("div",Jv,[E.value?(F(),se("div",eb,[he(Ht)])):(F(),se("div",tb,[l("div",sb,[l("img",{src:de(gs),alt:"City of Baguio Logo",class:"w-40 mx-auto md:w-65"},null,8,rb),D[6]||(D[6]=l("div",{class:"w-3xs mx-auto md:w-xs"},[l("p",{class:"text-white text-2xl font-bold leading-tight md:text-3xl"}," Smart City Command and Control Center Inventory System ")],-1))]),l("div",ab,[D[15]||(D[15]=l("h2",{class:"text-gray-800 text-2xl text-center font-bold mb-4"},"Account Registration",-1)),l("form",{onSubmit:nt(P,["prevent"]),class:"flex grid grid-cols-3 gap-4"},[l("div",null,[D[7]||(D[7]=l("label",{for:"firstName",class:"block text-md font-medium text-gray-700"},"First Name *",-1)),Xe(l("input",{type:"text",name:"firstName",id:"firstName","onUpdate:modelValue":D[0]||(D[0]=R=>v.value.firstName=R),class:"mt-1 w-full px-3 py-2 border text-gray-800 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[ht,v.value.firstName]]),l("p",ib,pe(m.value.firstName?m.value.firstName[0]:""),1)]),l("div",null,[D[8]||(D[8]=l("label",{for:"middleName",class:"block text-md font-medium text-gray-700"},"Middle Name",-1)),Xe(l("input",{type:"text","onUpdate:modelValue":D[1]||(D[1]=R=>v.value.middleName=R),id:"middleName",class:"mt-1 w-full px-3 py-2 border text-gray-800 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[ht,v.value.middleName]])]),l("div",null,[D[9]||(D[9]=l("label",{for:"lastName",class:"block text-md font-medium text-gray-700"},"Last Name *",-1)),Xe(l("input",{type:"text","onUpdate:modelValue":D[2]||(D[2]=R=>v.value.lastName=R),id:"lastName",class:"mt-1 w-full px-3 py-2 border text-gray-800 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[ht,v.value.lastName]]),l("p",ob,pe(m.value.lastName?m.value.lastName[0]:""),1)]),l("div",nb,[l("div",lb,[D[10]||(D[10]=l("label",{for:"email",class:"block text-md font-medium text-gray-700"},"Email *",-1)),l("p",cb,pe(m.value.email?m.value.email[0]:""),1)]),Xe(l("input",{type:"email",name:"email",id:"email",autocomplete:"email","onUpdate:modelValue":D[3]||(D[3]=R=>v.value.email=R),class:"mt-1 w-full px-3 py-2 border text-gray-800 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[ht,v.value.email]])]),l("div",db,[l("div",ub,[D[11]||(D[11]=l("label",{for:"password",class:"block text-md font-medium text-gray-700"},"Password *",-1)),l("p",hb,pe(m.value.password?m.value.password[0]:""),1)]),Xe(l("input",{type:"password",name:"password",id:"password","onUpdate:modelValue":D[4]||(D[4]=R=>v.value.password=R),class:"mt-1 w-full px-3 py-2 border text-gray-800 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[ht,v.value.password]])]),l("div",fb,[l("div",pb,[D[12]||(D[12]=l("label",{for:"confirmPassword",class:"block text-md font-medium text-gray-700"},"Confirm Password *",-1)),l("p",gb,pe(m.value.password_confirmation?m.value.password_confirmation[0]:""),1)]),Xe(l("input",{type:"password",name:"password",id:"passwordConfirmation","onUpdate:modelValue":D[5]||(D[5]=R=>v.value.password_confirmation=R),class:"mt-1 w-full px-3 py-2 border text-gray-800 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[ht,v.value.password_confirmation]])]),D[13]||(D[13]=l("button",{type:"submit",class:"col-span-3 w-full bg-blue-600 text-white py-2 mt-1 font-semibold rounded-md hover:bg-blue-700"},"Sign Up",-1))],32),l("div",mb,[he(N,{to:{name:"Login"},class:"text-md text-blue-600 hover:underline"},{default:ar(()=>D[14]||(D[14]=[xt("Already have an account? Sign in")])),_:1})])])]))])}}};function bb(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var _i={exports:{}};/*!
 * ApexCharts v3.54.1
 * (c) 2018-2024 ApexCharts
 * Released under the MIT License.
 */var hc;function xb(){return hc||(hc=1,function(s,o){function d(W,e){(e==null||e>W.length)&&(e=W.length);for(var t=0,r=Array(e);t<e;t++)r[t]=W[t];return r}function u(W){if(W===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W}function h(W,e){if(!(W instanceof e))throw new TypeError("Cannot call a class as a function")}function v(W,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(W,Q(r.key),r)}}function m(W,e,t){return e&&v(W.prototype,e),t&&v(W,t),Object.defineProperty(W,"prototype",{writable:!1}),W}function y(W,e){var t=typeof Symbol<"u"&&W[Symbol.iterator]||W["@@iterator"];if(!t){if(Array.isArray(W)||(t=q(W))||e){t&&(W=t);var r=0,a=function(){};return{s:a,n:function(){return r>=W.length?{done:!0}:{done:!1,value:W[r++]}},e:function(f){throw f},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n,i=!0,c=!1;return{s:function(){t=t.call(W)},n:function(){var f=t.next();return i=f.done,f},e:function(f){c=!0,n=f},f:function(){try{i||t.return==null||t.return()}finally{if(c)throw n}}}}function k(W){var e=P();return function(){var t,r=L(W);if(e){var a=L(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return function(n,i){if(i&&(typeof i=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u(n)}(this,t)}}function I(W,e,t){return(e=Q(e))in W?Object.defineProperty(W,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):W[e]=t,W}function L(W){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},L(W)}function E(W,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");W.prototype=Object.create(e&&e.prototype,{constructor:{value:W,writable:!0,configurable:!0}}),Object.defineProperty(W,"prototype",{writable:!1}),e&&N(W,e)}function P(){try{var W=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P=function(){return!!W})()}function $(W,e){var t=Object.keys(W);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(W);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(W,a).enumerable})),t.push.apply(t,r)}return t}function D(W){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$(Object(t),!0).forEach(function(r){I(W,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(t)):$(Object(t)).forEach(function(r){Object.defineProperty(W,r,Object.getOwnPropertyDescriptor(t,r))})}return W}function N(W,e){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},N(W,e)}function R(W,e){return function(t){if(Array.isArray(t))return t}(W)||function(t,r){var a=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(a!=null){var n,i,c,f,g=[],x=!0,b=!1;try{if(c=(a=a.call(t)).next,r===0){if(Object(a)!==a)return;x=!1}else for(;!(x=(n=c.call(a)).done)&&(g.push(n.value),g.length!==r);x=!0);}catch(w){b=!0,i=w}finally{try{if(!x&&a.return!=null&&(f=a.return(),Object(f)!==f))return}finally{if(b)throw i}}return g}}(W,e)||q(W,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function H(W){return function(e){if(Array.isArray(e))return d(e)}(W)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(W)||q(W)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Q(W){var e=function(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}(W,"string");return typeof e=="symbol"?e:e+""}function Y(W){return Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(W)}function q(W,e){if(W){if(typeof W=="string")return d(W,e);var t={}.toString.call(W).slice(8,-1);return t==="Object"&&W.constructor&&(t=W.constructor.name),t==="Map"||t==="Set"?Array.from(W):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?d(W,e):void 0}}var S=function(){function W(){h(this,W)}return m(W,[{key:"shadeRGBColor",value:function(e,t){var r=t.split(","),a=e<0?0:255,n=e<0?-1*e:e,i=parseInt(r[0].slice(4),10),c=parseInt(r[1],10),f=parseInt(r[2],10);return"rgb("+(Math.round((a-i)*n)+i)+","+(Math.round((a-c)*n)+c)+","+(Math.round((a-f)*n)+f)+")"}},{key:"shadeHexColor",value:function(e,t){var r=parseInt(t.slice(1),16),a=e<0?0:255,n=e<0?-1*e:e,i=r>>16,c=r>>8&255,f=255&r;return"#"+(16777216+65536*(Math.round((a-i)*n)+i)+256*(Math.round((a-c)*n)+c)+(Math.round((a-f)*n)+f)).toString(16).slice(1)}},{key:"shadeColor",value:function(e,t){return W.isColorHex(t)?this.shadeHexColor(e,t):this.shadeRGBColor(e,t)}}],[{key:"bind",value:function(e,t){return function(){return e.apply(t,arguments)}}},{key:"isObject",value:function(e){return e&&Y(e)==="object"&&!Array.isArray(e)&&e!=null}},{key:"is",value:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}},{key:"listToArray",value:function(e){var t,r=[];for(t=0;t<e.length;t++)r[t]=e[t];return r}},{key:"extend",value:function(e,t){var r=this;typeof Object.assign!="function"&&(Object.assign=function(n){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(n),c=1;c<arguments.length;c++){var f=arguments[c];if(f!=null)for(var g in f)f.hasOwnProperty(g)&&(i[g]=f[g])}return i});var a=Object.assign({},e);return this.isObject(e)&&this.isObject(t)&&Object.keys(t).forEach(function(n){r.isObject(t[n])&&n in e?a[n]=r.extend(e[n],t[n]):Object.assign(a,I({},n,t[n]))}),a}},{key:"extendArray",value:function(e,t){var r=[];return e.map(function(a){r.push(W.extend(t,a))}),e=r}},{key:"monthMod",value:function(e){return e%12}},{key:"clone",value:function(e){if(W.is("Array",e)){for(var t=[],r=0;r<e.length;r++)t[r]=this.clone(e[r]);return t}if(W.is("Null",e))return null;if(W.is("Date",e))return e;if(Y(e)==="object"){var a={};for(var n in e)e.hasOwnProperty(n)&&(a[n]=this.clone(e[n]));return a}return e}},{key:"log10",value:function(e){return Math.log(e)/Math.LN10}},{key:"roundToBase10",value:function(e){return Math.pow(10,Math.floor(Math.log10(e)))}},{key:"roundToBase",value:function(e,t){return Math.pow(t,Math.floor(Math.log(e)/Math.log(t)))}},{key:"parseNumber",value:function(e){return e===null?e:parseFloat(e)}},{key:"stripNumber",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.isInteger(e)?e:parseFloat(e.toPrecision(t))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(e){var t=String(e).split(/[eE]/);if(t.length===1)return t[0];var r="",a=e<0?"-":"",n=t[0].replace(".",""),i=Number(t[1])+1;if(i<0){for(r=a+"0.";i++;)r+="0";return r+n.replace(/^-/,"")}for(i-=n.length;i--;)r+="0";return n+r}},{key:"getDimensions",value:function(e){var t=getComputedStyle(e,null),r=e.clientHeight,a=e.clientWidth;return r-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),[a-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),r]}},{key:"getBoundingClientRect",value:function(e){var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:e.clientWidth,height:e.clientHeight,x:t.left,y:t.top}}},{key:"getLargestStringFromArr",value:function(e){return e.reduce(function(t,r){return Array.isArray(r)&&(r=r.reduce(function(a,n){return a.length>n.length?a:n})),t.length>r.length?t:r},0)}},{key:"hexToRgba",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;e.substring(0,1)!=="#"&&(e="#999999");var r=e.replace("#","");r=r.match(new RegExp("(.{"+r.length/3+"})","g"));for(var a=0;a<r.length;a++)r[a]=parseInt(r[a].length===1?r[a]+r[a]:r[a],16);return t!==void 0&&r.push(t),"rgba("+r.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(e){return parseFloat(e.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&e.length===4?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(e)}},{key:"getPolygonPos",value:function(e,t){for(var r=[],a=2*Math.PI/t,n=0;n<t;n++){var i={};i.x=e*Math.sin(n*a),i.y=-e*Math.cos(n*a),r.push(i)}return r}},{key:"polarToCartesian",value:function(e,t,r,a){var n=(a-90)*Math.PI/180;return{x:e+r*Math.cos(n),y:t+r*Math.sin(n)}}},{key:"escapeString",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",r=e.toString().slice();return r=r.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,t)}},{key:"negToZero",value:function(e){return e<0?0:e}},{key:"moveIndexInArray",value:function(e,t,r){if(r>=e.length)for(var a=r-e.length+1;a--;)e.push(void 0);return e.splice(r,0,e.splice(t,1)[0]),e}},{key:"extractNumber",value:function(e){return parseFloat(e.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}},{key:"setELstyles",value:function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e.style.key=t[r])}},{key:"preciseAddition",value:function(e,t){var r=(String(e).split(".")[1]||"").length,a=(String(t).split(".")[1]||"").length,n=Math.pow(10,Math.max(r,a));return(Math.round(e*n)+Math.round(t*n))/n}},{key:"isNumber",value:function(e){return!isNaN(e)&&parseFloat(Number(e))===e&&!isNaN(parseInt(e,10))}},{key:"isFloat",value:function(e){return Number(e)===e&&e%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isMsEdge",value:function(){var e=window.navigator.userAgent,t=e.indexOf("Edge/");return t>0&&parseInt(e.substring(t+5,e.indexOf(".",t)),10)}},{key:"getGCD",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,a=Math.pow(10,r-Math.floor(Math.log10(Math.max(e,t))));for(e=Math.round(Math.abs(e)*a),t=Math.round(Math.abs(t)*a);t;){var n=t;t=e%t,e=n}return e/a}},{key:"getPrimeFactors",value:function(e){for(var t=[],r=2;e>=2;)e%r==0?(t.push(r),e/=r):r++;return t}},{key:"mod",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,a=Math.pow(10,r-Math.floor(Math.log10(Math.max(e,t))));return(e=Math.round(Math.abs(e)*a))%(t=Math.round(Math.abs(t)*a))/a}}]),W}(),K=function(){function W(e){h(this,W),this.ctx=e,this.w=e.w,this.setEasingFunctions()}return m(W,[{key:"setEasingFunctions",value:function(){var e;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":e="-";break;case"easein":e="<";break;case"easeout":e=">";break;case"easeinout":default:e="<>";break;case"swing":e=function(t){var r=1.70158;return(t-=1)*t*((r+1)*t+r)+1};break;case"bounce":e=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375};break;case"elastic":e=function(t){return t===!!t?t:Math.pow(2,-10*t)*Math.sin((t-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=e}}},{key:"animateLine",value:function(e,t,r,a){e.attr(t).animate(a).attr(r)}},{key:"animateMarker",value:function(e,t,r,a){e.attr({opacity:0}).animate(t,r).attr({opacity:1}).afterAll(function(){a()})}},{key:"animateRect",value:function(e,t,r,a,n){e.attr(t).animate(a).attr(r).afterAll(function(){return n()})}},{key:"animatePathsGradually",value:function(e){var t=e.el,r=e.realIndex,a=e.j,n=e.fill,i=e.pathFrom,c=e.pathTo,f=e.speed,g=e.delay,x=this.w,b=0;x.config.chart.animations.animateGradually.enabled&&(b=x.config.chart.animations.animateGradually.delay),x.config.chart.animations.dynamicAnimation.enabled&&x.globals.dataChanged&&x.config.chart.type!=="bar"&&(b=0),this.morphSVG(t,r,a,x.config.chart.type!=="line"||x.globals.comboCharts?n:"stroke",i,c,f,g*b)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(e){var t=e.el;t.classList.remove("apexcharts-element-hidden"),t.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(e){var t=this.w;t.globals.animationEnded||(t.globals.animationEnded=!0,this.showDelayedElements(),typeof t.config.chart.events.animationEnd=="function"&&t.config.chart.events.animationEnd(this.ctx,{el:e,w:t}))}},{key:"morphSVG",value:function(e,t,r,a,n,i,c,f){var g=this,x=this.w;n||(n=e.attr("pathFrom")),i||(i=e.attr("pathTo"));var b=function(w){return x.config.chart.type==="radar"&&(c=1),"M 0 ".concat(x.globals.gridHeight)};(!n||n.indexOf("undefined")>-1||n.indexOf("NaN")>-1)&&(n=b()),(!i||i.indexOf("undefined")>-1||i.indexOf("NaN")>-1)&&(i=b()),x.globals.shouldAnimate||(c=1),e.plot(n).animate(1,x.globals.easing,f).plot(n).animate(c,x.globals.easing,f).plot(i).afterAll(function(){S.isNumber(r)?r===x.globals.series[x.globals.maxValsInArrayIndex].length-2&&x.globals.shouldAnimate&&g.animationCompleted(e):a!=="none"&&x.globals.shouldAnimate&&(!x.globals.comboCharts&&t===x.globals.series.length-1||x.globals.comboCharts)&&g.animationCompleted(e),g.showDelayedElements()})}}]),W}(),ae=function(){function W(e){h(this,W),this.ctx=e,this.w=e.w}return m(W,[{key:"getDefaultFilter",value:function(e,t){var r=this.w;e.unfilter(!0),new window.SVG.Filter().size("120%","180%","-5%","-40%"),r.config.states.normal.filter!=="none"?this.applyFilter(e,t,r.config.states.normal.filter.type,r.config.states.normal.filter.value):r.config.chart.dropShadow.enabled&&this.dropShadow(e,r.config.chart.dropShadow,t)}},{key:"addNormalFilter",value:function(e,t){var r=this.w;r.config.chart.dropShadow.enabled&&!e.node.classList.contains("apexcharts-marker")&&this.dropShadow(e,r.config.chart.dropShadow,t)}},{key:"addLightenFilter",value:function(e,t,r){var a=this,n=this.w,i=r.intensity;e.unfilter(!0),new window.SVG.Filter,e.filter(function(c){var f=n.config.chart.dropShadow;(f.enabled?a.addShadow(c,t,f):c).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:i}})}),e.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(e.filterer.node)}},{key:"addDarkenFilter",value:function(e,t,r){var a=this,n=this.w,i=r.intensity;e.unfilter(!0),new window.SVG.Filter,e.filter(function(c){var f=n.config.chart.dropShadow;(f.enabled?a.addShadow(c,t,f):c).componentTransfer({rgb:{type:"linear",slope:i}})}),e.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(e.filterer.node)}},{key:"applyFilter",value:function(e,t,r){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.5;switch(r){case"none":this.addNormalFilter(e,t);break;case"lighten":this.addLightenFilter(e,t,{intensity:a});break;case"darken":this.addDarkenFilter(e,t,{intensity:a})}}},{key:"addShadow",value:function(e,t,r){var a,n=this.w,i=r.blur,c=r.top,f=r.left,g=r.color,x=r.opacity;if(((a=n.config.chart.dropShadow.enabledOnSeries)===null||a===void 0?void 0:a.length)>0&&n.config.chart.dropShadow.enabledOnSeries.indexOf(t)===-1)return e;var b=e.flood(Array.isArray(g)?g[t]:g,x).composite(e.sourceAlpha,"in").offset(f,c).gaussianBlur(i).merge(e.source);return e.blend(e.source,b)}},{key:"dropShadow",value:function(e,t){var r,a,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=t.top,c=t.left,f=t.blur,g=t.color,x=t.opacity,b=t.noUserSpaceOnUse,w=this.w;return e.unfilter(!0),S.isMsEdge()&&w.config.chart.type==="radialBar"||((r=w.config.chart.dropShadow.enabledOnSeries)===null||r===void 0?void 0:r.length)>0&&((a=w.config.chart.dropShadow.enabledOnSeries)===null||a===void 0?void 0:a.indexOf(n))===-1||(g=Array.isArray(g)?g[n]:g,e.filter(function(_){var T=null;T=S.isSafari()||S.isFirefox()||S.isMsEdge()?_.flood(g,x).composite(_.sourceAlpha,"in").offset(c,i).gaussianBlur(f):_.flood(g,x).composite(_.sourceAlpha,"in").offset(c,i).gaussianBlur(f).merge(_.source),_.blend(_.source,T)}),b||e.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(e.filterer.node)),e}},{key:"setSelectionFilter",value:function(e,t,r){var a=this.w;if(a.globals.selectedDataPoints[t]!==void 0&&a.globals.selectedDataPoints[t].indexOf(r)>-1){e.node.setAttribute("selected",!0);var n=a.config.states.active.filter;n!=="none"&&this.applyFilter(e,t,n.type,n.value)}}},{key:"_scaleFilterSize",value:function(e){(function(t){for(var r in t)t.hasOwnProperty(r)&&e.setAttribute(r,t[r])})({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),W}(),B=function(){function W(e){h(this,W),this.ctx=e,this.w=e.w}return m(W,[{key:"roundPathCorners",value:function(e,t){function r(re,me,be){var Se=me.x-re.x,qe=me.y-re.y,$e=Math.sqrt(Se*Se+qe*qe);return a(re,me,Math.min(1,be/$e))}function a(re,me,be){return{x:re.x+(me.x-re.x)*be,y:re.y+(me.y-re.y)*be}}function n(re,me){re.length>2&&(re[re.length-2]=me.x,re[re.length-1]=me.y)}function i(re){return{x:parseFloat(re[re.length-2]),y:parseFloat(re[re.length-1])}}e.indexOf("NaN")>-1&&(e="");var c=e.split(/[,\s]/).reduce(function(re,me){var be=me.match("([a-zA-Z])(.+)");return be?(re.push(be[1]),re.push(be[2])):re.push(me),re},[]).reduce(function(re,me){return parseFloat(me)==me&&re.length?re[re.length-1].push(me):re.push([me]),re},[]),f=[];if(c.length>1){var g=i(c[0]),x=null;c[c.length-1][0]=="Z"&&c[0].length>2&&(x=["L",g.x,g.y],c[c.length-1]=x),f.push(c[0]);for(var b=1;b<c.length;b++){var w=f[f.length-1],_=c[b],T=_==x?c[1]:c[b+1];if(T&&w&&w.length>2&&_[0]=="L"&&T.length>2&&T[0]=="L"){var M,V,X=i(w),Z=i(_),p=i(T);M=r(Z,X,t),V=r(Z,p,t),n(_,M),_.origPoint=Z,f.push(_);var C=a(M,Z,.5),O=a(Z,V,.5),ee=["C",C.x,C.y,O.x,O.y,V.x,V.y];ee.origPoint=Z,f.push(ee)}else f.push(_)}if(x){var J=i(f[f.length-1]);f.push(["Z"]),n(f[0],J)}}else f=c;return f.reduce(function(re,me){return re+me.join(" ")+" "},"")}},{key:"drawLine",value:function(e,t,r,a){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,f=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:e,y1:t,x2:r,y2:a,stroke:n,"stroke-dasharray":i,"stroke-width":c,"stroke-linecap":f})}},{key:"drawRect",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,f=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,g=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,x=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,b=this.w.globals.dom.Paper.rect();return b.attr({x:e,y:t,width:r>0?r:0,height:a>0?a:0,rx:n,ry:n,opacity:c,"stroke-width":f!==null?f:0,stroke:g!==null?g:"none","stroke-dasharray":x}),b.node.setAttribute("fill",i),b}},{key:"drawPolygon",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(e).attr({fill:a,stroke:t,"stroke-width":r})}},{key:"drawCircle",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;e<0&&(e=0);var r=this.w.globals.dom.Paper.circle(2*e);return t!==null&&r.attr(t),r}},{key:"drawPath",value:function(e){var t=e.d,r=t===void 0?"":t,a=e.stroke,n=a===void 0?"#a8a8a8":a,i=e.strokeWidth,c=i===void 0?1:i,f=e.fill,g=e.fillOpacity,x=g===void 0?1:g,b=e.strokeOpacity,w=b===void 0?1:b,_=e.classes,T=e.strokeLinecap,M=T===void 0?null:T,V=e.strokeDashArray,X=V===void 0?0:V,Z=this.w;return M===null&&(M=Z.config.stroke.lineCap),(r.indexOf("undefined")>-1||r.indexOf("NaN")>-1)&&(r="M 0 ".concat(Z.globals.gridHeight)),Z.globals.dom.Paper.path(r).attr({fill:f,"fill-opacity":x,stroke:n,"stroke-opacity":w,"stroke-linecap":M,"stroke-width":c,"stroke-dasharray":X,class:_})}},{key:"group",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=this.w.globals.dom.Paper.group();return e!==null&&t.attr(e),t}},{key:"move",value:function(e,t){var r=["M",e,t].join(" ");return r}},{key:"line",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=null;return r===null?a=[" L",e,t].join(" "):r==="H"?a=[" H",e].join(" "):r==="V"&&(a=[" V",t].join(" ")),a}},{key:"curve",value:function(e,t,r,a,n,i){var c=["C",e,t,r,a,n,i].join(" ");return c}},{key:"quadraticCurve",value:function(e,t,r,a){return["Q",e,t,r,a].join(" ")}},{key:"arc",value:function(e,t,r,a,n,i,c){var f="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(f="a");var g=[f,e,t,r,a,n,i,c].join(" ");return g}},{key:"renderPaths",value:function(e){var t,r=e.j,a=e.realIndex,n=e.pathFrom,i=e.pathTo,c=e.stroke,f=e.strokeWidth,g=e.strokeLinecap,x=e.fill,b=e.animationDelay,w=e.initialSpeed,_=e.dataChangeSpeed,T=e.className,M=e.chartType,V=e.shouldClipToGrid,X=V===void 0||V,Z=e.bindEventsOnPaths,p=Z===void 0||Z,C=e.drawShadow,O=C===void 0||C,ee=this.w,J=new ae(this.ctx),re=new K(this.ctx),me=this.w.config.chart.animations.enabled,be=me&&this.w.config.chart.animations.dynamicAnimation.enabled,Se=!!(me&&!ee.globals.resized||be&&ee.globals.dataChanged&&ee.globals.shouldAnimate);Se?t=n:(t=i,ee.globals.animationEnded=!0);var qe=ee.config.stroke.dashArray,$e=0;$e=Array.isArray(qe)?qe[a]:ee.config.stroke.dashArray;var Fe=this.drawPath({d:t,stroke:c,strokeWidth:f,fill:x,fillOpacity:1,classes:T,strokeLinecap:g,strokeDashArray:$e});if(Fe.attr("index",a),X&&(M==="bar"&&!ee.globals.isHorizontal||ee.globals.comboCharts?Fe.attr({"clip-path":"url(#gridRectBarMask".concat(ee.globals.cuid,")")}):Fe.attr({"clip-path":"url(#gridRectMask".concat(ee.globals.cuid,")")})),ee.config.states.normal.filter.type!=="none")J.getDefaultFilter(Fe,a);else if(ee.config.chart.dropShadow.enabled&&O){var ut=ee.config.chart.dropShadow;J.dropShadow(Fe,ut,a)}p&&(Fe.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,Fe)),Fe.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,Fe)),Fe.node.addEventListener("mousedown",this.pathMouseDown.bind(this,Fe))),Fe.attr({pathTo:i,pathFrom:n});var mt={el:Fe,j:r,realIndex:a,pathFrom:n,pathTo:i,fill:x,strokeWidth:f,delay:b};return!me||ee.globals.resized||ee.globals.dataChanged?!ee.globals.resized&&ee.globals.dataChanged||re.showDelayedElements():re.animatePathsGradually(D(D({},mt),{},{speed:w})),ee.globals.dataChanged&&be&&Se&&re.animatePathsGradually(D(D({},mt),{},{speed:_})),Fe}},{key:"drawPattern",value:function(e,t,r){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(t,r,function(i){e==="horizontalLines"?i.line(0,0,r,0).stroke({color:a,width:n+1}):e==="verticalLines"?i.line(0,0,0,t).stroke({color:a,width:n+1}):e==="slantedLines"?i.line(0,0,t,r).stroke({color:a,width:n}):e==="squares"?i.rect(t,r).fill("none").stroke({color:a,width:n}):e==="circles"&&i.circle(t).fill("none").stroke({color:a,width:n})})}},{key:"drawGradient",value:function(e,t,r,a,n){var i,c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,f=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,g=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,x=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,b=this.w;t.length<9&&t.indexOf("#")===0&&(t=S.hexToRgba(t,a)),r.length<9&&r.indexOf("#")===0&&(r=S.hexToRgba(r,n));var w=0,_=1,T=1,M=null;f!==null&&(w=f[0]!==void 0?f[0]/100:0,_=f[1]!==void 0?f[1]/100:1,T=f[2]!==void 0?f[2]/100:1,M=f[3]!==void 0?f[3]/100:null);var V=!(b.config.chart.type!=="donut"&&b.config.chart.type!=="pie"&&b.config.chart.type!=="polarArea"&&b.config.chart.type!=="bubble");if(i=g===null||g.length===0?b.globals.dom.Paper.gradient(V?"radial":"linear",function(p){p.at(w,t,a),p.at(_,r,n),p.at(T,r,n),M!==null&&p.at(M,t,a)}):b.globals.dom.Paper.gradient(V?"radial":"linear",function(p){(Array.isArray(g[x])?g[x]:g).forEach(function(C){p.at(C.offset/100,C.color,C.opacity)})}),V){var X=b.globals.gridWidth/2,Z=b.globals.gridHeight/2;b.config.chart.type!=="bubble"?i.attr({gradientUnits:"userSpaceOnUse",cx:X,cy:Z,r:c}):i.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else e==="vertical"?i.from(0,0).to(0,1):e==="diagonal"?i.from(0,0).to(1,1):e==="horizontal"?i.from(0,1).to(1,1):e==="diagonal2"&&i.from(1,0).to(0,1);return i}},{key:"getTextBasedOnMaxWidth",value:function(e){var t=e.text,r=e.maxWidth,a=e.fontSize,n=e.fontFamily,i=this.getTextRects(t,a,n),c=i.width/t.length,f=Math.floor(r/c);return r<i.width?t.slice(0,f-3)+"...":t}},{key:"drawText",value:function(e){var t=this,r=e.x,a=e.y,n=e.text,i=e.textAnchor,c=e.fontSize,f=e.fontFamily,g=e.fontWeight,x=e.foreColor,b=e.opacity,w=e.maxWidth,_=e.cssClass,T=_===void 0?"":_,M=e.isPlainText,V=M===void 0||M,X=e.dominantBaseline,Z=X===void 0?"auto":X,p=this.w;n===void 0&&(n="");var C=n;i||(i="start"),x&&x.length||(x=p.config.chart.foreColor),f=f||p.config.chart.fontFamily,g=g||"regular";var O,ee={maxWidth:w,fontSize:c=c||"11px",fontFamily:f};return Array.isArray(n)?O=p.globals.dom.Paper.text(function(J){for(var re=0;re<n.length;re++)C=n[re],w&&(C=t.getTextBasedOnMaxWidth(D({text:n[re]},ee))),re===0?J.tspan(C):J.tspan(C).newLine()}):(w&&(C=this.getTextBasedOnMaxWidth(D({text:n},ee))),O=V?p.globals.dom.Paper.plain(n):p.globals.dom.Paper.text(function(J){return J.tspan(C)})),O.attr({x:r,y:a,"text-anchor":i,"dominant-baseline":Z,"font-size":c,"font-family":f,"font-weight":g,fill:x,class:"apexcharts-text "+T}),O.node.style.fontFamily=f,O.node.style.opacity=b,O}},{key:"getMarkerPath",value:function(e,t,r,a){var n="";switch(r){case"cross":n="M ".concat(e-(a/=1.4)," ").concat(t-a," L ").concat(e+a," ").concat(t+a,"  M ").concat(e-a," ").concat(t+a," L ").concat(e+a," ").concat(t-a);break;case"plus":n="M ".concat(e-(a/=1.12)," ").concat(t," L ").concat(e+a," ").concat(t,"  M ").concat(e," ").concat(t-a," L ").concat(e," ").concat(t+a);break;case"star":case"sparkle":var i=5;a*=1.15,r==="sparkle"&&(a/=1.1,i=4);for(var c=Math.PI/i,f=0;f<=2*i;f++){var g=f*c,x=f%2==0?a:a/2;n+=(f===0?"M":"L")+(e+x*Math.sin(g))+","+(t-x*Math.cos(g))}n+="Z";break;case"triangle":n="M ".concat(e," ").concat(t-a,` 
             L `).concat(e+a," ").concat(t+a,` 
             L `).concat(e-a," ").concat(t+a,` 
             Z`);break;case"square":case"rect":n="M ".concat(e-(a/=1.125)," ").concat(t-a,` 
           L `).concat(e+a," ").concat(t-a,` 
           L `).concat(e+a," ").concat(t+a,` 
           L `).concat(e-a," ").concat(t+a,` 
           Z`);break;case"diamond":a*=1.05,n="M ".concat(e," ").concat(t-a,` 
             L `).concat(e+a," ").concat(t,` 
             L `).concat(e," ").concat(t+a,` 
             L `).concat(e-a," ").concat(t,` 
            Z`);break;case"line":n="M ".concat(e-(a/=1.1)," ").concat(t,` 
           L `).concat(e+a," ").concat(t);break;default:a*=2,n="M ".concat(e,", ").concat(t,` 
           m -`).concat(a/2,`, 0 
           a `).concat(a/2,",").concat(a/2," 0 1,0 ").concat(a,`,0 
           a `).concat(a/2,",").concat(a/2," 0 1,0 -").concat(a,",0")}return n}},{key:"drawMarkerShape",value:function(e,t,r,a,n){var i=this.drawPath({d:this.getMarkerPath(e,t,r,a,n),stroke:n.pointStrokeColor,strokeDashArray:n.pointStrokeDashArray,strokeWidth:n.pointStrokeWidth,fill:n.pointFillColor,fillOpacity:n.pointFillOpacity,strokeOpacity:n.pointStrokeOpacity});return i.attr({cx:e,cy:t,shape:n.shape,class:n.class?n.class:""}),i}},{key:"drawMarker",value:function(e,t,r){e=e||0;var a=r.pSize||0;return S.isNumber(t)||(a=0,t=0),this.drawMarkerShape(e,t,r==null?void 0:r.shape,a,D(D({},r),r.shape==="line"||r.shape==="plus"||r.shape==="cross"?{pointStrokeColor:r.pointFillColor,pointStrokeOpacity:r.pointFillOpacity}:{}))}},{key:"pathMouseEnter",value:function(e,t){var r=this.w,a=new ae(this.ctx),n=parseInt(e.node.getAttribute("index"),10),i=parseInt(e.node.getAttribute("j"),10);if(typeof r.config.chart.events.dataPointMouseEnter=="function"&&r.config.chart.events.dataPointMouseEnter(t,this.ctx,{seriesIndex:n,dataPointIndex:i,w:r}),this.ctx.events.fireEvent("dataPointMouseEnter",[t,this.ctx,{seriesIndex:n,dataPointIndex:i,w:r}]),(r.config.states.active.filter.type==="none"||e.node.getAttribute("selected")!=="true")&&r.config.states.hover.filter.type!=="none"&&!r.globals.isTouchDevice){var c=r.config.states.hover.filter;a.applyFilter(e,n,c.type,c.value)}}},{key:"pathMouseLeave",value:function(e,t){var r=this.w,a=new ae(this.ctx),n=parseInt(e.node.getAttribute("index"),10),i=parseInt(e.node.getAttribute("j"),10);typeof r.config.chart.events.dataPointMouseLeave=="function"&&r.config.chart.events.dataPointMouseLeave(t,this.ctx,{seriesIndex:n,dataPointIndex:i,w:r}),this.ctx.events.fireEvent("dataPointMouseLeave",[t,this.ctx,{seriesIndex:n,dataPointIndex:i,w:r}]),r.config.states.active.filter.type!=="none"&&e.node.getAttribute("selected")==="true"||r.config.states.hover.filter.type!=="none"&&a.getDefaultFilter(e,n)}},{key:"pathMouseDown",value:function(e,t){var r=this.w,a=new ae(this.ctx),n=parseInt(e.node.getAttribute("index"),10),i=parseInt(e.node.getAttribute("j"),10),c="false";if(e.node.getAttribute("selected")==="true"){if(e.node.setAttribute("selected","false"),r.globals.selectedDataPoints[n].indexOf(i)>-1){var f=r.globals.selectedDataPoints[n].indexOf(i);r.globals.selectedDataPoints[n].splice(f,1)}}else{if(!r.config.states.active.allowMultipleDataPointsSelection&&r.globals.selectedDataPoints.length>0){r.globals.selectedDataPoints=[];var g=r.globals.dom.Paper.select(".apexcharts-series path").members,x=r.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,b=function(T){Array.prototype.forEach.call(T,function(M){M.node.setAttribute("selected","false"),a.getDefaultFilter(M,n)})};b(g),b(x)}e.node.setAttribute("selected","true"),c="true",r.globals.selectedDataPoints[n]===void 0&&(r.globals.selectedDataPoints[n]=[]),r.globals.selectedDataPoints[n].push(i)}if(c==="true"){var w=r.config.states.active.filter;if(w!=="none")a.applyFilter(e,n,w.type,w.value);else if(r.config.states.hover.filter!=="none"&&!r.globals.isTouchDevice){var _=r.config.states.hover.filter;a.applyFilter(e,n,_.type,_.value)}}else r.config.states.active.filter.type!=="none"&&(r.config.states.hover.filter.type==="none"||r.globals.isTouchDevice?a.getDefaultFilter(e,n):(_=r.config.states.hover.filter,a.applyFilter(e,n,_.type,_.value)));typeof r.config.chart.events.dataPointSelection=="function"&&r.config.chart.events.dataPointSelection(t,this.ctx,{selectedDataPoints:r.globals.selectedDataPoints,seriesIndex:n,dataPointIndex:i,w:r}),t&&this.ctx.events.fireEvent("dataPointSelection",[t,this.ctx,{selectedDataPoints:r.globals.selectedDataPoints,seriesIndex:n,dataPointIndex:i,w:r}])}},{key:"rotateAroundCenter",value:function(e){var t={};return e&&typeof e.getBBox=="function"&&(t=e.getBBox()),{x:t.x+t.width/2,y:t.y+t.height/2}}},{key:"getTextRects",value:function(e,t,r,a){var n=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],i=this.w,c=this.drawText({x:-200,y:-200,text:e,textAnchor:"start",fontSize:t,fontFamily:r,foreColor:"#fff",opacity:0});a&&c.attr("transform",a),i.globals.dom.Paper.add(c);var f=c.bbox();return n||(f=c.node.getBoundingClientRect()),c.remove(),{width:f.width,height:f.height}}},{key:"placeTextWithEllipsis",value:function(e,t,r){if(typeof e.getComputedTextLength=="function"&&(e.textContent=t,t.length>0&&e.getComputedTextLength()>=r/1.1)){for(var a=t.length-3;a>0;a-=3)if(e.getSubStringLength(0,a)<=r/1.1)return void(e.textContent=t.substring(0,a)+"...");e.textContent="."}}}],[{key:"setAttrs",value:function(e,t){for(var r in t)t.hasOwnProperty(r)&&e.setAttribute(r,t[r])}}]),W}(),te=function(){function W(e){h(this,W),this.ctx=e,this.w=e.w}return m(W,[{key:"getStackedSeriesTotals",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=this.w,r=[];if(t.globals.series.length===0)return r;for(var a=0;a<t.globals.series[t.globals.maxValsInArrayIndex].length;a++){for(var n=0,i=0;i<t.globals.series.length;i++)t.globals.series[i][a]!==void 0&&e.indexOf(i)===-1&&(n+=t.globals.series[i][a]);r.push(n)}return r}},{key:"getSeriesTotalByIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return e===null?this.w.config.series.reduce(function(t,r){return t+r},0):this.w.globals.series[e].reduce(function(t,r){return t+r},0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var e=this,t=this.w,r=[];return t.globals.seriesGroups.forEach(function(a){var n=[];t.config.series.forEach(function(c,f){a.indexOf(t.globals.seriesNames[f])>-1&&n.push(f)});var i=t.globals.series.map(function(c,f){return n.indexOf(f)===-1?f:-1}).filter(function(c){return c!==-1});r.push(e.getStackedSeriesTotals(i))}),r}},{key:"setSeriesYAxisMappings",value:function(){var e=this.w.globals,t=this.w.config,r=[],a=[],n=[],i=e.series.length>t.yaxis.length||t.yaxis.some(function(b){return Array.isArray(b.seriesName)});t.series.forEach(function(b,w){n.push(w),a.push(null)}),t.yaxis.forEach(function(b,w){r[w]=[]});var c=[];t.yaxis.forEach(function(b,w){var _=!1;if(b.seriesName){var T=[];Array.isArray(b.seriesName)?T=b.seriesName:T.push(b.seriesName),T.forEach(function(M){t.series.forEach(function(V,X){if(V.name===M){var Z=X;w===X||i?!i||n.indexOf(X)>-1?r[w].push([w,X]):console.warn("Series '"+V.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(r[X].push([X,w]),Z=w),_=!0,(Z=n.indexOf(Z))!==-1&&n.splice(Z,1)}})})}_||c.push(w)}),r=r.map(function(b,w){var _=[];return b.forEach(function(T){a[T[1]]=T[0],_.push(T[1])}),_});for(var f=t.yaxis.length-1,g=0;g<c.length&&(f=c[g],r[f]=[],n);g++){var x=n[0];n.shift(),r[f].push(x),a[x]=f}n.forEach(function(b){r[f].push(b),a[b]=f}),e.seriesYAxisMap=r.map(function(b){return b}),e.seriesYAxisReverseMap=a.map(function(b){return b}),e.seriesYAxisMap.forEach(function(b,w){b.forEach(function(_){t.series[_]&&t.series[_].group===void 0&&(t.series[_].group="apexcharts-axis-".concat(w.toString()))})})}},{key:"isSeriesNull",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(e===null?this.w.config.series.filter(function(t){return t!==null}):this.w.config.series[e].data.filter(function(t){return t!==null})).length===0}},{key:"seriesHaveSameValues",value:function(e){return this.w.globals.series[e].every(function(t,r,a){return t===a[0]})}},{key:"getCategoryLabels",value:function(e){var t=this.w,r=e.slice();return t.config.xaxis.convertedCatToNumeric&&(r=e.map(function(a,n){return t.config.xaxis.labels.formatter(a-t.globals.minX+1)})),r}},{key:"getLargestSeries",value:function(){var e=this.w;e.globals.maxValsInArrayIndex=e.globals.series.map(function(t){return t.length}).indexOf(Math.max.apply(Math,e.globals.series.map(function(t){return t.length})))}},{key:"getLargestMarkerSize",value:function(){var e=this.w,t=0;return e.globals.markers.size.forEach(function(r){t=Math.max(t,r)}),e.config.markers.discrete&&e.config.markers.discrete.length&&e.config.markers.discrete.forEach(function(r){t=Math.max(t,r.size)}),t>0&&(e.config.markers.hover.size>0?t=e.config.markers.hover.size:t+=e.config.markers.hover.sizeOffset),e.globals.markers.largestSize=t,t}},{key:"getSeriesTotals",value:function(){var e=this.w;e.globals.seriesTotals=e.globals.series.map(function(t,r){var a=0;if(Array.isArray(t))for(var n=0;n<t.length;n++)a+=t[n];else a+=t;return a})}},{key:"getSeriesTotalsXRange",value:function(e,t){var r=this.w;return r.globals.series.map(function(a,n){for(var i=0,c=0;c<a.length;c++)r.globals.seriesX[n][c]>e&&r.globals.seriesX[n][c]<t&&(i+=a[c]);return i})}},{key:"getPercentSeries",value:function(){var e=this.w;e.globals.seriesPercent=e.globals.series.map(function(t,r){var a=[];if(Array.isArray(t))for(var n=0;n<t.length;n++){var i=e.globals.stackedSeriesTotals[n],c=0;i&&(c=100*t[n]/i),a.push(c)}else{var f=100*t/e.globals.seriesTotals.reduce(function(g,x){return g+x},0);a.push(f)}return a})}},{key:"getCalculatedRatios",value:function(){var e,t,r,a=this,n=this.w,i=n.globals,c=[],f=0,g=[],x=.1,b=0;if(i.yRange=[],i.isMultipleYAxis)for(var w=0;w<i.minYArr.length;w++)i.yRange.push(Math.abs(i.minYArr[w]-i.maxYArr[w])),g.push(0);else i.yRange.push(Math.abs(i.minY-i.maxY));i.xRange=Math.abs(i.maxX-i.minX),i.zRange=Math.abs(i.maxZ-i.minZ);for(var _=0;_<i.yRange.length;_++)c.push(i.yRange[_]/i.gridHeight);if(t=i.xRange/i.gridWidth,e=i.yRange/i.gridWidth,r=i.xRange/i.gridHeight,(f=i.zRange/i.gridHeight*16)||(f=1),i.minY!==Number.MIN_VALUE&&Math.abs(i.minY)!==0&&(i.hasNegs=!0),n.globals.seriesYAxisReverseMap.length>0){var T=function(V,X){var Z=n.config.yaxis[n.globals.seriesYAxisReverseMap[X]],p=V<0?-1:1;return V=Math.abs(V),Z.logarithmic&&(V=a.getBaseLog(Z.logBase,V)),-p*V/c[X]};if(i.isMultipleYAxis){g=[];for(var M=0;M<c.length;M++)g.push(T(i.minYArr[M],M))}else(g=[]).push(T(i.minY,0)),i.minY!==Number.MIN_VALUE&&Math.abs(i.minY)!==0&&(x=-i.minY/e,b=i.minX/t)}else(g=[]).push(0),x=0,b=0;return{yRatio:c,invertedYRatio:e,zRatio:f,xRatio:t,invertedXRatio:r,baseLineInvertedY:x,baseLineY:g,baseLineX:b}}},{key:"getLogSeries",value:function(e){var t=this,r=this.w;return r.globals.seriesLog=e.map(function(a,n){var i=r.globals.seriesYAxisReverseMap[n];return r.config.yaxis[i]&&r.config.yaxis[i].logarithmic?a.map(function(c){return c===null?null:t.getLogVal(r.config.yaxis[i].logBase,c,n)}):a}),r.globals.invalidLogScale?e:r.globals.seriesLog}},{key:"getBaseLog",value:function(e,t){return Math.log(t)/Math.log(e)}},{key:"getLogVal",value:function(e,t,r){if(t<=0)return 0;var a=this.w,n=a.globals.minYArr[r]===0?-1:this.getBaseLog(e,a.globals.minYArr[r]),i=(a.globals.maxYArr[r]===0?0:this.getBaseLog(e,a.globals.maxYArr[r]))-n;return t<1?t/i:(this.getBaseLog(e,t)-n)/i}},{key:"getLogYRatios",value:function(e){var t=this,r=this.w,a=this.w.globals;return a.yLogRatio=e.slice(),a.logYRange=a.yRange.map(function(n,i){var c=r.globals.seriesYAxisReverseMap[i];if(r.config.yaxis[c]&&t.w.config.yaxis[c].logarithmic){var f,g=-Number.MAX_VALUE,x=Number.MIN_VALUE;return a.seriesLog.forEach(function(b,w){b.forEach(function(_){r.config.yaxis[w]&&r.config.yaxis[w].logarithmic&&(g=Math.max(_,g),x=Math.min(_,x))})}),f=Math.pow(a.yRange[i],Math.abs(x-g)/a.yRange[i]),a.yLogRatio[i]=f/a.gridHeight,f}}),a.invalidLogScale?e.slice():a.yLogRatio}},{key:"drawSeriesByGroup",value:function(e,t,r,a){var n=this.w,i=[];return e.series.length>0&&t.forEach(function(c){var f=[],g=[];e.i.forEach(function(x,b){n.config.series[x].group===c&&(f.push(e.series[b]),g.push(x))}),f.length>0&&i.push(a.draw(f,r,g))}),i}}],[{key:"checkComboSeries",value:function(e,t){var r=!1,a=0,n=0;return t===void 0&&(t="line"),e.length&&e[0].type!==void 0&&e.forEach(function(i){i.type!=="bar"&&i.type!=="column"&&i.type!=="candlestick"&&i.type!=="boxPlot"||a++,i.type!==void 0&&i.type!==t&&n++}),n>0&&(r=!0),{comboBarCount:a,comboCharts:r}}},{key:"extendArrayProps",value:function(e,t,r){var a,n,i,c,f,g;return(a=t)!==null&&a!==void 0&&a.yaxis&&(t=e.extendYAxis(t,r)),(n=t)!==null&&n!==void 0&&n.annotations&&(t.annotations.yaxis&&(t=e.extendYAxisAnnotations(t)),(i=t)!==null&&i!==void 0&&(c=i.annotations)!==null&&c!==void 0&&c.xaxis&&(t=e.extendXAxisAnnotations(t)),(f=t)!==null&&f!==void 0&&(g=f.annotations)!==null&&g!==void 0&&g.points&&(t=e.extendPointAnnotations(t))),t}}]),W}(),fe=function(){function W(e){h(this,W),this.w=e.w,this.annoCtx=e}return m(W,[{key:"setOrientations",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=this.w;if(e.label.orientation==="vertical"){var a=t!==null?t:0,n=r.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(a,"']"));if(n!==null){var i=n.getBoundingClientRect();n.setAttribute("x",parseFloat(n.getAttribute("x"))-i.height+4);var c=e.label.position==="top"?i.width:-i.width;n.setAttribute("y",parseFloat(n.getAttribute("y"))+c);var f=this.annoCtx.graphics.rotateAroundCenter(n),g=f.x,x=f.y;n.setAttribute("transform","rotate(-90 ".concat(g," ").concat(x,")"))}}}},{key:"addBackgroundToAnno",value:function(e,t){var r=this.w;if(!e||!t.label.text||!String(t.label.text).trim())return null;var a=r.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.label.style.padding,c=i.left,f=i.right,g=i.top,x=i.bottom;if(t.label.orientation==="vertical"){var b=[c,f,g,x];g=b[0],x=b[1],c=b[2],f=b[3]}var w=n.left-a.left-c,_=n.top-a.top-g,T=this.annoCtx.graphics.drawRect(w-r.globals.barPadForNumericAxis,_,n.width+c+f,n.height+g+x,t.label.borderRadius,t.label.style.background,1,t.label.borderWidth,t.label.borderColor,0);return t.id&&T.node.classList.add(t.id),T}},{key:"annotationsBackground",value:function(){var e=this,t=this.w,r=function(a,n,i){var c=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(i,"-annotations .apexcharts-").concat(i,"-annotation-label[rel='").concat(n,"']"));if(c){var f=c.parentNode,g=e.addBackgroundToAnno(c,a);g&&(f.insertBefore(g.node,c),a.label.mouseEnter&&g.node.addEventListener("mouseenter",a.label.mouseEnter.bind(e,a)),a.label.mouseLeave&&g.node.addEventListener("mouseleave",a.label.mouseLeave.bind(e,a)),a.label.click&&g.node.addEventListener("click",a.label.click.bind(e,a)))}};t.config.annotations.xaxis.forEach(function(a,n){return r(a,n,"xaxis")}),t.config.annotations.yaxis.forEach(function(a,n){return r(a,n,"yaxis")}),t.config.annotations.points.forEach(function(a,n){return r(a,n,"point")})}},{key:"getY1Y2",value:function(e,t){var r,a=this.w,n=e==="y1"?t.y:t.y2,i=!1;if(this.annoCtx.invertAxis){var c=a.config.xaxis.convertedCatToNumeric?a.globals.categoryLabels:a.globals.labels,f=c.indexOf(n),g=a.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child(".concat(f+1,")"));r=g?parseFloat(g.getAttribute("y")):(a.globals.gridHeight/c.length-1)*(f+1)-a.globals.barHeight,t.seriesIndex!==void 0&&a.globals.barHeight&&(r-=a.globals.barHeight/2*(a.globals.series.length-1)-a.globals.barHeight*t.seriesIndex)}else{var x,b=a.globals.seriesYAxisMap[t.yAxisIndex][0],w=a.config.yaxis[t.yAxisIndex].logarithmic?new te(this.annoCtx.ctx).getLogVal(a.config.yaxis[t.yAxisIndex].logBase,n,b)/a.globals.yLogRatio[b]:(n-a.globals.minYArr[b])/(a.globals.yRange[b]/a.globals.gridHeight);r=a.globals.gridHeight-Math.min(Math.max(w,0),a.globals.gridHeight),i=w>a.globals.gridHeight||w<0,!t.marker||t.y!==void 0&&t.y!==null||(r=0),(x=a.config.yaxis[t.yAxisIndex])!==null&&x!==void 0&&x.reversed&&(r=w)}return typeof n=="string"&&n.includes("px")&&(r=parseFloat(n)),{yP:r,clipped:i}}},{key:"getX1X2",value:function(e,t){var r=this.w,a=e==="x1"?t.x:t.x2,n=this.annoCtx.invertAxis?r.globals.minY:r.globals.minX,i=this.annoCtx.invertAxis?r.globals.maxY:r.globals.maxX,c=this.annoCtx.invertAxis?r.globals.yRange[0]:r.globals.xRange,f=!1,g=this.annoCtx.inversedReversedAxis?(i-a)/(c/r.globals.gridWidth):(a-n)/(c/r.globals.gridWidth);return r.config.xaxis.type!=="category"&&!r.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||r.globals.dataFormatXNumeric||r.config.chart.sparkline.enabled||(g=this.getStringX(a)),typeof a=="string"&&a.includes("px")&&(g=parseFloat(a)),a==null&&t.marker&&(g=r.globals.gridWidth),t.seriesIndex!==void 0&&r.globals.barWidth&&!this.annoCtx.invertAxis&&(g-=r.globals.barWidth/2*(r.globals.series.length-1)-r.globals.barWidth*t.seriesIndex),g>r.globals.gridWidth?(g=r.globals.gridWidth,f=!0):g<0&&(g=0,f=!0),{x:g,clipped:f}}},{key:"getStringX",value:function(e){var t=this.w,r=e;t.config.xaxis.convertedCatToNumeric&&t.globals.categoryLabels.length&&(e=t.globals.categoryLabels.indexOf(e)+1);var a=t.globals.labels.map(function(i){return Array.isArray(i)?i.join(" "):i}).indexOf(e),n=t.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child(".concat(a+1,")"));return n&&(r=parseFloat(n.getAttribute("x"))),r}}]),W}(),Te=function(){function W(e){h(this,W),this.w=e.w,this.annoCtx=e,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new fe(this.annoCtx)}return m(W,[{key:"addXaxisAnnotation",value:function(e,t,r){var a,n=this.w,i=this.helpers.getX1X2("x1",e),c=i.x,f=i.clipped,g=!0,x=e.label.text,b=e.strokeDashArray;if(S.isNumber(c)){if(e.x2===null||e.x2===void 0){if(!f){var w=this.annoCtx.graphics.drawLine(c+e.offsetX,0+e.offsetY,c+e.offsetX,n.globals.gridHeight+e.offsetY,e.borderColor,b,e.borderWidth);t.appendChild(w.node),e.id&&w.node.classList.add(e.id)}}else{var _=this.helpers.getX1X2("x2",e);if(a=_.x,g=_.clipped,!f||!g){if(a<c){var T=c;c=a,a=T}var M=this.annoCtx.graphics.drawRect(c+e.offsetX,0+e.offsetY,a-c,n.globals.gridHeight+e.offsetY,0,e.fillColor,e.opacity,1,e.borderColor,b);M.node.classList.add("apexcharts-annotation-rect"),M.attr("clip-path","url(#gridRectMask".concat(n.globals.cuid,")")),t.appendChild(M.node),e.id&&M.node.classList.add(e.id)}}if(!f||!g){var V=this.annoCtx.graphics.getTextRects(x,parseFloat(e.label.style.fontSize)),X=e.label.position==="top"?4:e.label.position==="center"?n.globals.gridHeight/2+(e.label.orientation==="vertical"?V.width/2:0):n.globals.gridHeight,Z=this.annoCtx.graphics.drawText({x:c+e.label.offsetX,y:X+e.label.offsetY-(e.label.orientation==="vertical"?e.label.position==="top"?V.width/2-12:-V.width/2:0),text:x,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});Z.attr({rel:r}),t.appendChild(Z.node),this.annoCtx.helpers.setOrientations(e,r)}}}},{key:"drawXAxisAnnotations",value:function(){var e=this,t=this.w,r=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return t.config.annotations.xaxis.map(function(a,n){e.addXaxisAnnotation(a,r.node,n)}),r}}]),W}(),Ae=function(){function W(e){h(this,W),this.ctx=e,this.w=e.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return m(W,[{key:"isValidDate",value:function(e){return typeof e!="number"&&!isNaN(this.parseDate(e))}},{key:"getTimeStamp",value:function(e){return Date.parse(e)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toISOString().substr(0,25)).getTime():new Date(e).getTime():e}},{key:"getDate",value:function(e){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toUTCString()):new Date(e)}},{key:"parseDate",value:function(e){var t=Date.parse(e);if(!isNaN(t))return this.getTimeStamp(e);var r=Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "));return r=this.getTimeStamp(r)}},{key:"parseDateWithTimezone",value:function(e){return Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(e,t){var r=this.w.globals.locale,a=this.w.config.xaxis.labels.datetimeUTC,n=["\0"].concat(H(r.months)),i=[""].concat(H(r.shortMonths)),c=[""].concat(H(r.days)),f=[""].concat(H(r.shortDays));function g(re,me){var be=re+"";for(me=me||2;be.length<me;)be="0"+be;return be}var x=a?e.getUTCFullYear():e.getFullYear();t=(t=(t=t.replace(/(^|[^\\])yyyy+/g,"$1"+x)).replace(/(^|[^\\])yy/g,"$1"+x.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+x);var b=(a?e.getUTCMonth():e.getMonth())+1;t=(t=(t=(t=t.replace(/(^|[^\\])MMMM+/g,"$1"+n[0])).replace(/(^|[^\\])MMM/g,"$1"+i[0])).replace(/(^|[^\\])MM/g,"$1"+g(b))).replace(/(^|[^\\])M/g,"$1"+b);var w=a?e.getUTCDate():e.getDate();t=(t=(t=(t=t.replace(/(^|[^\\])dddd+/g,"$1"+c[0])).replace(/(^|[^\\])ddd/g,"$1"+f[0])).replace(/(^|[^\\])dd/g,"$1"+g(w))).replace(/(^|[^\\])d/g,"$1"+w);var _=a?e.getUTCHours():e.getHours(),T=_>12?_-12:_===0?12:_;t=(t=(t=(t=t.replace(/(^|[^\\])HH+/g,"$1"+g(_))).replace(/(^|[^\\])H/g,"$1"+_)).replace(/(^|[^\\])hh+/g,"$1"+g(T))).replace(/(^|[^\\])h/g,"$1"+T);var M=a?e.getUTCMinutes():e.getMinutes();t=(t=t.replace(/(^|[^\\])mm+/g,"$1"+g(M))).replace(/(^|[^\\])m/g,"$1"+M);var V=a?e.getUTCSeconds():e.getSeconds();t=(t=t.replace(/(^|[^\\])ss+/g,"$1"+g(V))).replace(/(^|[^\\])s/g,"$1"+V);var X=a?e.getUTCMilliseconds():e.getMilliseconds();t=t.replace(/(^|[^\\])fff+/g,"$1"+g(X,3)),X=Math.round(X/10),t=t.replace(/(^|[^\\])ff/g,"$1"+g(X)),X=Math.round(X/10);var Z=_<12?"AM":"PM";t=(t=(t=t.replace(/(^|[^\\])f/g,"$1"+X)).replace(/(^|[^\\])TT+/g,"$1"+Z)).replace(/(^|[^\\])T/g,"$1"+Z.charAt(0));var p=Z.toLowerCase();t=(t=t.replace(/(^|[^\\])tt+/g,"$1"+p)).replace(/(^|[^\\])t/g,"$1"+p.charAt(0));var C=-e.getTimezoneOffset(),O=a||!C?"Z":C>0?"+":"-";if(!a){var ee=(C=Math.abs(C))%60;O+=g(Math.floor(C/60))+":"+g(ee)}t=t.replace(/(^|[^\\])K/g,"$1"+O);var J=(a?e.getUTCDay():e.getDay())+1;return t=(t=(t=(t=(t=t.replace(new RegExp(c[0],"g"),c[J])).replace(new RegExp(f[0],"g"),f[J])).replace(new RegExp(n[0],"g"),n[b])).replace(new RegExp(i[0],"g"),i[b])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(e,t,r){var a=this.w;a.config.xaxis.min!==void 0&&(e=a.config.xaxis.min),a.config.xaxis.max!==void 0&&(t=a.config.xaxis.max);var n=this.getDate(e),i=this.getDate(t),c=this.formatDate(n,"yyyy MM dd HH mm ss fff").split(" "),f=this.formatDate(i,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(c[6],10),maxMillisecond:parseInt(f[6],10),minSecond:parseInt(c[5],10),maxSecond:parseInt(f[5],10),minMinute:parseInt(c[4],10),maxMinute:parseInt(f[4],10),minHour:parseInt(c[3],10),maxHour:parseInt(f[3],10),minDate:parseInt(c[2],10),maxDate:parseInt(f[2],10),minMonth:parseInt(c[1],10)-1,maxMonth:parseInt(f[1],10)-1,minYear:parseInt(c[0],10),maxYear:parseInt(f[0],10)}}},{key:"isLeapYear",value:function(e){return e%4==0&&e%100!=0||e%400==0}},{key:"calculcateLastDaysOfMonth",value:function(e,t,r){return this.determineDaysOfMonths(e,t)-r}},{key:"determineDaysOfYear",value:function(e){var t=365;return this.isLeapYear(e)&&(t=366),t}},{key:"determineRemainingDaysOfYear",value:function(e,t,r){var a=this.daysCntOfYear[t]+r;return t>1&&this.isLeapYear()&&a++,a}},{key:"determineDaysOfMonths",value:function(e,t){var r=30;switch(e=S.monthMod(e),!0){case this.months30.indexOf(e)>-1:e===2&&(r=this.isLeapYear(t)?29:28);break;case this.months31.indexOf(e)>-1:default:r=31}return r}}]),W}(),Ie=function(){function W(e){h(this,W),this.ctx=e,this.w=e.w,this.tooltipKeyFormat="dd MMM"}return m(W,[{key:"xLabelFormat",value:function(e,t,r,a){var n=this.w;if(n.config.xaxis.type==="datetime"&&n.config.xaxis.labels.formatter===void 0&&n.config.tooltip.x.formatter===void 0){var i=new Ae(this.ctx);return i.formatDate(i.getDate(t),n.config.tooltip.x.format)}return e(t,r,a)}},{key:"defaultGeneralFormatter",value:function(e){return Array.isArray(e)?e.map(function(t){return t}):e}},{key:"defaultYFormatter",value:function(e,t,r){var a=this.w;if(S.isNumber(e))if(a.globals.yValueDecimal!==0)e=e.toFixed(t.decimalsInFloat!==void 0?t.decimalsInFloat:a.globals.yValueDecimal);else{var n=e.toFixed(0);e=e==n?n:e.toFixed(1)}return e}},{key:"setLabelFormatters",value:function(){var e=this,t=this.w;return t.globals.xaxisTooltipFormatter=function(r){return e.defaultGeneralFormatter(r)},t.globals.ttKeyFormatter=function(r){return e.defaultGeneralFormatter(r)},t.globals.ttZFormatter=function(r){return r},t.globals.legendFormatter=function(r){return e.defaultGeneralFormatter(r)},t.config.xaxis.labels.formatter!==void 0?t.globals.xLabelFormatter=t.config.xaxis.labels.formatter:t.globals.xLabelFormatter=function(r){if(S.isNumber(r)){if(!t.config.xaxis.convertedCatToNumeric&&t.config.xaxis.type==="numeric"){if(S.isNumber(t.config.xaxis.decimalsInFloat))return r.toFixed(t.config.xaxis.decimalsInFloat);var a=t.globals.maxX-t.globals.minX;return a>0&&a<100?r.toFixed(1):r.toFixed(0)}return t.globals.isBarHorizontal&&t.globals.maxY-t.globals.minYArr<4?r.toFixed(1):r.toFixed(0)}return r},typeof t.config.tooltip.x.formatter=="function"?t.globals.ttKeyFormatter=t.config.tooltip.x.formatter:t.globals.ttKeyFormatter=t.globals.xLabelFormatter,typeof t.config.xaxis.tooltip.formatter=="function"&&(t.globals.xaxisTooltipFormatter=t.config.xaxis.tooltip.formatter),(Array.isArray(t.config.tooltip.y)||t.config.tooltip.y.formatter!==void 0)&&(t.globals.ttVal=t.config.tooltip.y),t.config.tooltip.z.formatter!==void 0&&(t.globals.ttZFormatter=t.config.tooltip.z.formatter),t.config.legend.formatter!==void 0&&(t.globals.legendFormatter=t.config.legend.formatter),t.config.yaxis.forEach(function(r,a){r.labels.formatter!==void 0?t.globals.yLabelFormatters[a]=r.labels.formatter:t.globals.yLabelFormatters[a]=function(n){return t.globals.xyCharts?Array.isArray(n)?n.map(function(i){return e.defaultYFormatter(i,r,a)}):e.defaultYFormatter(n,r,a):n}}),t.globals}},{key:"heatmapLabelFormatters",value:function(){var e=this.w;if(e.config.chart.type==="heatmap"){e.globals.yAxisScale[0].result=e.globals.seriesNames.slice();var t=e.globals.seriesNames.reduce(function(r,a){return r.length>a.length?r:a},0);e.globals.yAxisScale[0].niceMax=t,e.globals.yAxisScale[0].niceMin=t}}}]),W}(),Ee=function(){function W(e){h(this,W),this.ctx=e,this.w=e.w}return m(W,[{key:"getLabel",value:function(e,t,r,a){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",c=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],f=this.w,g=e[a]===void 0?"":e[a],x=g,b=f.globals.xLabelFormatter,w=f.config.xaxis.labels.formatter,_=!1,T=new Ie(this.ctx),M=g;c&&(x=T.xLabelFormat(b,g,M,{i:a,dateFormatter:new Ae(this.ctx).formatDate,w:f}),w!==void 0&&(x=w(g,e[a],{i:a,dateFormatter:new Ae(this.ctx).formatDate,w:f})));var V,X;t.length>0?(V=t[a].unit,X=null,t.forEach(function(O){O.unit==="month"?X="year":O.unit==="day"?X="month":O.unit==="hour"?X="day":O.unit==="minute"&&(X="hour")}),_=X===V,r=t[a].position,x=t[a].value):f.config.xaxis.type==="datetime"&&w===void 0&&(x=""),x===void 0&&(x=""),x=Array.isArray(x)?x:x.toString();var Z=new B(this.ctx),p={};p=f.globals.rotateXLabels&&c?Z.getTextRects(x,parseInt(i,10),null,"rotate(".concat(f.config.xaxis.labels.rotate," 0 0)"),!1):Z.getTextRects(x,parseInt(i,10));var C=!f.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(x)&&(String(x)==="NaN"||n.indexOf(x)>=0&&C)&&(x=""),{x:r,text:x,textRect:p,isBold:_}}},{key:"checkLabelBasedOnTickamount",value:function(e,t,r){var a=this.w,n=a.config.xaxis.tickAmount;return n==="dataPoints"&&(n=Math.round(a.globals.gridWidth/120)),n>r||e%Math.round(r/(n+1))==0||(t.text=""),t}},{key:"checkForOverflowingLabels",value:function(e,t,r,a,n){var i=this.w;if(e===0&&i.globals.skipFirstTimelinelabel&&(t.text=""),e===r-1&&i.globals.skipLastTimelinelabel&&(t.text=""),i.config.xaxis.labels.hideOverlappingLabels&&a.length>0){var c=n[n.length-1];t.x<c.textRect.width/(i.globals.rotateXLabels?Math.abs(i.config.xaxis.labels.rotate)/12:1.01)+c.x&&(t.text="")}return t}},{key:"checkForReversedLabels",value:function(e,t){var r=this.w;return r.config.yaxis[e]&&r.config.yaxis[e].reversed&&t.reverse(),t}},{key:"yAxisAllSeriesCollapsed",value:function(e){var t=this.w.globals;return!t.seriesYAxisMap[e].some(function(r){return t.collapsedSeriesIndices.indexOf(r)===-1})}},{key:"translateYAxisIndex",value:function(e){var t=this.w,r=t.globals,a=t.config.yaxis;return r.series.length>a.length||a.some(function(n){return Array.isArray(n.seriesName)})?e:r.seriesYAxisReverseMap[e]}},{key:"isYAxisHidden",value:function(e){var t=this.w,r=t.config.yaxis[e];if(!r.show||this.yAxisAllSeriesCollapsed(e))return!0;if(!r.showForNullSeries){var a=t.globals.seriesYAxisMap[e],n=new te(this.ctx);return a.every(function(i){return n.isSeriesNull(i)})}return!1}},{key:"getYAxisForeColor",value:function(e,t){var r=this.w;return Array.isArray(e)&&r.globals.yAxisScale[t]&&this.ctx.theme.pushExtraColors(e,r.globals.yAxisScale[t].result.length,!1),e}},{key:"drawYAxisTicks",value:function(e,t,r,a,n,i,c){var f=this.w,g=new B(this.ctx),x=f.globals.translateY+f.config.yaxis[n].labels.offsetY;if(f.globals.isBarHorizontal?x=0:f.config.chart.type==="heatmap"&&(x+=i/2),a.show&&t>0){f.config.yaxis[n].opposite===!0&&(e+=a.width);for(var b=t;b>=0;b--){var w=g.drawLine(e+r.offsetX-a.width+a.offsetX,x+a.offsetY,e+r.offsetX+a.offsetX,x+a.offsetY,a.color);c.add(w),x+=i}}}}]),W}(),Ne=function(){function W(e){h(this,W),this.w=e.w,this.annoCtx=e,this.helpers=new fe(this.annoCtx),this.axesUtils=new Ee(this.annoCtx)}return m(W,[{key:"addYaxisAnnotation",value:function(e,t,r){var a,n=this.w,i=e.strokeDashArray,c=this.helpers.getY1Y2("y1",e),f=c.yP,g=c.clipped,x=!0,b=!1,w=e.label.text;if(e.y2===null||e.y2===void 0){if(!g){b=!0;var _=this.annoCtx.graphics.drawLine(0+e.offsetX,f+e.offsetY,this._getYAxisAnnotationWidth(e),f+e.offsetY,e.borderColor,i,e.borderWidth);t.appendChild(_.node),e.id&&_.node.classList.add(e.id)}}else{if(a=(c=this.helpers.getY1Y2("y2",e)).yP,x=c.clipped,a>f){var T=f;f=a,a=T}if(!g||!x){b=!0;var M=this.annoCtx.graphics.drawRect(0+e.offsetX,a+e.offsetY,this._getYAxisAnnotationWidth(e),f-a,0,e.fillColor,e.opacity,1,e.borderColor,i);M.node.classList.add("apexcharts-annotation-rect"),M.attr("clip-path","url(#gridRectMask".concat(n.globals.cuid,")")),t.appendChild(M.node),e.id&&M.node.classList.add(e.id)}}if(b){var V=e.label.position==="right"?n.globals.gridWidth:e.label.position==="center"?n.globals.gridWidth/2:0,X=this.annoCtx.graphics.drawText({x:V+e.label.offsetX,y:(a??f)+e.label.offsetY-3,text:w,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});X.attr({rel:r}),t.appendChild(X.node)}}},{key:"_getYAxisAnnotationWidth",value:function(e){var t=this.w;return t.globals.gridWidth,(e.width.indexOf("%")>-1?t.globals.gridWidth*parseInt(e.width,10)/100:parseInt(e.width,10))+e.offsetX}},{key:"drawYAxisAnnotations",value:function(){var e=this,t=this.w,r=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return t.config.annotations.yaxis.forEach(function(a,n){a.yAxisIndex=e.axesUtils.translateYAxisIndex(a.yAxisIndex),e.axesUtils.isYAxisHidden(a.yAxisIndex)&&e.axesUtils.yAxisAllSeriesCollapsed(a.yAxisIndex)||e.addYaxisAnnotation(a,r.node,n)}),r}}]),W}(),Me=function(){function W(e){h(this,W),this.w=e.w,this.annoCtx=e,this.helpers=new fe(this.annoCtx)}return m(W,[{key:"addPointAnnotation",value:function(e,t,r){if(!(this.w.globals.collapsedSeriesIndices.indexOf(e.seriesIndex)>-1)){var a=this.helpers.getX1X2("x1",e),n=a.x,i=a.clipped,c=(a=this.helpers.getY1Y2("y1",e)).yP,f=a.clipped;if(S.isNumber(n)&&!f&&!i){var g={pSize:e.marker.size,pointStrokeWidth:e.marker.strokeWidth,pointFillColor:e.marker.fillColor,pointStrokeColor:e.marker.strokeColor,shape:e.marker.shape,pRadius:e.marker.radius,class:"apexcharts-point-annotation-marker ".concat(e.marker.cssClass," ").concat(e.id?e.id:"")},x=this.annoCtx.graphics.drawMarker(n+e.marker.offsetX,c+e.marker.offsetY,g);t.appendChild(x.node);var b=e.label.text?e.label.text:"",w=this.annoCtx.graphics.drawText({x:n+e.label.offsetX,y:c+e.label.offsetY-e.marker.size-parseFloat(e.label.style.fontSize)/1.6,text:b,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});if(w.attr({rel:r}),t.appendChild(w.node),e.customSVG.SVG){var _=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+e.customSVG.cssClass});_.attr({transform:"translate(".concat(n+e.customSVG.offsetX,", ").concat(c+e.customSVG.offsetY,")")}),_.node.innerHTML=e.customSVG.SVG,t.appendChild(_.node)}if(e.image.path){var T=e.image.width?e.image.width:20,M=e.image.height?e.image.height:20;x=this.annoCtx.addImage({x:n+e.image.offsetX-T/2,y:c+e.image.offsetY-M/2,width:T,height:M,path:e.image.path,appendTo:".apexcharts-point-annotations"})}e.mouseEnter&&x.node.addEventListener("mouseenter",e.mouseEnter.bind(this,e)),e.mouseLeave&&x.node.addEventListener("mouseleave",e.mouseLeave.bind(this,e)),e.click&&x.node.addEventListener("click",e.click.bind(this,e))}}}},{key:"drawPointAnnotations",value:function(){var e=this,t=this.w,r=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return t.config.annotations.points.map(function(a,n){e.addPointAnnotation(a,r.node,n)}),r}}]),W}(),ze={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},Je=function(){function W(){h(this,W),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,showDuplicates:!1,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return m(W,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"",locales:[ze],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",categoryFormatter:void 0,valueFormatter:void 0},png:{filename:void 0},svg:{filename:void 0},scale:void 0,width:void 0},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{line:{isSlopeChart:!1},area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(e){return e}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(e){return e+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(t,r){return t+r},0)/e.globals.series.length+"%"}}},barLabels:{enabled:!1,offsetX:0,offsetY:0,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(e){return e},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(e){return e}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(e){return e}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(t,r){return t+r},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(e){return e!==null?e:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{size:7,fillColors:void 0,strokeWidth:1,shape:void 0,offsetX:0,offsetY:0,customHTML:void 0,onClick:void 0},itemMargin:{horizontal:5,vertical:4},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",offsetX:0,offsetY:0,showNullDataPoints:!0,onClick:void 0,onDblClick:void 0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(e){return e?e+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),W}(),Ye=function(){function W(e){h(this,W),this.ctx=e,this.w=e.w,this.graphics=new B(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new fe(this),this.xAxisAnnotations=new Te(this),this.yAxisAnnotations=new Ne(this),this.pointsAnnotations=new Me(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return m(W,[{key:"drawAxesAnnotations",value:function(){var e=this.w;if(e.globals.axisCharts&&e.globals.dataPoints){for(var t=this.yAxisAnnotations.drawYAxisAnnotations(),r=this.xAxisAnnotations.drawXAxisAnnotations(),a=this.pointsAnnotations.drawPointAnnotations(),n=e.config.chart.animations.enabled,i=[t,r,a],c=[r.node,t.node,a.node],f=0;f<3;f++)e.globals.dom.elGraphical.add(i[f]),!n||e.globals.resized||e.globals.dataChanged||e.config.chart.type!=="scatter"&&e.config.chart.type!=="bubble"&&e.globals.dataPoints>1&&c[f].classList.add("apexcharts-element-hidden"),e.globals.delayedElements.push({el:c[f],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var e=this;this.w.config.annotations.images.map(function(t,r){e.addImage(t,r)})}},{key:"drawTextAnnos",value:function(){var e=this;this.w.config.annotations.texts.map(function(t,r){e.addText(t,r)})}},{key:"addXaxisAnnotation",value:function(e,t,r){this.xAxisAnnotations.addXaxisAnnotation(e,t,r)}},{key:"addYaxisAnnotation",value:function(e,t,r){this.yAxisAnnotations.addYaxisAnnotation(e,t,r)}},{key:"addPointAnnotation",value:function(e,t,r){this.pointsAnnotations.addPointAnnotation(e,t,r)}},{key:"addText",value:function(e,t){var r=e.x,a=e.y,n=e.text,i=e.textAnchor,c=e.foreColor,f=e.fontSize,g=e.fontFamily,x=e.fontWeight,b=e.cssClass,w=e.backgroundColor,_=e.borderWidth,T=e.strokeDashArray,M=e.borderRadius,V=e.borderColor,X=e.appendTo,Z=X===void 0?".apexcharts-svg":X,p=e.paddingLeft,C=p===void 0?4:p,O=e.paddingRight,ee=O===void 0?4:O,J=e.paddingBottom,re=J===void 0?2:J,me=e.paddingTop,be=me===void 0?2:me,Se=this.w,qe=this.graphics.drawText({x:r,y:a,text:n,textAnchor:i||"start",fontSize:f||"12px",fontWeight:x||"regular",fontFamily:g||Se.config.chart.fontFamily,foreColor:c||Se.config.chart.foreColor,cssClass:b}),$e=Se.globals.dom.baseEl.querySelector(Z);$e&&$e.appendChild(qe.node);var Fe=qe.bbox();if(n){var ut=this.graphics.drawRect(Fe.x-C,Fe.y-be,Fe.width+C+ee,Fe.height+re+be,M,w||"transparent",1,_,V,T);$e.insertBefore(ut.node,qe.node)}}},{key:"addImage",value:function(e,t){var r=this.w,a=e.path,n=e.x,i=n===void 0?0:n,c=e.y,f=c===void 0?0:c,g=e.width,x=g===void 0?20:g,b=e.height,w=b===void 0?20:b,_=e.appendTo,T=_===void 0?".apexcharts-svg":_,M=r.globals.dom.Paper.image(a);M.size(x,w).move(i,f);var V=r.globals.dom.baseEl.querySelector(T);return V&&V.appendChild(M.node),M}},{key:"addXaxisAnnotationExternal",value:function(e,t,r){return this.addAnnotationExternal({params:e,pushToMemory:t,context:r,type:"xaxis",contextMethod:r.addXaxisAnnotation}),r}},{key:"addYaxisAnnotationExternal",value:function(e,t,r){return this.addAnnotationExternal({params:e,pushToMemory:t,context:r,type:"yaxis",contextMethod:r.addYaxisAnnotation}),r}},{key:"addPointAnnotationExternal",value:function(e,t,r){return this.invertAxis===void 0&&(this.invertAxis=r.w.globals.isBarHorizontal),this.addAnnotationExternal({params:e,pushToMemory:t,context:r,type:"point",contextMethod:r.addPointAnnotation}),r}},{key:"addAnnotationExternal",value:function(e){var t=e.params,r=e.pushToMemory,a=e.context,n=e.type,i=e.contextMethod,c=a,f=c.w,g=f.globals.dom.baseEl.querySelector(".apexcharts-".concat(n,"-annotations")),x=g.childNodes.length+1,b=new Je,w=Object.assign({},n==="xaxis"?b.xAxisAnnotation:n==="yaxis"?b.yAxisAnnotation:b.pointAnnotation),_=S.extend(w,t);switch(n){case"xaxis":this.addXaxisAnnotation(_,g,x);break;case"yaxis":this.addYaxisAnnotation(_,g,x);break;case"point":this.addPointAnnotation(_,g,x)}var T=f.globals.dom.baseEl.querySelector(".apexcharts-".concat(n,"-annotations .apexcharts-").concat(n,"-annotation-label[rel='").concat(x,"']")),M=this.helpers.addBackgroundToAnno(T,_);return M&&g.insertBefore(M.node,T),r&&f.globals.memory.methodsToExec.push({context:c,id:_.id?_.id:S.randomId(),method:i,label:"addAnnotation",params:t}),a}},{key:"clearAnnotations",value:function(e){for(var t=e.w,r=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations"),a=t.globals.memory.methodsToExec.length-1;a>=0;a--)t.globals.memory.methodsToExec[a].label!=="addText"&&t.globals.memory.methodsToExec[a].label!=="addAnnotation"||t.globals.memory.methodsToExec.splice(a,1);r=S.listToArray(r),Array.prototype.forEach.call(r,function(n){for(;n.firstChild;)n.removeChild(n.firstChild)})}},{key:"removeAnnotation",value:function(e,t){var r=e.w,a=r.globals.dom.baseEl.querySelectorAll(".".concat(t));a&&(r.globals.memory.methodsToExec.map(function(n,i){n.id===t&&r.globals.memory.methodsToExec.splice(i,1)}),Array.prototype.forEach.call(a,function(n){n.parentElement.removeChild(n)}))}}]),W}(),st=function(W){var e,t=W.isTimeline,r=W.ctx,a=W.seriesIndex,n=W.dataPointIndex,i=W.y1,c=W.y2,f=W.w,g=f.globals.seriesRangeStart[a][n],x=f.globals.seriesRangeEnd[a][n],b=f.globals.labels[n],w=f.config.series[a].name?f.config.series[a].name:"",_=f.globals.ttKeyFormatter,T=f.config.tooltip.y.title.formatter,M={w:f,seriesIndex:a,dataPointIndex:n,start:g,end:x};typeof T=="function"&&(w=T(w,M)),(e=f.config.series[a].data[n])!==null&&e!==void 0&&e.x&&(b=f.config.series[a].data[n].x),t||f.config.xaxis.type==="datetime"&&(b=new Ie(r).xLabelFormat(f.globals.ttKeyFormatter,b,b,{i:void 0,dateFormatter:new Ae(r).formatDate,w:f})),typeof _=="function"&&(b=_(b,M)),Number.isFinite(i)&&Number.isFinite(c)&&(g=i,x=c);var V="",X="",Z=f.globals.colors[a];if(f.config.tooltip.x.formatter===void 0)if(f.config.xaxis.type==="datetime"){var p=new Ae(r);V=p.formatDate(p.getDate(g),f.config.tooltip.x.format),X=p.formatDate(p.getDate(x),f.config.tooltip.x.format)}else V=g,X=x;else V=f.config.tooltip.x.formatter(g),X=f.config.tooltip.x.formatter(x);return{start:g,end:x,startVal:V,endVal:X,ylabel:b,color:Z,seriesName:w}},xe=function(W){var e=W.color,t=W.seriesName,r=W.ylabel,a=W.start,n=W.end,i=W.seriesIndex,c=W.dataPointIndex,f=W.ctx.tooltip.tooltipLabels.getFormatters(i);a=f.yLbFormatter(a),n=f.yLbFormatter(n);var g=f.yLbFormatter(W.w.globals.series[i][c]),x=`<span class="value start-value">
  `.concat(a,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(n,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+e+'">'+(t||"")+'</span></div><div> <span class="category">'+r+": </span> "+(W.w.globals.comboCharts?W.w.config.series[i].type==="rangeArea"||W.w.config.series[i].type==="rangeBar"?x:"<span>".concat(g,"</span>"):x)+" </div></div>"},ue=function(){function W(e){h(this,W),this.opts=e}return m(W,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(e){return this.hideYAxis(),S.extend(e,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"slope",value:function(){return this.hideYAxis(),{chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(e,t){var r=t.w.config.series[t.seriesIndex].name;return e!==null?r+": "+e:""},background:{enabled:!1},offsetX:-5},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},xaxis:{position:"top",labels:{style:{fontSize:14,fontWeight:900}},tooltip:{enabled:!1},crosshairs:{show:!1}},markers:{size:8,hover:{sizeOffset:1}},legend:{show:!1},tooltip:{shared:!1,intersect:!0,followCursor:!0},stroke:{width:5,curve:"straight"}}}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square"}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),D(D({},this.bar()),{},{chart:{animations:{easing:"linear",speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var e=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var r=t.seriesIndex,a=t.dataPointIndex,n=t.w;return e._getBoxTooltip(n,r,a,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var e=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var r=t.seriesIndex,a=t.dataPointIndex,n=t.w;return e._getBoxTooltip(n,r,a,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:7,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(e,t){t.ctx;var r=t.seriesIndex,a=t.dataPointIndex,n=t.w,i=function(){var c=n.globals.seriesRangeStart[r][a];return n.globals.seriesRangeEnd[r][a]-c};return n.globals.comboCharts?n.config.series[r].type==="rangeBar"||n.config.series[r].type==="rangeArea"?i():e:i()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(e){return e.w.config.plotOptions&&e.w.config.plotOptions.bar&&e.w.config.plotOptions.bar.horizontal?function(t){var r=st(D(D({},t),{},{isTimeline:!0})),a=r.color,n=r.seriesName,i=r.ylabel,c=r.startVal,f=r.endVal;return xe(D(D({},t),{},{color:a,seriesName:n,ylabel:i,start:c,end:f}))}(e):function(t){var r=st(t),a=r.color,n=r.seriesName,i=r.ylabel,c=r.start,f=r.end;return xe(D(D({},t),{},{color:a,seriesName:n,ylabel:i,start:c,end:f}))}(e)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(e){var t,r;return(t=e.plotOptions.bar)!==null&&t!==void 0&&t.barHeight||(e.plotOptions.bar.barHeight=2),(r=e.plotOptions.bar)!==null&&r!==void 0&&r.columnWidth||(e.plotOptions.bar.columnWidth=2),e}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(e){return function(t){var r=st(t),a=r.color,n=r.seriesName,i=r.ylabel,c=r.start,f=r.end;return xe(D(D({},t),{},{color:a,seriesName:n,ylabel:i,start:c,end:f}))}(e)}}}}},{key:"brush",value:function(e){return S.extend(e,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(e){e.dataLabels=e.dataLabels||{},e.dataLabels.formatter=e.dataLabels.formatter||void 0;var t=e.dataLabels.formatter;return e.yaxis.forEach(function(r,a){e.yaxis[a].min=0,e.yaxis[a].max=100}),e.chart.type==="bar"&&(e.dataLabels.formatter=t||function(r){return typeof r=="number"&&r?r.toFixed(0)+"%":r}),e}},{key:"stackedBars",value:function(){var e=this.bar();return D(D({},e),{},{plotOptions:D(D({},e.plotOptions),{},{bar:D(D({},e.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(e){return e.xaxis.convertedCatToNumeric=!0,e}},{key:"convertCatToNumericXaxis",value:function(e,t,r){e.xaxis.type="numeric",e.xaxis.labels=e.xaxis.labels||{},e.xaxis.labels.formatter=e.xaxis.labels.formatter||function(i){return S.isNumber(i)?Math.floor(i):i};var a=e.xaxis.labels.formatter,n=e.xaxis.categories&&e.xaxis.categories.length?e.xaxis.categories:e.labels;return r&&r.length&&(n=r.map(function(i){return Array.isArray(i)?i:String(i)})),n&&n.length&&(e.xaxis.labels.formatter=function(i){return S.isNumber(i)?a(n[Math.floor(i)-1]):a(i)}),e.xaxis.categories=[],e.labels=[],e.xaxis.tickAmount=e.xaxis.tickAmount||"dataPoints",e}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square"}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{opacity:1,gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:5,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},xaxis:{labels:{formatter:function(e){return e},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"_getBoxTooltip",value:function(e,t,r,a,n){var i=e.globals.seriesCandleO[t][r],c=e.globals.seriesCandleH[t][r],f=e.globals.seriesCandleM[t][r],g=e.globals.seriesCandleL[t][r],x=e.globals.seriesCandleC[t][r];return e.config.series[t].type&&e.config.series[t].type!==n?`<div class="apexcharts-custom-tooltip">
          `.concat(e.config.series[t].name?e.config.series[t].name:"series-"+(t+1),": <strong>").concat(e.globals.series[t][r],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(e.config.chart.type,'">')+"<div>".concat(a[0],': <span class="value">')+i+"</span></div>"+"<div>".concat(a[1],': <span class="value">')+c+"</span></div>"+(f?"<div>".concat(a[2],': <span class="value">')+f+"</span></div>":"")+"<div>".concat(a[3],': <span class="value">')+g+"</span></div>"+"<div>".concat(a[4],': <span class="value">')+x+"</span></div></div>"}}]),W}(),Re=function(){function W(e){h(this,W),this.opts=e}return m(W,[{key:"init",value:function(e){var t=e.responsiveOverride,r=this.opts,a=new Je,n=new ue(r);this.chartType=r.chart.type,r=this.extendYAxis(r),r=this.extendAnnotations(r);var i=a.init(),c={};if(r&&Y(r)==="object"){var f,g,x,b,w,_,T,M,V,X,Z={};Z=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(r.chart.type)!==-1?n[r.chart.type]():n.line(),(f=r.plotOptions)!==null&&f!==void 0&&(g=f.bar)!==null&&g!==void 0&&g.isFunnel&&(Z=n.funnel()),r.chart.stacked&&r.chart.type==="bar"&&(Z=n.stackedBars()),(x=r.chart.brush)!==null&&x!==void 0&&x.enabled&&(Z=n.brush(Z)),(b=r.plotOptions)!==null&&b!==void 0&&(w=b.line)!==null&&w!==void 0&&w.isSlopeChart&&(Z=n.slope()),r.chart.stacked&&r.chart.stackType==="100%"&&(r=n.stacked100(r)),(_=r.plotOptions)!==null&&_!==void 0&&(T=_.bar)!==null&&T!==void 0&&T.isDumbbell&&(r=n.dumbbell(r)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(r),r.xaxis=r.xaxis||window.Apex.xaxis||{},t||(r.xaxis.convertedCatToNumeric=!1),((M=(r=this.checkForCatToNumericXAxis(this.chartType,Z,r)).chart.sparkline)!==null&&M!==void 0&&M.enabled||(V=window.Apex.chart)!==null&&V!==void 0&&(X=V.sparkline)!==null&&X!==void 0&&X.enabled)&&(Z=n.sparkline(Z)),c=S.extend(i,Z)}var p=S.extend(c,window.Apex);return i=S.extend(p,r),i=this.handleUserInputErrors(i)}},{key:"checkForCatToNumericXAxis",value:function(e,t,r){var a,n,i=new ue(r),c=(e==="bar"||e==="boxPlot")&&((a=r.plotOptions)===null||a===void 0||(n=a.bar)===null||n===void 0?void 0:n.horizontal),f=e==="pie"||e==="polarArea"||e==="donut"||e==="radar"||e==="radialBar"||e==="heatmap",g=r.xaxis.type!=="datetime"&&r.xaxis.type!=="numeric",x=r.xaxis.tickPlacement?r.xaxis.tickPlacement:t.xaxis&&t.xaxis.tickPlacement;return c||f||!g||x==="between"||(r=i.convertCatToNumeric(r)),r}},{key:"extendYAxis",value:function(e,t){var r=new Je;(e.yaxis===void 0||!e.yaxis||Array.isArray(e.yaxis)&&e.yaxis.length===0)&&(e.yaxis={}),e.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(e.yaxis=S.extend(e.yaxis,window.Apex.yaxis)),e.yaxis.constructor!==Array?e.yaxis=[S.extend(r.yAxis,e.yaxis)]:e.yaxis=S.extendArray(e.yaxis,r.yAxis);var a=!1;e.yaxis.forEach(function(i){i.logarithmic&&(a=!0)});var n=e.series;return t&&!n&&(n=t.config.series),a&&n.length!==e.yaxis.length&&n.length&&(e.yaxis=n.map(function(i,c){if(i.name||(n[c].name="series-".concat(c+1)),e.yaxis[c])return e.yaxis[c].seriesName=n[c].name,e.yaxis[c];var f=S.extend(r.yAxis,e.yaxis[0]);return f.show=!1,f})),a&&n.length>1&&n.length!==e.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),e}},{key:"extendAnnotations",value:function(e){return e.annotations===void 0&&(e.annotations={},e.annotations.yaxis=[],e.annotations.xaxis=[],e.annotations.points=[]),e=this.extendYAxisAnnotations(e),e=this.extendXAxisAnnotations(e),e=this.extendPointAnnotations(e)}},{key:"extendYAxisAnnotations",value:function(e){var t=new Je;return e.annotations.yaxis=S.extendArray(e.annotations.yaxis!==void 0?e.annotations.yaxis:[],t.yAxisAnnotation),e}},{key:"extendXAxisAnnotations",value:function(e){var t=new Je;return e.annotations.xaxis=S.extendArray(e.annotations.xaxis!==void 0?e.annotations.xaxis:[],t.xAxisAnnotation),e}},{key:"extendPointAnnotations",value:function(e){var t=new Je;return e.annotations.points=S.extendArray(e.annotations.points!==void 0?e.annotations.points:[],t.pointAnnotation),e}},{key:"checkForDarkTheme",value:function(e){e.theme&&e.theme.mode==="dark"&&(e.tooltip||(e.tooltip={}),e.tooltip.theme!=="light"&&(e.tooltip.theme="dark"),e.chart.foreColor||(e.chart.foreColor="#f6f7f8"),e.theme.palette||(e.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(e){var t=e;if(t.tooltip.shared&&t.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(t.chart.type==="bar"&&t.plotOptions.bar.horizontal){if(t.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");t.yaxis[0].reversed&&(t.yaxis[0].opposite=!0),t.xaxis.tooltip.enabled=!1,t.yaxis[0].tooltip.enabled=!1,t.chart.zoom.enabled=!1}return t.chart.type!=="bar"&&t.chart.type!=="rangeBar"||t.tooltip.shared&&t.xaxis.crosshairs.width==="barWidth"&&t.series.length>1&&(t.xaxis.crosshairs.width="tickWidth"),t.chart.type!=="candlestick"&&t.chart.type!=="boxPlot"||t.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(t.chart.type," chart is not supported.")),t.yaxis[0].reversed=!1),t}}]),W}(),bt=function(){function W(){h(this,W)}return m(W,[{key:"initGlobalVars",value:function(e){e.series=[],e.seriesCandleO=[],e.seriesCandleH=[],e.seriesCandleM=[],e.seriesCandleL=[],e.seriesCandleC=[],e.seriesRangeStart=[],e.seriesRangeEnd=[],e.seriesRange=[],e.seriesPercent=[],e.seriesGoals=[],e.seriesX=[],e.seriesZ=[],e.seriesNames=[],e.seriesTotals=[],e.seriesLog=[],e.seriesColors=[],e.stackedSeriesTotals=[],e.seriesXvalues=[],e.seriesYvalues=[],e.labels=[],e.hasXaxisGroups=!1,e.groups=[],e.barGroups=[],e.lineGroups=[],e.areaGroups=[],e.hasSeriesGroups=!1,e.seriesGroups=[],e.categoryLabels=[],e.timescaleLabels=[],e.noLabelsProvided=!1,e.resizeTimer=null,e.selectionResizeTimer=null,e.lastWheelExecution=0,e.delayedElements=[],e.pointsArray=[],e.dataLabelsRects=[],e.isXNumeric=!1,e.skipLastTimelinelabel=!1,e.skipFirstTimelinelabel=!1,e.isDataXYZ=!1,e.isMultiLineX=!1,e.isMultipleYAxis=!1,e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE,e.minYArr=[],e.maxYArr=[],e.maxX=-Number.MAX_VALUE,e.minX=Number.MAX_VALUE,e.initialMaxX=-Number.MAX_VALUE,e.initialMinX=Number.MAX_VALUE,e.maxDate=0,e.minDate=Number.MAX_VALUE,e.minZ=Number.MAX_VALUE,e.maxZ=-Number.MAX_VALUE,e.minXDiff=Number.MAX_VALUE,e.yAxisScale=[],e.xAxisScale=null,e.xAxisTicksPositions=[],e.yLabelsCoords=[],e.yTitleCoords=[],e.barPadForNumericAxis=0,e.padHorizontal=0,e.xRange=0,e.yRange=[],e.zRange=0,e.dataPoints=0,e.xTickAmount=0,e.multiAxisTickAmount=0}},{key:"globalVars",value:function(e){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:e.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],invalidLogScale:!1,ignoreYAxisIndexes:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:e.chart.toolbar.autoSelected==="zoom"&&e.chart.toolbar.tools.zoom&&e.chart.zoom.enabled,panEnabled:e.chart.toolbar.autoSelected==="pan"&&e.chart.toolbar.tools.pan,selectionEnabled:e.chart.toolbar.autoSelected==="selection"&&e.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,isSlopeChart:e.plotOptions.line.isSlopeChart,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]],niceScaleDefaultTicks:[1,2,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,12,12,12,12,12,12,12,12,12,24],seriesYAxisMap:[],seriesYAxisReverseMap:[]}}},{key:"init",value:function(e){var t=this.globalVars(e);return this.initGlobalVars(t),t.initialConfig=S.extend({},e),t.initialSeries=S.clone(e.series),t.lastXAxis=S.clone(t.initialConfig.xaxis),t.lastYAxis=S.clone(t.initialConfig.yaxis),t}}]),W}(),ot=function(){function W(e){h(this,W),this.opts=e}return m(W,[{key:"init",value:function(){var e=new Re(this.opts).init({responsiveOverride:!1});return{config:e,globals:new bt().init(e)}}}]),W}(),Pe=function(){function W(e){h(this,W),this.ctx=e,this.w=e.w,this.opts=null,this.seriesIndex=0,this.patternIDs=[]}return m(W,[{key:"clippedImgArea",value:function(e){var t=this.w,r=t.config,a=parseInt(t.globals.gridWidth,10),n=parseInt(t.globals.gridHeight,10),i=a>n?a:n,c=e.image,f=0,g=0;e.width===void 0&&e.height===void 0?r.fill.image.width!==void 0&&r.fill.image.height!==void 0?(f=r.fill.image.width+1,g=r.fill.image.height):(f=i+1,g=i):(f=e.width,g=e.height);var x=document.createElementNS(t.globals.SVGNS,"pattern");B.setAttrs(x,{id:e.patternID,patternUnits:e.patternUnits?e.patternUnits:"userSpaceOnUse",width:f+"px",height:g+"px"});var b=document.createElementNS(t.globals.SVGNS,"image");x.appendChild(b),b.setAttributeNS(window.SVG.xlink,"href",c),B.setAttrs(b,{x:0,y:0,preserveAspectRatio:"none",width:f+"px",height:g+"px"}),b.style.opacity=e.opacity,t.globals.dom.elDefs.node.appendChild(x)}},{key:"getSeriesIndex",value:function(e){var t=this.w,r=t.config.chart.type;return(r==="bar"||r==="rangeBar")&&t.config.plotOptions.bar.distributed||r==="heatmap"||r==="treemap"?this.seriesIndex=e.seriesNumber:this.seriesIndex=e.seriesNumber%t.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(e){var t=this.w;this.opts=e;var r,a,n,i=this.w.config;this.seriesIndex=this.getSeriesIndex(e);var c=this.getFillColors()[this.seriesIndex];t.globals.seriesColors[this.seriesIndex]!==void 0&&(c=t.globals.seriesColors[this.seriesIndex]),typeof c=="function"&&(c=c({seriesIndex:this.seriesIndex,dataPointIndex:e.dataPointIndex,value:e.value,w:t}));var f=e.fillType?e.fillType:this.getFillType(this.seriesIndex),g=Array.isArray(i.fill.opacity)?i.fill.opacity[this.seriesIndex]:i.fill.opacity;e.color&&(c=e.color),c||(c="#fff",console.warn("undefined color - ApexCharts"));var x=c;if(c.indexOf("rgb")===-1?c.length<9&&(x=S.hexToRgba(c,g)):c.indexOf("rgba")>-1&&(g=S.getOpacityFromRGBA(c)),e.opacity&&(g=e.opacity),f==="pattern"&&(a=this.handlePatternFill({fillConfig:e.fillConfig,patternFill:a,fillColor:c,fillOpacity:g,defaultColor:x})),f==="gradient"&&(n=this.handleGradientFill({fillConfig:e.fillConfig,fillColor:c,fillOpacity:g,i:this.seriesIndex})),f==="image"){var b=i.fill.image.src,w=e.patternID?e.patternID:"",_="pattern".concat(t.globals.cuid).concat(e.seriesNumber+1).concat(w);this.patternIDs.indexOf(_)===-1&&(this.clippedImgArea({opacity:g,image:Array.isArray(b)?e.seriesNumber<b.length?b[e.seriesNumber]:b[0]:b,width:e.width?e.width:void 0,height:e.height?e.height:void 0,patternUnits:e.patternUnits,patternID:_}),this.patternIDs.push(_)),r="url(#".concat(_,")")}else r=f==="gradient"?n:f==="pattern"?a:x;return e.solid&&(r=x),r}},{key:"getFillType",value:function(e){var t=this.w;return Array.isArray(t.config.fill.type)?t.config.fill.type[e]:t.config.fill.type}},{key:"getFillColors",value:function(){var e=this.w,t=e.config,r=this.opts,a=[];return e.globals.comboCharts?e.config.series[this.seriesIndex].type==="line"?Array.isArray(e.globals.stroke.colors)?a=e.globals.stroke.colors:a.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?a=e.globals.fill.colors:a.push(e.globals.fill.colors):t.chart.type==="line"?Array.isArray(e.globals.stroke.colors)?a=e.globals.stroke.colors:a.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?a=e.globals.fill.colors:a.push(e.globals.fill.colors),r.fillColors!==void 0&&(a=[],Array.isArray(r.fillColors)?a=r.fillColors.slice():a.push(r.fillColors)),a}},{key:"handlePatternFill",value:function(e){var t=e.fillConfig,r=e.patternFill,a=e.fillColor,n=e.fillOpacity,i=e.defaultColor,c=this.w.config.fill;t&&(c=t);var f=this.opts,g=new B(this.ctx),x=Array.isArray(c.pattern.strokeWidth)?c.pattern.strokeWidth[this.seriesIndex]:c.pattern.strokeWidth,b=a;return Array.isArray(c.pattern.style)?r=c.pattern.style[f.seriesNumber]!==void 0?g.drawPattern(c.pattern.style[f.seriesNumber],c.pattern.width,c.pattern.height,b,x,n):i:r=g.drawPattern(c.pattern.style,c.pattern.width,c.pattern.height,b,x,n),r}},{key:"handleGradientFill",value:function(e){var t=e.fillColor,r=e.fillOpacity,a=e.fillConfig,n=e.i,i=this.w.config.fill;a&&(i=D(D({},i),a));var c,f=this.opts,g=new B(this.ctx),x=new S,b=i.gradient.type,w=t,_=i.gradient.opacityFrom===void 0?r:Array.isArray(i.gradient.opacityFrom)?i.gradient.opacityFrom[n]:i.gradient.opacityFrom;w.indexOf("rgba")>-1&&(_=S.getOpacityFromRGBA(w));var T=i.gradient.opacityTo===void 0?r:Array.isArray(i.gradient.opacityTo)?i.gradient.opacityTo[n]:i.gradient.opacityTo;if(i.gradient.gradientToColors===void 0||i.gradient.gradientToColors.length===0)c=i.gradient.shade==="dark"?x.shadeColor(-1*parseFloat(i.gradient.shadeIntensity),t.indexOf("rgb")>-1?S.rgb2hex(t):t):x.shadeColor(parseFloat(i.gradient.shadeIntensity),t.indexOf("rgb")>-1?S.rgb2hex(t):t);else if(i.gradient.gradientToColors[f.seriesNumber]){var M=i.gradient.gradientToColors[f.seriesNumber];c=M,M.indexOf("rgba")>-1&&(T=S.getOpacityFromRGBA(M))}else c=t;if(i.gradient.gradientFrom&&(w=i.gradient.gradientFrom),i.gradient.gradientTo&&(c=i.gradient.gradientTo),i.gradient.inverseColors){var V=w;w=c,c=V}return w.indexOf("rgb")>-1&&(w=S.rgb2hex(w)),c.indexOf("rgb")>-1&&(c=S.rgb2hex(c)),g.drawGradient(b,w,c,_,T,f.size,i.gradient.stops,i.gradient.colorStops,n)}}]),W}(),ge=function(){function W(e,t){h(this,W),this.ctx=e,this.w=e.w}return m(W,[{key:"setGlobalMarkerSize",value:function(){var e=this.w;if(e.globals.markers.size=Array.isArray(e.config.markers.size)?e.config.markers.size:[e.config.markers.size],e.globals.markers.size.length>0){if(e.globals.markers.size.length<e.globals.series.length+1)for(var t=0;t<=e.globals.series.length;t++)e.globals.markers.size[t]===void 0&&e.globals.markers.size.push(e.globals.markers.size[0])}else e.globals.markers.size=e.config.series.map(function(r){return e.config.markers.size})}},{key:"plotChartMarkers",value:function(e,t,r,a){var n,i=arguments.length>4&&arguments[4]!==void 0&&arguments[4],c=this.w,f=t,g=e,x=null,b=new B(this.ctx),w=c.config.markers.discrete&&c.config.markers.discrete.length;if((c.globals.markers.size[t]>0||i||w)&&(x=b.group({class:i||w?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(c.globals.cuid,")")),Array.isArray(g.x))for(var _=0;_<g.x.length;_++){var T=r;r===1&&_===0&&(T=0),r===1&&_===1&&(T=1);var M="apexcharts-marker";if(c.config.chart.type!=="line"&&c.config.chart.type!=="area"||c.globals.comboCharts||c.config.tooltip.intersect||(M+=" no-pointer-events"),(Array.isArray(c.config.markers.size)?c.globals.markers.size[t]>0:c.config.markers.size>0)||i||w){S.isNumber(g.y[_])?M+=" w".concat(S.randomId()):M="apexcharts-nullpoint";var V=this.getMarkerConfig({cssClass:M,seriesIndex:t,dataPointIndex:T});c.config.series[f].data[T]&&(c.config.series[f].data[T].fillColor&&(V.pointFillColor=c.config.series[f].data[T].fillColor),c.config.series[f].data[T].strokeColor&&(V.pointStrokeColor=c.config.series[f].data[T].strokeColor)),a!==void 0&&(V.pSize=a),(g.x[_]<-c.globals.markers.largestSize||g.x[_]>c.globals.gridWidth+c.globals.markers.largestSize||g.y[_]<-c.globals.markers.largestSize||g.y[_]>c.globals.gridHeight+c.globals.markers.largestSize)&&(V.pSize=0),(n=b.drawMarker(g.x[_],g.y[_],V)).attr("rel",T),n.attr("j",T),n.attr("index",t),n.node.setAttribute("default-marker-size",V.pSize),new ae(this.ctx).setSelectionFilter(n,t,T),this.addEvents(n),x&&x.add(n)}else c.globals.pointsArray[t]===void 0&&(c.globals.pointsArray[t]=[]),c.globals.pointsArray[t].push([g.x[_],g.y[_]])}return x}},{key:"getMarkerConfig",value:function(e){var t=e.cssClass,r=e.seriesIndex,a=e.dataPointIndex,n=a===void 0?null:a,i=e.radius,c=i===void 0?null:i,f=e.size,g=f===void 0?null:f,x=e.strokeWidth,b=x===void 0?null:x,w=this.w,_=this.getMarkerStyle(r),T=g===null?w.globals.markers.size[r]:g,M=w.config.markers;return n!==null&&M.discrete.length&&M.discrete.map(function(V){V.seriesIndex===r&&V.dataPointIndex===n&&(_.pointStrokeColor=V.strokeColor,_.pointFillColor=V.fillColor,T=V.size,_.pointShape=V.shape)}),{pSize:c===null?T:c,pRadius:c!==null?c:M.radius,pointStrokeWidth:b!==null?b:Array.isArray(M.strokeWidth)?M.strokeWidth[r]:M.strokeWidth,pointStrokeColor:_.pointStrokeColor,pointFillColor:_.pointFillColor,shape:_.pointShape||(Array.isArray(M.shape)?M.shape[r]:M.shape),class:t,pointStrokeOpacity:Array.isArray(M.strokeOpacity)?M.strokeOpacity[r]:M.strokeOpacity,pointStrokeDashArray:Array.isArray(M.strokeDashArray)?M.strokeDashArray[r]:M.strokeDashArray,pointFillOpacity:Array.isArray(M.fillOpacity)?M.fillOpacity[r]:M.fillOpacity,seriesIndex:r}}},{key:"addEvents",value:function(e){var t=this.w,r=new B(this.ctx);e.node.addEventListener("mouseenter",r.pathMouseEnter.bind(this.ctx,e)),e.node.addEventListener("mouseleave",r.pathMouseLeave.bind(this.ctx,e)),e.node.addEventListener("mousedown",r.pathMouseDown.bind(this.ctx,e)),e.node.addEventListener("click",t.config.markers.onClick),e.node.addEventListener("dblclick",t.config.markers.onDblClick),e.node.addEventListener("touchstart",r.pathMouseDown.bind(this.ctx,e),{passive:!0})}},{key:"getMarkerStyle",value:function(e){var t=this.w,r=t.globals.markers.colors,a=t.config.markers.strokeColor||t.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(a)?a[e]:a,pointFillColor:Array.isArray(r)?r[e]:r}}}]),W}(),je=function(){function W(e){h(this,W),this.ctx=e,this.w=e.w,this.initialAnim=this.w.config.chart.animations.enabled}return m(W,[{key:"draw",value:function(e,t,r){var a=this.w,n=new B(this.ctx),i=r.realIndex,c=r.pointsPos,f=r.zRatio,g=r.elParent,x=n.group({class:"apexcharts-series-markers apexcharts-series-".concat(a.config.chart.type)});if(x.attr("clip-path","url(#gridRectMarkerMask".concat(a.globals.cuid,")")),Array.isArray(c.x))for(var b=0;b<c.x.length;b++){var w=t+1,_=!0;t===0&&b===0&&(w=0),t===0&&b===1&&(w=1);var T=a.globals.markers.size[i];if(f!==1/0){var M=a.config.plotOptions.bubble;T=a.globals.seriesZ[i][w],M.zScaling&&(T/=f),M.minBubbleRadius&&T<M.minBubbleRadius&&(T=M.minBubbleRadius),M.maxBubbleRadius&&T>M.maxBubbleRadius&&(T=M.maxBubbleRadius)}var V=c.x[b],X=c.y[b];if(T=T||0,X!==null&&a.globals.series[i][w]!==void 0||(_=!1),_){var Z=this.drawPoint(V,X,T,i,w,t);x.add(Z)}g.add(x)}}},{key:"drawPoint",value:function(e,t,r,a,n,i){var c=this.w,f=a,g=new K(this.ctx),x=new ae(this.ctx),b=new Pe(this.ctx),w=new ge(this.ctx),_=new B(this.ctx),T=w.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:f,dataPointIndex:n,radius:c.config.chart.type==="bubble"||c.globals.comboCharts&&c.config.series[a]&&c.config.series[a].type==="bubble"?r:null}),M=b.fillPath({seriesNumber:a,dataPointIndex:n,color:T.pointFillColor,patternUnits:"objectBoundingBox",value:c.globals.series[a][i]}),V=_.drawMarker(e,t,T);if(c.config.series[f].data[n]&&c.config.series[f].data[n].fillColor&&(M=c.config.series[f].data[n].fillColor),V.attr({fill:M}),c.config.chart.dropShadow.enabled){var X=c.config.chart.dropShadow;x.dropShadow(V,X,a)}if(!this.initialAnim||c.globals.dataChanged||c.globals.resized)c.globals.animationEnded=!0;else{var Z=c.config.chart.animations.speed;g.animateMarker(V,Z,c.globals.easing,function(){window.setTimeout(function(){g.animationCompleted(V)},100)})}return V.attr({rel:n,j:n,index:a,"default-marker-size":T.pSize}),x.setSelectionFilter(V,a,n),w.addEvents(V),V.node.classList.add("apexcharts-marker"),V}},{key:"centerTextInBubble",value:function(e){var t=this.w;return{y:e+=parseInt(t.config.dataLabels.style.fontSize,10)/4}}}]),W}(),ke=function(){function W(e){h(this,W),this.ctx=e,this.w=e.w}return m(W,[{key:"dataLabelsCorrection",value:function(e,t,r,a,n,i,c){var f=this.w,g=!1,x=new B(this.ctx).getTextRects(r,c),b=x.width,w=x.height;t<0&&(t=0),t>f.globals.gridHeight+w&&(t=f.globals.gridHeight+w/2),f.globals.dataLabelsRects[a]===void 0&&(f.globals.dataLabelsRects[a]=[]),f.globals.dataLabelsRects[a].push({x:e,y:t,width:b,height:w});var _=f.globals.dataLabelsRects[a].length-2,T=f.globals.lastDrawnDataLabelsIndexes[a]!==void 0?f.globals.lastDrawnDataLabelsIndexes[a][f.globals.lastDrawnDataLabelsIndexes[a].length-1]:0;if(f.globals.dataLabelsRects[a][_]!==void 0){var M=f.globals.dataLabelsRects[a][T];(e>M.x+M.width||t>M.y+M.height||t+w<M.y||e+b<M.x)&&(g=!0)}return(n===0||i)&&(g=!0),{x:e,y:t,textRects:x,drawnextLabel:g}}},{key:"drawDataLabel",value:function(e){var t=this,r=e.type,a=e.pos,n=e.i,i=e.j,c=e.isRangeStart,f=e.strokeWidth,g=f===void 0?2:f,x=this.w,b=new B(this.ctx),w=x.config.dataLabels,_=0,T=0,M=i,V=null;if(x.globals.collapsedSeriesIndices.indexOf(n)!==-1||!w.enabled||!Array.isArray(a.x))return V;V=b.group({class:"apexcharts-data-labels"});for(var X=0;X<a.x.length;X++)if(_=a.x[X]+w.offsetX,T=a.y[X]+w.offsetY+g,!isNaN(_)){i===1&&X===0&&(M=0),i===1&&X===1&&(M=1);var Z=x.globals.series[n][M];r==="rangeArea"&&(Z=c?x.globals.seriesRangeStart[n][M]:x.globals.seriesRangeEnd[n][M]);var p="",C=function(ee){return x.config.dataLabels.formatter(ee,{ctx:t.ctx,seriesIndex:n,dataPointIndex:M,w:x})};x.config.chart.type==="bubble"?(p=C(Z=x.globals.seriesZ[n][M]),T=a.y[X],T=new je(this.ctx).centerTextInBubble(T,n,M).y):Z!==void 0&&(p=C(Z));var O=x.config.dataLabels.textAnchor;x.globals.isSlopeChart&&(O=M===0?"end":M===x.config.series[n].data.length-1?"start":"middle"),this.plotDataLabelsText({x:_,y:T,text:p,i:n,j:M,parent:V,offsetCorrection:!0,dataLabelsConfig:x.config.dataLabels,textAnchor:O})}return V}},{key:"plotDataLabelsText",value:function(e){var t=this.w,r=new B(this.ctx),a=e.x,n=e.y,i=e.i,c=e.j,f=e.text,g=e.textAnchor,x=e.fontSize,b=e.parent,w=e.dataLabelsConfig,_=e.color,T=e.alwaysDrawDataLabel,M=e.offsetCorrection,V=e.className,X=null;if(Array.isArray(t.config.dataLabels.enabledOnSeries)&&t.config.dataLabels.enabledOnSeries.indexOf(i)<0)return X;var Z={x:a,y:n,drawnextLabel:!0,textRects:null};M&&(Z=this.dataLabelsCorrection(a,n,f,i,c,T,parseInt(w.style.fontSize,10))),t.globals.zoomed||(a=Z.x,n=Z.y),Z.textRects&&(a<-20-Z.textRects.width||a>t.globals.gridWidth+Z.textRects.width+30)&&(f="");var p=t.globals.dataLabels.style.colors[i];((t.config.chart.type==="bar"||t.config.chart.type==="rangeBar")&&t.config.plotOptions.bar.distributed||t.config.dataLabels.distributed)&&(p=t.globals.dataLabels.style.colors[c]),typeof p=="function"&&(p=p({series:t.globals.series,seriesIndex:i,dataPointIndex:c,w:t})),_&&(p=_);var C=w.offsetX,O=w.offsetY;if(t.config.chart.type!=="bar"&&t.config.chart.type!=="rangeBar"||(C=0,O=0),t.globals.isSlopeChart&&(c!==0&&(C=-2*w.offsetX+5),c!==0&&c!==t.config.series[i].data.length-1&&(C=0)),Z.drawnextLabel){if((X=r.drawText({width:100,height:parseInt(w.style.fontSize,10),x:a+C,y:n+O,foreColor:p,textAnchor:g||w.textAnchor,text:f,fontSize:x||w.style.fontSize,fontFamily:w.style.fontFamily,fontWeight:w.style.fontWeight||"normal"})).attr({class:V||"apexcharts-datalabel",cx:a,cy:n}),w.dropShadow.enabled){var ee=w.dropShadow;new ae(this.ctx).dropShadow(X,ee)}b.add(X),t.globals.lastDrawnDataLabelsIndexes[i]===void 0&&(t.globals.lastDrawnDataLabelsIndexes[i]=[]),t.globals.lastDrawnDataLabelsIndexes[i].push(c)}return X}},{key:"addBackgroundToDataLabel",value:function(e,t){var r=this.w,a=r.config.dataLabels.background,n=a.padding,i=a.padding/2,c=t.width,f=t.height,g=new B(this.ctx).drawRect(t.x-n,t.y-i/2,c+2*n,f+i,a.borderRadius,r.config.chart.background!=="transparent"&&r.config.chart.background?r.config.chart.background:"#fff",a.opacity,a.borderWidth,a.borderColor);return a.dropShadow.enabled&&new ae(this.ctx).dropShadow(g,a.dropShadow),g}},{key:"dataLabelsBackground",value:function(){var e=this.w;if(e.config.chart.type!=="bubble")for(var t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),r=0;r<t.length;r++){var a=t[r],n=a.getBBox(),i=null;if(n.width&&n.height&&(i=this.addBackgroundToDataLabel(a,n)),i){a.parentNode.insertBefore(i.node,a);var c=a.getAttribute("fill");e.config.chart.animations.enabled&&!e.globals.resized&&!e.globals.dataChanged?i.animate().attr({fill:c}):i.attr({fill:c}),a.setAttribute("fill",e.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var e=this.w,t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),r=e.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),a=0;a<t.length;a++)r&&r.insertBefore(t[a],r.nextSibling)}}]),W}(),ie=function(){function W(e){h(this,W),this.ctx=e,this.w=e.w,this.legendInactiveClass="legend-mouseover-inactive"}return m(W,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(e){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(S.escapeString(e),"']"))}},{key:"isSeriesHidden",value:function(e){var t=this.getSeriesByName(e),r=parseInt(t.getAttribute("data:realIndex"),10);return{isHidden:t.classList.contains("apexcharts-series-collapsed"),realIndex:r}}},{key:"addCollapsedClassToSeries",value:function(e,t){var r=this.w;function a(n){for(var i=0;i<n.length;i++)n[i].index===t&&e.node.classList.add("apexcharts-series-collapsed")}a(r.globals.collapsedSeries),a(r.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(e){var t=this.isSeriesHidden(e);return this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,t.isHidden),t.isHidden}},{key:"showSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!0)}},{key:"hideSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!1)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],a=this.w,n=S.clone(a.globals.initialSeries);a.globals.previousPaths=[],r?(a.globals.collapsedSeries=[],a.globals.ancillaryCollapsedSeries=[],a.globals.collapsedSeriesIndices=[],a.globals.ancillaryCollapsedSeriesIndices=[]):n=this.emptyCollapsedSeries(n),a.config.series=n,e&&(t&&(a.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(n,a.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(e){for(var t=this.w,r=0;r<e.length;r++)t.globals.collapsedSeriesIndices.indexOf(r)>-1&&(e[r].data=[]);return e}},{key:"highlightSeries",value:function(e){var t=this.w,r=this.getSeriesByName(e),a=parseInt(r==null?void 0:r.getAttribute("data:realIndex"),10),n=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis"),i=null,c=null,f=null;if(t.globals.axisCharts||t.config.chart.type==="radialBar")if(t.globals.axisCharts){i=t.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(a,"']")),c=t.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(a,"']"));var g=t.globals.seriesYAxisReverseMap[a];f=t.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(g,"']"))}else i=t.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(a+1,"']"));else i=t.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(a+1,"'] path"));for(var x=0;x<n.length;x++)n[x].classList.add(this.legendInactiveClass);if(i)t.globals.axisCharts||i.parentNode.classList.remove(this.legendInactiveClass),i.classList.remove(this.legendInactiveClass),c!==null&&c.classList.remove(this.legendInactiveClass),f!==null&&f.classList.remove(this.legendInactiveClass);else for(var b=0;b<n.length;b++)n[b].classList.remove(this.legendInactiveClass)}},{key:"toggleSeriesOnHover",value:function(e,t){var r=this.w;t||(t=e.target);var a=r.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis");if(e.type==="mousemove"){var n=parseInt(t.getAttribute("rel"),10)-1;this.highlightSeries(r.globals.seriesNames[n])}else if(e.type==="mouseout")for(var i=0;i<a.length;i++)a[i].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(e,t){var r=this,a=this.w,n=a.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),i=function(g){for(var x=0;x<n.length;x++)n[x].classList[g](r.legendInactiveClass)};if(e.type==="mousemove"){var c=parseInt(t.getAttribute("rel"),10)-1;i("add");var f=a.config.plotOptions.heatmap.colorScale.ranges;(function(g,x){for(var b=0;b<n.length;b++){var w=Number(n[b].getAttribute("val"));w>=g.from&&(w<g.to||g.to===x&&w===x)&&n[b].classList.remove(r.legendInactiveClass)}})(f[c],f.reduce(function(g,x){return Math.max(g,x.to)},0))}else e.type==="mouseout"&&i("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=this.w,a=0;if(r.config.series.length>1){for(var n=r.config.series.map(function(c,f){return c.data&&c.data.length>0&&r.globals.collapsedSeriesIndices.indexOf(f)===-1&&(!r.globals.comboCharts||t.length===0||t.length&&t.indexOf(r.config.series[f].type)>-1)?f:-1}),i=e==="asc"?0:n.length-1;e==="asc"?i<n.length:i>=0;e==="asc"?i++:i--)if(n[i]!==-1){a=n[i];break}}return a}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(e,t){return e.type==="bar"||e.type==="column"?t:-1}).filter(function(e){return e!==-1}):this.w.config.series.map(function(e,t){return t})}},{key:"getPreviousPaths",value:function(){var e=this.w;function t(i,c,f){for(var g=i[c].childNodes,x={type:f,paths:[],realIndex:i[c].getAttribute("data:realIndex")},b=0;b<g.length;b++)if(g[b].hasAttribute("pathTo")){var w=g[b].getAttribute("pathTo");x.paths.push({d:w})}e.globals.previousPaths.push(x)}e.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(i){for(var c,f=(c=i,e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(c,"-series .apexcharts-series"))),g=0;g<f.length;g++)t(f,g,i)}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series"));if(r.length>0)for(var a=function(i){for(var c=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(i,"'] rect")),f=[],g=function(b){var w=function(T){return c[b].getAttribute(T)},_={x:parseFloat(w("x")),y:parseFloat(w("y")),width:parseFloat(w("width")),height:parseFloat(w("height"))};f.push({rect:_,color:c[b].getAttribute("color")})},x=0;x<c.length;x++)g(x);e.globals.previousPaths.push(f)},n=0;n<r.length;n++)a(n);e.globals.axisCharts||(e.globals.previousPaths=e.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(e){var t=this.w,r=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e,"-series .apexcharts-series"));if(r.length>0)for(var a=0;a<r.length;a++){for(var n=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e,"-series .apexcharts-series[data\\:realIndex='").concat(a,"'] circle")),i=[],c=0;c<n.length;c++)i.push({x:n[c].getAttribute("cx"),y:n[c].getAttribute("cy"),r:n[c].getAttribute("r")});t.globals.previousPaths.push(i)}}},{key:"clearPreviousPaths",value:function(){var e=this.w;e.globals.previousPaths=[],e.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var e=this.w,t=e.config.noData,r=new B(this.ctx),a=e.globals.svgWidth/2,n=e.globals.svgHeight/2,i="middle";if(e.globals.noData=!0,e.globals.animationEnded=!0,t.align==="left"?(a=10,i="start"):t.align==="right"&&(a=e.globals.svgWidth-10,i="end"),t.verticalAlign==="top"?n=50:t.verticalAlign==="bottom"&&(n=e.globals.svgHeight-50),a+=t.offsetX,n=n+parseInt(t.style.fontSize,10)+2+t.offsetY,t.text!==void 0&&t.text!==""){var c=r.drawText({x:a,y:n,text:t.text,textAnchor:i,fontSize:t.style.fontSize,fontFamily:t.style.fontFamily,foreColor:t.style.color,opacity:1,class:"apexcharts-text-nodata"});e.globals.dom.Paper.add(c)}}},{key:"setNullSeriesToZeroValues",value:function(e){for(var t=this.w,r=0;r<e.length;r++)if(e[r].length===0)for(var a=0;a<e[t.globals.maxValsInArrayIndex].length;a++)e[r].push(0);return e}},{key:"hasAllSeriesEqualX",value:function(){for(var e=!0,t=this.w,r=this.filteredSeriesX(),a=0;a<r.length-1;a++)if(r[a][0]!==r[a+1][0]){e=!1;break}return t.globals.allSeriesHasEqualX=e,e}},{key:"filteredSeriesX",value:function(){var e=this.w.globals.seriesX.map(function(t){return t.length>0?t:[]});return e}}]),W}(),ye=function(){function W(e){h(this,W),this.ctx=e,this.w=e.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new te(this.ctx)}return m(W,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var e=this.w.config.series.slice(),t=new ie(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].x!==void 0&&e[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var e=this.w.config.series.slice(),t=new ie(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==void 0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(e,t){for(var r=this.w.config,a=this.w.globals,n=r.chart.type==="boxPlot"||r.series[t].type==="boxPlot",i=0;i<e[t].data.length;i++)if(e[t].data[i][1]!==void 0&&(Array.isArray(e[t].data[i][1])&&e[t].data[i][1].length===4&&!n?this.twoDSeries.push(S.parseNumber(e[t].data[i][1][3])):e[t].data[i].length>=5?this.twoDSeries.push(S.parseNumber(e[t].data[i][4])):this.twoDSeries.push(S.parseNumber(e[t].data[i][1])),a.dataFormatXNumeric=!0),r.xaxis.type==="datetime"){var c=new Date(e[t].data[i][0]);c=new Date(c).getTime(),this.twoDSeriesX.push(c)}else this.twoDSeriesX.push(e[t].data[i][0]);for(var f=0;f<e[t].data.length;f++)e[t].data[f][2]!==void 0&&(this.threeDSeries.push(e[t].data[f][2]),a.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(e,t){var r=this.w.config,a=this.w.globals,n=new Ae(this.ctx),i=t;a.collapsedSeriesIndices.indexOf(t)>-1&&(i=this.activeSeriesIndex);for(var c=0;c<e[t].data.length;c++)e[t].data[c].y!==void 0&&(Array.isArray(e[t].data[c].y)?this.twoDSeries.push(S.parseNumber(e[t].data[c].y[e[t].data[c].y.length-1])):this.twoDSeries.push(S.parseNumber(e[t].data[c].y))),e[t].data[c].goals!==void 0&&Array.isArray(e[t].data[c].goals)?(this.seriesGoals[t]===void 0&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(e[t].data[c].goals)):(this.seriesGoals[t]===void 0&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(null));for(var f=0;f<e[i].data.length;f++){var g=typeof e[i].data[f].x=="string",x=Array.isArray(e[i].data[f].x),b=!x&&!!n.isValidDate(e[i].data[f].x);if(g||b)if(g||r.xaxis.convertedCatToNumeric){var w=a.isBarHorizontal&&a.isRangeData;r.xaxis.type!=="datetime"||w?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[i].data[f].x),isNaN(e[i].data[f].x)||this.w.config.xaxis.type==="category"||typeof e[i].data[f].x=="string"||(a.isXNumeric=!0)):this.twoDSeriesX.push(n.parseDate(e[i].data[f].x))}else r.xaxis.type==="datetime"?this.twoDSeriesX.push(n.parseDate(e[i].data[f].x.toString())):(a.dataFormatXNumeric=!0,a.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(e[i].data[f].x)));else x?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[i].data[f].x)):(a.isXNumeric=!0,a.dataFormatXNumeric=!0,this.twoDSeriesX.push(e[i].data[f].x))}if(e[t].data[0]&&e[t].data[0].z!==void 0){for(var _=0;_<e[t].data.length;_++)this.threeDSeries.push(e[t].data[_].z);a.isDataXYZ=!0}}},{key:"handleRangeData",value:function(e,t){var r=this.w.globals,a={};return this.isFormat2DArray()?a=this.handleRangeDataFormat("array",e,t):this.isFormatXY()&&(a=this.handleRangeDataFormat("xy",e,t)),r.seriesRangeStart.push(a.start===void 0?[]:a.start),r.seriesRangeEnd.push(a.end===void 0?[]:a.end),r.seriesRange.push(a.rangeUniques),r.seriesRange.forEach(function(n,i){n&&n.forEach(function(c,f){c.y.forEach(function(g,x){for(var b=0;b<c.y.length;b++)if(x!==b){var w=g.y1,_=g.y2,T=c.y[b].y1;w<=c.y[b].y2&&T<=_&&(c.overlaps.indexOf(g.rangeName)<0&&c.overlaps.push(g.rangeName),c.overlaps.indexOf(c.y[b].rangeName)<0&&c.overlaps.push(c.y[b].rangeName))}})})}),a}},{key:"handleCandleStickBoxData",value:function(e,t){var r=this.w.globals,a={};return this.isFormat2DArray()?a=this.handleCandleStickBoxDataFormat("array",e,t):this.isFormatXY()&&(a=this.handleCandleStickBoxDataFormat("xy",e,t)),r.seriesCandleO[t]=a.o,r.seriesCandleH[t]=a.h,r.seriesCandleM[t]=a.m,r.seriesCandleL[t]=a.l,r.seriesCandleC[t]=a.c,a}},{key:"handleRangeDataFormat",value:function(e,t,r){var a=[],n=[],i=t[r].data.filter(function(x,b,w){return b===w.findIndex(function(_){return _.x===x.x})}).map(function(x,b){return{x:x.x,overlaps:[],y:[]}});if(e==="array")for(var c=0;c<t[r].data.length;c++)Array.isArray(t[r].data[c])?(a.push(t[r].data[c][1][0]),n.push(t[r].data[c][1][1])):(a.push(t[r].data[c]),n.push(t[r].data[c]));else if(e==="xy")for(var f=function(x){var b=Array.isArray(t[r].data[x].y),w=S.randomId(),_=t[r].data[x].x,T={y1:b?t[r].data[x].y[0]:t[r].data[x].y,y2:b?t[r].data[x].y[1]:t[r].data[x].y,rangeName:w};t[r].data[x].rangeName=w;var M=i.findIndex(function(V){return V.x===_});i[M].y.push(T),a.push(T.y1),n.push(T.y2)},g=0;g<t[r].data.length;g++)f(g);return{start:a,end:n,rangeUniques:i}}},{key:"handleCandleStickBoxDataFormat",value:function(e,t,r){var a=this.w,n=a.config.chart.type==="boxPlot"||a.config.series[r].type==="boxPlot",i=[],c=[],f=[],g=[],x=[];if(e==="array")if(n&&t[r].data[0].length===6||!n&&t[r].data[0].length===5)for(var b=0;b<t[r].data.length;b++)i.push(t[r].data[b][1]),c.push(t[r].data[b][2]),n?(f.push(t[r].data[b][3]),g.push(t[r].data[b][4]),x.push(t[r].data[b][5])):(g.push(t[r].data[b][3]),x.push(t[r].data[b][4]));else for(var w=0;w<t[r].data.length;w++)Array.isArray(t[r].data[w][1])&&(i.push(t[r].data[w][1][0]),c.push(t[r].data[w][1][1]),n?(f.push(t[r].data[w][1][2]),g.push(t[r].data[w][1][3]),x.push(t[r].data[w][1][4])):(g.push(t[r].data[w][1][2]),x.push(t[r].data[w][1][3])));else if(e==="xy")for(var _=0;_<t[r].data.length;_++)Array.isArray(t[r].data[_].y)&&(i.push(t[r].data[_].y[0]),c.push(t[r].data[_].y[1]),n?(f.push(t[r].data[_].y[2]),g.push(t[r].data[_].y[3]),x.push(t[r].data[_].y[4])):(g.push(t[r].data[_].y[2]),x.push(t[r].data[_].y[3])));return{o:i,h:c,m:f,l:g,c:x}}},{key:"parseDataAxisCharts",value:function(e){var t=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,a=this.w.config,n=this.w.globals,i=new Ae(r),c=a.labels.length>0?a.labels.slice():a.xaxis.categories.slice();n.isRangeBar=a.chart.type==="rangeBar"&&n.isBarHorizontal,n.hasXaxisGroups=a.xaxis.type==="category"&&a.xaxis.group.groups.length>0,n.hasXaxisGroups&&(n.groups=a.xaxis.group.groups),e.forEach(function(_,T){_.name!==void 0?n.seriesNames.push(_.name):n.seriesNames.push("series-"+parseInt(T+1,10))}),this.coreUtils.setSeriesYAxisMappings();var f=[],g=H(new Set(a.series.map(function(_){return _.group})));a.series.forEach(function(_,T){var M=g.indexOf(_.group);f[M]||(f[M]=[]),f[M].push(n.seriesNames[T])}),n.seriesGroups=f;for(var x=function(){for(var _=0;_<c.length;_++)if(typeof c[_]=="string"){if(!i.isValidDate(c[_]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");t.twoDSeriesX.push(i.parseDate(c[_]))}else t.twoDSeriesX.push(c[_])},b=0;b<e.length;b++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],e[b].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(a.chart.type!=="rangeBar"&&a.chart.type!=="rangeArea"&&e[b].type!=="rangeBar"&&e[b].type!=="rangeArea"||(n.isRangeData=!0,a.chart.type!=="rangeBar"&&a.chart.type!=="rangeArea"||this.handleRangeData(e,b)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(e,b):this.isFormatXY()&&this.handleFormatXY(e,b),a.chart.type!=="candlestick"&&e[b].type!=="candlestick"&&a.chart.type!=="boxPlot"&&e[b].type!=="boxPlot"||this.handleCandleStickBoxData(e,b),n.series.push(this.twoDSeries),n.labels.push(this.twoDSeriesX),n.seriesX.push(this.twoDSeriesX),n.seriesGoals=this.seriesGoals,b!==this.activeSeriesIndex||this.fallbackToCategory||(n.isXNumeric=!0);else{a.xaxis.type==="datetime"?(n.isXNumeric=!0,x(),n.seriesX.push(this.twoDSeriesX)):a.xaxis.type==="numeric"&&(n.isXNumeric=!0,c.length>0&&(this.twoDSeriesX=c,n.seriesX.push(this.twoDSeriesX))),n.labels.push(this.twoDSeriesX);var w=e[b].data.map(function(_){return S.parseNumber(_)});n.series.push(w)}n.seriesZ.push(this.threeDSeries),e[b].color!==void 0?n.seriesColors.push(e[b].color):n.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(e){var t=this.w.globals,r=this.w.config;t.series=e.slice(),t.seriesNames=r.labels.slice();for(var a=0;a<t.series.length;a++)t.seriesNames[a]===void 0&&t.seriesNames.push("series-"+(a+1));return this.w}},{key:"handleExternalLabelsData",value:function(e){var t=this.w.config,r=this.w.globals;t.xaxis.categories.length>0?r.labels=t.xaxis.categories:t.labels.length>0?r.labels=t.labels.slice():this.fallbackToCategory?(r.labels=r.labels[0],r.seriesRange.length&&(r.seriesRange.map(function(a){a.forEach(function(n){r.labels.indexOf(n.x)<0&&n.x&&r.labels.push(n.x)})}),r.labels=Array.from(new Set(r.labels.map(JSON.stringify)),JSON.parse)),t.xaxis.convertedCatToNumeric&&(new ue(t).convertCatToNumericXaxis(t,this.ctx,r.seriesX[0]),this._generateExternalLabels(e))):this._generateExternalLabels(e)}},{key:"_generateExternalLabels",value:function(e){var t=this.w.globals,r=this.w.config,a=[];if(t.axisCharts){if(t.series.length>0)if(this.isFormatXY())for(var n=r.series.map(function(b,w){return b.data.filter(function(_,T,M){return M.findIndex(function(V){return V.x===_.x})===T})}),i=n.reduce(function(b,w,_,T){return T[b].length>w.length?b:_},0),c=0;c<n[i].length;c++)a.push(c+1);else for(var f=0;f<t.series[t.maxValsInArrayIndex].length;f++)a.push(f+1);t.seriesX=[];for(var g=0;g<e.length;g++)t.seriesX.push(a);this.w.globals.isBarHorizontal||(t.isXNumeric=!0)}if(a.length===0){a=t.axisCharts?[]:t.series.map(function(b,w){return w+1});for(var x=0;x<e.length;x++)t.seriesX.push(a)}t.labels=a,r.xaxis.convertedCatToNumeric&&(t.categoryLabels=a.map(function(b){return r.xaxis.labels.formatter(b)})),t.noLabelsProvided=!0}},{key:"parseData",value:function(e){var t=this.w,r=t.config,a=t.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),a.axisCharts?(this.parseDataAxisCharts(e),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(e),r.chart.stacked){var n=new ie(this.ctx);a.series=n.setNullSeriesToZeroValues(a.series)}this.coreUtils.getSeriesTotals(),a.axisCharts&&(a.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),a.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),a.dataFormatXNumeric||a.isXNumeric&&(r.xaxis.type!=="numeric"||r.labels.length!==0||r.xaxis.categories.length!==0)||this.handleExternalLabelsData(e);for(var i=this.coreUtils.getCategoryLabels(a.labels),c=0;c<i.length;c++)if(Array.isArray(i[c])){a.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var e=this.w,t=[];e.globals.seriesYAxisMap.forEach(function(r,a){var n=0;r.forEach(function(i){e.globals.collapsedSeriesIndices.indexOf(i)!==-1&&n++}),n>0&&n==r.length&&t.push(a)}),e.globals.ignoreYAxisIndexes=t.map(function(r){return r})}}]),W}(),ne=function(){function W(e){h(this,W),this.ctx=e,this.w=e.w}return m(W,[{key:"scaleSvgNode",value:function(e,t){var r=parseFloat(e.getAttributeNS(null,"width")),a=parseFloat(e.getAttributeNS(null,"height"));e.setAttributeNS(null,"width",r*t),e.setAttributeNS(null,"height",a*t),e.setAttributeNS(null,"viewBox","0 0 "+r+" "+a)}},{key:"getSvgString",value:function(){var e=this;return new Promise(function(t){var r=e.w,a=r.config.chart.toolbar.export.width,n=r.config.chart.toolbar.export.scale||a/r.globals.svgWidth;n||(n=1);var i=e.w.globals.dom.Paper.svg(),c=e.w.globals.dom.Paper.node.cloneNode(!0);n!==1&&e.scaleSvgNode(c,n),e.convertImagesToBase64(c).then(function(){i=new XMLSerializer().serializeToString(c),t(i.replace(/&nbsp;/g,"&#160;"))})})}},{key:"convertImagesToBase64",value:function(e){var t=this,r=e.getElementsByTagName("image"),a=Array.from(r).map(function(n){var i=n.getAttributeNS("http://www.w3.org/1999/xlink","href");return i&&!i.startsWith("data:")?t.getBase64FromUrl(i).then(function(c){n.setAttributeNS("http://www.w3.org/1999/xlink","href",c)}).catch(function(c){console.error("Error converting image to base64:",c)}):Promise.resolve()});return Promise.all(a)}},{key:"getBase64FromUrl",value:function(e){return new Promise(function(t,r){var a=new Image;a.crossOrigin="Anonymous",a.onload=function(){var n=document.createElement("canvas");n.width=a.width,n.height=a.height,n.getContext("2d").drawImage(a,0,0),t(n.toDataURL())},a.onerror=r,a.src=e})}},{key:"cleanup",value:function(){var e=this.w,t=e.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),r=e.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(a,function(n){n.setAttribute("width",0)}),t&&t[0]&&(t[0].setAttribute("x",-500),t[0].setAttribute("x1",-500),t[0].setAttribute("x2",-500)),r&&r[0]&&(r[0].setAttribute("y",-100),r[0].setAttribute("y1",-100),r[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){var e=this;return new Promise(function(t){e.cleanup(),e.getSvgString().then(function(r){var a=new Blob([r],{type:"image/svg+xml;charset=utf-8"});t(URL.createObjectURL(a))})})}},{key:"dataURI",value:function(e){var t=this;return new Promise(function(r){var a=t.w,n=e?e.scale||e.width/a.globals.svgWidth:1;t.cleanup();var i=document.createElement("canvas");i.width=a.globals.svgWidth*n,i.height=parseInt(a.globals.dom.elWrap.style.height,10)*n;var c=a.config.chart.background!=="transparent"&&a.config.chart.background?a.config.chart.background:"#fff",f=i.getContext("2d");f.fillStyle=c,f.fillRect(0,0,i.width*n,i.height*n),t.getSvgString().then(function(g){var x="data:image/svg+xml,"+encodeURIComponent(g),b=new Image;b.crossOrigin="anonymous",b.onload=function(){if(f.drawImage(b,0,0),i.msToBlob){var w=i.msToBlob();r({blob:w})}else{var _=i.toDataURL("image/png");r({imgURI:_})}},b.src=x})})}},{key:"exportToSVG",value:function(){var e=this;this.svgUrl().then(function(t){e.triggerDownload(t,e.w.config.chart.toolbar.export.svg.filename,".svg")})}},{key:"exportToPng",value:function(){var e=this,t=this.w.config.chart.toolbar.export.scale,r=this.w.config.chart.toolbar.export.width,a=t?{scale:t}:r?{width:r}:void 0;this.dataURI(a).then(function(n){var i=n.imgURI,c=n.blob;c?navigator.msSaveOrOpenBlob(c,e.w.globals.chartID+".png"):e.triggerDownload(i,e.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(e){var t=this,r=e.series,a=e.fileName,n=e.columnDelimiter,i=n===void 0?",":n,c=e.lineDelimiter,f=c===void 0?`
`:c,g=this.w;r||(r=g.config.series);var x,b,w=[],_=[],T="",M=g.globals.series.map(function(J,re){return g.globals.collapsedSeriesIndices.indexOf(re)===-1?J:[]}),V=function(J){return typeof g.config.chart.toolbar.export.csv.categoryFormatter=="function"?g.config.chart.toolbar.export.csv.categoryFormatter(J):g.config.xaxis.type==="datetime"&&String(J).length>=10?new Date(J).toDateString():S.isNumber(J)?J:J.split(i).join("")},X=function(J){return typeof g.config.chart.toolbar.export.csv.valueFormatter=="function"?g.config.chart.toolbar.export.csv.valueFormatter(J):J},Z=Math.max.apply(Math,H(r.map(function(J){return J.data?J.data.length:0}))),p=new ye(this.ctx),C=new Ee(this.ctx),O=function(J){var re="";if(g.globals.axisCharts){if(g.config.xaxis.type==="category"||g.config.xaxis.convertedCatToNumeric)if(g.globals.isBarHorizontal){var me=g.globals.yLabelFormatters[0],be=new ie(t.ctx).getActiveConfigSeriesIndex();re=me(g.globals.labels[J],{seriesIndex:be,dataPointIndex:J,w:g})}else re=C.getLabel(g.globals.labels,g.globals.timescaleLabels,0,J).text;g.config.xaxis.type==="datetime"&&(g.config.xaxis.categories.length?re=g.config.xaxis.categories[J]:g.config.labels.length&&(re=g.config.labels[J]))}else re=g.config.labels[J];return re===null?"nullvalue":(Array.isArray(re)&&(re=re.join(" ")),S.isNumber(re)?re:re.split(i).join(""))},ee=function(J,re){if(w.length&&re===0&&_.push(w.join(i)),J.data){J.data=J.data.length&&J.data||H(Array(Z)).map(function(){return""});for(var me=0;me<J.data.length;me++){w=[];var be=O(me);if(be!=="nullvalue"){if(be||(p.isFormatXY()?be=r[re].data[me].x:p.isFormat2DArray()&&(be=r[re].data[me]?r[re].data[me][0]:"")),re===0){w.push(V(be));for(var Se=0;Se<g.globals.series.length;Se++){var qe,$e=p.isFormatXY()?(qe=r[Se].data[me])===null||qe===void 0?void 0:qe.y:M[Se][me];w.push(X($e))}}(g.config.chart.type==="candlestick"||J.type&&J.type==="candlestick")&&(w.pop(),w.push(g.globals.seriesCandleO[re][me]),w.push(g.globals.seriesCandleH[re][me]),w.push(g.globals.seriesCandleL[re][me]),w.push(g.globals.seriesCandleC[re][me])),(g.config.chart.type==="boxPlot"||J.type&&J.type==="boxPlot")&&(w.pop(),w.push(g.globals.seriesCandleO[re][me]),w.push(g.globals.seriesCandleH[re][me]),w.push(g.globals.seriesCandleM[re][me]),w.push(g.globals.seriesCandleL[re][me]),w.push(g.globals.seriesCandleC[re][me])),g.config.chart.type==="rangeBar"&&(w.pop(),w.push(g.globals.seriesRangeStart[re][me]),w.push(g.globals.seriesRangeEnd[re][me])),w.length&&_.push(w.join(i))}}}};w.push(g.config.chart.toolbar.export.csv.headerCategory),g.config.chart.type==="boxPlot"?(w.push("minimum"),w.push("q1"),w.push("median"),w.push("q3"),w.push("maximum")):g.config.chart.type==="candlestick"?(w.push("open"),w.push("high"),w.push("low"),w.push("close")):g.config.chart.type==="rangeBar"?(w.push("minimum"),w.push("maximum")):r.map(function(J,re){var me=(J.name?J.name:"series-".concat(re))+"";g.globals.axisCharts&&w.push(me.split(i).join("")?me.split(i).join(""):"series-".concat(re))}),g.globals.axisCharts||(w.push(g.config.chart.toolbar.export.csv.headerValue),_.push(w.join(i))),g.globals.allSeriesHasEqualX||!g.globals.axisCharts||g.config.xaxis.categories.length||g.config.labels.length?r.map(function(J,re){g.globals.axisCharts?ee(J,re):((w=[]).push(V(g.globals.labels[re])),w.push(X(M[re])),_.push(w.join(i)))}):(x=new Set,b={},r.forEach(function(J,re){J==null||J.data.forEach(function(me){var be,Se;if(p.isFormatXY())be=me.x,Se=me.y;else{if(!p.isFormat2DArray())return;be=me[0],Se=me[1]}b[be]||(b[be]=Array(r.length).fill("")),b[be][re]=X(Se),x.add(be)})}),w.length&&_.push(w.join(i)),Array.from(x).sort().forEach(function(J){_.push([V(J),b[J].join(i)])})),T+=_.join(f),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+T),a||g.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(e,t,r){var a=document.createElement("a");a.href=e,a.download=(t||this.w.globals.chartID)+r,document.body.appendChild(a),a.click(),document.body.removeChild(a)}}]),W}(),le=function(){function W(e,t){h(this,W),this.ctx=e,this.elgrid=t,this.w=e.w;var r=this.w;this.axesUtils=new Ee(e),this.xaxisLabels=r.globals.labels.slice(),r.globals.timescaleLabels.length>0&&!r.globals.isBarHorizontal&&(this.xaxisLabels=r.globals.timescaleLabels.slice()),r.config.xaxis.overwriteCategories&&(this.xaxisLabels=r.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],r.config.xaxis.position==="top"?this.offY=0:this.offY=r.globals.gridHeight,this.offY=this.offY+r.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=r.config.chart.type==="bar"&&r.config.plotOptions.bar.horizontal,this.xaxisFontSize=r.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=r.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=r.config.xaxis.labels.style.colors,this.xaxisBorderWidth=r.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=r.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=r.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=r.config.xaxis.axisBorder.height,this.yaxis=r.config.yaxis[0]}return m(W,[{key:"drawXaxis",value:function(){var e=this.w,t=new B(this.ctx),r=t.group({class:"apexcharts-xaxis",transform:"translate(".concat(e.config.xaxis.offsetX,", ").concat(e.config.xaxis.offsetY,")")}),a=t.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});r.add(a);for(var n=[],i=0;i<this.xaxisLabels.length;i++)n.push(this.xaxisLabels[i]);if(this.drawXAxisLabelAndGroup(!0,t,a,n,e.globals.isXNumeric,function(T,M){return M}),e.globals.hasXaxisGroups){var c=e.globals.groups;n=[];for(var f=0;f<c.length;f++)n.push(c[f].title);var g={};e.config.xaxis.group.style&&(g.xaxisFontSize=e.config.xaxis.group.style.fontSize,g.xaxisFontFamily=e.config.xaxis.group.style.fontFamily,g.xaxisForeColors=e.config.xaxis.group.style.colors,g.fontWeight=e.config.xaxis.group.style.fontWeight,g.cssClass=e.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,t,a,n,!1,function(T,M){return c[T].cols*M},g)}if(e.config.xaxis.title.text!==void 0){var x=t.group({class:"apexcharts-xaxis-title"}),b=t.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(e.config.xaxis.position==="bottom"?e.globals.xAxisLabelsHeight:-e.globals.xAxisLabelsHeight-10)+e.config.xaxis.title.offsetY,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});x.add(b),r.add(x)}if(e.config.xaxis.axisBorder.show){var w=e.globals.barPadForNumericAxis,_=t.drawLine(e.globals.padHorizontal+e.config.xaxis.axisBorder.offsetX-w,this.offY,this.xaxisBorderWidth+w,this.offY,e.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&e.config.grid.show?this.elgrid.elGridBorders.add(_):r.add(_)}return r}},{key:"drawXAxisLabelAndGroup",value:function(e,t,r,a,n,i){var c,f=this,g=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},x=[],b=[],w=this.w,_=g.xaxisFontSize||this.xaxisFontSize,T=g.xaxisFontFamily||this.xaxisFontFamily,M=g.xaxisForeColors||this.xaxisForeColors,V=g.fontWeight||w.config.xaxis.labels.style.fontWeight,X=g.cssClass||w.config.xaxis.labels.style.cssClass,Z=w.globals.padHorizontal,p=a.length,C=w.config.xaxis.type==="category"?w.globals.dataPoints:p;if(C===0&&p>C&&(C=p),n){var O=C>1?C-1:C;c=w.globals.gridWidth/Math.min(O,p-1),Z=Z+i(0,c)/2+w.config.xaxis.labels.offsetX}else c=w.globals.gridWidth/C,Z=Z+i(0,c)+w.config.xaxis.labels.offsetX;for(var ee=function(re){var me=Z-i(re,c)/2+w.config.xaxis.labels.offsetX;re===0&&p===1&&c/2===Z&&C===1&&(me=w.globals.gridWidth/2);var be=f.axesUtils.getLabel(a,w.globals.timescaleLabels,me,re,x,_,e),Se=28;if(w.globals.rotateXLabels&&e&&(Se=22),w.config.xaxis.title.text&&w.config.xaxis.position==="top"&&(Se+=parseFloat(w.config.xaxis.title.style.fontSize)+2),e||(Se=Se+parseFloat(_)+(w.globals.xAxisLabelsHeight-w.globals.xAxisGroupLabelsHeight)+(w.globals.rotateXLabels?10:0)),be=w.config.xaxis.tickAmount!==void 0&&w.config.xaxis.tickAmount!=="dataPoints"&&w.config.xaxis.type!=="datetime"?f.axesUtils.checkLabelBasedOnTickamount(re,be,p):f.axesUtils.checkForOverflowingLabels(re,be,p,x,b),w.config.xaxis.labels.show){var qe=t.drawText({x:be.x,y:f.offY+w.config.xaxis.labels.offsetY+Se-(w.config.xaxis.position==="top"?w.globals.xAxisHeight+w.config.xaxis.axisTicks.height-2:0),text:be.text,textAnchor:"middle",fontWeight:be.isBold?600:V,fontSize:_,fontFamily:T,foreColor:Array.isArray(M)?e&&w.config.xaxis.convertedCatToNumeric?M[w.globals.minX+re-1]:M[re]:M,isPlainText:!1,cssClass:(e?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+X});if(r.add(qe),qe.on("click",function(Fe){if(typeof w.config.chart.events.xAxisLabelClick=="function"){var ut=Object.assign({},w,{labelIndex:re});w.config.chart.events.xAxisLabelClick(Fe,f.ctx,ut)}}),e){var $e=document.createElementNS(w.globals.SVGNS,"title");$e.textContent=Array.isArray(be.text)?be.text.join(" "):be.text,qe.node.appendChild($e),be.text!==""&&(x.push(be.text),b.push(be))}}re<p-1&&(Z+=i(re+1,c))},J=0;J<=p-1;J++)ee(J)}},{key:"drawXaxisInversed",value:function(e){var t,r,a=this,n=this.w,i=new B(this.ctx),c=n.config.yaxis[0].opposite?n.globals.translateYAxisX[e]:0,f=i.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:e}),g=i.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+c+", 0)"});f.add(g);var x=[];if(n.config.yaxis[e].show)for(var b=0;b<this.xaxisLabels.length;b++)x.push(this.xaxisLabels[b]);t=n.globals.gridHeight/x.length,r=-t/2.2;var w=n.globals.yLabelFormatters[0],_=n.config.yaxis[0].labels;if(_.show)for(var T=function(O){var ee=x[O]===void 0?"":x[O];ee=w(ee,{seriesIndex:e,dataPointIndex:O,w:n});var J=a.axesUtils.getYAxisForeColor(_.style.colors,e),re=0;Array.isArray(ee)&&(re=ee.length/2*parseInt(_.style.fontSize,10));var me=_.offsetX-15,be="end";a.yaxis.opposite&&(be="start"),n.config.yaxis[0].labels.align==="left"?(me=_.offsetX,be="start"):n.config.yaxis[0].labels.align==="center"?(me=_.offsetX,be="middle"):n.config.yaxis[0].labels.align==="right"&&(be="end");var Se=i.drawText({x:me,y:r+t+_.offsetY-re,text:ee,textAnchor:be,foreColor:Array.isArray(J)?J[O]:J,fontSize:_.style.fontSize,fontFamily:_.style.fontFamily,fontWeight:_.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+_.style.cssClass,maxWidth:_.maxWidth});g.add(Se),Se.on("click",function(Fe){if(typeof n.config.chart.events.xAxisLabelClick=="function"){var ut=Object.assign({},n,{labelIndex:O});n.config.chart.events.xAxisLabelClick(Fe,a.ctx,ut)}});var qe=document.createElementNS(n.globals.SVGNS,"title");if(qe.textContent=Array.isArray(ee)?ee.join(" "):ee,Se.node.appendChild(qe),n.config.yaxis[e].labels.rotate!==0){var $e=i.rotateAroundCenter(Se.node);Se.node.setAttribute("transform","rotate(".concat(n.config.yaxis[e].labels.rotate," 0 ").concat($e.y,")"))}r+=t},M=0;M<=x.length-1;M++)T(M);if(n.config.yaxis[0].title.text!==void 0){var V=i.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+c+", 0)"}),X=i.drawText({x:n.config.yaxis[0].title.offsetX,y:n.globals.gridHeight/2+n.config.yaxis[0].title.offsetY,text:n.config.yaxis[0].title.text,textAnchor:"middle",foreColor:n.config.yaxis[0].title.style.color,fontSize:n.config.yaxis[0].title.style.fontSize,fontWeight:n.config.yaxis[0].title.style.fontWeight,fontFamily:n.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+n.config.yaxis[0].title.style.cssClass});V.add(X),f.add(V)}var Z=0;this.isCategoryBarHorizontal&&n.config.yaxis[0].opposite&&(Z=n.globals.gridWidth);var p=n.config.xaxis.axisBorder;if(p.show){var C=i.drawLine(n.globals.padHorizontal+p.offsetX+Z,1+p.offsetY,n.globals.padHorizontal+p.offsetX+Z,n.globals.gridHeight+p.offsetY,p.color,0);this.elgrid&&this.elgrid.elGridBorders&&n.config.grid.show?this.elgrid.elGridBorders.add(C):f.add(C)}return n.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(Z,x.length,n.config.yaxis[0].axisBorder,n.config.yaxis[0].axisTicks,0,t,f),f}},{key:"drawXaxisTicks",value:function(e,t,r){var a=this.w,n=e;if(!(e<0||e-2>a.globals.gridWidth)){var i=this.offY+a.config.xaxis.axisTicks.offsetY;if(t=t+i+a.config.xaxis.axisTicks.height,a.config.xaxis.position==="top"&&(t=i-a.config.xaxis.axisTicks.height),a.config.xaxis.axisTicks.show){var c=new B(this.ctx).drawLine(e+a.config.xaxis.axisTicks.offsetX,i+a.config.xaxis.offsetY,n+a.config.xaxis.axisTicks.offsetX,t+a.config.xaxis.offsetY,a.config.xaxis.axisTicks.color);r.add(c),c.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var e=this.w,t=[],r=this.xaxisLabels.length,a=e.globals.padHorizontal;if(e.globals.timescaleLabels.length>0)for(var n=0;n<r;n++)a=this.xaxisLabels[n].position,t.push(a);else for(var i=r,c=0;c<i;c++){var f=i;e.globals.isXNumeric&&e.config.chart.type!=="bar"&&(f-=1),a+=e.globals.gridWidth/f,t.push(a)}return t}},{key:"xAxisLabelCorrections",value:function(){var e=this.w,t=new B(this.ctx),r=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),n=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(e.globals.rotateXLabels||e.config.xaxis.labels.rotateAlways)for(var c=0;c<a.length;c++){var f=t.rotateAroundCenter(a[c]);f.y=f.y-1,f.x=f.x+1,a[c].setAttribute("transform","rotate(".concat(e.config.xaxis.labels.rotate," ").concat(f.x," ").concat(f.y,")")),a[c].setAttribute("text-anchor","end"),r.setAttribute("transform","translate(0, ".concat(-10,")"));var g=a[c].childNodes;e.config.xaxis.labels.trim&&Array.prototype.forEach.call(g,function(_){t.placeTextWithEllipsis(_,_.textContent,e.globals.xAxisLabelsHeight-(e.config.legend.position==="bottom"?20:10))})}else(function(){for(var _=e.globals.gridWidth/(e.globals.labels.length+1),T=0;T<a.length;T++){var M=a[T].childNodes;e.config.xaxis.labels.trim&&e.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(M,function(V){t.placeTextWithEllipsis(V,V.textContent,_)})}})();if(n.length>0){var x=n[n.length-1].getBBox(),b=n[0].getBBox();x.x<-20&&n[n.length-1].parentNode.removeChild(n[n.length-1]),b.x+b.width>e.globals.gridWidth&&!e.globals.isBarHorizontal&&n[0].parentNode.removeChild(n[0]);for(var w=0;w<i.length;w++)t.placeTextWithEllipsis(i[w],i[w].textContent,e.config.yaxis[0].labels.maxWidth-(e.config.yaxis[0].title.text?2*parseFloat(e.config.yaxis[0].title.style.fontSize):0)-15)}}}]),W}(),oe=function(){function W(e){h(this,W),this.ctx=e,this.w=e.w;var t=this.w;this.xaxisLabels=t.globals.labels.slice(),this.axesUtils=new Ee(e),this.isRangeBar=t.globals.seriesRange.length&&t.globals.isBarHorizontal,t.globals.timescaleLabels.length>0&&(this.xaxisLabels=t.globals.timescaleLabels.slice())}return m(W,[{key:"drawGridArea",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=this.w,r=new B(this.ctx);e||(e=r.group({class:"apexcharts-grid"}));var a=r.drawLine(t.globals.padHorizontal,1,t.globals.padHorizontal,t.globals.gridHeight,"transparent"),n=r.drawLine(t.globals.padHorizontal,t.globals.gridHeight,t.globals.gridWidth,t.globals.gridHeight,"transparent");return e.add(n),e.add(a),e}},{key:"drawGrid",value:function(){if(this.w.globals.axisCharts){var e=this.renderGrid();return this.drawGridArea(e.el),e}return null}},{key:"createGridMask",value:function(){var e=this.w,t=e.globals,r=new B(this.ctx),a=Array.isArray(e.config.stroke.width)?Math.max.apply(Math,H(e.config.stroke.width)):e.config.stroke.width,n=function(x){var b=document.createElementNS(t.SVGNS,"clipPath");return b.setAttribute("id",x),b};t.dom.elGridRectMask=n("gridRectMask".concat(t.cuid)),t.dom.elGridRectBarMask=n("gridRectBarMask".concat(t.cuid)),t.dom.elGridRectMarkerMask=n("gridRectMarkerMask".concat(t.cuid)),t.dom.elForecastMask=n("forecastMask".concat(t.cuid)),t.dom.elNonForecastMask=n("nonForecastMask".concat(t.cuid));var i=0,c=0;(["bar","rangeBar","candlestick","boxPlot"].includes(e.config.chart.type)||e.globals.comboBarCount>0)&&e.globals.isXNumeric&&!e.globals.isBarHorizontal&&(i=Math.max(e.config.grid.padding.left,t.barPadForNumericAxis),c=Math.max(e.config.grid.padding.right,t.barPadForNumericAxis)),t.dom.elGridRect=r.drawRect(0,0,t.gridWidth,t.gridHeight,0,"#fff"),t.dom.elGridRectBar=r.drawRect(-a/2-i-2,-a/2-2,t.gridWidth+a+c+i+4,t.gridHeight+a+4,0,"#fff");var f=e.globals.markers.largestSize;t.dom.elGridRectMarker=r.drawRect(-f,-f,t.gridWidth+2*f,t.gridHeight+2*f,0,"#fff"),t.dom.elGridRectMask.appendChild(t.dom.elGridRect.node),t.dom.elGridRectBarMask.appendChild(t.dom.elGridRectBar.node),t.dom.elGridRectMarkerMask.appendChild(t.dom.elGridRectMarker.node);var g=t.dom.baseEl.querySelector("defs");g.appendChild(t.dom.elGridRectMask),g.appendChild(t.dom.elGridRectBarMask),g.appendChild(t.dom.elGridRectMarkerMask),g.appendChild(t.dom.elForecastMask),g.appendChild(t.dom.elNonForecastMask)}},{key:"_drawGridLines",value:function(e){var t=e.i,r=e.x1,a=e.y1,n=e.x2,i=e.y2,c=e.xCount,f=e.parent,g=this.w;if(!(t===0&&g.globals.skipFirstTimelinelabel||t===c-1&&g.globals.skipLastTimelinelabel&&!g.config.xaxis.labels.formatter||g.config.chart.type==="radar")){g.config.grid.xaxis.lines.show&&this._drawGridLine({i:t,x1:r,y1:a,x2:n,y2:i,xCount:c,parent:f});var x=0;if(g.globals.hasXaxisGroups&&g.config.xaxis.tickPlacement==="between"){var b=g.globals.groups;if(b){for(var w=0,_=0;w<t&&_<b.length;_++)w+=b[_].cols;w===t&&(x=.6*g.globals.xAxisLabelsHeight)}}new le(this.ctx).drawXaxisTicks(r,x,g.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(e){var t=e.i,r=e.x1,a=e.y1,n=e.x2,i=e.y2,c=e.xCount,f=e.parent,g=this.w,x=f.node.classList.contains("apexcharts-gridlines-horizontal"),b=g.globals.barPadForNumericAxis,w=a===0&&i===0||r===0&&n===0||a===g.globals.gridHeight&&i===g.globals.gridHeight||g.globals.isBarHorizontal&&(t===0||t===c-1),_=new B(this).drawLine(r-(x?b:0),a,n+(x?b:0),i,g.config.grid.borderColor,g.config.grid.strokeDashArray);_.node.classList.add("apexcharts-gridline"),w&&g.config.grid.show?this.elGridBorders.add(_):f.add(_)}},{key:"_drawGridBandRect",value:function(e){var t=e.c,r=e.x1,a=e.y1,n=e.x2,i=e.y2,c=e.type,f=this.w,g=new B(this.ctx),x=f.globals.barPadForNumericAxis,b=f.config.grid[c].colors[t],w=g.drawRect(r-(c==="row"?x:0),a,n+(c==="row"?2*x:0),i,0,b,f.config.grid[c].opacity);this.elg.add(w),w.attr("clip-path","url(#gridRectMask".concat(f.globals.cuid,")")),w.node.classList.add("apexcharts-grid-".concat(c))}},{key:"_drawXYLines",value:function(e){var t=this,r=e.xCount,a=e.tickAmount,n=this.w;if(n.config.grid.xaxis.lines.show||n.config.xaxis.axisTicks.show){var i,c=n.globals.padHorizontal,f=n.globals.gridHeight;n.globals.timescaleLabels.length?function(T){for(var M=T.xC,V=T.x1,X=T.y1,Z=T.x2,p=T.y2,C=0;C<M;C++)V=t.xaxisLabels[C].position,Z=t.xaxisLabels[C].position,t._drawGridLines({i:C,x1:V,y1:X,x2:Z,y2:p,xCount:r,parent:t.elgridLinesV})}({xC:r,x1:c,y1:0,x2:i,y2:f}):(n.globals.isXNumeric&&(r=n.globals.xAxisScale.result.length),function(T){for(var M=T.xC,V=T.x1,X=T.y1,Z=T.x2,p=T.y2,C=0;C<M+(n.globals.isXNumeric?0:1);C++)C===0&&M===1&&n.globals.dataPoints===1&&(Z=V=n.globals.gridWidth/2),t._drawGridLines({i:C,x1:V,y1:X,x2:Z,y2:p,xCount:r,parent:t.elgridLinesV}),Z=V+=n.globals.gridWidth/(n.globals.isXNumeric?M-1:M)}({xC:r,x1:c,y1:0,x2:i,y2:f}))}if(n.config.grid.yaxis.lines.show){var g=0,x=0,b=n.globals.gridWidth,w=a+1;this.isRangeBar&&(w=n.globals.labels.length);for(var _=0;_<w+(this.isRangeBar?1:0);_++)this._drawGridLine({i:_,xCount:w+(this.isRangeBar?1:0),x1:0,y1:g,x2:b,y2:x,parent:this.elgridLinesH}),x=g+=n.globals.gridHeight/(this.isRangeBar?w:a)}}},{key:"_drawInvertedXYLines",value:function(e){var t=e.xCount,r=this.w;if(r.config.grid.xaxis.lines.show||r.config.xaxis.axisTicks.show)for(var a,n=r.globals.padHorizontal,i=r.globals.gridHeight,c=0;c<t+1;c++)r.config.grid.xaxis.lines.show&&this._drawGridLine({i:c,xCount:t+1,x1:n,y1:0,x2:a,y2:i,parent:this.elgridLinesV}),new le(this.ctx).drawXaxisTicks(n,0,r.globals.dom.elGraphical),a=n+=r.globals.gridWidth/t;if(r.config.grid.yaxis.lines.show)for(var f=0,g=0,x=r.globals.gridWidth,b=0;b<r.globals.dataPoints+1;b++)this._drawGridLine({i:b,xCount:r.globals.dataPoints+1,x1:0,y1:f,x2:x,y2:g,parent:this.elgridLinesH}),g=f+=r.globals.gridHeight/r.globals.dataPoints}},{key:"renderGrid",value:function(){var e=this.w,t=e.globals,r=new B(this.ctx);this.elg=r.group({class:"apexcharts-grid"}),this.elgridLinesH=r.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=r.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=r.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),e.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var a=0;a<t.seriesYAxisMap.length&&t.ignoreYAxisIndexes.includes(a);)a++;a===t.seriesYAxisMap.length&&(a=0);var n,i=t.yAxisScale[a].result.length-1;if(!t.isBarHorizontal||this.isRangeBar){var c,f,g;n=this.xaxisLabels.length,this.isRangeBar&&(i=t.labels.length,e.config.xaxis.tickAmount&&e.config.xaxis.labels.formatter&&(n=e.config.xaxis.tickAmount),((c=t.yAxisScale)===null||c===void 0||(f=c[a])===null||f===void 0||(g=f.result)===null||g===void 0?void 0:g.length)>0&&e.config.xaxis.type!=="datetime"&&(n=t.yAxisScale[a].result.length-1)),this._drawXYLines({xCount:n,tickAmount:i})}else n=i,i=t.xTickAmount,this._drawInvertedXYLines({xCount:n,tickAmount:i});return this.drawGridBands(n,i),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:t.gridWidth/n}}},{key:"drawGridBands",value:function(e,t){var r,a,n=this,i=this.w;if(((r=i.config.grid.row.colors)===null||r===void 0?void 0:r.length)>0&&function(T,M,V,X,Z,p){for(var C=0,O=0;C<M;C++,O++)O>=i.config.grid[T].colors.length&&(O=0),n._drawGridBandRect({c:O,x1:V,y1:X,x2:Z,y2:p,type:T}),X+=i.globals.gridHeight/t}("row",t,0,0,i.globals.gridWidth,i.globals.gridHeight/t),((a=i.config.grid.column.colors)===null||a===void 0?void 0:a.length)>0){var c=i.globals.isBarHorizontal||i.config.xaxis.tickPlacement!=="on"||i.config.xaxis.type!=="category"&&!i.config.xaxis.convertedCatToNumeric?e:e-1;i.globals.isXNumeric&&(c=i.globals.xAxisScale.result.length-1);for(var f=i.globals.padHorizontal,g=i.globals.padHorizontal+i.globals.gridWidth/c,x=i.globals.gridHeight,b=0,w=0;b<e;b++,w++){var _;w>=i.config.grid.column.colors.length&&(w=0),i.config.xaxis.type==="datetime"&&(f=this.xaxisLabels[b].position,g=(((_=this.xaxisLabels[b+1])===null||_===void 0?void 0:_.position)||i.globals.gridWidth)-this.xaxisLabels[b].position),this._drawGridBandRect({c:w,x1:f,y1:0,x2:g,y2:x,type:"column"}),f+=i.globals.gridWidth/c}}}}]),W}(),Ce=function(){function W(e){h(this,W),this.ctx=e,this.w=e.w,this.coreUtils=new te(this.ctx)}return m(W,[{key:"niceScale",value:function(e,t){var r,a,n,i,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,f=1e-11,g=this.w,x=g.globals;x.isBarHorizontal?(r=g.config.xaxis,a=Math.max((x.svgWidth-100)/25,2)):(r=g.config.yaxis[c],a=Math.max((x.svgHeight-100)/15,2)),S.isNumber(a)||(a=10),n=r.min!==void 0&&r.min!==null,i=r.max!==void 0&&r.min!==null;var b=r.stepSize!==void 0&&r.stepSize!==null,w=r.tickAmount!==void 0&&r.tickAmount!==null,_=w?r.tickAmount:x.niceScaleDefaultTicks[Math.min(Math.round(a/2),x.niceScaleDefaultTicks.length-1)];if(x.isMultipleYAxis&&!w&&x.multiAxisTickAmount>0&&(_=x.multiAxisTickAmount,w=!0),_=_==="dataPoints"?x.dataPoints-1:Math.abs(Math.round(_)),(e===Number.MIN_VALUE&&t===0||!S.isNumber(e)&&!S.isNumber(t)||e===Number.MIN_VALUE&&t===-Number.MAX_VALUE)&&(e=S.isNumber(r.min)?r.min:0,t=S.isNumber(r.max)?r.max:e+_,x.allSeriesCollapsed=!1),e>t){console.warn("axis.min cannot be greater than axis.max: swapping min and max");var T=t;t=e,e=T}else e===t&&(e=e===0?0:e-1,t=t===0?2:t+1);var M=[];_<1&&(_=1);var V=_,X=Math.abs(t-e);!n&&e>0&&e/X<.15&&(e=0,n=!0),!i&&t<0&&-t/X<.15&&(t=0,i=!0);var Z=(X=Math.abs(t-e))/V,p=Z,C=Math.floor(Math.log10(p)),O=Math.pow(10,C),ee=Math.ceil(p/O);if(Z=p=(ee=x.niceScaleAllowedMagMsd[x.yValueDecimal===0?0:1][ee])*O,x.isBarHorizontal&&r.stepSize&&r.type!=="datetime"?(Z=r.stepSize,b=!0):b&&(Z=r.stepSize),b&&r.forceNiceScale){var J=Math.floor(Math.log10(Z));Z*=Math.pow(10,C-J)}if(n&&i){var re=X/V;if(w)if(b)if(S.mod(X,Z)!=0){var me=S.getGCD(Z,re);Z=re/me<10?me:re}else S.mod(Z,re)==0?Z=re:(re=Z,w=!1);else Z=re;else if(b)S.mod(X,Z)==0?re=Z:Z=re;else if(S.mod(X,Z)==0)re=Z;else{re=X/(V=Math.ceil(X/Z));var be=S.getGCD(X,Z);X/be<a&&(re=be),Z=re}V=Math.round(X/Z)}else{if(n||i){if(i)if(w)e=t-Z*V;else{var Se=e;e=Z*Math.floor(e/Z),Math.abs(t-e)/S.getGCD(X,Z)>a&&(e=t-Z*_,e+=Z*Math.floor((Se-e)/Z))}else if(n)if(w)t=e+Z*V;else{var qe=t;t=Z*Math.ceil(t/Z),Math.abs(t-e)/S.getGCD(X,Z)>a&&(t=e+Z*_,t+=Z*Math.ceil((qe-t)/Z))}}else if(x.isMultipleYAxis&&w){var $e=Z*Math.floor(e/Z),Fe=$e+Z*V;Fe<t&&(Z*=2),Fe=t,t=(e=$e)+Z*V,X=Math.abs(t-e),e>0&&e<Math.abs(Fe-t)&&(e=0,t=Z*V),t<0&&-t<Math.abs($e-e)&&(t=0,e=-Z*V)}else e=Z*Math.floor(e/Z),t=Z*Math.ceil(t/Z);X=Math.abs(t-e),Z=S.getGCD(X,Z),V=Math.round(X/Z)}if(w||n||i||(V=Math.ceil((X-f)/(Z+f)))>16&&S.getPrimeFactors(V).length<2&&V++,!w&&r.forceNiceScale&&x.yValueDecimal===0&&V>X&&(V=X,Z=Math.round(X/V)),V>a&&(!w&&!b||r.forceNiceScale)){var ut=S.getPrimeFactors(V),mt=ut.length-1,kt=V;e:for(var Mt=0;Mt<mt;Mt++)for(var Rt=0;Rt<=mt-Mt;Rt++){for(var Tt=Math.min(Rt+Mt,mt),Vt=kt,ls=1,cs=Rt;cs<=Tt;cs++)ls*=ut[cs];if((Vt/=ls)<a){kt=Vt;break e}}Z=kt===V?X:X/kt,V=Math.round(X/Z)}x.isMultipleYAxis&&x.multiAxisTickAmount==0&&x.ignoreYAxisIndexes.indexOf(c)<0&&(x.multiAxisTickAmount=V);var Kt=e-Z,Ds=Z*f;do Kt+=Z,M.push(S.stripNumber(Kt,7));while(t-Kt>Ds);return{result:M,niceMin:M[0],niceMax:M[M.length-1]}}},{key:"linearScale",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,i=Math.abs(t-e),c=[];if(e===t)return{result:c=[e],niceMin:c[0],niceMax:c[c.length-1]};(r=this._adjustTicksForSmallRange(r,a,i))==="dataPoints"&&(r=this.w.globals.dataPoints-1),n||(n=i/r),n=Math.round(10*(n+Number.EPSILON))/10,r===Number.MAX_VALUE&&(r=5,n=1);for(var f=e;r>=0;)c.push(f),f=S.preciseAddition(f,n),r-=1;return{result:c,niceMin:c[0],niceMax:c[c.length-1]}}},{key:"logarithmicScaleNice",value:function(e,t,r){t<=0&&(t=Math.max(e,r)),e<=0&&(e=Math.min(t,r));for(var a=[],n=Math.ceil(Math.log(t)/Math.log(r)+1),i=Math.floor(Math.log(e)/Math.log(r));i<n;i++)a.push(Math.pow(r,i));return{result:a,niceMin:a[0],niceMax:a[a.length-1]}}},{key:"logarithmicScale",value:function(e,t,r){t<=0&&(t=Math.max(e,r)),e<=0&&(e=Math.min(t,r));for(var a=[],n=Math.log(t)/Math.log(r),i=Math.log(e)/Math.log(r),c=n-i,f=Math.round(c),g=c/f,x=0,b=i;x<f;x++,b+=g)a.push(Math.pow(r,b));return a.push(Math.pow(r,n)),{result:a,niceMin:e,niceMax:t}}},{key:"_adjustTicksForSmallRange",value:function(e,t,r){var a=e;if(t!==void 0&&this.w.config.yaxis[t].labels.formatter&&this.w.config.yaxis[t].tickAmount===void 0){var n=Number(this.w.config.yaxis[t].labels.formatter(1));S.isNumber(n)&&this.w.globals.yValueDecimal===0&&(a=Math.ceil(r))}return a<e?a:e}},{key:"setYScaleForIndex",value:function(e,t,r){var a=this.w.globals,n=this.w.config,i=a.isBarHorizontal?n.xaxis:n.yaxis[e];a.yAxisScale[e]===void 0&&(a.yAxisScale[e]=[]);var c=Math.abs(r-t);i.logarithmic&&c<=5&&(a.invalidLogScale=!0),i.logarithmic&&c>5?(a.allSeriesCollapsed=!1,a.yAxisScale[e]=i.forceNiceScale?this.logarithmicScaleNice(t,r,i.logBase):this.logarithmicScale(t,r,i.logBase)):r!==-Number.MAX_VALUE&&S.isNumber(r)&&t!==Number.MAX_VALUE&&S.isNumber(t)?(a.allSeriesCollapsed=!1,a.yAxisScale[e]=this.niceScale(t,r,e)):a.yAxisScale[e]=this.niceScale(Number.MIN_VALUE,0,e)}},{key:"setXScale",value:function(e,t){var r=this.w,a=r.globals,n=Math.abs(t-e);if(t!==-Number.MAX_VALUE&&S.isNumber(t)){var i=a.xTickAmount+1;n<10&&n>1&&(i=n),a.xAxisScale=this.linearScale(e,t,i,0,r.config.xaxis.stepSize)}else a.xAxisScale=this.linearScale(0,10,10);return a.xAxisScale}},{key:"scaleMultipleYAxes",value:function(){var e=this,t=this.w.config,r=this.w.globals;this.coreUtils.setSeriesYAxisMappings();var a=r.seriesYAxisMap,n=r.minYArr,i=r.maxYArr;r.allSeriesCollapsed=!0,r.barGroups=[],a.forEach(function(c,f){var g=[];c.forEach(function(x){var b=t.series[x].group;g.indexOf(b)<0&&g.push(b)}),c.length>0?function(){var x,b,w=Number.MAX_VALUE,_=-Number.MAX_VALUE,T=w,M=_;if(t.chart.stacked)(function(){var Z=new Array(r.dataPoints).fill(0),p=[],C=[],O=[];g.forEach(function(){p.push(Z.map(function(){return Number.MIN_VALUE})),C.push(Z.map(function(){return Number.MIN_VALUE})),O.push(Z.map(function(){return Number.MIN_VALUE}))});for(var ee=function(re){!x&&t.series[c[re]].type&&(x=t.series[c[re]].type);var me=c[re];b=t.series[me].group?t.series[me].group:"axis-".concat(f),!(r.collapsedSeriesIndices.indexOf(me)<0&&r.ancillaryCollapsedSeriesIndices.indexOf(me)<0)||(r.allSeriesCollapsed=!1,g.forEach(function(be,Se){if(t.series[me].group===be)for(var qe=0;qe<r.series[me].length;qe++){var $e=r.series[me][qe];$e>=0?C[Se][qe]+=$e:O[Se][qe]+=$e,p[Se][qe]+=$e,T=Math.min(T,$e),M=Math.max(M,$e)}})),x!=="bar"&&x!=="column"||r.barGroups.push(b)},J=0;J<c.length;J++)ee(J);x||(x=t.chart.type),x==="bar"||x==="column"?g.forEach(function(re,me){w=Math.min(w,Math.min.apply(null,O[me])),_=Math.max(_,Math.max.apply(null,C[me]))}):(g.forEach(function(re,me){T=Math.min(T,Math.min.apply(null,p[me])),M=Math.max(M,Math.max.apply(null,p[me]))}),w=T,_=M),w===Number.MIN_VALUE&&_===Number.MIN_VALUE&&(_=-Number.MAX_VALUE)})();else for(var V=0;V<c.length;V++){var X=c[V];w=Math.min(w,n[X]),_=Math.max(_,i[X]),!(r.collapsedSeriesIndices.indexOf(X)<0&&r.ancillaryCollapsedSeriesIndices.indexOf(X)<0)||(r.allSeriesCollapsed=!1)}t.yaxis[f].min!==void 0&&(w=typeof t.yaxis[f].min=="function"?t.yaxis[f].min(w):t.yaxis[f].min),t.yaxis[f].max!==void 0&&(_=typeof t.yaxis[f].max=="function"?t.yaxis[f].max(_):t.yaxis[f].max),r.barGroups=r.barGroups.filter(function(Z,p,C){return C.indexOf(Z)===p}),e.setYScaleForIndex(f,w,_),c.forEach(function(Z){n[Z]=r.yAxisScale[f].niceMin,i[Z]=r.yAxisScale[f].niceMax})}():e.setYScaleForIndex(f,0,-Number.MAX_VALUE)})}}]),W}(),Le=function(){function W(e){h(this,W),this.ctx=e,this.w=e.w,this.scales=new Ce(e)}return m(W,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,n=this.w.config,i=this.w.globals,c=-Number.MAX_VALUE,f=Number.MIN_VALUE;a===null&&(a=e+1);var g=i.series,x=g,b=g;n.chart.type==="candlestick"?(x=i.seriesCandleL,b=i.seriesCandleH):n.chart.type==="boxPlot"?(x=i.seriesCandleO,b=i.seriesCandleC):i.isRangeData&&(x=i.seriesRangeStart,b=i.seriesRangeEnd);var w=!1;if(i.seriesX.length>=a){var _,T=(_=i.brushSource)===null||_===void 0?void 0:_.w.config.chart.brush;(n.chart.zoom.enabled&&n.chart.zoom.autoScaleYaxis||T!=null&&T.enabled&&T!=null&&T.autoScaleYaxis)&&(w=!0)}for(var M=e;M<a;M++){i.dataPoints=Math.max(i.dataPoints,g[M].length);var V=n.series[M].type;i.categoryLabels.length&&(i.dataPoints=i.categoryLabels.filter(function(O){return O!==void 0}).length),i.labels.length&&n.xaxis.type!=="datetime"&&i.series.reduce(function(O,ee){return O+ee.length},0)!==0&&(i.dataPoints=Math.max(i.dataPoints,i.labels.length));var X=0,Z=g[M].length-1;if(w){if(n.xaxis.min)for(;X<Z&&i.seriesX[M][X]<n.xaxis.min;X++);if(n.xaxis.max)for(;Z>X&&i.seriesX[M][Z]>n.xaxis.max;Z--);}for(var p=X;p<=Z&&p<i.series[M].length;p++){var C=g[M][p];if(C!==null&&S.isNumber(C)){switch(b[M][p]!==void 0&&(c=Math.max(c,b[M][p]),t=Math.min(t,b[M][p])),x[M][p]!==void 0&&(t=Math.min(t,x[M][p]),r=Math.max(r,x[M][p])),V){case"candlestick":i.seriesCandleC[M][p]!==void 0&&(c=Math.max(c,i.seriesCandleH[M][p]),t=Math.min(t,i.seriesCandleL[M][p]));break;case"boxPlot":i.seriesCandleC[M][p]!==void 0&&(c=Math.max(c,i.seriesCandleC[M][p]),t=Math.min(t,i.seriesCandleO[M][p]))}V&&V!=="candlestick"&&V!=="boxPlot"&&V!=="rangeArea"&&V!=="rangeBar"&&(c=Math.max(c,i.series[M][p]),t=Math.min(t,i.series[M][p])),r=c,i.seriesGoals[M]&&i.seriesGoals[M][p]&&Array.isArray(i.seriesGoals[M][p])&&i.seriesGoals[M][p].forEach(function(O){f!==Number.MIN_VALUE&&(f=Math.min(f,O.value),t=f),c=Math.max(c,O.value),r=c}),S.isFloat(C)&&(C=S.noExponents(C),i.yValueDecimal=Math.max(i.yValueDecimal,C.toString().split(".")[1].length)),f>x[M][p]&&x[M][p]<0&&(f=x[M][p])}else i.hasNullValues=!0}V!=="bar"&&V!=="column"||(f<0&&c<0&&(c=0,r=Math.max(r,0)),f===Number.MIN_VALUE&&(f=0,t=Math.min(t,0)))}return n.chart.type==="rangeBar"&&i.seriesRangeStart.length&&i.isBarHorizontal&&(f=t),n.chart.type==="bar"&&(f<0&&c<0&&(c=0),f===Number.MIN_VALUE&&(f=0)),{minY:f,maxY:c,lowestY:t,highestY:r}}},{key:"setYRange",value:function(){var e=this.w.globals,t=this.w.config;e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE;var r,a=Number.MAX_VALUE;if(e.isMultipleYAxis){a=Number.MAX_VALUE;for(var n=0;n<e.series.length;n++)r=this.getMinYMaxY(n),e.minYArr[n]=r.lowestY,e.maxYArr[n]=r.highestY,a=Math.min(a,r.lowestY)}return r=this.getMinYMaxY(0,a,null,e.series.length),t.chart.type==="bar"?(e.minY=r.minY,e.maxY=r.maxY):(e.minY=r.lowestY,e.maxY=r.highestY),a=r.lowestY,t.chart.stacked&&this._setStackedMinMax(),t.chart.type==="line"||t.chart.type==="area"||t.chart.type==="scatter"||t.chart.type==="candlestick"||t.chart.type==="boxPlot"||t.chart.type==="rangeBar"&&!e.isBarHorizontal?e.minY===Number.MIN_VALUE&&a!==-Number.MAX_VALUE&&a!==e.maxY&&(e.minY=a):e.minY=e.minY!==Number.MIN_VALUE?Math.min(r.minY,e.minY):r.minY,t.yaxis.forEach(function(i,c){i.max!==void 0&&(typeof i.max=="number"?e.maxYArr[c]=i.max:typeof i.max=="function"&&(e.maxYArr[c]=i.max(e.isMultipleYAxis?e.maxYArr[c]:e.maxY)),e.maxY=e.maxYArr[c]),i.min!==void 0&&(typeof i.min=="number"?e.minYArr[c]=i.min:typeof i.min=="function"&&(e.minYArr[c]=i.min(e.isMultipleYAxis?e.minYArr[c]===Number.MIN_VALUE?0:e.minYArr[c]:e.minY)),e.minY=e.minYArr[c])}),e.isBarHorizontal&&["min","max"].forEach(function(i){t.xaxis[i]!==void 0&&typeof t.xaxis[i]=="number"&&(i==="min"?e.minY=t.xaxis[i]:e.maxY=t.xaxis[i])}),e.isMultipleYAxis?(this.scales.scaleMultipleYAxes(),e.minY=a):(this.scales.setYScaleForIndex(0,e.minY,e.maxY),e.minY=e.yAxisScale[0].niceMin,e.maxY=e.yAxisScale[0].niceMax,e.minYArr[0]=e.minY,e.maxYArr[0]=e.maxY),e.barGroups=[],e.lineGroups=[],e.areaGroups=[],t.series.forEach(function(i){switch(i.type||t.chart.type){case"bar":case"column":e.barGroups.push(i.group);break;case"line":e.lineGroups.push(i.group);break;case"area":e.areaGroups.push(i.group)}}),e.barGroups=e.barGroups.filter(function(i,c,f){return f.indexOf(i)===c}),e.lineGroups=e.lineGroups.filter(function(i,c,f){return f.indexOf(i)===c}),e.areaGroups=e.areaGroups.filter(function(i,c,f){return f.indexOf(i)===c}),{minY:e.minY,maxY:e.maxY,minYArr:e.minYArr,maxYArr:e.maxYArr,yAxisScale:e.yAxisScale}}},{key:"setXRange",value:function(){var e=this.w.globals,t=this.w.config,r=t.xaxis.type==="numeric"||t.xaxis.type==="datetime"||t.xaxis.type==="category"&&!e.noLabelsProvided||e.noLabelsProvided||e.isXNumeric;if(e.isXNumeric&&function(){for(var f=0;f<e.series.length;f++)if(e.labels[f])for(var g=0;g<e.labels[f].length;g++)e.labels[f][g]!==null&&S.isNumber(e.labels[f][g])&&(e.maxX=Math.max(e.maxX,e.labels[f][g]),e.initialMaxX=Math.max(e.maxX,e.labels[f][g]),e.minX=Math.min(e.minX,e.labels[f][g]),e.initialMinX=Math.min(e.minX,e.labels[f][g]))}(),e.noLabelsProvided&&t.xaxis.categories.length===0&&(e.maxX=e.labels[e.labels.length-1],e.initialMaxX=e.labels[e.labels.length-1],e.minX=1,e.initialMinX=1),e.isXNumeric||e.noLabelsProvided||e.dataFormatXNumeric){var a=10;if(t.xaxis.tickAmount===void 0)a=Math.round(e.svgWidth/150),t.xaxis.type==="numeric"&&e.dataPoints<30&&(a=e.dataPoints-1),a>e.dataPoints&&e.dataPoints!==0&&(a=e.dataPoints-1);else if(t.xaxis.tickAmount==="dataPoints"){if(e.series.length>1&&(a=e.series[e.maxValsInArrayIndex].length-1),e.isXNumeric){var n=e.maxX-e.minX;n<30&&(a=n-1)}}else a=t.xaxis.tickAmount;if(e.xTickAmount=a,t.xaxis.max!==void 0&&typeof t.xaxis.max=="number"&&(e.maxX=t.xaxis.max),t.xaxis.min!==void 0&&typeof t.xaxis.min=="number"&&(e.minX=t.xaxis.min),t.xaxis.range!==void 0&&(e.minX=e.maxX-t.xaxis.range),e.minX!==Number.MAX_VALUE&&e.maxX!==-Number.MAX_VALUE)if(t.xaxis.convertedCatToNumeric&&!e.dataFormatXNumeric){for(var i=[],c=e.minX-1;c<e.maxX;c++)i.push(c+1);e.xAxisScale={result:i,niceMin:i[0],niceMax:i[i.length-1]}}else e.xAxisScale=this.scales.setXScale(e.minX,e.maxX);else e.xAxisScale=this.scales.linearScale(0,a,a,0,t.xaxis.stepSize),e.noLabelsProvided&&e.labels.length>0&&(e.xAxisScale=this.scales.linearScale(1,e.labels.length,a-1,0,t.xaxis.stepSize),e.seriesX=e.labels.slice());r&&(e.labels=e.xAxisScale.result.slice())}return e.isBarHorizontal&&e.labels.length&&(e.xTickAmount=e.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:e.minX,maxX:e.maxX}}},{key:"setZRange",value:function(){var e=this.w.globals;if(e.isDataXYZ){for(var t=0;t<e.series.length;t++)if(e.seriesZ[t]!==void 0)for(var r=0;r<e.seriesZ[t].length;r++)e.seriesZ[t][r]!==null&&S.isNumber(e.seriesZ[t][r])&&(e.maxZ=Math.max(e.maxZ,e.seriesZ[t][r]),e.minZ=Math.min(e.minZ,e.seriesZ[t][r]))}}},{key:"_handleSingleDataPoint",value:function(){var e=this.w.globals,t=this.w.config;if(e.minX===e.maxX){var r=new Ae(this.ctx);if(t.xaxis.type==="datetime"){var a=r.getDate(e.minX);t.xaxis.labels.datetimeUTC?a.setUTCDate(a.getUTCDate()-2):a.setDate(a.getDate()-2),e.minX=new Date(a).getTime();var n=r.getDate(e.maxX);t.xaxis.labels.datetimeUTC?n.setUTCDate(n.getUTCDate()+2):n.setDate(n.getDate()+2),e.maxX=new Date(n).getTime()}else(t.xaxis.type==="numeric"||t.xaxis.type==="category"&&!e.noLabelsProvided)&&(e.minX=e.minX-2,e.initialMinX=e.minX,e.maxX=e.maxX+2,e.initialMaxX=e.maxX)}}},{key:"_getMinXDiff",value:function(){var e=this.w.globals;e.isXNumeric&&e.seriesX.forEach(function(t,r){t.length===1&&t.push(e.seriesX[e.maxValsInArrayIndex][e.seriesX[e.maxValsInArrayIndex].length-1]);var a=t.slice();a.sort(function(n,i){return n-i}),a.forEach(function(n,i){if(i>0){var c=n-a[i-1];c>0&&(e.minXDiff=Math.min(c,e.minXDiff))}}),e.dataPoints!==1&&e.minXDiff!==Number.MAX_VALUE||(e.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var e=this,t=this.w.globals;if(t.series.length){var r=t.seriesGroups;r.length||(r=[this.w.globals.seriesNames.map(function(i){return i})]);var a={},n={};r.forEach(function(i){a[i]=[],n[i]=[],e.w.config.series.map(function(c,f){return i.indexOf(t.seriesNames[f])>-1?f:null}).filter(function(c){return c!==null}).forEach(function(c){for(var f=0;f<t.series[t.maxValsInArrayIndex].length;f++){var g,x,b,w;a[i][f]===void 0&&(a[i][f]=0,n[i][f]=0),(e.w.config.chart.stacked&&!t.comboCharts||e.w.config.chart.stacked&&t.comboCharts&&(!e.w.config.chart.stackOnlyBar||((g=e.w.config.series)===null||g===void 0||(x=g[c])===null||x===void 0?void 0:x.type)==="bar"||((b=e.w.config.series)===null||b===void 0||(w=b[c])===null||w===void 0?void 0:w.type)==="column"))&&t.series[c][f]!==null&&S.isNumber(t.series[c][f])&&(t.series[c][f]>0?a[i][f]+=parseFloat(t.series[c][f])+1e-4:n[i][f]+=parseFloat(t.series[c][f]))}})}),Object.entries(a).forEach(function(i){var c=R(i,1)[0];a[c].forEach(function(f,g){t.maxY=Math.max(t.maxY,a[c][g]),t.minY=Math.min(t.minY,n[c][g])})})}}}]),W}(),_e=function(){function W(e,t){h(this,W),this.ctx=e,this.elgrid=t,this.w=e.w;var r=this.w;this.xaxisFontSize=r.config.xaxis.labels.style.fontSize,this.axisFontFamily=r.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=r.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=r.config.chart.type==="bar"&&r.config.plotOptions.bar.horizontal,this.xAxisoffX=r.config.xaxis.position==="bottom"?r.globals.gridHeight:0,this.drawnLabels=[],this.axesUtils=new Ee(e)}return m(W,[{key:"drawYaxis",value:function(e){var t=this.w,r=new B(this.ctx),a=t.config.yaxis[e].labels.style,n=a.fontSize,i=a.fontFamily,c=a.fontWeight,f=r.group({class:"apexcharts-yaxis",rel:e,transform:"translate(".concat(t.globals.translateYAxisX[e],", 0)")});if(this.axesUtils.isYAxisHidden(e))return f;var g=r.group({class:"apexcharts-yaxis-texts-g"});f.add(g);var x=t.globals.yAxisScale[e].result.length-1,b=t.globals.gridHeight/x,w=t.globals.yLabelFormatters[e],_=this.axesUtils.checkForReversedLabels(e,t.globals.yAxisScale[e].result.slice());if(t.config.yaxis[e].labels.show){var T=t.globals.translateY+t.config.yaxis[e].labels.offsetY;t.globals.isBarHorizontal?T=0:t.config.chart.type==="heatmap"&&(T-=b/2),T+=parseInt(n,10)/3;for(var M=x;M>=0;M--){var V=w(_[M],M,t),X=t.config.yaxis[e].labels.padding;t.config.yaxis[e].opposite&&t.config.yaxis.length!==0&&(X*=-1);var Z=this.getTextAnchor(t.config.yaxis[e].labels.align,t.config.yaxis[e].opposite),p=this.axesUtils.getYAxisForeColor(a.colors,e),C=Array.isArray(p)?p[M]:p,O=S.listToArray(t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-label tspan"))).map(function(J){return J.textContent}),ee=r.drawText({x:X,y:T,text:O.includes(V)&&!t.config.yaxis[e].labels.showDuplicates?"":V,textAnchor:Z,fontSize:n,fontFamily:i,fontWeight:c,maxWidth:t.config.yaxis[e].labels.maxWidth,foreColor:C,isPlainText:!1,cssClass:"apexcharts-yaxis-label ".concat(a.cssClass)});g.add(ee),this.addTooltip(ee,V),t.config.yaxis[e].labels.rotate!==0&&this.rotateLabel(r,ee,firstLabel,t.config.yaxis[e].labels.rotate),T+=b}}return this.addYAxisTitle(r,f,e),this.addAxisBorder(r,f,e,x,b),f}},{key:"getTextAnchor",value:function(e,t){return e==="left"?"start":e==="center"?"middle":e==="right"?"end":t?"start":"end"}},{key:"addTooltip",value:function(e,t){var r=document.createElementNS(this.w.globals.SVGNS,"title");r.textContent=Array.isArray(t)?t.join(" "):t,e.node.appendChild(r)}},{key:"rotateLabel",value:function(e,t,r,a){var n=e.rotateAroundCenter(r.node),i=e.rotateAroundCenter(t.node);t.node.setAttribute("transform","rotate(".concat(a," ").concat(n.x," ").concat(i.y,")"))}},{key:"addYAxisTitle",value:function(e,t,r){var a=this.w;if(a.config.yaxis[r].title.text!==void 0){var n=e.group({class:"apexcharts-yaxis-title"}),i=a.config.yaxis[r].opposite?a.globals.translateYAxisX[r]:0,c=e.drawText({x:i,y:a.globals.gridHeight/2+a.globals.translateY+a.config.yaxis[r].title.offsetY,text:a.config.yaxis[r].title.text,textAnchor:"end",foreColor:a.config.yaxis[r].title.style.color,fontSize:a.config.yaxis[r].title.style.fontSize,fontWeight:a.config.yaxis[r].title.style.fontWeight,fontFamily:a.config.yaxis[r].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text ".concat(a.config.yaxis[r].title.style.cssClass)});n.add(c),t.add(n)}}},{key:"addAxisBorder",value:function(e,t,r,a,n){var i=this.w,c=i.config.yaxis[r].axisBorder,f=31+c.offsetX;if(i.config.yaxis[r].opposite&&(f=-31-c.offsetX),c.show){var g=e.drawLine(f,i.globals.translateY+c.offsetY-2,f,i.globals.gridHeight+i.globals.translateY+c.offsetY+2,c.color,0,c.width);t.add(g)}i.config.yaxis[r].axisTicks.show&&this.axesUtils.drawYAxisTicks(f,a,c,i.config.yaxis[r].axisTicks,r,n,t)}},{key:"drawYaxisInversed",value:function(e){var t=this.w,r=new B(this.ctx),a=r.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),n=r.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(t.globals.translateXAxisX,", ").concat(t.globals.translateXAxisY,")")});a.add(n);var i=t.globals.yAxisScale[e].result.length-1,c=t.globals.gridWidth/i+.1,f=c+t.config.xaxis.labels.offsetX,g=t.globals.xLabelFormatter,x=this.axesUtils.checkForReversedLabels(e,t.globals.yAxisScale[e].result.slice()),b=t.globals.timescaleLabels;if(b.length>0&&(this.xaxisLabels=b.slice(),i=(x=b.slice()).length),t.config.xaxis.labels.show)for(var w=b.length?0:i;b.length?w<b.length:w>=0;b.length?w++:w--){var _=g(x[w],w,t),T=t.globals.gridWidth+t.globals.padHorizontal-(f-c+t.config.xaxis.labels.offsetX);if(b.length){var M=this.axesUtils.getLabel(x,b,T,w,this.drawnLabels,this.xaxisFontSize);T=M.x,_=M.text,this.drawnLabels.push(M.text),w===0&&t.globals.skipFirstTimelinelabel&&(_=""),w===x.length-1&&t.globals.skipLastTimelinelabel&&(_="")}var V=r.drawText({x:T,y:this.xAxisoffX+t.config.xaxis.labels.offsetY+30-(t.config.xaxis.position==="top"?t.globals.xAxisHeight+t.config.xaxis.axisTicks.height-2:0),text:_,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[e]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:t.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label ".concat(t.config.xaxis.labels.style.cssClass)});n.add(V),V.tspan(_),this.addTooltip(V,_),f+=c}return this.inversedYAxisTitleText(a),this.inversedYAxisBorder(a),a}},{key:"inversedYAxisBorder",value:function(e){var t=this.w,r=new B(this.ctx),a=t.config.xaxis.axisBorder;if(a.show){var n=0;t.config.chart.type==="bar"&&t.globals.isXNumeric&&(n-=15);var i=r.drawLine(t.globals.padHorizontal+n+a.offsetX,this.xAxisoffX,t.globals.gridWidth,this.xAxisoffX,a.color,0,a.height);this.elgrid&&this.elgrid.elGridBorders&&t.config.grid.show?this.elgrid.elGridBorders.add(i):e.add(i)}}},{key:"inversedYAxisTitleText",value:function(e){var t=this.w,r=new B(this.ctx);if(t.config.xaxis.title.text!==void 0){var a=r.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),n=r.drawText({x:t.globals.gridWidth/2+t.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(t.config.xaxis.title.style.fontSize)+t.config.xaxis.title.offsetY+20,text:t.config.xaxis.title.text,textAnchor:"middle",fontSize:t.config.xaxis.title.style.fontSize,fontFamily:t.config.xaxis.title.style.fontFamily,fontWeight:t.config.xaxis.title.style.fontWeight,foreColor:t.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text ".concat(t.config.xaxis.title.style.cssClass)});a.add(n),e.add(a)}}},{key:"yAxisTitleRotate",value:function(e,t){var r=this.w,a=new B(this.ctx),n=r.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-texts-g")),i=n?n.getBoundingClientRect():{width:0,height:0},c=r.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-title text")),f=c?c.getBoundingClientRect():{width:0,height:0};if(c){var g=this.xPaddingForYAxisTitle(e,i,f,t);c.setAttribute("x",g.xPos-(t?10:0));var x=a.rotateAroundCenter(c);c.setAttribute("transform","rotate(".concat(t?-1*r.config.yaxis[e].title.rotate:r.config.yaxis[e].title.rotate," ").concat(x.x," ").concat(x.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(e,t,r,a){var n=this.w,i=0,c=10;return n.config.yaxis[e].title.text===void 0||e<0?{xPos:i,padd:0}:(a?i=t.width+n.config.yaxis[e].title.offsetX+r.width/2+c/2:(i=-1*t.width+n.config.yaxis[e].title.offsetX+c/2+r.width/2,n.globals.isBarHorizontal&&(c=25,i=-1*t.width-n.config.yaxis[e].title.offsetX-c)),{xPos:i,padd:c})}},{key:"setYAxisXPosition",value:function(e,t){var r=this.w,a=0,n=0,i=18,c=1;r.config.yaxis.length>1&&(this.multipleYs=!0),r.config.yaxis.forEach(function(f,g){var x=r.globals.ignoreYAxisIndexes.includes(g)||!f.show||f.floating||e[g].width===0,b=e[g].width+t[g].width;f.opposite?r.globals.isBarHorizontal?(n=r.globals.gridWidth+r.globals.translateX-1,r.globals.translateYAxisX[g]=n-f.labels.offsetX):(n=r.globals.gridWidth+r.globals.translateX+c,x||(c+=b+20),r.globals.translateYAxisX[g]=n-f.labels.offsetX+20):(a=r.globals.translateX-i,x||(i+=b+20),r.globals.translateYAxisX[g]=a+f.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var e=this.w;S.listToArray(e.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis")).forEach(function(t,r){var a=e.config.yaxis[r];if(a&&!a.floating&&a.labels.align!==void 0){var n=e.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(r,"'] .apexcharts-yaxis-texts-g")),i=S.listToArray(e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(r,"'] .apexcharts-yaxis-label"))),c=n.getBoundingClientRect();i.forEach(function(f){f.setAttribute("text-anchor",a.labels.align)}),a.labels.align!=="left"||a.opposite?a.labels.align==="center"?n.setAttribute("transform","translate(".concat(c.width/2*(a.opposite?1:-1),", 0)")):a.labels.align==="right"&&a.opposite&&n.setAttribute("transform","translate(".concat(c.width,", 0)")):n.setAttribute("transform","translate(-".concat(c.width,", 0)"))}})}}]),W}(),rt=function(){function W(e){h(this,W),this.ctx=e,this.w=e.w,this.documentEvent=S.bind(this.documentEvent,this)}return m(W,[{key:"addEventListener",value:function(e,t){var r=this.w;r.globals.events.hasOwnProperty(e)?r.globals.events[e].push(t):r.globals.events[e]=[t]}},{key:"removeEventListener",value:function(e,t){var r=this.w;if(r.globals.events.hasOwnProperty(e)){var a=r.globals.events[e].indexOf(t);a!==-1&&r.globals.events[e].splice(a,1)}}},{key:"fireEvent",value:function(e,t){var r=this.w;if(r.globals.events.hasOwnProperty(e)){t&&t.length||(t=[]);for(var a=r.globals.events[e],n=a.length,i=0;i<n;i++)a[i].apply(null,t)}}},{key:"setupEventHandlers",value:function(){var e=this,t=this.w,r=this.ctx,a=t.globals.dom.baseEl.querySelector(t.globals.chartClass);this.ctx.eventList.forEach(function(n){a.addEventListener(n,function(i){var c=Object.assign({},t,{seriesIndex:t.globals.axisCharts?t.globals.capturedSeriesIndex:0,dataPointIndex:t.globals.capturedDataPointIndex});i.type==="mousemove"||i.type==="touchmove"?typeof t.config.chart.events.mouseMove=="function"&&t.config.chart.events.mouseMove(i,r,c):i.type==="mouseleave"||i.type==="touchleave"?typeof t.config.chart.events.mouseLeave=="function"&&t.config.chart.events.mouseLeave(i,r,c):(i.type==="mouseup"&&i.which===1||i.type==="touchend")&&(typeof t.config.chart.events.click=="function"&&t.config.chart.events.click(i,r,c),r.ctx.events.fireEvent("click",[i,r,c]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(n){t.globals.dom.baseEl.addEventListener(n,e.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(e){var t=this.w,r=e.target.className;if(e.type==="click"){var a=t.globals.dom.baseEl.querySelector(".apexcharts-menu");a&&a.classList.contains("apexcharts-menu-open")&&r!=="apexcharts-menu-icon"&&a.classList.remove("apexcharts-menu-open")}t.globals.clientX=e.type==="touchmove"?e.touches[0].clientX:e.clientX,t.globals.clientY=e.type==="touchmove"?e.touches[0].clientY:e.clientY}}]),W}(),et=function(){function W(e){h(this,W),this.ctx=e,this.w=e.w}return m(W,[{key:"setCurrentLocaleValues",value:function(e){var t=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(t=this.w.config.chart.locales.concat(window.Apex.chart.locales));var r=t.filter(function(n){return n.name===e})[0];if(!r)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var a=S.extend(ze,r);this.w.globals.locale=a.options}}]),W}(),tt=function(){function W(e){h(this,W),this.ctx=e,this.w=e.w}return m(W,[{key:"drawAxis",value:function(e,t){var r,a,n=this,i=this.w.globals,c=this.w.config,f=new le(this.ctx,t),g=new _e(this.ctx,t);i.axisCharts&&e!=="radar"&&(i.isBarHorizontal?(a=g.drawYaxisInversed(0),r=f.drawXaxisInversed(0),i.dom.elGraphical.add(r),i.dom.elGraphical.add(a)):(r=f.drawXaxis(),i.dom.elGraphical.add(r),c.yaxis.map(function(x,b){if(i.ignoreYAxisIndexes.indexOf(b)===-1&&(a=g.drawYaxis(b),i.dom.Paper.add(a),n.w.config.grid.position==="back")){var w=i.dom.Paper.children()[1];w.remove(),i.dom.Paper.add(w)}})))}}]),W}(),Qe=function(){function W(e){h(this,W),this.ctx=e,this.w=e.w}return m(W,[{key:"drawXCrosshairs",value:function(){var e=this.w,t=new B(this.ctx),r=new ae(this.ctx),a=e.config.xaxis.crosshairs.fill.gradient,n=e.config.xaxis.crosshairs.dropShadow,i=e.config.xaxis.crosshairs.fill.type,c=a.colorFrom,f=a.colorTo,g=a.opacityFrom,x=a.opacityTo,b=a.stops,w=n.enabled,_=n.left,T=n.top,M=n.blur,V=n.color,X=n.opacity,Z=e.config.xaxis.crosshairs.fill.color;if(e.config.xaxis.crosshairs.show){i==="gradient"&&(Z=t.drawGradient("vertical",c,f,g,x,null,b,null));var p=t.drawRect();e.config.xaxis.crosshairs.width===1&&(p=t.drawLine());var C=e.globals.gridHeight;(!S.isNumber(C)||C<0)&&(C=0);var O=e.config.xaxis.crosshairs.width;(!S.isNumber(O)||O<0)&&(O=0),p.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:C,width:O,height:C,fill:Z,filter:"none","fill-opacity":e.config.xaxis.crosshairs.opacity,stroke:e.config.xaxis.crosshairs.stroke.color,"stroke-width":e.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":e.config.xaxis.crosshairs.stroke.dashArray}),w&&(p=r.dropShadow(p,{left:_,top:T,blur:M,color:V,opacity:X})),e.globals.dom.elGraphical.add(p)}}},{key:"drawYCrosshairs",value:function(){var e=this.w,t=new B(this.ctx),r=e.config.yaxis[0].crosshairs,a=e.globals.barPadForNumericAxis;if(e.config.yaxis[0].crosshairs.show){var n=t.drawLine(-a,0,e.globals.gridWidth+a,0,r.stroke.color,r.stroke.dashArray,r.stroke.width);n.attr({class:"apexcharts-ycrosshairs"}),e.globals.dom.elGraphical.add(n)}var i=t.drawLine(-a,0,e.globals.gridWidth+a,0,r.stroke.color,0,0);i.attr({class:"apexcharts-ycrosshairs-hidden"}),e.globals.dom.elGraphical.add(i)}}]),W}(),Ct=function(){function W(e){h(this,W),this.ctx=e,this.w=e.w}return m(W,[{key:"checkResponsiveConfig",value:function(e){var t=this,r=this.w,a=r.config;if(a.responsive.length!==0){var n=a.responsive.slice();n.sort(function(g,x){return g.breakpoint>x.breakpoint?1:x.breakpoint>g.breakpoint?-1:0}).reverse();var i=new Re({}),c=function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=n[0].breakpoint,b=window.innerWidth>0?window.innerWidth:screen.width;if(b>x){var w=S.clone(r.globals.initialConfig);w.series=S.clone(r.config.series);var _=te.extendArrayProps(i,w,r);g=S.extend(_,g),g=S.extend(r.config,g),t.overrideResponsiveOptions(g)}else for(var T=0;T<n.length;T++)b<n[T].breakpoint&&(g=te.extendArrayProps(i,n[T].options,r),g=S.extend(r.config,g),t.overrideResponsiveOptions(g))};if(e){var f=te.extendArrayProps(i,e,r);f=S.extend(r.config,f),c(f=S.extend(f,e))}else c({})}}},{key:"overrideResponsiveOptions",value:function(e){var t=new Re(e).init({responsiveOverride:!0});this.w.config=t}}]),W}(),at=function(){function W(e){h(this,W),this.ctx=e,this.w=e.w,this.colors=[],this.isColorFn=!1,this.isHeatmapDistributed=this.checkHeatmapDistributed(),this.isBarDistributed=this.checkBarDistributed()}return m(W,[{key:"checkHeatmapDistributed",value:function(){var e=this.w.config,t=e.chart,r=e.plotOptions;return t.type==="treemap"&&r.treemap&&r.treemap.distributed||t.type==="heatmap"&&r.heatmap&&r.heatmap.distributed}},{key:"checkBarDistributed",value:function(){var e=this.w.config,t=e.chart,r=e.plotOptions;return r.bar&&r.bar.distributed&&(t.type==="bar"||t.type==="rangeBar")}},{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var e=this.w,t=new S;e.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(e.config.theme.mode));var r=H(e.config.colors||e.config.fill.colors||[]);e.globals.colors=this.getColors(r),this.applySeriesColors(e.globals.seriesColors,e.globals.colors),e.config.theme.monochrome.enabled&&(e.globals.colors=this.getMonochromeColors(e.config.theme.monochrome,e.globals.series,t));var a=e.globals.colors.slice();this.pushExtraColors(e.globals.colors),this.applyColorTypes(["fill","stroke"],a),this.applyDataLabelsColors(a),this.applyRadarPolygonsColors(),this.applyMarkersColors(a)}},{key:"getColors",value:function(e){var t=this,r=this.w;return e&&e.length!==0?Array.isArray(e)&&e.length>0&&typeof e[0]=="function"?(this.isColorFn=!0,r.config.series.map(function(a,n){var i=e[n]||e[0];return typeof i=="function"?i({value:r.globals.axisCharts?r.globals.series[n][0]||0:r.globals.series[n],seriesIndex:n,dataPointIndex:n,w:t.w}):i})):e:this.predefined()}},{key:"applySeriesColors",value:function(e,t){e.forEach(function(r,a){r&&(t[a]=r)})}},{key:"getMonochromeColors",value:function(e,t,r){var a=e.color,n=e.shadeIntensity,i=e.shadeTo,c=this.isBarDistributed||this.isHeatmapDistributed?t[0].length*t.length:t.length,f=1/(c/n),g=0;return Array.from({length:c},function(){var x=i==="dark"?r.shadeColor(-1*g,a):r.shadeColor(g,a);return g+=f,x})}},{key:"applyColorTypes",value:function(e,t){var r=this,a=this.w;e.forEach(function(n){a.globals[n].colors=a.config[n].colors===void 0?r.isColorFn?a.config.colors:t:a.config[n].colors.slice(),r.pushExtraColors(a.globals[n].colors)})}},{key:"applyDataLabelsColors",value:function(e){var t=this.w;t.globals.dataLabels.style.colors=t.config.dataLabels.style.colors===void 0?e:t.config.dataLabels.style.colors.slice(),this.pushExtraColors(t.globals.dataLabels.style.colors,50)}},{key:"applyRadarPolygonsColors",value:function(){var e=this.w;e.globals.radarPolygons.fill.colors=e.config.plotOptions.radar.polygons.fill.colors===void 0?[e.config.theme.mode==="dark"?"#424242":"none"]:e.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(e.globals.radarPolygons.fill.colors,20)}},{key:"applyMarkersColors",value:function(e){var t=this.w;t.globals.markers.colors=t.config.markers.colors===void 0?e:t.config.markers.colors.slice(),this.pushExtraColors(t.globals.markers.colors)}},{key:"pushExtraColors",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=this.w,n=t||a.globals.series.length;if(r===null&&(r=this.isBarDistributed||this.isHeatmapDistributed||a.config.chart.type==="heatmap"&&a.config.plotOptions.heatmap&&a.config.plotOptions.heatmap.colorScale.inverse),r&&a.globals.series.length&&(n=a.globals.series[a.globals.maxValsInArrayIndex].length*a.globals.series.length),e.length<n)for(var i=n-e.length,c=0;c<i;c++)e.push(e[c])}},{key:"updateThemeOptions",value:function(e){e.chart=e.chart||{},e.tooltip=e.tooltip||{};var t=e.theme.mode,r=t==="dark"?"palette4":t==="light"?"palette1":e.theme.palette||"palette1",a=t==="dark"?"#f6f7f8":t==="light"?"#373d3f":e.chart.foreColor||"#373d3f";return e.tooltip.theme=t||"light",e.chart.foreColor=a,e.theme.palette=r,e}},{key:"predefined",value:function(){var e={palette1:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"],palette2:["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"],palette3:["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"],palette4:["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"],palette5:["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"],palette6:["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"],palette7:["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"],palette8:["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"],palette9:["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"],palette10:["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"],default:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"]};return e[this.w.config.theme.palette]||e.default}}]),W}(),vt=function(){function W(e){h(this,W),this.ctx=e,this.w=e.w}return m(W,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(e){var t=this.w,r=e==="title"?t.config.title:t.config.subtitle,a=t.globals.svgWidth/2,n=r.offsetY,i="middle";if(r.align==="left"?(a=10,i="start"):r.align==="right"&&(a=t.globals.svgWidth-10,i="end"),a+=r.offsetX,n=n+parseInt(r.style.fontSize,10)+r.margin/2,r.text!==void 0){var c=new B(this.ctx).drawText({x:a,y:n,text:r.text,textAnchor:i,fontSize:r.style.fontSize,fontFamily:r.style.fontFamily,fontWeight:r.style.fontWeight,foreColor:r.style.color,opacity:1});c.node.setAttribute("class","apexcharts-".concat(e,"-text")),t.globals.dom.Paper.add(c)}}}]),W}(),lt=function(){function W(e){h(this,W),this.w=e.w,this.dCtx=e}return m(W,[{key:"getTitleSubtitleCoords",value:function(e){var t=this.w,r=0,a=0,n=e==="title"?t.config.title.floating:t.config.subtitle.floating,i=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(e,"-text"));if(i!==null&&!n){var c=i.getBoundingClientRect();r=c.width,a=t.globals.axisCharts?c.height+5:c.height}return{width:r,height:a}}},{key:"getLegendsRect",value:function(){var e=this.w,t=e.globals.dom.elLegendWrap;e.config.legend.height||e.config.legend.position!=="top"&&e.config.legend.position!=="bottom"||(t.style.maxHeight=e.globals.svgHeight/2+"px");var r=Object.assign({},S.getBoundingClientRect(t));return t!==null&&!e.config.legend.floating&&e.config.legend.show?this.dCtx.lgRect={x:r.x,y:r.y,height:r.height,width:r.height===0?0:r.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},e.config.legend.position!=="left"&&e.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>e.globals.svgWidth&&(this.dCtx.lgRect.width=e.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getDatalabelsRect",value:function(){var e=this,t=this.w,r=[];t.config.series.forEach(function(f,g){f.data.forEach(function(x,b){var w;w=t.globals.series[g][b],a=t.config.dataLabels.formatter(w,{ctx:e.dCtx.ctx,seriesIndex:g,dataPointIndex:b,w:t}),r.push(a)})});var a=S.getLargestStringFromArr(r),n=new B(this.dCtx.ctx),i=t.config.dataLabels.style,c=n.getTextRects(a,parseInt(i.fontSize),i.fontFamily);return{width:1.05*c.width,height:c.height}}},{key:"getLargestStringFromMultiArr",value:function(e,t){var r=e;if(this.w.globals.isMultiLineX){var a=t.map(function(i,c){return Array.isArray(i)?i.length:1}),n=Math.max.apply(Math,H(a));r=t[a.indexOf(n)]}return r}}]),W}(),Dt=function(){function W(e){h(this,W),this.w=e.w,this.dCtx=e}return m(W,[{key:"getxAxisLabelsCoords",value:function(){var e,t=this.w,r=t.globals.labels.slice();if(t.config.xaxis.convertedCatToNumeric&&r.length===0&&(r=t.globals.categoryLabels),t.globals.timescaleLabels.length>0){var a=this.getxAxisTimeScaleLabelsCoords();e={width:a.width,height:a.height},t.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=t.config.legend.position!=="left"&&t.config.legend.position!=="right"||t.config.legend.floating?0:this.dCtx.lgRect.width;var n=t.globals.xLabelFormatter,i=S.getLargestStringFromArr(r),c=this.dCtx.dimHelpers.getLargestStringFromMultiArr(i,r);t.globals.isBarHorizontal&&(c=i=t.globals.yAxisScale[0].result.reduce(function(T,M){return T.length>M.length?T:M},0));var f=new Ie(this.dCtx.ctx),g=i;i=f.xLabelFormat(n,i,g,{i:void 0,dateFormatter:new Ae(this.dCtx.ctx).formatDate,w:t}),c=f.xLabelFormat(n,c,g,{i:void 0,dateFormatter:new Ae(this.dCtx.ctx).formatDate,w:t}),(t.config.xaxis.convertedCatToNumeric&&i===void 0||String(i).trim()==="")&&(c=i="1");var x=new B(this.dCtx.ctx),b=x.getTextRects(i,t.config.xaxis.labels.style.fontSize),w=b;if(i!==c&&(w=x.getTextRects(c,t.config.xaxis.labels.style.fontSize)),(e={width:b.width>=w.width?b.width:w.width,height:b.height>=w.height?b.height:w.height}).width*r.length>t.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&t.config.xaxis.labels.rotate!==0||t.config.xaxis.labels.rotateAlways){if(!t.globals.isBarHorizontal){t.globals.rotateXLabels=!0;var _=function(T){return x.getTextRects(T,t.config.xaxis.labels.style.fontSize,t.config.xaxis.labels.style.fontFamily,"rotate(".concat(t.config.xaxis.labels.rotate," 0 0)"),!1)};b=_(i),i!==c&&(w=_(c)),e.height=(b.height>w.height?b.height:w.height)/1.5,e.width=b.width>w.width?b.width:w.width}}else t.globals.rotateXLabels=!1}return t.config.xaxis.labels.show||(e={width:0,height:0}),{width:e.width,height:e.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var e,t=this.w;if(!t.globals.hasXaxisGroups)return{width:0,height:0};var r,a=((e=t.config.xaxis.group.style)===null||e===void 0?void 0:e.fontSize)||t.config.xaxis.labels.style.fontSize,n=t.globals.groups.map(function(b){return b.title}),i=S.getLargestStringFromArr(n),c=this.dCtx.dimHelpers.getLargestStringFromMultiArr(i,n),f=new B(this.dCtx.ctx),g=f.getTextRects(i,a),x=g;return i!==c&&(x=f.getTextRects(c,a)),r={width:g.width>=x.width?g.width:x.width,height:g.height>=x.height?g.height:x.height},t.config.xaxis.labels.show||(r={width:0,height:0}),{width:r.width,height:r.height}}},{key:"getxAxisTitleCoords",value:function(){var e=this.w,t=0,r=0;if(e.config.xaxis.title.text!==void 0){var a=new B(this.dCtx.ctx).getTextRects(e.config.xaxis.title.text,e.config.xaxis.title.style.fontSize);t=a.width,r=a.height}return{width:t,height:r}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var e,t=this.w;this.dCtx.timescaleLabels=t.globals.timescaleLabels.slice();var r=this.dCtx.timescaleLabels.map(function(n){return n.value}),a=r.reduce(function(n,i){return n===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):n.length>i.length?n:i},0);return 1.05*(e=new B(this.dCtx.ctx).getTextRects(a,t.config.xaxis.labels.style.fontSize)).width*r.length>t.globals.gridWidth&&t.config.xaxis.labels.rotate!==0&&(t.globals.overlappingXLabels=!0),e}},{key:"additionalPaddingXLabels",value:function(e){var t=this,r=this.w,a=r.globals,n=r.config,i=n.xaxis.type,c=e.width;a.skipLastTimelinelabel=!1,a.skipFirstTimelinelabel=!1;var f=r.config.yaxis[0].opposite&&r.globals.isBarHorizontal,g=function(x,b){n.yaxis.length>1&&function(w){return a.collapsedSeriesIndices.indexOf(w)!==-1}(b)||function(w){if(t.dCtx.timescaleLabels&&t.dCtx.timescaleLabels.length){var _=t.dCtx.timescaleLabels[0],T=t.dCtx.timescaleLabels[t.dCtx.timescaleLabels.length-1].position+c/1.75-t.dCtx.yAxisWidthRight,M=_.position-c/1.75+t.dCtx.yAxisWidthLeft,V=r.config.legend.position==="right"&&t.dCtx.lgRect.width>0?t.dCtx.lgRect.width:0;T>a.svgWidth-a.translateX-V&&(a.skipLastTimelinelabel=!0),M<-(w.show&&!w.floating||n.chart.type!=="bar"&&n.chart.type!=="candlestick"&&n.chart.type!=="rangeBar"&&n.chart.type!=="boxPlot"?10:c/1.75)&&(a.skipFirstTimelinelabel=!0)}else i==="datetime"?t.dCtx.gridPad.right<c&&!a.rotateXLabels&&(a.skipLastTimelinelabel=!0):i!=="datetime"&&t.dCtx.gridPad.right<c/2-t.dCtx.yAxisWidthRight&&!a.rotateXLabels&&!r.config.xaxis.labels.trim&&(t.dCtx.xPadRight=c/2+1)}(x)};n.yaxis.forEach(function(x,b){f?(t.dCtx.gridPad.left<c&&(t.dCtx.xPadLeft=c/2+1),t.dCtx.xPadRight=c/2+1):g(x,b)})}}]),W}(),jt=function(){function W(e){h(this,W),this.w=e.w,this.dCtx=e}return m(W,[{key:"getyAxisLabelsCoords",value:function(){var e=this,t=this.w,r=[],a=10,n=new Ee(this.dCtx.ctx);return t.config.yaxis.map(function(i,c){var f={seriesIndex:c,dataPointIndex:-1,w:t},g=t.globals.yAxisScale[c],x=0;if(!n.isYAxisHidden(c)&&i.labels.show&&i.labels.minWidth!==void 0&&(x=i.labels.minWidth),!n.isYAxisHidden(c)&&i.labels.show&&g.result.length){var b=t.globals.yLabelFormatters[c],w=g.niceMin===Number.MIN_VALUE?0:g.niceMin,_=g.result.reduce(function(C,O){var ee,J;return((ee=String(b(C,f)))===null||ee===void 0?void 0:ee.length)>((J=String(b(O,f)))===null||J===void 0?void 0:J.length)?C:O},w),T=_=b(_,f);if(_!==void 0&&_.length!==0||(_=g.niceMax),t.globals.isBarHorizontal){a=0;var M=t.globals.labels.slice();_=S.getLargestStringFromArr(M),_=b(_,{seriesIndex:c,dataPointIndex:-1,w:t}),T=e.dCtx.dimHelpers.getLargestStringFromMultiArr(_,M)}var V=new B(e.dCtx.ctx),X="rotate(".concat(i.labels.rotate," 0 0)"),Z=V.getTextRects(_,i.labels.style.fontSize,i.labels.style.fontFamily,X,!1),p=Z;_!==T&&(p=V.getTextRects(T,i.labels.style.fontSize,i.labels.style.fontFamily,X,!1)),r.push({width:(x>p.width||x>Z.width?x:p.width>Z.width?p.width:Z.width)+a,height:p.height>Z.height?p.height:Z.height})}else r.push({width:0,height:0})}),r}},{key:"getyAxisTitleCoords",value:function(){var e=this,t=this.w,r=[];return t.config.yaxis.map(function(a,n){if(a.show&&a.title.text!==void 0){var i=new B(e.dCtx.ctx),c="rotate(".concat(a.title.rotate," 0 0)"),f=i.getTextRects(a.title.text,a.title.style.fontSize,a.title.style.fontFamily,c,!1);r.push({width:f.width,height:f.height})}else r.push({width:0,height:0})}),r}},{key:"getTotalYAxisWidth",value:function(){var e=this.w,t=0,r=0,a=0,n=e.globals.yAxisScale.length>1?10:0,i=new Ee(this.dCtx.ctx),c=function(f,g){var x=e.config.yaxis[g].floating,b=0;f.width>0&&!x?(b=f.width+n,function(w){return e.globals.ignoreYAxisIndexes.indexOf(w)>-1}(g)&&(b=b-f.width-n)):b=x||i.isYAxisHidden(g)?0:5,e.config.yaxis[g].opposite?a+=b:r+=b,t+=b};return e.globals.yLabelsCoords.map(function(f,g){c(f,g)}),e.globals.yTitleCoords.map(function(f,g){c(f,g)}),e.globals.isBarHorizontal&&!e.config.yaxis[0].floating&&(t=e.globals.yLabelsCoords[0].width+e.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=r,this.dCtx.yAxisWidthRight=a,t}}]),W}(),Ut=function(){function W(e){h(this,W),this.w=e.w,this.dCtx=e}return m(W,[{key:"gridPadForColumnsInNumericAxis",value:function(e){var t=this.w,r=t.config,a=t.globals;if(a.noData||a.collapsedSeries.length+a.ancillaryCollapsedSeries.length===r.series.length)return 0;var n=function(_){return["bar","rangeBar","candlestick","boxPlot"].includes(_)},i=r.chart.type,c=0,f=n(i)?r.series.length:1;a.comboBarCount>0&&(f=a.comboBarCount),a.collapsedSeries.forEach(function(_){n(_.type)&&(f-=1)}),r.chart.stacked&&(f=1);var g=n(i)||a.comboBarCount>0,x=Math.abs(a.initialMaxX-a.initialMinX);if(g&&a.isXNumeric&&!a.isBarHorizontal&&f>0&&x!==0){x<=3&&(x=a.dataPoints);var b=x/e,w=a.minXDiff&&a.minXDiff/b>0?a.minXDiff/b:0;w>e/2&&(w/=2),(c=w*parseInt(r.plotOptions.bar.columnWidth,10)/100)<1&&(c=1),a.barPadForNumericAxis=c}return c}},{key:"gridPadFortitleSubtitle",value:function(){var e=this,t=this.w,r=t.globals,a=this.dCtx.isSparkline||!r.axisCharts?0:10;["title","subtitle"].forEach(function(c){t.config[c].text!==void 0?a+=t.config[c].margin:a+=e.dCtx.isSparkline||!r.axisCharts?0:5}),!t.config.legend.show||t.config.legend.position!=="bottom"||t.config.legend.floating||r.axisCharts||(a+=10);var n=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),i=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");r.gridHeight-=n.height+i.height+a,r.translateY+=n.height+i.height+a}},{key:"setGridXPosForDualYAxis",value:function(e,t){var r=this.w,a=new Ee(this.dCtx.ctx);r.config.yaxis.forEach(function(n,i){r.globals.ignoreYAxisIndexes.indexOf(i)!==-1||n.floating||a.isYAxisHidden(i)||(n.opposite&&(r.globals.translateX-=t[i].width+e[i].width+parseInt(n.labels.style.fontSize,10)/1.2+12),r.globals.translateX<2&&(r.globals.translateX=2))})}}]),W}(),ss=function(){function W(e){h(this,W),this.ctx=e,this.w=e.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new lt(this),this.dimYAxis=new jt(this),this.dimXAxis=new Dt(this),this.dimGrid=new Ut(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return m(W,[{key:"plotCoords",value:function(){var e=this,t=this.w,r=t.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.datalabelsCoords={width:0,height:0};var a=Array.isArray(t.config.stroke.width)?Math.max.apply(Math,H(t.config.stroke.width)):t.config.stroke.width;this.isSparkline&&((t.config.markers.discrete.length>0||t.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(i){var c=R(i,2),f=c[0],g=c[1];e.gridPad[f]=Math.max(g,e.w.globals.markers.largestSize/1.5)}),this.gridPad.top=Math.max(a/2,this.gridPad.top),this.gridPad.bottom=Math.max(a/2,this.gridPad.bottom)),r.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),r.gridHeight=r.gridHeight-this.gridPad.top-this.gridPad.bottom,r.gridWidth=r.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var n=this.dimGrid.gridPadForColumnsInNumericAxis(r.gridWidth);r.gridWidth=r.gridWidth-2*n,r.translateX=r.translateX+this.gridPad.left+this.xPadLeft+(n>0?n:0),r.translateY=r.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var e=this,t=this.w,r=t.globals,a=this.dimYAxis.getyAxisLabelsCoords(),n=this.dimYAxis.getyAxisTitleCoords();r.isSlopeChart&&(this.datalabelsCoords=this.dimHelpers.getDatalabelsRect()),t.globals.yLabelsCoords=[],t.globals.yTitleCoords=[],t.config.yaxis.map(function(_,T){t.globals.yLabelsCoords.push({width:a[T].width,index:T}),t.globals.yTitleCoords.push({width:n[T].width,index:T})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var i=this.dimXAxis.getxAxisLabelsCoords(),c=this.dimXAxis.getxAxisGroupLabelsCoords(),f=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(i,f,c),r.translateXAxisY=t.globals.rotateXLabels?this.xAxisHeight/8:-4,r.translateXAxisX=t.globals.rotateXLabels&&t.globals.isXNumeric&&t.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,t.globals.isBarHorizontal&&(r.rotateXLabels=!1,r.translateXAxisY=parseInt(t.config.xaxis.labels.style.fontSize,10)/1.5*-1),r.translateXAxisY=r.translateXAxisY+t.config.xaxis.labels.offsetY,r.translateXAxisX=r.translateXAxisX+t.config.xaxis.labels.offsetX;var g=this.yAxisWidth,x=this.xAxisHeight;r.xAxisLabelsHeight=this.xAxisHeight-f.height,r.xAxisGroupLabelsHeight=r.xAxisLabelsHeight-i.height,r.xAxisLabelsWidth=this.xAxisWidth,r.xAxisHeight=this.xAxisHeight;var b=10;(t.config.chart.type==="radar"||this.isSparkline)&&(g=0,x=0),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||t.config.chart.type==="treemap")&&(g=0,x=0,b=0),this.isSparkline||t.config.chart.type==="treemap"||this.dimXAxis.additionalPaddingXLabels(i);var w=function(){r.translateX=g+e.datalabelsCoords.width,r.gridHeight=r.svgHeight-e.lgRect.height-x-(e.isSparkline||t.config.chart.type==="treemap"?0:t.globals.rotateXLabels?10:15),r.gridWidth=r.svgWidth-g-2*e.datalabelsCoords.width};switch(t.config.xaxis.position==="top"&&(b=r.xAxisHeight-t.config.xaxis.axisTicks.height-5),t.config.legend.position){case"bottom":r.translateY=b,w();break;case"top":r.translateY=this.lgRect.height+b,w();break;case"left":r.translateY=b,r.translateX=this.lgRect.width+g+this.datalabelsCoords.width,r.gridHeight=r.svgHeight-x-12,r.gridWidth=r.svgWidth-this.lgRect.width-g-2*this.datalabelsCoords.width;break;case"right":r.translateY=b,r.translateX=g+this.datalabelsCoords.width,r.gridHeight=r.svgHeight-x-12,r.gridWidth=r.svgWidth-this.lgRect.width-g-2*this.datalabelsCoords.width-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(n,a),new _e(this.ctx).setYAxisXPosition(a,n)}},{key:"setDimensionsForNonAxisCharts",value:function(){var e=this.w,t=e.globals,r=e.config,a=0;e.config.legend.show&&!e.config.legend.floating&&(a=20);var n=r.chart.type==="pie"||r.chart.type==="polarArea"||r.chart.type==="donut"?"pie":"radialBar",i=r.plotOptions[n].offsetY,c=r.plotOptions[n].offsetX;if(!r.legend.show||r.legend.floating){t.gridHeight=t.svgHeight;var f=t.dom.elWrap.getBoundingClientRect().width;return t.gridWidth=Math.min(f,t.gridHeight),t.translateY=i,void(t.translateX=c+(t.svgWidth-t.gridWidth)/2)}switch(r.legend.position){case"bottom":t.gridHeight=t.svgHeight-this.lgRect.height,t.gridWidth=t.svgWidth,t.translateY=i-10,t.translateX=c+(t.svgWidth-t.gridWidth)/2;break;case"top":t.gridHeight=t.svgHeight-this.lgRect.height,t.gridWidth=t.svgWidth,t.translateY=this.lgRect.height+i+10,t.translateX=c+(t.svgWidth-t.gridWidth)/2;break;case"left":t.gridWidth=t.svgWidth-this.lgRect.width-a,t.gridHeight=r.chart.height!=="auto"?t.svgHeight:t.gridWidth,t.translateY=i,t.translateX=c+this.lgRect.width+a;break;case"right":t.gridWidth=t.svgWidth-this.lgRect.width-a-5,t.gridHeight=r.chart.height!=="auto"?t.svgHeight:t.gridWidth,t.translateY=i,t.translateX=c+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(e,t,r){var a=this.w,n=a.globals.hasXaxisGroups?2:1,i=r.height+e.height+t.height,c=a.globals.isMultiLineX?1.2:a.globals.LINE_HEIGHT_RATIO,f=a.globals.rotateXLabels?22:10,g=a.globals.rotateXLabels&&a.config.legend.position==="bottom"?10:0;this.xAxisHeight=i*c+n*f+g,this.xAxisWidth=e.width,this.xAxisHeight-t.height>a.config.xaxis.labels.maxHeight&&(this.xAxisHeight=a.config.xaxis.labels.maxHeight),a.config.xaxis.labels.minHeight&&this.xAxisHeight<a.config.xaxis.labels.minHeight&&(this.xAxisHeight=a.config.xaxis.labels.minHeight),a.config.xaxis.floating&&(this.xAxisHeight=0);var x=0,b=0;a.config.yaxis.forEach(function(w){x+=w.labels.minWidth,b+=w.labels.maxWidth}),this.yAxisWidth<x&&(this.yAxisWidth=x),this.yAxisWidth>b&&(this.yAxisWidth=b)}}]),W}(),ns=function(){function W(e){h(this,W),this.w=e.w,this.lgCtx=e}return m(W,[{key:"getLegendStyles",value:function(){var e,t,r,a=document.createElement("style");a.setAttribute("type","text/css");var n=((e=this.lgCtx.ctx)===null||e===void 0||(t=e.opts)===null||t===void 0||(r=t.chart)===null||r===void 0?void 0:r.nonce)||this.w.config.chart.nonce;n&&a.setAttribute("nonce",n);var i=document.createTextNode(`
      .apexcharts-flip-y {
        transform: scaleY(-1) translateY(-100%);
        transform-origin: top;
        transform-box: fill-box;
      }
      .apexcharts-flip-x {
        transform: scaleX(-1);
        transform-origin: center;
        transform-box: fill-box;
      }
      .apexcharts-legend {
        display: flex;
        overflow: auto;
        padding: 0 10px;
      }
      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {
        flex-wrap: wrap
      }
      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        flex-direction: column;
        bottom: 0;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        justify-content: flex-start;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {
        justify-content: center;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {
        justify-content: flex-end;
      }
      .apexcharts-legend-series {
        cursor: pointer;
        line-height: normal;
        display: flex;
        align-items: center;
      }
      .apexcharts-legend-text {
        position: relative;
        font-size: 14px;
      }
      .apexcharts-legend-text *, .apexcharts-legend-marker * {
        pointer-events: none;
      }
      .apexcharts-legend-marker {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        margin-right: 1px;
      }

      .apexcharts-legend-series.apexcharts-no-click {
        cursor: auto;
      }
      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {
        display: none !important;
      }
      .apexcharts-inactive-legend {
        opacity: 0.45;
      }`);return a.appendChild(i),a}},{key:"getLegendDimensions",value:function(){var e=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),t=e.width;return{clwh:e.height,clww:t}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(e,t){var r=this,a=this.w;if(a.globals.axisCharts||a.config.chart.type==="radialBar"){a.globals.resized=!0;var n=null,i=null;a.globals.risingSeries=[],a.globals.axisCharts?(n=a.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"']")),i=parseInt(n.getAttribute("data:realIndex"),10)):(n=a.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(e+1,"']")),i=parseInt(n.getAttribute("rel"),10)-1),t?[{cs:a.globals.collapsedSeries,csi:a.globals.collapsedSeriesIndices},{cs:a.globals.ancillaryCollapsedSeries,csi:a.globals.ancillaryCollapsedSeriesIndices}].forEach(function(x){r.riseCollapsedSeries(x.cs,x.csi,i)}):this.hideSeries({seriesEl:n,realIndex:i})}else{var c=a.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(e+1,"'] path")),f=a.config.chart.type;if(f==="pie"||f==="polarArea"||f==="donut"){var g=a.config.plotOptions.pie.donut.labels;new B(this.lgCtx.ctx).pathMouseDown(c.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(c.members[0].node,g)}c.fire("click")}}},{key:"getSeriesAfterCollapsing",value:function(e){var t=e.realIndex,r=this.w,a=r.globals,n=S.clone(r.config.series);if(a.axisCharts){var i=r.config.yaxis[a.seriesYAxisReverseMap[t]],c={index:t,data:n[t].data.slice(),type:n[t].type||r.config.chart.type};if(i&&i.show&&i.showAlways)a.ancillaryCollapsedSeriesIndices.indexOf(t)<0&&(a.ancillaryCollapsedSeries.push(c),a.ancillaryCollapsedSeriesIndices.push(t));else if(a.collapsedSeriesIndices.indexOf(t)<0){a.collapsedSeries.push(c),a.collapsedSeriesIndices.push(t);var f=a.risingSeries.indexOf(t);a.risingSeries.splice(f,1)}}else a.collapsedSeries.push({index:t,data:n[t]}),a.collapsedSeriesIndices.push(t);return a.allSeriesCollapsed=a.collapsedSeries.length+a.ancillaryCollapsedSeries.length===r.config.series.length,this._getSeriesBasedOnCollapsedState(n)}},{key:"hideSeries",value:function(e){for(var t=e.seriesEl,r=e.realIndex,a=this.w,n=this.getSeriesAfterCollapsing({realIndex:r}),i=t.childNodes,c=0;c<i.length;c++)i[c].classList.contains("apexcharts-series-markers-wrap")&&(i[c].classList.contains("apexcharts-hide")?i[c].classList.remove("apexcharts-hide"):i[c].classList.add("apexcharts-hide"));this.lgCtx.ctx.updateHelpers._updateSeries(n,a.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(e,t,r){var a=this.w,n=S.clone(a.config.series);if(e.length>0){for(var i=0;i<e.length;i++)e[i].index===r&&(a.globals.axisCharts?n[r].data=e[i].data.slice():n[r]=e[i].data,n[r].hidden=!1,e.splice(i,1),t.splice(i,1),a.globals.risingSeries.push(r));n=this._getSeriesBasedOnCollapsedState(n),this.lgCtx.ctx.updateHelpers._updateSeries(n,a.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(e){var t=this.w,r=0;return t.globals.axisCharts?e.forEach(function(a,n){t.globals.collapsedSeriesIndices.indexOf(n)<0&&t.globals.ancillaryCollapsedSeriesIndices.indexOf(n)<0||(e[n].data=[],r++)}):e.forEach(function(a,n){!t.globals.collapsedSeriesIndices.indexOf(n)<0&&(e[n]=0,r++)}),t.globals.allSeriesCollapsed=r===e.length,e}}]),W}(),Pt=function(){function W(e){h(this,W),this.ctx=e,this.w=e.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new ns(this)}return m(W,[{key:"init",value:function(){var e=this.w,t=e.globals,r=e.config,a=r.legend.showForSingleSeries&&t.series.length===1||this.isBarsDistributed||t.series.length>1;if(this.legendHelpers.appendToForeignObject(),(a||!t.axisCharts)&&r.legend.show){for(;t.dom.elLegendWrap.firstChild;)t.dom.elLegendWrap.removeChild(t.dom.elLegendWrap.firstChild);this.drawLegends(),r.legend.position==="bottom"||r.legend.position==="top"?this.legendAlignHorizontal():r.legend.position!=="right"&&r.legend.position!=="left"||this.legendAlignVertical()}}},{key:"createLegendMarker",value:function(e){var t=e.i,r=e.fillcolor,a=this.w,n=document.createElement("span");n.classList.add("apexcharts-legend-marker");var i=a.config.legend.markers.shape||a.config.markers.shape,c=i;Array.isArray(i)&&(c=i[t]);var f=Array.isArray(a.config.legend.markers.size)?parseFloat(a.config.legend.markers.size[t]):parseFloat(a.config.legend.markers.size),g=Array.isArray(a.config.legend.markers.offsetX)?parseFloat(a.config.legend.markers.offsetX[t]):parseFloat(a.config.legend.markers.offsetX),x=Array.isArray(a.config.legend.markers.offsetY)?parseFloat(a.config.legend.markers.offsetY[t]):parseFloat(a.config.legend.markers.offsetY),b=Array.isArray(a.config.legend.markers.strokeWidth)?parseFloat(a.config.legend.markers.strokeWidth[t]):parseFloat(a.config.legend.markers.strokeWidth),w=n.style;if(w.height=2*(f+b)+"px",w.width=2*(f+b)+"px",w.left=g+"px",w.top=x+"px",a.config.legend.markers.customHTML)w.background="transparent",w.color=r[t],Array.isArray(a.config.legend.markers.customHTML)?a.config.legend.markers.customHTML[t]&&(n.innerHTML=a.config.legend.markers.customHTML[t]()):n.innerHTML=a.config.legend.markers.customHTML();else{var _=new ge(this.ctx).getMarkerConfig({cssClass:"apexcharts-legend-marker apexcharts-marker apexcharts-marker-".concat(c),seriesIndex:t,strokeWidth:b,size:f}),T=SVG(n).size("100%","100%"),M=new B(this.ctx).drawMarker(0,0,D(D({},_),{},{pointFillColor:Array.isArray(r)?r[t]:_.pointFillColor,shape:c}));SVG.select(".apexcharts-legend-marker.apexcharts-marker").members.forEach(function(V){V.node.classList.contains("apexcharts-marker-triangle")?V.node.style.transform="translate(50%, 45%)":V.node.style.transform="translate(50%, 50%)"}),T.add(M)}return n}},{key:"drawLegends",value:function(){var e=this,t=this.w,r=t.config.legend.fontFamily,a=t.globals.seriesNames,n=t.config.legend.markers.fillColors?t.config.legend.markers.fillColors.slice():t.globals.colors.slice();if(t.config.chart.type==="heatmap"){var i=t.config.plotOptions.heatmap.colorScale.ranges;a=i.map(function(O){return O.name?O.name:O.from+" - "+O.to}),n=i.map(function(O){return O.color})}else this.isBarsDistributed&&(a=t.globals.labels.slice());t.config.legend.customLegendItems.length&&(a=t.config.legend.customLegendItems);for(var c=t.globals.legendFormatter,f=t.config.legend.inverseOrder,g=f?a.length-1:0;f?g>=0:g<=a.length-1;f?g--:g++){var x,b=c(a[g],{seriesIndex:g,w:t}),w=!1,_=!1;if(t.globals.collapsedSeries.length>0)for(var T=0;T<t.globals.collapsedSeries.length;T++)t.globals.collapsedSeries[T].index===g&&(w=!0);if(t.globals.ancillaryCollapsedSeriesIndices.length>0)for(var M=0;M<t.globals.ancillaryCollapsedSeriesIndices.length;M++)t.globals.ancillaryCollapsedSeriesIndices[M]===g&&(_=!0);var V=this.createLegendMarker({i:g,fillcolor:n});B.setAttrs(V,{rel:g+1,"data:collapsed":w||_}),(w||_)&&V.classList.add("apexcharts-inactive-legend");var X=document.createElement("div"),Z=document.createElement("span");Z.classList.add("apexcharts-legend-text"),Z.innerHTML=Array.isArray(b)?b.join(" "):b;var p=t.config.legend.labels.useSeriesColors?t.globals.colors[g]:Array.isArray(t.config.legend.labels.colors)?(x=t.config.legend.labels.colors)===null||x===void 0?void 0:x[g]:t.config.legend.labels.colors;p||(p=t.config.chart.foreColor),Z.style.color=p,Z.style.fontSize=parseFloat(t.config.legend.fontSize)+"px",Z.style.fontWeight=t.config.legend.fontWeight,Z.style.fontFamily=r||t.config.chart.fontFamily,B.setAttrs(Z,{rel:g+1,i:g,"data:default-text":encodeURIComponent(b),"data:collapsed":w||_}),X.appendChild(V),X.appendChild(Z);var C=new te(this.ctx);t.config.legend.showForZeroSeries||C.getSeriesTotalByIndex(g)===0&&C.seriesHaveSameValues(g)&&!C.isSeriesNull(g)&&t.globals.collapsedSeriesIndices.indexOf(g)===-1&&t.globals.ancillaryCollapsedSeriesIndices.indexOf(g)===-1&&X.classList.add("apexcharts-hidden-zero-series"),t.config.legend.showForNullSeries||C.isSeriesNull(g)&&t.globals.collapsedSeriesIndices.indexOf(g)===-1&&t.globals.ancillaryCollapsedSeriesIndices.indexOf(g)===-1&&X.classList.add("apexcharts-hidden-null-series"),t.globals.dom.elLegendWrap.appendChild(X),t.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(t.config.legend.horizontalAlign)),t.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+t.config.legend.position),X.classList.add("apexcharts-legend-series"),X.style.margin="".concat(t.config.legend.itemMargin.vertical,"px ").concat(t.config.legend.itemMargin.horizontal,"px"),t.globals.dom.elLegendWrap.style.width=t.config.legend.width?t.config.legend.width+"px":"",t.globals.dom.elLegendWrap.style.height=t.config.legend.height?t.config.legend.height+"px":"",B.setAttrs(X,{rel:g+1,seriesName:S.escapeString(a[g]),"data:collapsed":w||_}),(w||_)&&X.classList.add("apexcharts-inactive-legend"),t.config.legend.onItemClick.toggleDataSeries||X.classList.add("apexcharts-no-click")}t.globals.dom.elWrap.addEventListener("click",e.onLegendClick,!0),t.config.legend.onItemHover.highlightDataSeries&&t.config.legend.customLegendItems.length===0&&(t.globals.dom.elWrap.addEventListener("mousemove",e.onLegendHovered,!0),t.globals.dom.elWrap.addEventListener("mouseout",e.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(e,t){var r=this.w,a=r.globals.dom.elLegendWrap,n=a.clientHeight,i=0,c=0;if(r.config.legend.position==="bottom")c=r.globals.svgHeight-Math.min(n,r.globals.svgHeight/2)-5;else if(r.config.legend.position==="top"){var f=new ss(this.ctx),g=f.dimHelpers.getTitleSubtitleCoords("title").height,x=f.dimHelpers.getTitleSubtitleCoords("subtitle").height;c=(g>0?g-10:0)+(x>0?x-10:0)}a.style.position="absolute",i=i+e+r.config.legend.offsetX,c=c+t+r.config.legend.offsetY,a.style.left=i+"px",a.style.top=c+"px",r.config.legend.position==="right"&&(a.style.left="auto",a.style.right=25+r.config.legend.offsetX+"px"),["width","height"].forEach(function(b){a.style[b]&&(a.style[b]=parseInt(r.config.legend[b],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var e=this.w;e.globals.dom.elLegendWrap.style.right=0;var t=new ss(this.ctx),r=t.dimHelpers.getTitleSubtitleCoords("title"),a=t.dimHelpers.getTitleSubtitleCoords("subtitle"),n=0;e.config.legend.position==="top"&&(n=r.height+a.height+e.config.title.margin+e.config.subtitle.margin-10),this.setLegendWrapXY(20,n)}},{key:"legendAlignVertical",value:function(){var e=this.w,t=this.legendHelpers.getLegendDimensions(),r=0;e.config.legend.position==="left"&&(r=20),e.config.legend.position==="right"&&(r=e.globals.svgWidth-t.clww-10),this.setLegendWrapXY(r,20)}},{key:"onLegendHovered",value:function(e){var t=this.w,r=e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker");if(t.config.chart.type==="heatmap"||this.isBarsDistributed){if(r){var a=parseInt(e.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,a,this.w]),new ie(this.ctx).highlightRangeInSeries(e,e.target)}}else!e.target.classList.contains("apexcharts-inactive-legend")&&r&&new ie(this.ctx).toggleSeriesOnHover(e,e.target)}},{key:"onLegendClick",value:function(e){var t=this.w;if(!t.config.legend.customLegendItems.length&&(e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker"))){var r=parseInt(e.target.getAttribute("rel"),10)-1,a=e.target.getAttribute("data:collapsed")==="true",n=this.w.config.chart.events.legendClick;typeof n=="function"&&n(this.ctx,r,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,r,this.w]);var i=this.w.config.legend.markers.onClick;typeof i=="function"&&e.target.classList.contains("apexcharts-legend-marker")&&(i(this.ctx,r,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,r,this.w])),t.config.chart.type!=="treemap"&&t.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&t.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(r,a)}}}]),W}(),ks=function(){function W(e){h(this,W),this.ctx=e,this.w=e.w;var t=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=t.globals.minX,this.maxX=t.globals.maxX}return m(W,[{key:"createToolbar",value:function(){var e=this,t=this.w,r=function(){return document.createElement("div")},a=r();if(a.setAttribute("class","apexcharts-toolbar"),a.style.top=t.config.chart.toolbar.offsetY+"px",a.style.right=3-t.config.chart.toolbar.offsetX+"px",t.globals.dom.elWrap.appendChild(a),this.elZoom=r(),this.elZoomIn=r(),this.elZoomOut=r(),this.elPan=r(),this.elSelection=r(),this.elZoomReset=r(),this.elMenuIcon=r(),this.elMenu=r(),this.elCustomIcons=[],this.t=t.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var n=0;n<this.t.customIcons.length;n++)this.elCustomIcons.push(r());var i=[],c=function(b,w,_){var T=b.toLowerCase();e.t[T]&&t.config.chart.zoom.enabled&&i.push({el:w,icon:typeof e.t[T]=="string"?e.t[T]:_,title:e.localeValues[b],class:"apexcharts-".concat(T,"-icon")})};c("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),c("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var f=function(b){e.t[b]&&t.config.chart[b].enabled&&i.push({el:b==="zoom"?e.elZoom:e.elSelection,icon:typeof e.t[b]=="string"?e.t[b]:b==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:e.localeValues[b==="zoom"?"selectionZoom":"selection"],class:t.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(b,"-icon")})};f("zoom"),f("selection"),this.t.pan&&t.config.chart.zoom.enabled&&i.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:t.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),c("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&i.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var g=0;g<this.elCustomIcons.length;g++)i.push({el:this.elCustomIcons[g],icon:this.t.customIcons[g].icon,title:this.t.customIcons[g].title,index:this.t.customIcons[g].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[g].class});i.forEach(function(b,w){b.index&&S.moveIndexInArray(i,w,b.index)});for(var x=0;x<i.length;x++)B.setAttrs(i[x].el,{class:i[x].class,title:i[x].title}),i[x].el.innerHTML=i[x].icon,a.appendChild(i[x].el);this._createHamburgerMenu(a),t.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):t.globals.panEnabled?this.elPan.classList.add(this.selectedClass):t.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(e){this.elMenuItems=[],e.appendChild(this.elMenu),B.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var t=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],r=0;r<t.length;r++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[r].innerHTML=t[r].title,B.setAttrs(this.elMenuItems[r],{class:"apexcharts-menu-item ".concat(t[r].name),title:t[r].title}),this.elMenu.appendChild(this.elMenuItems[r])}},{key:"addToolbarEventListeners",value:function(){var e=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(r){r.classList.contains("exportSVG")?r.addEventListener("click",e.handleDownload.bind(e,"svg")):r.classList.contains("exportPNG")?r.addEventListener("click",e.handleDownload.bind(e,"png")):r.classList.contains("exportCSV")&&r.addEventListener("click",e.handleDownload.bind(e,"csv"))});for(var t=0;t<this.t.customIcons.length;t++)this.elCustomIcons[t].addEventListener("click",this.t.customIcons[t].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(e){this.ctx.getSyncedCharts().forEach(function(t){t.ctx.toolbar.toggleOtherControls();var r=e==="selection"?t.ctx.toolbar.elSelection:t.ctx.toolbar.elZoom,a=e==="selection"?"selectionEnabled":"zoomEnabled";t.w.globals[a]=!t.w.globals[a],r.classList.contains(t.ctx.toolbar.selectedClass)?r.classList.remove(t.ctx.toolbar.selectedClass):r.classList.add(t.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var e=this.w;this.elZoom||(this.elZoom=e.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=e.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=e.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(e){this.toggleOtherControls(),e==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var t=e==="pan"?this.elPan:this.elZoom,r=e==="pan"?this.elZoom:this.elPan;t&&t.classList.add(this.selectedClass),r&&r.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(e){e.ctx.toolbar.toggleOtherControls(),e.w.globals.panEnabled=!e.w.globals.panEnabled,e.ctx.toolbar.elPan.classList.contains(e.ctx.toolbar.selectedClass)?e.ctx.toolbar.elPan.classList.remove(e.ctx.toolbar.selectedClass):e.ctx.toolbar.elPan.classList.add(e.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var e=this,t=this.w;t.globals.panEnabled=!1,t.globals.zoomEnabled=!1,t.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(r){r&&r.classList.remove(e.selectedClass)})}},{key:"handleZoomIn",value:function(){var e=this.w;e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY);var t=(this.minX+this.maxX)/2,r=(this.minX+t)/2,a=(this.maxX+t)/2,n=this._getNewMinXMaxX(r,a);e.globals.disableZoomIn||this.zoomUpdateOptions(n.minX,n.maxX)}},{key:"handleZoomOut",value:function(){var e=this.w;if(e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY),!(e.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var t=(this.minX+this.maxX)/2,r=this.minX-(t-this.minX),a=this.maxX-(t-this.maxX),n=this._getNewMinXMaxX(r,a);e.globals.disableZoomOut||this.zoomUpdateOptions(n.minX,n.maxX)}}},{key:"_getNewMinXMaxX",value:function(e,t){var r=this.w.config.xaxis.convertedCatToNumeric;return{minX:r?Math.floor(e):e,maxX:r?Math.floor(t):t}}},{key:"zoomUpdateOptions",value:function(e,t){var r=this.w;if(e!==void 0||t!==void 0){if(!(r.config.xaxis.convertedCatToNumeric&&(e<1&&(e=1,t=r.globals.dataPoints),t-e<2))){var a={min:e,max:t},n=this.getBeforeZoomRange(a);n&&(a=n.xaxis);var i={xaxis:a},c=S.clone(r.globals.initialConfig.yaxis);r.config.chart.group||(i.yaxis=c),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(i,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(a,c)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(e,t){typeof this.ev.zoomed=="function"&&this.ev.zoomed(this.ctx,{xaxis:e,yaxis:t})}},{key:"getBeforeZoomRange",value:function(e,t){var r=null;return typeof this.ev.beforeZoom=="function"&&(r=this.ev.beforeZoom(this,{xaxis:e,yaxis:t})),r}},{key:"toggleMenu",value:function(){var e=this;window.setTimeout(function(){e.elMenu.classList.contains("apexcharts-menu-open")?e.elMenu.classList.remove("apexcharts-menu-open"):e.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(e){var t=this.w,r=new ne(this.ctx);switch(e){case"svg":r.exportToSVG(this.ctx);break;case"png":r.exportToPng(this.ctx);break;case"csv":r.exportToCSV({series:t.config.series,columnDelimiter:t.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(e){this.ctx.getSyncedCharts().forEach(function(t){var r=t.w;if(r.globals.lastXAxis.min=r.globals.initialConfig.xaxis.min,r.globals.lastXAxis.max=r.globals.initialConfig.xaxis.max,t.updateHelpers.revertDefaultAxisMinMax(),typeof r.config.chart.events.beforeResetZoom=="function"){var a=r.config.chart.events.beforeResetZoom(t,r);a&&t.updateHelpers.revertDefaultAxisMinMax(a)}typeof r.config.chart.events.zoomed=="function"&&t.ctx.toolbar.zoomCallback({min:r.config.xaxis.min,max:r.config.xaxis.max}),r.globals.zoomed=!1;var n=t.ctx.series.emptyCollapsedSeries(S.clone(r.globals.initialSeries));t.updateHelpers._updateSeries(n,r.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),W}(),We=function(W){E(t,ks);var e=k(t);function t(r){var a;return h(this,t),(a=e.call(this,r)).ctx=r,a.w=r.w,a.dragged=!1,a.graphics=new B(a.ctx),a.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend","wheel"],a.clientX=0,a.clientY=0,a.startX=0,a.endX=0,a.dragX=0,a.startY=0,a.endY=0,a.dragY=0,a.moveDirection="none",a.debounceTimer=null,a.debounceDelay=100,a.wheelDelay=400,a}return m(t,[{key:"init",value:function(r){var a=this,n=r.xyRatios,i=this.w,c=this;this.xyRatios=n,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=i.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),i.globals.dom.elGraphical.add(this.zoomRect),i.globals.dom.elGraphical.add(this.selectionRect),i.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:i.globals.gridWidth,maxY:i.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):i.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:i.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=i.globals.dom.baseEl.querySelector("".concat(i.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(f){a.hoverArea.addEventListener(f,c.svgMouseEvents.bind(c,n),{capture:!1,passive:!0})}),i.config.chart.zoom.allowMouseWheelZoom&&this.hoverArea.addEventListener("wheel",c.mouseWheelEvent.bind(c),{capture:!1,passive:!1})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(r,a){var n=this.w,i=this,c=this.ctx.toolbar,f=n.globals.zoomEnabled?n.config.chart.zoom.type:n.config.chart.selection.type,g=n.config.chart.toolbar.autoSelected;if(a.shiftKey?(this.shiftWasPressed=!0,c.enableZoomPanFromToolbar(g==="pan"?"zoom":"pan")):this.shiftWasPressed&&(c.enableZoomPanFromToolbar(g),this.shiftWasPressed=!1),a.target){var x,b=a.target.classList;if(a.target.parentNode&&a.target.parentNode!==null&&(x=a.target.parentNode.classList),!(b.contains("apexcharts-selection-rect")||b.contains("apexcharts-legend-marker")||b.contains("apexcharts-legend-text")||x&&x.contains("apexcharts-toolbar"))){if(i.clientX=a.type==="touchmove"||a.type==="touchstart"?a.touches[0].clientX:a.type==="touchend"?a.changedTouches[0].clientX:a.clientX,i.clientY=a.type==="touchmove"||a.type==="touchstart"?a.touches[0].clientY:a.type==="touchend"?a.changedTouches[0].clientY:a.clientY,a.type==="mousedown"&&a.which===1){var w=i.gridRect.getBoundingClientRect();i.startX=i.clientX-w.left,i.startY=i.clientY-w.top,i.dragged=!1,i.w.globals.mousedown=!0}if((a.type==="mousemove"&&a.which===1||a.type==="touchmove")&&(i.dragged=!0,n.globals.panEnabled?(n.globals.selection=null,i.w.globals.mousedown&&i.panDragging({context:i,zoomtype:f,xyRatios:r})):(i.w.globals.mousedown&&n.globals.zoomEnabled||i.w.globals.mousedown&&n.globals.selectionEnabled)&&(i.selection=i.selectionDrawing({context:i,zoomtype:f}))),a.type==="mouseup"||a.type==="touchend"||a.type==="mouseleave"){var _,T=(_=i.gridRect)===null||_===void 0?void 0:_.getBoundingClientRect();T&&i.w.globals.mousedown&&(i.endX=i.clientX-T.left,i.endY=i.clientY-T.top,i.dragX=Math.abs(i.endX-i.startX),i.dragY=Math.abs(i.endY-i.startY),(n.globals.zoomEnabled||n.globals.selectionEnabled)&&i.selectionDrawn({context:i,zoomtype:f}),n.globals.panEnabled&&n.config.xaxis.convertedCatToNumeric&&i.delayedPanScrolled()),n.globals.zoomEnabled&&i.hideSelectionRect(this.selectionRect),i.dragged=!1,i.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"mouseWheelEvent",value:function(r){var a=this,n=this.w;r.preventDefault();var i=Date.now();i-n.globals.lastWheelExecution>this.wheelDelay&&(this.executeMouseWheelZoom(r),n.globals.lastWheelExecution=i),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(function(){i-n.globals.lastWheelExecution>a.wheelDelay&&(a.executeMouseWheelZoom(r),n.globals.lastWheelExecution=i)},this.debounceDelay)}},{key:"executeMouseWheelZoom",value:function(r){var a,n=this.w;this.minX=n.globals.isRangeBar?n.globals.minY:n.globals.minX,this.maxX=n.globals.isRangeBar?n.globals.maxY:n.globals.maxX;var i=(a=this.gridRect)===null||a===void 0?void 0:a.getBoundingClientRect();if(i){var c,f,g,x=(r.clientX-i.left)/i.width,b=this.minX,w=this.maxX,_=w-b;if(r.deltaY<0){var T=b+x*_;f=T-(c=.5*_)/2,g=T+c/2}else f=b-(c=1.5*_)/2,g=w+c/2;if(!n.globals.isRangeBar){f=Math.max(f,n.globals.initialMinX),g=Math.min(g,n.globals.initialMaxX);var M=.01*(n.globals.initialMaxX-n.globals.initialMinX);if(g-f<M){var V=(f+g)/2;f=V-M/2,g=V+M/2}}var X=this._getNewMinXMaxX(f,g);isNaN(X.minX)||isNaN(X.maxX)||this.zoomUpdateOptions(X.minX,X.maxX)}}},{key:"makeSelectionRectDraggable",value:function(){var r=this.w;if(this.selectionRect){var a=this.selectionRect.node.getBoundingClientRect();a.width>0&&a.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:r.globals.gridWidth,maxY:r.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var r=this.w,a=this.xyRatios;if(!r.globals.zoomEnabled){if(r.globals.selection!==void 0&&r.globals.selection!==null)this.drawSelectionRect(r.globals.selection);else if(r.config.chart.selection.xaxis.min!==void 0&&r.config.chart.selection.xaxis.max!==void 0){var n=(r.config.chart.selection.xaxis.min-r.globals.minX)/a.xRatio,i=r.globals.gridWidth-(r.globals.maxX-r.config.chart.selection.xaxis.max)/a.xRatio-n;r.globals.isRangeBar&&(n=(r.config.chart.selection.xaxis.min-r.globals.yAxisScale[0].niceMin)/a.invertedYRatio,i=(r.config.chart.selection.xaxis.max-r.config.chart.selection.xaxis.min)/a.invertedYRatio);var c={x:n,y:0,width:i,height:r.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0};this.drawSelectionRect(c),this.makeSelectionRectDraggable(),typeof r.config.chart.events.selection=="function"&&r.config.chart.events.selection(this.ctx,{xaxis:{min:r.config.chart.selection.xaxis.min,max:r.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(r){var a=r.x,n=r.y,i=r.width,c=r.height,f=r.translateX,g=f===void 0?0:f,x=r.translateY,b=x===void 0?0:x,w=this.w,_=this.zoomRect,T=this.selectionRect;if(this.dragged||w.globals.selection!==null){var M={transform:"translate("+g+", "+b+")"};w.globals.zoomEnabled&&this.dragged&&(i<0&&(i=1),_.attr({x:a,y:n,width:i,height:c,fill:w.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":w.config.chart.zoom.zoomedArea.fill.opacity,stroke:w.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":w.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":w.config.chart.zoom.zoomedArea.stroke.opacity}),B.setAttrs(_.node,M)),w.globals.selectionEnabled&&(T.attr({x:a,y:n,width:i>0?i:0,height:c>0?c:0,fill:w.config.chart.selection.fill.color,"fill-opacity":w.config.chart.selection.fill.opacity,stroke:w.config.chart.selection.stroke.color,"stroke-width":w.config.chart.selection.stroke.width,"stroke-dasharray":w.config.chart.selection.stroke.dashArray,"stroke-opacity":w.config.chart.selection.stroke.opacity}),B.setAttrs(T.node,M))}}},{key:"hideSelectionRect",value:function(r){r&&r.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(r){var a=r.context,n=r.zoomtype,i=this.w,c=a,f=this.gridRect.getBoundingClientRect(),g=c.startX-1,x=c.startY,b=!1,w=!1,_=c.clientX-f.left-g,T=c.clientY-f.top-x,M={};return Math.abs(_+g)>i.globals.gridWidth?_=i.globals.gridWidth-g:c.clientX-f.left<0&&(_=g),g>c.clientX-f.left&&(b=!0,_=Math.abs(_)),x>c.clientY-f.top&&(w=!0,T=Math.abs(T)),M=n==="x"?{x:b?g-_:g,y:0,width:_,height:i.globals.gridHeight}:n==="y"?{x:0,y:w?x-T:x,width:i.globals.gridWidth,height:T}:{x:b?g-_:g,y:w?x-T:x,width:_,height:T},c.drawSelectionRect(M),c.selectionDragging("resizing"),M}},{key:"selectionDragging",value:function(r,a){var n=this,i=this.w,c=this.xyRatios,f=this.selectionRect,g=0;r==="resizing"&&(g=30);var x=function(w){return parseFloat(f.node.getAttribute(w))},b={x:x("x"),y:x("y"),width:x("width"),height:x("height")};i.globals.selection=b,typeof i.config.chart.events.selection=="function"&&i.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var w,_,T,M,V=n.gridRect.getBoundingClientRect(),X=f.node.getBoundingClientRect();i.globals.isRangeBar?(w=i.globals.yAxisScale[0].niceMin+(X.left-V.left)*c.invertedYRatio,_=i.globals.yAxisScale[0].niceMin+(X.right-V.left)*c.invertedYRatio,T=0,M=1):(w=i.globals.xAxisScale.niceMin+(X.left-V.left)*c.xRatio,_=i.globals.xAxisScale.niceMin+(X.right-V.left)*c.xRatio,T=i.globals.yAxisScale[0].niceMin+(V.bottom-X.bottom)*c.yRatio[0],M=i.globals.yAxisScale[0].niceMax-(X.top-V.top)*c.yRatio[0]);var Z={xaxis:{min:w,max:_},yaxis:{min:T,max:M}};i.config.chart.events.selection(n.ctx,Z),i.config.chart.brush.enabled&&i.config.chart.events.brushScrolled!==void 0&&i.config.chart.events.brushScrolled(n.ctx,Z)},g))}},{key:"selectionDrawn",value:function(r){var a=r.context,n=r.zoomtype,i=this.w,c=a,f=this.xyRatios,g=this.ctx.toolbar;if(c.startX>c.endX){var x=c.startX;c.startX=c.endX,c.endX=x}if(c.startY>c.endY){var b=c.startY;c.startY=c.endY,c.endY=b}var w=void 0,_=void 0;i.globals.isRangeBar?(w=i.globals.yAxisScale[0].niceMin+c.startX*f.invertedYRatio,_=i.globals.yAxisScale[0].niceMin+c.endX*f.invertedYRatio):(w=i.globals.xAxisScale.niceMin+c.startX*f.xRatio,_=i.globals.xAxisScale.niceMin+c.endX*f.xRatio);var T=[],M=[];if(i.config.yaxis.forEach(function(ee,J){var re=i.globals.seriesYAxisMap[J][0];T.push(i.globals.yAxisScale[J].niceMax-f.yRatio[re]*c.startY),M.push(i.globals.yAxisScale[J].niceMax-f.yRatio[re]*c.endY)}),c.dragged&&(c.dragX>10||c.dragY>10)&&w!==_){if(i.globals.zoomEnabled){var V=S.clone(i.globals.initialConfig.yaxis),X=S.clone(i.globals.initialConfig.xaxis);if(i.globals.zoomed=!0,i.config.xaxis.convertedCatToNumeric&&(w=Math.floor(w),_=Math.floor(_),w<1&&(w=1,_=i.globals.dataPoints),_-w<2&&(_=w+1)),n!=="xy"&&n!=="x"||(X={min:w,max:_}),n!=="xy"&&n!=="y"||V.forEach(function(ee,J){V[J].min=M[J],V[J].max=T[J]}),g){var Z=g.getBeforeZoomRange(X,V);Z&&(X=Z.xaxis?Z.xaxis:X,V=Z.yaxis?Z.yaxis:V)}var p={xaxis:X};i.config.chart.group||(p.yaxis=V),c.ctx.updateHelpers._updateOptions(p,!1,c.w.config.chart.animations.dynamicAnimation.enabled),typeof i.config.chart.events.zoomed=="function"&&g.zoomCallback(X,V)}else if(i.globals.selectionEnabled){var C,O=null;C={min:w,max:_},n!=="xy"&&n!=="y"||(O=S.clone(i.config.yaxis)).forEach(function(ee,J){O[J].min=M[J],O[J].max=T[J]}),i.globals.selection=c.selection,typeof i.config.chart.events.selection=="function"&&i.config.chart.events.selection(c.ctx,{xaxis:C,yaxis:O})}}}},{key:"panDragging",value:function(r){var a=r.context,n=this.w,i=a;if(n.globals.lastClientPosition.x!==void 0){var c=n.globals.lastClientPosition.x-i.clientX,f=n.globals.lastClientPosition.y-i.clientY;Math.abs(c)>Math.abs(f)&&c>0?this.moveDirection="left":Math.abs(c)>Math.abs(f)&&c<0?this.moveDirection="right":Math.abs(f)>Math.abs(c)&&f>0?this.moveDirection="up":Math.abs(f)>Math.abs(c)&&f<0&&(this.moveDirection="down")}n.globals.lastClientPosition={x:i.clientX,y:i.clientY};var g=n.globals.isRangeBar?n.globals.minY:n.globals.minX,x=n.globals.isRangeBar?n.globals.maxY:n.globals.maxX;n.config.xaxis.convertedCatToNumeric||i.panScrolled(g,x)}},{key:"delayedPanScrolled",value:function(){var r=this.w,a=r.globals.minX,n=r.globals.maxX,i=(r.globals.maxX-r.globals.minX)/2;this.moveDirection==="left"?(a=r.globals.minX+i,n=r.globals.maxX+i):this.moveDirection==="right"&&(a=r.globals.minX-i,n=r.globals.maxX-i),a=Math.floor(a),n=Math.floor(n),this.updateScrolledChart({xaxis:{min:a,max:n}},a,n)}},{key:"panScrolled",value:function(r,a){var n=this.w,i=this.xyRatios,c=S.clone(n.globals.initialConfig.yaxis),f=i.xRatio,g=n.globals.minX,x=n.globals.maxX;n.globals.isRangeBar&&(f=i.invertedYRatio,g=n.globals.minY,x=n.globals.maxY),this.moveDirection==="left"?(r=g+n.globals.gridWidth/15*f,a=x+n.globals.gridWidth/15*f):this.moveDirection==="right"&&(r=g-n.globals.gridWidth/15*f,a=x-n.globals.gridWidth/15*f),n.globals.isRangeBar||(r<n.globals.initialMinX||a>n.globals.initialMaxX)&&(r=g,a=x);var b={xaxis:{min:r,max:a}};n.config.chart.group||(b.yaxis=c),this.updateScrolledChart(b,r,a)}},{key:"updateScrolledChart",value:function(r,a,n){var i=this.w;this.ctx.updateHelpers._updateOptions(r,!1,!1),typeof i.config.chart.events.scrolled=="function"&&i.config.chart.events.scrolled(this.ctx,{xaxis:{min:a,max:n}})}}]),t}(),He=function(){function W(e){h(this,W),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx}return m(W,[{key:"getNearestValues",value:function(e){var t=e.hoverArea,r=e.elGrid,a=e.clientX,n=e.clientY,i=this.w,c=r.getBoundingClientRect(),f=c.width,g=c.height,x=f/(i.globals.dataPoints-1),b=g/i.globals.dataPoints,w=this.hasBars();!i.globals.comboCharts&&!w||i.config.xaxis.convertedCatToNumeric||(x=f/i.globals.dataPoints);var _=a-c.left-i.globals.barPadForNumericAxis,T=n-c.top;_<0||T<0||_>f||T>g?(t.classList.remove("hovering-zoom"),t.classList.remove("hovering-pan")):i.globals.zoomEnabled?(t.classList.remove("hovering-pan"),t.classList.add("hovering-zoom")):i.globals.panEnabled&&(t.classList.remove("hovering-zoom"),t.classList.add("hovering-pan"));var M=Math.round(_/x),V=Math.floor(T/b);w&&!i.config.xaxis.convertedCatToNumeric&&(M=Math.ceil(_/x),M-=1);var X=null,Z=null,p=i.globals.seriesXvalues.map(function(re){return re.filter(function(me){return S.isNumber(me)})}),C=i.globals.seriesYvalues.map(function(re){return re.filter(function(me){return S.isNumber(me)})});if(i.globals.isXNumeric){var O=this.ttCtx.getElGrid().getBoundingClientRect(),ee=_*(O.width/f),J=T*(O.height/g);X=(Z=this.closestInMultiArray(ee,J,p,C)).index,M=Z.j,X!==null&&(p=i.globals.seriesXvalues[X],M=(Z=this.closestInArray(ee,p)).index)}return i.globals.capturedSeriesIndex=X===null?-1:X,(!M||M<1)&&(M=0),i.globals.isBarHorizontal?i.globals.capturedDataPointIndex=V:i.globals.capturedDataPointIndex=M,{capturedSeries:X,j:i.globals.isBarHorizontal?V:M,hoverX:_,hoverY:T}}},{key:"closestInMultiArray",value:function(e,t,r,a){var n=this.w,i=0,c=null,f=-1;n.globals.series.length>1?i=this.getFirstActiveXArray(r):c=0;var g=r[i][0],x=Math.abs(e-g);if(r.forEach(function(_){_.forEach(function(T,M){var V=Math.abs(e-T);V<=x&&(x=V,f=M)})}),f!==-1){var b=a[i][f],w=Math.abs(t-b);c=i,a.forEach(function(_,T){var M=Math.abs(t-_[f]);M<=w&&(w=M,c=T)})}return{index:c,j:f}}},{key:"getFirstActiveXArray",value:function(e){for(var t=this.w,r=0,a=e.map(function(i,c){return i.length>0?c:-1}),n=0;n<a.length;n++)if(a[n]!==-1&&t.globals.collapsedSeriesIndices.indexOf(n)===-1&&t.globals.ancillaryCollapsedSeriesIndices.indexOf(n)===-1){r=a[n];break}return r}},{key:"closestInArray",value:function(e,t){for(var r=t[0],a=null,n=Math.abs(e-r),i=0;i<t.length;i++){var c=Math.abs(e-t[i]);c<n&&(n=c,a=i)}return{index:a}}},{key:"isXoverlap",value:function(e){var t=[],r=this.w.globals.seriesX.filter(function(n){return n[0]!==void 0});if(r.length>0)for(var a=0;a<r.length-1;a++)r[a][e]!==void 0&&r[a+1][e]!==void 0&&r[a][e]!==r[a+1][e]&&t.push("unEqual");return t.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var e=!0,t=this.w.globals.initialSeries,r=0;r<t.length-1;r++)if(t[r].data.length!==t[r+1].data.length){e=!1;break}return e}},{key:"getBarsHeight",value:function(e){return H(e).reduce(function(t,r){return t+r.getBBox().height},0)}},{key:"getElMarkers",value:function(e){return typeof e=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(e=H(e)).sort(function(r,a){var n=Number(r.getAttribute("data:realIndex")),i=Number(a.getAttribute("data:realIndex"));return i<n?1:i>n?-1:0});var t=[];return e.forEach(function(r){t.push(r.querySelector(".apexcharts-marker"))}),t}},{key:"hasMarkers",value:function(e){return this.getElMarkers(e).length>0}},{key:"getPathFromPoint",value:function(e,t){var r=Number(e.getAttribute("cx")),a=Number(e.getAttribute("cy")),n=e.getAttribute("shape");return new B(this.ctx).getMarkerPath(r,a,n,t)}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(e){var t=this.w,r=t.config.markers.hover.size;return r===void 0&&(r=t.globals.markers.size[e]+t.config.markers.hover.sizeOffset),r}},{key:"toggleAllTooltipSeriesGroups",value:function(e){var t=this.w,r=this.ttCtx;r.allTooltipSeriesGroups.length===0&&(r.allTooltipSeriesGroups=t.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var a=r.allTooltipSeriesGroups,n=0;n<a.length;n++)e==="enable"?(a[n].classList.add("apexcharts-active"),a[n].style.display=t.config.tooltip.items.display):(a[n].classList.remove("apexcharts-active"),a[n].style.display="none")}}]),W}(),Ke=function(){function W(e){h(this,W),this.w=e.w,this.ctx=e.ctx,this.ttCtx=e,this.tooltipUtil=new He(e)}return m(W,[{key:"drawSeriesTexts",value:function(e){var t=e.shared,r=t===void 0||t,a=e.ttItems,n=e.i,i=n===void 0?0:n,c=e.j,f=c===void 0?null:c,g=e.y1,x=e.y2,b=e.e,w=this.w;w.config.tooltip.custom!==void 0?this.handleCustomTooltip({i,j:f,y1:g,y2:x,w}):this.toggleActiveInactiveSeries(r,i);var _=this.getValuesToPrint({i,j:f});this.printLabels({i,j:f,values:_,ttItems:a,shared:r,e:b});var T=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=T.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=T.getBoundingClientRect().height}},{key:"printLabels",value:function(e){var t,r=this,a=e.i,n=e.j,i=e.values,c=e.ttItems,f=e.shared,g=e.e,x=this.w,b=[],w=function(O){return x.globals.seriesGoals[O]&&x.globals.seriesGoals[O][n]&&Array.isArray(x.globals.seriesGoals[O][n])},_=i.xVal,T=i.zVal,M=i.xAxisTTVal,V="",X=x.globals.colors[a];n!==null&&x.config.plotOptions.bar.distributed&&(X=x.globals.colors[n]);for(var Z=function(O,ee){var J=r.getFormatters(a);V=r.getSeriesName({fn:J.yLbTitleFormatter,index:a,seriesIndex:a,j:n}),x.config.chart.type==="treemap"&&(V=J.yLbTitleFormatter(String(x.config.series[a].data[n].x),{series:x.globals.series,seriesIndex:a,dataPointIndex:n,w:x}));var re=x.config.tooltip.inverseOrder?ee:O;if(x.globals.axisCharts){var me=function(qe){var $e,Fe,ut,mt;return x.globals.isRangeData?J.yLbFormatter(($e=x.globals.seriesRangeStart)===null||$e===void 0||(Fe=$e[qe])===null||Fe===void 0?void 0:Fe[n],{series:x.globals.seriesRangeStart,seriesIndex:qe,dataPointIndex:n,w:x})+" - "+J.yLbFormatter((ut=x.globals.seriesRangeEnd)===null||ut===void 0||(mt=ut[qe])===null||mt===void 0?void 0:mt[n],{series:x.globals.seriesRangeEnd,seriesIndex:qe,dataPointIndex:n,w:x}):J.yLbFormatter(x.globals.series[qe][n],{series:x.globals.series,seriesIndex:qe,dataPointIndex:n,w:x})};if(f)J=r.getFormatters(re),V=r.getSeriesName({fn:J.yLbTitleFormatter,index:re,seriesIndex:a,j:n}),X=x.globals.colors[re],t=me(re),w(re)&&(b=x.globals.seriesGoals[re][n].map(function(qe){return{attrs:qe,val:J.yLbFormatter(qe.value,{seriesIndex:re,dataPointIndex:n,w:x})}}));else{var be,Se=g==null||(be=g.target)===null||be===void 0?void 0:be.getAttribute("fill");Se&&(Se.indexOf("url")!==-1?Se.indexOf("Pattern")!==-1&&(X=x.globals.dom.baseEl.querySelector(Se.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke")):X=Se),t=me(a),w(a)&&Array.isArray(x.globals.seriesGoals[a][n])&&(b=x.globals.seriesGoals[a][n].map(function(qe){return{attrs:qe,val:J.yLbFormatter(qe.value,{seriesIndex:a,dataPointIndex:n,w:x})}}))}}n===null&&(t=J.yLbFormatter(x.globals.series[a],D(D({},x),{},{seriesIndex:a,dataPointIndex:a}))),r.DOMHandling({i:a,t:re,j:n,ttItems:c,values:{val:t,goalVals:b,xVal:_,xAxisTTVal:M,zVal:T},seriesName:V,shared:f,pColor:X})},p=0,C=x.globals.series.length-1;p<x.globals.series.length;p++,C--)Z(p,C)}},{key:"getFormatters",value:function(e){var t,r=this.w,a=r.globals.yLabelFormatters[e];return r.globals.ttVal!==void 0?Array.isArray(r.globals.ttVal)?(a=r.globals.ttVal[e]&&r.globals.ttVal[e].formatter,t=r.globals.ttVal[e]&&r.globals.ttVal[e].title&&r.globals.ttVal[e].title.formatter):(a=r.globals.ttVal.formatter,typeof r.globals.ttVal.title.formatter=="function"&&(t=r.globals.ttVal.title.formatter)):t=r.config.tooltip.y.title.formatter,typeof a!="function"&&(a=r.globals.yLabelFormatters[0]?r.globals.yLabelFormatters[0]:function(n){return n}),typeof t!="function"&&(t=function(n){return n}),{yLbFormatter:a,yLbTitleFormatter:t}}},{key:"getSeriesName",value:function(e){var t=e.fn,r=e.index,a=e.seriesIndex,n=e.j,i=this.w;return t(String(i.globals.seriesNames[r]),{series:i.globals.series,seriesIndex:a,dataPointIndex:n,w:i})}},{key:"DOMHandling",value:function(e){e.i;var t=e.t,r=e.j,a=e.ttItems,n=e.values,i=e.seriesName,c=e.shared,f=e.pColor,g=this.w,x=this.ttCtx,b=n.val,w=n.goalVals,_=n.xVal,T=n.xAxisTTVal,M=n.zVal,V=null;V=a[t].children,g.config.tooltip.fillSeriesColor&&(a[t].style.backgroundColor=f,V[0].style.display="none"),x.showTooltipTitle&&(x.tooltipTitle===null&&(x.tooltipTitle=g.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),x.tooltipTitle.innerHTML=_),x.isXAxisTooltipEnabled&&(x.xaxisTooltipText.innerHTML=T!==""?T:_);var X=a[t].querySelector(".apexcharts-tooltip-text-y-label");X&&(X.innerHTML=i||"");var Z=a[t].querySelector(".apexcharts-tooltip-text-y-value");Z&&(Z.innerHTML=b!==void 0?b:""),V[0]&&V[0].classList.contains("apexcharts-tooltip-marker")&&(g.config.tooltip.marker.fillColors&&Array.isArray(g.config.tooltip.marker.fillColors)&&(f=g.config.tooltip.marker.fillColors[t]),V[0].style.backgroundColor=f),g.config.tooltip.marker.show||(V[0].style.display="none");var p=a[t].querySelector(".apexcharts-tooltip-text-goals-label"),C=a[t].querySelector(".apexcharts-tooltip-text-goals-value");if(w.length&&g.globals.seriesGoals[t]){var O=function(){var re="<div >",me="<div>";w.forEach(function(be,Se){re+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(be.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(be.attrs.name,"</div>"),me+="<div>".concat(be.val,"</div>")}),p.innerHTML=re+"</div>",C.innerHTML=me+"</div>"};c?g.globals.seriesGoals[t][r]&&Array.isArray(g.globals.seriesGoals[t][r])?O():(p.innerHTML="",C.innerHTML=""):O()}else p.innerHTML="",C.innerHTML="";if(M!==null&&(a[t].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=g.config.tooltip.z.title,a[t].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=M!==void 0?M:""),c&&V[0]){if(g.config.tooltip.hideEmptySeries){var ee=a[t].querySelector(".apexcharts-tooltip-marker"),J=a[t].querySelector(".apexcharts-tooltip-text");parseFloat(b)==0?(ee.style.display="none",J.style.display="none"):(ee.style.display="block",J.style.display="block")}b==null||g.globals.ancillaryCollapsedSeriesIndices.indexOf(t)>-1||g.globals.collapsedSeriesIndices.indexOf(t)>-1||Array.isArray(x.tConfig.enabledOnSeries)&&x.tConfig.enabledOnSeries.indexOf(t)===-1?V[0].parentNode.style.display="none":V[0].parentNode.style.display=g.config.tooltip.items.display}else Array.isArray(x.tConfig.enabledOnSeries)&&x.tConfig.enabledOnSeries.indexOf(t)===-1&&(V[0].parentNode.style.display="none")}},{key:"toggleActiveInactiveSeries",value:function(e,t){var r=this.w;if(e)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var a=r.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group-".concat(t));a&&(a.classList.add("apexcharts-active"),a.style.display=r.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(e){var t=e.i,r=e.j,a=this.w,n=this.ctx.series.filteredSeriesX(),i="",c="",f=null,g=null,x={series:a.globals.series,seriesIndex:t,dataPointIndex:r,w:a},b=a.globals.ttZFormatter;r===null?g=a.globals.series[t]:a.globals.isXNumeric&&a.config.chart.type!=="treemap"?(i=n[t][r],n[t].length===0&&(i=n[this.tooltipUtil.getFirstActiveXArray(n)][r])):i=new ye(this.ctx).isFormatXY()?a.config.series[t].data[r]!==void 0?a.config.series[t].data[r].x:"":a.globals.labels[r]!==void 0?a.globals.labels[r]:"";var w=i;return a.globals.isXNumeric&&a.config.xaxis.type==="datetime"?i=new Ie(this.ctx).xLabelFormat(a.globals.ttKeyFormatter,w,w,{i:void 0,dateFormatter:new Ae(this.ctx).formatDate,w:this.w}):i=a.globals.isBarHorizontal?a.globals.yLabelFormatters[0](w,x):a.globals.xLabelFormatter(w,x),a.config.tooltip.x.formatter!==void 0&&(i=a.globals.ttKeyFormatter(w,x)),a.globals.seriesZ.length>0&&a.globals.seriesZ[t].length>0&&(f=b(a.globals.seriesZ[t][r],a)),c=typeof a.config.xaxis.tooltip.formatter=="function"?a.globals.xaxisTooltipFormatter(w,x):i,{val:Array.isArray(g)?g.join(" "):g,xVal:Array.isArray(i)?i.join(" "):i,xAxisTTVal:Array.isArray(c)?c.join(" "):c,zVal:f}}},{key:"handleCustomTooltip",value:function(e){var t=e.i,r=e.j,a=e.y1,n=e.y2,i=e.w,c=this.ttCtx.getElTooltip(),f=i.config.tooltip.custom;Array.isArray(f)&&f[t]&&(f=f[t]),c.innerHTML=f({ctx:this.ctx,series:i.globals.series,seriesIndex:t,dataPointIndex:r,y1:a,y2:n,w:i})}}]),W}(),St=function(){function W(e){h(this,W),this.ttCtx=e,this.ctx=e.ctx,this.w=e.w}return m(W,[{key:"moveXCrosshairs",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=this.ttCtx,a=this.w,n=r.getElXCrosshairs(),i=e-r.xcrosshairsWidth/2,c=a.globals.labels.slice().length;if(t!==null&&(i=a.globals.gridWidth/c*t),n===null||a.globals.isBarHorizontal||(n.setAttribute("x",i),n.setAttribute("x1",i),n.setAttribute("x2",i),n.setAttribute("y2",a.globals.gridHeight),n.classList.add("apexcharts-active")),i<0&&(i=0),i>a.globals.gridWidth&&(i=a.globals.gridWidth),r.isXAxisTooltipEnabled){var f=i;a.config.xaxis.crosshairs.width!=="tickWidth"&&a.config.xaxis.crosshairs.width!=="barWidth"||(f=i+r.xcrosshairsWidth/2),this.moveXAxisTooltip(f)}}},{key:"moveYCrosshairs",value:function(e){var t=this.ttCtx;t.ycrosshairs!==null&&B.setAttrs(t.ycrosshairs,{y1:e,y2:e}),t.ycrosshairsHidden!==null&&B.setAttrs(t.ycrosshairsHidden,{y1:e,y2:e})}},{key:"moveXAxisTooltip",value:function(e){var t=this.w,r=this.ttCtx;if(r.xaxisTooltip!==null&&r.xcrosshairsWidth!==0){r.xaxisTooltip.classList.add("apexcharts-active");var a=r.xaxisOffY+t.config.xaxis.tooltip.offsetY+t.globals.translateY+1+t.config.xaxis.offsetY;if(e-=r.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(e)){e+=t.globals.translateX;var n;n=new B(this.ctx).getTextRects(r.xaxisTooltipText.innerHTML),r.xaxisTooltipText.style.minWidth=n.width+"px",r.xaxisTooltip.style.left=e+"px",r.xaxisTooltip.style.top=a+"px"}}}},{key:"moveYAxisTooltip",value:function(e){var t=this.w,r=this.ttCtx;r.yaxisTTEls===null&&(r.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var a=parseInt(r.ycrosshairsHidden.getAttribute("y1"),10),n=t.globals.translateY+a,i=r.yaxisTTEls[e].getBoundingClientRect().height,c=t.globals.translateYAxisX[e]-2;t.config.yaxis[e].opposite&&(c-=26),n-=i/2,t.globals.ignoreYAxisIndexes.indexOf(e)===-1?(r.yaxisTTEls[e].classList.add("apexcharts-active"),r.yaxisTTEls[e].style.top=n+"px",r.yaxisTTEls[e].style.left=c+t.config.yaxis[e].tooltip.offsetX+"px"):r.yaxisTTEls[e].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=this.w,n=this.ttCtx,i=n.getElTooltip(),c=n.tooltipRect,f=r!==null?parseFloat(r):1,g=parseFloat(e)+f+5,x=parseFloat(t)+f/2;if(g>a.globals.gridWidth/2&&(g=g-c.ttWidth-f-10),g>a.globals.gridWidth-c.ttWidth-10&&(g=a.globals.gridWidth-c.ttWidth),g<-20&&(g=-20),a.config.tooltip.followCursor){var b=n.getElGrid().getBoundingClientRect();(g=n.e.clientX-b.left)>a.globals.gridWidth/2&&(g-=n.tooltipRect.ttWidth),(x=n.e.clientY+a.globals.translateY-b.top)>a.globals.gridHeight/2&&(x-=n.tooltipRect.ttHeight)}else a.globals.isBarHorizontal||c.ttHeight/2+x>a.globals.gridHeight&&(x=a.globals.gridHeight-c.ttHeight+a.globals.translateY);isNaN(g)||(g+=a.globals.translateX,i.style.left=g+"px",i.style.top=x+"px")}},{key:"moveMarkers",value:function(e,t){var r=this.w,a=this.ttCtx;if(r.globals.markers.size[e]>0)for(var n=r.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-marker")),i=0;i<n.length;i++)parseInt(n[i].getAttribute("rel"),10)===t&&(a.marker.resetPointsSize(),a.marker.enlargeCurrentPoint(t,n[i]));else a.marker.resetPointsSize(),this.moveDynamicPointOnHover(t,e)}},{key:"moveDynamicPointOnHover",value:function(e,t){var r,a,n,i,c=this.w,f=this.ttCtx,g=new B(this.ctx),x=c.globals.pointsArray,b=f.tooltipUtil.getHoverMarkerSize(t),w=c.config.series[t].type;if(!w||w!=="column"&&w!=="candlestick"&&w!=="boxPlot"){n=(r=x[t][e])===null||r===void 0?void 0:r[0],i=((a=x[t][e])===null||a===void 0?void 0:a[1])||0;var _=c.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-series-markers path"));if(_&&i<c.globals.gridHeight&&i>0){var T=_.getAttribute("shape"),M=g.getMarkerPath(n,i,T,1.5*b);_.setAttribute("d",M)}this.moveXCrosshairs(n),f.fixedTooltip||this.moveTooltip(n,i,b)}}},{key:"moveDynamicPointsOnHover",value:function(e){var t,r=this.ttCtx,a=r.w,n=0,i=0,c=a.globals.pointsArray,f=new ie(this.ctx),g=new B(this.ctx);t=f.getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var x=r.tooltipUtil.getHoverMarkerSize(t);c[t]&&(n=c[t][e][0],i=c[t][e][1]);var b=r.tooltipUtil.getAllMarkers();if(b!==null)for(var w=0;w<a.globals.series.length;w++){var _=c[w];if(a.globals.comboCharts&&_===void 0&&b.splice(w,0,null),_&&_.length){var T=c[w][e][1],M=void 0;b[w].setAttribute("cx",n);var V=b[w].getAttribute("shape");if(a.config.chart.type==="rangeArea"&&!a.globals.comboCharts){var X=e+a.globals.series[w].length;M=c[w][X][1],T-=Math.abs(T-M)/2}if(T!==null&&!isNaN(T)&&T<a.globals.gridHeight+x&&T+x>0){var Z=g.getMarkerPath(n,T,V,x);b[w].setAttribute("d",Z)}else b[w].setAttribute("d","")}}this.moveXCrosshairs(n),r.fixedTooltip||this.moveTooltip(n,i||a.globals.gridHeight,x)}},{key:"moveStickyTooltipOverBars",value:function(e,t){var r=this.w,a=this.ttCtx,n=r.globals.columnSeries?r.globals.columnSeries.length:r.globals.series.length,i=n>=2&&n%2==0?Math.floor(n/2):Math.floor(n/2)+1;r.globals.isBarHorizontal&&(i=new ie(this.ctx).getActiveConfigSeriesIndex("desc")+1);var c=r.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(i,"'] path[j='").concat(e,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(i,"'] path[j='").concat(e,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(i,"'] path[j='").concat(e,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(i,"'] path[j='").concat(e,"']"));c||typeof t!="number"||(c=r.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,"']")));var f=c?parseFloat(c.getAttribute("cx")):0,g=c?parseFloat(c.getAttribute("cy")):0,x=c?parseFloat(c.getAttribute("barWidth")):0,b=a.getElGrid().getBoundingClientRect(),w=c&&(c.classList.contains("apexcharts-candlestick-area")||c.classList.contains("apexcharts-boxPlot-area"));r.globals.isXNumeric?(c&&!w&&(f-=n%2!=0?x/2:0),c&&w&&r.globals.comboCharts&&(f-=x/2)):r.globals.isBarHorizontal||(f=a.xAxisTicksPositions[e-1]+a.dataPointsDividedWidth/2,isNaN(f)&&(f=a.xAxisTicksPositions[e]-a.dataPointsDividedWidth/2)),r.globals.isBarHorizontal?g-=a.tooltipRect.ttHeight:r.config.tooltip.followCursor?g=a.e.clientY-b.top-a.tooltipRect.ttHeight/2:g+a.tooltipRect.ttHeight+15>r.globals.gridHeight&&(g=r.globals.gridHeight),r.globals.isBarHorizontal||this.moveXCrosshairs(f),a.fixedTooltip||this.moveTooltip(f,g||r.globals.gridHeight)}}]),W}(),Ge=function(){function W(e){h(this,W),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx,this.tooltipPosition=new St(e)}return m(W,[{key:"drawDynamicPoints",value:function(){var e=this.w,t=new B(this.ctx),r=new ge(this.ctx),a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");a=H(a),e.config.chart.stacked&&a.sort(function(b,w){return parseFloat(b.getAttribute("data:realIndex"))-parseFloat(w.getAttribute("data:realIndex"))});for(var n=0;n<a.length;n++){var i=a[n].querySelector(".apexcharts-series-markers-wrap");if(i!==null){var c=void 0,f="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));e.config.chart.type!=="line"&&e.config.chart.type!=="area"||e.globals.comboCharts||e.config.tooltip.intersect||(f+=" no-pointer-events");var g=r.getMarkerConfig({cssClass:f,seriesIndex:Number(i.getAttribute("data:realIndex"))});(c=t.drawMarker(0,0,g)).node.setAttribute("default-marker-size",0);var x=document.createElementNS(e.globals.SVGNS,"g");x.classList.add("apexcharts-series-markers"),x.appendChild(c.node),i.appendChild(x)}}}},{key:"enlargeCurrentPoint",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,n=this.w;n.config.chart.type!=="bubble"&&this.newPointSize(e,t);var i=t.getAttribute("cx"),c=t.getAttribute("cy");if(r!==null&&a!==null&&(i=r,c=a),this.tooltipPosition.moveXCrosshairs(i),!this.fixedTooltip){if(n.config.chart.type==="radar"){var f=this.ttCtx.getElGrid().getBoundingClientRect();i=this.ttCtx.e.clientX-f.left}this.tooltipPosition.moveTooltip(i,c,n.config.markers.hover.size)}}},{key:"enlargePoints",value:function(e){for(var t=this.w,r=this,a=this.ttCtx,n=e,i=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),c=t.config.markers.hover.size,f=0;f<i.length;f++){var g=i[f].getAttribute("rel"),x=i[f].getAttribute("index");if(c===void 0&&(c=t.globals.markers.size[x]+t.config.markers.hover.sizeOffset),n===parseInt(g,10)){r.newPointSize(n,i[f]);var b=i[f].getAttribute("cx"),w=i[f].getAttribute("cy");r.tooltipPosition.moveXCrosshairs(b),a.fixedTooltip||r.tooltipPosition.moveTooltip(b,w,c)}else r.oldPointSize(i[f])}}},{key:"newPointSize",value:function(e,t){var r=this.w,a=r.config.markers.hover.size,n=e===0?t.parentNode.firstChild:t.parentNode.lastChild;if(n.getAttribute("default-marker-size")!=="0"){var i=parseInt(n.getAttribute("index"),10);a===void 0&&(a=r.globals.markers.size[i]+r.config.markers.hover.sizeOffset),a<0&&(a=0);var c=this.ttCtx.tooltipUtil.getPathFromPoint(t,a);t.setAttribute("d",c)}}},{key:"oldPointSize",value:function(e){var t=parseFloat(e.getAttribute("default-marker-size")),r=this.ttCtx.tooltipUtil.getPathFromPoint(e,t);e.setAttribute("d",r)}},{key:"resetPointsSize",value:function(){for(var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),t=0;t<e.length;t++){var r=parseFloat(e[t].getAttribute("default-marker-size"));if(S.isNumber(r)&&r>=0){var a=this.ttCtx.tooltipUtil.getPathFromPoint(e[t],r);e[t].setAttribute("d",a)}else e[t].setAttribute("d","M0,0")}}}]),W}(),Oe=function(){function W(e){h(this,W),this.w=e.w;var t=this.w;this.ttCtx=e,this.isVerticalGroupedRangeBar=!t.globals.isBarHorizontal&&t.config.chart.type==="rangeBar"&&t.config.plotOptions.bar.rangeBarGroupRows}return m(W,[{key:"getAttr",value:function(e,t){return parseFloat(e.target.getAttribute(t))}},{key:"handleHeatTreeTooltip",value:function(e){var t=e.e,r=e.opt,a=e.x,n=e.y,i=e.type,c=this.ttCtx,f=this.w;if(t.target.classList.contains("apexcharts-".concat(i,"-rect"))){var g=this.getAttr(t,"i"),x=this.getAttr(t,"j"),b=this.getAttr(t,"cx"),w=this.getAttr(t,"cy"),_=this.getAttr(t,"width"),T=this.getAttr(t,"height");if(c.tooltipLabels.drawSeriesTexts({ttItems:r.ttItems,i:g,j:x,shared:!1,e:t}),f.globals.capturedSeriesIndex=g,f.globals.capturedDataPointIndex=x,a=b+c.tooltipRect.ttWidth/2+_,n=w+c.tooltipRect.ttHeight/2-T/2,c.tooltipPosition.moveXCrosshairs(b+_/2),a>f.globals.gridWidth/2&&(a=b-c.tooltipRect.ttWidth/2+_),c.w.config.tooltip.followCursor){var M=f.globals.dom.elWrap.getBoundingClientRect();a=f.globals.clientX-M.left-(a>f.globals.gridWidth/2?c.tooltipRect.ttWidth:0),n=f.globals.clientY-M.top-(n>f.globals.gridHeight/2?c.tooltipRect.ttHeight:0)}}return{x:a,y:n}}},{key:"handleMarkerTooltip",value:function(e){var t,r,a=e.e,n=e.opt,i=e.x,c=e.y,f=this.w,g=this.ttCtx;if(a.target.classList.contains("apexcharts-marker")){var x=parseInt(n.paths.getAttribute("cx"),10),b=parseInt(n.paths.getAttribute("cy"),10),w=parseFloat(n.paths.getAttribute("val"));if(r=parseInt(n.paths.getAttribute("rel"),10),t=parseInt(n.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,g.intersect){var _=S.findAncestor(n.paths,"apexcharts-series");_&&(t=parseInt(_.getAttribute("data:realIndex"),10))}if(g.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:t,j:r,shared:!g.showOnIntersect&&f.config.tooltip.shared,e:a}),a.type==="mouseup"&&g.markerClick(a,t,r),f.globals.capturedSeriesIndex=t,f.globals.capturedDataPointIndex=r,i=x,c=b+f.globals.translateY-1.4*g.tooltipRect.ttHeight,g.w.config.tooltip.followCursor){var T=g.getElGrid().getBoundingClientRect();c=g.e.clientY+f.globals.translateY-T.top}w<0&&(c=b),g.marker.enlargeCurrentPoint(r,n.paths,i,c)}return{x:i,y:c}}},{key:"handleBarTooltip",value:function(e){var t,r,a=e.e,n=e.opt,i=this.w,c=this.ttCtx,f=c.getElTooltip(),g=0,x=0,b=0,w=this.getBarTooltipXY({e:a,opt:n});t=w.i;var _=w.j;i.globals.capturedSeriesIndex=t,i.globals.capturedDataPointIndex=_,i.globals.isBarHorizontal&&c.tooltipUtil.hasBars()||!i.config.tooltip.shared?(x=w.x,b=w.y,r=Array.isArray(i.config.stroke.width)?i.config.stroke.width[t]:i.config.stroke.width,g=x):i.globals.comboCharts||i.config.tooltip.shared||(g/=2),isNaN(b)&&(b=i.globals.svgHeight-c.tooltipRect.ttHeight);var T=parseInt(n.paths.parentNode.getAttribute("data:realIndex"),10);if(i.globals.isMultipleYAxis?i.config.yaxis[T]&&i.config.yaxis[T].reversed:i.config.yaxis[0].reversed,x+c.tooltipRect.ttWidth>i.globals.gridWidth?x-=c.tooltipRect.ttWidth:x<0&&(x=0),c.w.config.tooltip.followCursor){var M=c.getElGrid().getBoundingClientRect();b=c.e.clientY-M.top}c.tooltip===null&&(c.tooltip=i.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),i.config.tooltip.shared||(i.globals.comboBarCount>0?c.tooltipPosition.moveXCrosshairs(g+r/2):c.tooltipPosition.moveXCrosshairs(g)),!c.fixedTooltip&&(!i.config.tooltip.shared||i.globals.isBarHorizontal&&c.tooltipUtil.hasBars())&&(b=b+i.globals.translateY-c.tooltipRect.ttHeight/2,f.style.left=x+i.globals.translateX+"px",f.style.top=b+"px")}},{key:"getBarTooltipXY",value:function(e){var t=this,r=e.e,a=e.opt,n=this.w,i=null,c=this.ttCtx,f=0,g=0,x=0,b=0,w=0,_=r.target.classList;if(_.contains("apexcharts-bar-area")||_.contains("apexcharts-candlestick-area")||_.contains("apexcharts-boxPlot-area")||_.contains("apexcharts-rangebar-area")){var T=r.target,M=T.getBoundingClientRect(),V=a.elGrid.getBoundingClientRect(),X=M.height;w=M.height;var Z=M.width,p=parseInt(T.getAttribute("cx"),10),C=parseInt(T.getAttribute("cy"),10);b=parseFloat(T.getAttribute("barWidth"));var O=r.type==="touchmove"?r.touches[0].clientX:r.clientX;i=parseInt(T.getAttribute("j"),10),f=parseInt(T.parentNode.getAttribute("rel"),10)-1;var ee=T.getAttribute("data-range-y1"),J=T.getAttribute("data-range-y2");n.globals.comboCharts&&(f=parseInt(T.parentNode.getAttribute("data:realIndex"),10));var re=function(be){return n.globals.isXNumeric?p-Z/2:t.isVerticalGroupedRangeBar?p+Z/2:p-c.dataPointsDividedWidth+Z/2},me=function(){return C-c.dataPointsDividedHeight+X/2-c.tooltipRect.ttHeight/2};c.tooltipLabels.drawSeriesTexts({ttItems:a.ttItems,i:f,j:i,y1:ee?parseInt(ee,10):null,y2:J?parseInt(J,10):null,shared:!c.showOnIntersect&&n.config.tooltip.shared,e:r}),n.config.tooltip.followCursor?n.globals.isBarHorizontal?(g=O-V.left+15,x=me()):(g=re(),x=r.clientY-V.top-c.tooltipRect.ttHeight/2-15):n.globals.isBarHorizontal?((g=p)<c.xyRatios.baseLineInvertedY&&(g=p-c.tooltipRect.ttWidth),x=me()):(g=re(),x=C)}return{x:g,y:x,barHeight:w,barWidth:b,i:f,j:i}}}]),W}(),Be=function(){function W(e){h(this,W),this.w=e.w,this.ttCtx=e}return m(W,[{key:"drawXaxisTooltip",value:function(){var e=this.w,t=this.ttCtx,r=e.config.xaxis.position==="bottom";t.xaxisOffY=r?e.globals.gridHeight+1:-e.globals.xAxisHeight-e.config.xaxis.axisTicks.height+3;var a=r?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",n=e.globals.dom.elWrap;t.isXAxisTooltipEnabled&&e.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(t.xaxisTooltip=document.createElement("div"),t.xaxisTooltip.setAttribute("class",a+" apexcharts-theme-"+e.config.tooltip.theme),n.appendChild(t.xaxisTooltip),t.xaxisTooltipText=document.createElement("div"),t.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),t.xaxisTooltipText.style.fontFamily=e.config.xaxis.tooltip.style.fontFamily||e.config.chart.fontFamily,t.xaxisTooltipText.style.fontSize=e.config.xaxis.tooltip.style.fontSize,t.xaxisTooltip.appendChild(t.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var e=this.w,t=this.ttCtx,r=0;r<e.config.yaxis.length;r++){var a=e.config.yaxis[r].opposite||e.config.yaxis[r].crosshairs.opposite;t.yaxisOffX=a?e.globals.gridWidth+1:1;var n="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(r,a?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left"),i=e.globals.dom.elWrap;e.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(r))===null&&(t.yaxisTooltip=document.createElement("div"),t.yaxisTooltip.setAttribute("class",n+" apexcharts-theme-"+e.config.tooltip.theme),i.appendChild(t.yaxisTooltip),r===0&&(t.yaxisTooltipText=[]),t.yaxisTooltipText[r]=document.createElement("div"),t.yaxisTooltipText[r].classList.add("apexcharts-yaxistooltip-text"),t.yaxisTooltip.appendChild(t.yaxisTooltipText[r]))}}},{key:"setXCrosshairWidth",value:function(){var e=this.w,t=this.ttCtx,r=t.getElXCrosshairs();if(t.xcrosshairsWidth=parseInt(e.config.xaxis.crosshairs.width,10),e.globals.comboCharts){var a=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(a!==null&&e.config.xaxis.crosshairs.width==="barWidth"){var n=parseFloat(a.getAttribute("barWidth"));t.xcrosshairsWidth=n}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var i=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/i}}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var c=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/c}else if(e.config.xaxis.crosshairs.width==="barWidth"){var f=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(f!==null){var g=parseFloat(f.getAttribute("barWidth"));t.xcrosshairsWidth=g}else t.xcrosshairsWidth=1}e.globals.isBarHorizontal&&(t.xcrosshairsWidth=0),r!==null&&t.xcrosshairsWidth>0&&r.setAttribute("width",t.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var e=this.w,t=this.ttCtx;t.ycrosshairs=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),t.ycrosshairsHidden=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(e,t,r){var a=this.ttCtx,n=this.w,i=n.globals,c=i.seriesYAxisMap[e];if(a.yaxisTooltips[e]&&c.length>0){var f=i.yLabelFormatters[e],g=a.getElGrid().getBoundingClientRect(),x=c[0],b=0;r.yRatio.length>1&&(b=x);var w=(t-g.top)*r.yRatio[b],_=i.maxYArr[x]-i.minYArr[x],T=i.minYArr[x]+(_-w);n.config.yaxis[e].reversed&&(T=i.maxYArr[x]-(_-w)),a.tooltipPosition.moveYCrosshairs(t-g.top),a.yaxisTooltipText[e].innerHTML=f(T),a.tooltipPosition.moveYAxisTooltip(e)}}}]),W}(),At=function(){function W(e){h(this,W),this.ctx=e,this.w=e.w;var t=this.w;this.tConfig=t.config.tooltip,this.tooltipUtil=new He(this),this.tooltipLabels=new Ke(this),this.tooltipPosition=new St(this),this.marker=new Ge(this),this.intersect=new Oe(this),this.axesTooltip=new Be(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!t.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return m(W,[{key:"getElTooltip",value:function(e){return e||(e=this),e.w.globals.dom.baseEl?e.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(e){var t=this.w;this.xyRatios=e,this.isXAxisTooltipEnabled=t.config.xaxis.tooltip.enabled&&t.globals.axisCharts,this.yaxisTooltips=t.config.yaxis.map(function(i,c){return!!(i.show&&i.tooltip.enabled&&t.globals.axisCharts)}),this.allTooltipSeriesGroups=[],t.globals.axisCharts||(this.showTooltipTitle=!1);var r=document.createElement("div");if(r.classList.add("apexcharts-tooltip"),t.config.tooltip.cssClass&&r.classList.add(t.config.tooltip.cssClass),r.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),t.globals.dom.elWrap.appendChild(r),t.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var a=new le(this.ctx);this.xAxisTicksPositions=a.getXAxisTicksPositions()}if(!t.globals.comboCharts&&!this.tConfig.intersect&&t.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),t.config.markers.size!==0&&t.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),t.globals.collapsedSeries.length!==t.globals.series.length){this.dataPointsDividedHeight=t.globals.gridHeight/t.globals.dataPoints,this.dataPointsDividedWidth=t.globals.gridWidth/t.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||t.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,r.appendChild(this.tooltipTitle));var n=t.globals.series.length;(t.globals.xyCharts||t.globals.comboCharts)&&this.tConfig.shared&&(n=this.showOnIntersect?1:t.globals.series.length),this.legendLabels=t.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(n),this.addSVGEvents()}}},{key:"createTTElements",value:function(e){for(var t=this,r=this.w,a=[],n=this.getElTooltip(),i=function(f){var g=document.createElement("div");g.classList.add("apexcharts-tooltip-series-group","apexcharts-tooltip-series-group-".concat(f)),g.style.order=r.config.tooltip.inverseOrder?e-f:f+1;var x=document.createElement("span");x.classList.add("apexcharts-tooltip-marker"),x.style.backgroundColor=r.globals.colors[f],g.appendChild(x);var b=document.createElement("div");b.classList.add("apexcharts-tooltip-text"),b.style.fontFamily=t.tConfig.style.fontFamily||r.config.chart.fontFamily,b.style.fontSize=t.tConfig.style.fontSize,["y","goals","z"].forEach(function(w){var _=document.createElement("div");_.classList.add("apexcharts-tooltip-".concat(w,"-group"));var T=document.createElement("span");T.classList.add("apexcharts-tooltip-text-".concat(w,"-label")),_.appendChild(T);var M=document.createElement("span");M.classList.add("apexcharts-tooltip-text-".concat(w,"-value")),_.appendChild(M),b.appendChild(_)}),g.appendChild(b),n.appendChild(g),a.push(g)},c=0;c<e;c++)i(c);return a}},{key:"addSVGEvents",value:function(){var e=this.w,t=e.config.chart.type,r=this.getElTooltip(),a=!(t!=="bar"&&t!=="candlestick"&&t!=="boxPlot"&&t!=="rangeBar"),n=t==="area"||t==="line"||t==="scatter"||t==="bubble"||t==="radar",i=e.globals.dom.Paper.node,c=this.getElGrid();c&&(this.seriesBound=c.getBoundingClientRect());var f,g=[],x=[],b={hoverArea:i,elGrid:c,tooltipEl:r,tooltipY:g,tooltipX:x,ttItems:this.ttItems};if(e.globals.axisCharts&&(n?f=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):a?f=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):t!=="heatmap"&&t!=="treemap"||(f=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),f&&f.length))for(var w=0;w<f.length;w++)g.push(f[w].getAttribute("cy")),x.push(f[w].getAttribute("cx"));if(e.globals.xyCharts&&!this.showOnIntersect||e.globals.comboCharts&&!this.showOnIntersect||a&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([i],b);else if(a&&!e.globals.comboCharts||n&&this.showOnIntersect)this.addDatapointEventsListeners(b);else if(!e.globals.axisCharts||t==="heatmap"||t==="treemap"){var _=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(_,b)}if(this.showOnIntersect){var T=e.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");T.length>0&&this.addPathsEventListeners(T,b),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(b)}}},{key:"drawFixedTooltipRect",value:function(){var e=this.w,t=this.getElTooltip(),r=t.getBoundingClientRect(),a=r.width+10,n=r.height+10,i=this.tConfig.fixed.offsetX,c=this.tConfig.fixed.offsetY,f=this.tConfig.fixed.position.toLowerCase();return f.indexOf("right")>-1&&(i=i+e.globals.svgWidth-a+10),f.indexOf("bottom")>-1&&(c=c+e.globals.svgHeight-n-10),t.style.left=i+"px",t.style.top=c+"px",{x:i,y:c,ttWidth:a,ttHeight:n}}},{key:"addDatapointEventsListeners",value:function(e){var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(t,e)}},{key:"addPathsEventListeners",value:function(e,t){for(var r=this,a=function(i){var c={paths:e[i],tooltipEl:t.tooltipEl,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:t.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(f){return e[i].addEventListener(f,r.onSeriesHover.bind(r,c),{capture:!1,passive:!0})})},n=0;n<e.length;n++)a(n)}},{key:"onSeriesHover",value:function(e,t){var r=this,a=Date.now()-this.lastHoverTime;a>=100?this.seriesHover(e,t):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){r.seriesHover(e,t)},100-a))}},{key:"seriesHover",value:function(e,t){var r=this;this.lastHoverTime=Date.now();var a=[],n=this.w;n.config.chart.group&&(a=this.ctx.getGroupedCharts()),n.globals.axisCharts&&(n.globals.minX===-1/0&&n.globals.maxX===1/0||n.globals.dataPoints===0)||(a.length?a.forEach(function(i){var c=r.getElTooltip(i),f={paths:e.paths,tooltipEl:c,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:i.w.globals.tooltip.ttItems};i.w.globals.minX===r.w.globals.minX&&i.w.globals.maxX===r.w.globals.maxX&&i.w.globals.tooltip.seriesHoverByContext({chartCtx:i,ttCtx:i.w.globals.tooltip,opt:f,e:t})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:e,e:t}))}},{key:"seriesHoverByContext",value:function(e){var t=e.chartCtx,r=e.ttCtx,a=e.opt,n=e.e,i=t.w,c=this.getElTooltip(t);c&&(r.tooltipRect={x:0,y:0,ttWidth:c.getBoundingClientRect().width,ttHeight:c.getBoundingClientRect().height},r.e=n,r.tooltipUtil.hasBars()&&!i.globals.comboCharts&&!r.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new ie(t).toggleSeriesOnHover(n,n.target.parentNode),r.fixedTooltip&&r.drawFixedTooltipRect(),i.globals.axisCharts?r.axisChartsTooltips({e:n,opt:a,tooltipRect:r.tooltipRect}):r.nonAxisChartsTooltips({e:n,opt:a,tooltipRect:r.tooltipRect}))}},{key:"axisChartsTooltips",value:function(e){var t,r,a=e.e,n=e.opt,i=this.w,c=n.elGrid.getBoundingClientRect(),f=a.type==="touchmove"?a.touches[0].clientX:a.clientX,g=a.type==="touchmove"?a.touches[0].clientY:a.clientY;if(this.clientY=g,this.clientX=f,i.globals.capturedSeriesIndex=-1,i.globals.capturedDataPointIndex=-1,g<c.top||g>c.top+c.height)this.handleMouseOut(n);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!i.config.tooltip.shared){var x=parseInt(n.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(x)<0)return void this.handleMouseOut(n)}var b=this.getElTooltip(),w=this.getElXCrosshairs(),_=[];i.config.chart.group&&(_=this.ctx.getSyncedCharts());var T=i.globals.xyCharts||i.config.chart.type==="bar"&&!i.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||i.globals.comboCharts&&this.tooltipUtil.hasBars();if(a.type==="mousemove"||a.type==="touchmove"||a.type==="mouseup"){if(i.globals.collapsedSeries.length+i.globals.ancillaryCollapsedSeries.length===i.globals.series.length)return;w!==null&&w.classList.add("apexcharts-active");var M=this.yaxisTooltips.filter(function(Z){return Z===!0});if(this.ycrosshairs!==null&&M.length&&this.ycrosshairs.classList.add("apexcharts-active"),T&&!this.showOnIntersect||_.length>1)this.handleStickyTooltip(a,f,g,n);else if(i.config.chart.type==="heatmap"||i.config.chart.type==="treemap"){var V=this.intersect.handleHeatTreeTooltip({e:a,opt:n,x:t,y:r,type:i.config.chart.type});t=V.x,r=V.y,b.style.left=t+"px",b.style.top=r+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:a,opt:n}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:a,opt:n,x:t,y:r});if(this.yaxisTooltips.length)for(var X=0;X<i.config.yaxis.length;X++)this.axesTooltip.drawYaxisTooltipText(X,g,this.xyRatios);i.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),n.tooltipEl.classList.add("apexcharts-active")}else a.type!=="mouseout"&&a.type!=="touchend"||this.handleMouseOut(n)}}},{key:"nonAxisChartsTooltips",value:function(e){var t=e.e,r=e.opt,a=e.tooltipRect,n=this.w,i=r.paths.getAttribute("rel"),c=this.getElTooltip(),f=n.globals.dom.elWrap.getBoundingClientRect();if(t.type==="mousemove"||t.type==="touchmove"){n.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),c.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:r.ttItems,i:parseInt(i,10)-1,shared:!1});var g=n.globals.clientX-f.left-a.ttWidth/2,x=n.globals.clientY-f.top-a.ttHeight-10;if(c.style.left=g+"px",c.style.top=x+"px",n.config.legend.tooltipHoverFormatter){var b=i-1,w=(0,n.config.legend.tooltipHoverFormatter)(this.legendLabels[b].getAttribute("data:default-text"),{seriesIndex:b,dataPointIndex:b,w:n});this.legendLabels[b].innerHTML=w}}else t.type!=="mouseout"&&t.type!=="touchend"||(c.classList.remove("apexcharts-active"),n.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),n.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(_){var T=_.getAttribute("data:default-text");_.innerHTML=decodeURIComponent(T)}))}},{key:"handleStickyTooltip",value:function(e,t,r,a){var n=this.w,i=this.tooltipUtil.getNearestValues({context:this,hoverArea:a.hoverArea,elGrid:a.elGrid,clientX:t,clientY:r}),c=i.j,f=i.capturedSeries;n.globals.collapsedSeriesIndices.includes(f)&&(f=null);var g=a.elGrid.getBoundingClientRect();if(i.hoverX<0||i.hoverX>g.width)this.handleMouseOut(a);else if(f!==null)this.handleStickyCapturedSeries(e,f,a,c);else if(this.tooltipUtil.isXoverlap(c)||n.globals.isBarHorizontal){var x=n.globals.series.findIndex(function(b,w){return!n.globals.collapsedSeriesIndices.includes(w)});this.create(e,this,x,c,a.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(e,t,r,a){var n=this.w;if(!this.tConfig.shared&&n.globals.series[t][a]===null)return void this.handleMouseOut(r);if(n.globals.series[t][a]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(a)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(e,this,t,a,r.ttItems):this.create(e,this,t,a,r.ttItems,!1);else if(this.tooltipUtil.isXoverlap(a)){var i=n.globals.series.findIndex(function(c,f){return!n.globals.collapsedSeriesIndices.includes(f)});this.create(e,this,i,a,r.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var e=this.w,t=new B(this.ctx),r=e.globals.dom.Paper.select(".apexcharts-bar-area"),a=0;a<r.length;a++)t.pathMouseLeave(r[a])}},{key:"handleMouseOut",value:function(e){var t=this.w,r=this.getElXCrosshairs();if(t.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),e.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),t.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),r!==null&&r.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var a=0;a<this.yaxisTTEls.length;a++)this.yaxisTTEls[a].classList.remove("apexcharts-active")}t.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(n){var i=n.getAttribute("data:default-text");n.innerHTML=decodeURIComponent(i)})}},{key:"markerClick",value:function(e,t,r){var a=this.w;typeof a.config.chart.events.markerClick=="function"&&a.config.chart.events.markerClick(e,this.ctx,{seriesIndex:t,dataPointIndex:r,w:a}),this.ctx.events.fireEvent("markerClick",[e,this.ctx,{seriesIndex:t,dataPointIndex:r,w:a}])}},{key:"create",value:function(e,t,r,a,n){var i,c,f,g,x,b,w,_,T,M,V,X,Z,p,C,O,ee=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,J=this.w,re=t;e.type==="mouseup"&&this.markerClick(e,r,a),ee===null&&(ee=this.tConfig.shared);var me=this.tooltipUtil.hasMarkers(r),be=this.tooltipUtil.getElBars();if(J.config.legend.tooltipHoverFormatter){var Se=J.config.legend.tooltipHoverFormatter,qe=Array.from(this.legendLabels);qe.forEach(function(ls){var cs=ls.getAttribute("data:default-text");ls.innerHTML=decodeURIComponent(cs)});for(var $e=0;$e<qe.length;$e++){var Fe=qe[$e],ut=parseInt(Fe.getAttribute("i"),10),mt=decodeURIComponent(Fe.getAttribute("data:default-text")),kt=Se(mt,{seriesIndex:ee?ut:r,dataPointIndex:a,w:J});if(ee)Fe.innerHTML=J.globals.collapsedSeriesIndices.indexOf(ut)<0?kt:mt;else if(Fe.innerHTML=ut===r?kt:mt,r===ut)break}}var Mt=D(D({ttItems:n,i:r,j:a},((i=J.globals.seriesRange)===null||i===void 0||(c=i[r])===null||c===void 0||(f=c[a])===null||f===void 0||(g=f.y[0])===null||g===void 0?void 0:g.y1)!==void 0&&{y1:(x=J.globals.seriesRange)===null||x===void 0||(b=x[r])===null||b===void 0||(w=b[a])===null||w===void 0||(_=w.y[0])===null||_===void 0?void 0:_.y1}),((T=J.globals.seriesRange)===null||T===void 0||(M=T[r])===null||M===void 0||(V=M[a])===null||V===void 0||(X=V.y[0])===null||X===void 0?void 0:X.y2)!==void 0&&{y2:(Z=J.globals.seriesRange)===null||Z===void 0||(p=Z[r])===null||p===void 0||(C=p[a])===null||C===void 0||(O=C.y[0])===null||O===void 0?void 0:O.y2});if(ee){if(re.tooltipLabels.drawSeriesTexts(D(D({},Mt),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),me)J.globals.markers.largestSize>0?re.marker.enlargePoints(a):re.tooltipPosition.moveDynamicPointsOnHover(a);else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(be),this.barSeriesHeight>0)){var Rt=new B(this.ctx),Tt=J.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(a,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(a,r);for(var Vt=0;Vt<Tt.length;Vt++)Rt.pathMouseEnter(Tt[Vt])}}else re.tooltipLabels.drawSeriesTexts(D({shared:!1},Mt)),this.tooltipUtil.hasBars()&&re.tooltipPosition.moveStickyTooltipOverBars(a,r),me&&re.tooltipPosition.moveMarkers(r,a)}}]),W}(),as=function(){function W(e){h(this,W),this.w=e.w,this.barCtx=e,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return m(W,[{key:"handleBarDataLabels",value:function(e){var t,r,a=e.x,n=e.y,i=e.y1,c=e.y2,f=e.i,g=e.j,x=e.realIndex,b=e.columnGroupIndex,w=e.series,_=e.barHeight,T=e.barWidth,M=e.barXPosition,V=e.barYPosition,X=e.visibleSeries,Z=e.renderedPath,p=this.w,C=new B(this.barCtx.ctx),O=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[x]:this.barCtx.strokeWidth;p.globals.isXNumeric&&!p.globals.isBarHorizontal?(t=a+parseFloat(T*(X+1)),r=n+parseFloat(_*(X+1))-O):(t=a+parseFloat(T*X),r=n+parseFloat(_*X));var ee,J=null,re=a,me=n,be={},Se=p.config.dataLabels,qe=this.barCtx.barOptions.dataLabels,$e=this.barCtx.barOptions.dataLabels.total;V!==void 0&&this.barCtx.isRangeBar&&(r=V,me=V),M!==void 0&&this.barCtx.isVerticalGroupedRangeBar&&(t=M,re=M);var Fe=Se.offsetX,ut=Se.offsetY,mt={width:0,height:0};if(p.config.dataLabels.enabled){var kt=p.globals.series[f][g];mt=C.getTextRects(p.config.dataLabels.formatter?p.config.dataLabels.formatter(kt,D(D({},p),{},{seriesIndex:f,dataPointIndex:g,w:p})):p.globals.yLabelFormatters[0](kt),parseFloat(Se.style.fontSize))}var Mt={x:a,y:n,i:f,j:g,realIndex:x,columnGroupIndex:b,renderedPath:Z,bcx:t,bcy:r,barHeight:_,barWidth:T,textRects:mt,strokeWidth:O,dataLabelsX:re,dataLabelsY:me,dataLabelsConfig:Se,barDataLabelsConfig:qe,barTotalDataLabelsConfig:$e,offX:Fe,offY:ut};return be=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(Mt):this.calculateColumnsDataLabelsPosition(Mt),Z.attr({cy:be.bcy,cx:be.bcx,j:g,val:p.globals.series[f][g],barHeight:_,barWidth:T}),ee=this.drawCalculatedDataLabels({x:be.dataLabelsX,y:be.dataLabelsY,val:this.barCtx.isRangeBar?[i,c]:p.config.chart.stackType==="100%"?w[x][g]:p.globals.series[x][g],i:x,j:g,barWidth:T,barHeight:_,textRects:mt,dataLabelsConfig:Se}),p.config.chart.stacked&&$e.enabled&&(J=this.drawTotalDataLabels({x:be.totalDataLabelsX,y:be.totalDataLabelsY,barWidth:T,barHeight:_,realIndex:x,textAnchor:be.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:x,j:g}),dataLabelsConfig:Se,barTotalDataLabelsConfig:$e})),{dataLabels:ee,totalDataLabels:J}}},{key:"getStackedTotalDataLabel",value:function(e){var t=e.realIndex,r=e.j,a=this.w,n=this.barCtx.stackedSeriesTotals[r];return this.totalFormatter&&(n=this.totalFormatter(n,D(D({},a),{},{seriesIndex:t,dataPointIndex:r,w:a}))),n}},{key:"calculateColumnsDataLabelsPosition",value:function(e){var t=this.w,r=e.i,a=e.j,n=e.realIndex;e.columnGroupIndex;var i,c,f=e.y,g=e.bcx,x=e.barWidth,b=e.barHeight,w=e.textRects,_=e.dataLabelsX,T=e.dataLabelsY,M=e.dataLabelsConfig,V=e.barDataLabelsConfig,X=e.barTotalDataLabelsConfig,Z=e.strokeWidth,p=e.offX,C=e.offY,O=g;b=Math.abs(b);var ee=t.config.plotOptions.bar.dataLabels.orientation==="vertical",J=this.barCtx.barHelpers.getZeroValueEncounters({i:r,j:a}).zeroEncounters;g-=Z/2;var re=t.globals.gridWidth/t.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?_+=x/2:(_=t.globals.isXNumeric?g-x/2+p:g-re+x/2+p,J>0&&t.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(_-=x*J)),ee&&(_=_+w.height/2-Z/2-2);var me=t.globals.series[r][a]<0,be=f;switch(this.barCtx.isReversed&&(be=f+(me?b:-b)),V.position){case"center":T=ee?me?be-b/2+C:be+b/2-C:me?be-b/2+w.height/2+C:be+b/2+w.height/2-C;break;case"bottom":T=ee?me?be-b+C:be+b-C:me?be-b+w.height+Z+C:be+b-w.height/2+Z-C;break;case"top":T=ee?me?be+C:be-C:me?be-w.height/2-C:be+w.height+C}if(this.barCtx.lastActiveBarSerieIndex===n&&X.enabled){var Se=new B(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:n,j:a}),M.fontSize);i=me?be-Se.height/2-C-X.offsetY+18:be+Se.height+C+X.offsetY-18;var qe=re;c=O+(t.globals.isXNumeric?-x*t.globals.barGroups.length/2:t.globals.barGroups.length*x/2-(t.globals.barGroups.length-1)*x-qe)+X.offsetX}return t.config.chart.stacked||(T<0?T=0+Z:T+w.height/3>t.globals.gridHeight&&(T=t.globals.gridHeight-Z)),{bcx:g,bcy:f,dataLabelsX:_,dataLabelsY:T,totalDataLabelsX:c,totalDataLabelsY:i,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(e){var t=this.w,r=e.x,a=e.i,n=e.j,i=e.realIndex,c=e.bcy,f=e.barHeight,g=e.barWidth,x=e.textRects,b=e.dataLabelsX,w=e.strokeWidth,_=e.dataLabelsConfig,T=e.barDataLabelsConfig,M=e.barTotalDataLabelsConfig,V=e.offX,X=e.offY,Z=t.globals.gridHeight/t.globals.dataPoints;g=Math.abs(g);var p,C,O=c-(this.barCtx.isRangeBar?0:Z)+f/2+x.height/2+X-3,ee="start",J=t.globals.series[a][n]<0,re=r;switch(this.barCtx.isReversed&&(re=r+(J?-g:g),ee=J?"start":"end"),T.position){case"center":b=J?re+g/2-V:Math.max(x.width/2,re-g/2)+V;break;case"bottom":b=J?re+g-w-V:re-g+w+V;break;case"top":b=J?re-w-V:re-w+V}if(this.barCtx.lastActiveBarSerieIndex===i&&M.enabled){var me=new B(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:i,j:n}),_.fontSize);J?(p=re-w-V-M.offsetX,ee="end"):p=re+V+M.offsetX+(this.barCtx.isReversed?-(g+w):w),C=O-x.height/2+me.height/2+M.offsetY+w}return t.config.chart.stacked||(_.textAnchor==="start"?b-x.width<0?b=J?x.width+w:w:b+x.width>t.globals.gridWidth&&(b=J?t.globals.gridWidth-w:t.globals.gridWidth-x.width-w):_.textAnchor==="middle"?b-x.width/2<0?b=x.width/2+w:b+x.width/2>t.globals.gridWidth&&(b=t.globals.gridWidth-x.width/2-w):_.textAnchor==="end"&&(b<1?b=x.width+w:b+1>t.globals.gridWidth&&(b=t.globals.gridWidth-x.width-w))),{bcx:r,bcy:c,dataLabelsX:b,dataLabelsY:O,totalDataLabelsX:p,totalDataLabelsY:C,totalDataLabelsAnchor:ee}}},{key:"drawCalculatedDataLabels",value:function(e){var t=e.x,r=e.y,a=e.val,n=e.i,i=e.j,c=e.textRects,f=e.barHeight,g=e.barWidth,x=e.dataLabelsConfig,b=this.w,w="rotate(0)";b.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(w="rotate(-90, ".concat(t,", ").concat(r,")"));var _=new ke(this.barCtx.ctx),T=new B(this.barCtx.ctx),M=x.formatter,V=null,X=b.globals.collapsedSeriesIndices.indexOf(n)>-1;if(x.enabled&&!X){V=T.group({class:"apexcharts-data-labels",transform:w});var Z="";a!==void 0&&(Z=M(a,D(D({},b),{},{seriesIndex:n,dataPointIndex:i,w:b}))),!a&&b.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(Z="");var p=b.globals.series[n][i]<0,C=b.config.plotOptions.bar.dataLabels.position;b.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(C==="top"&&(x.textAnchor=p?"end":"start"),C==="center"&&(x.textAnchor="middle"),C==="bottom"&&(x.textAnchor=p?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&g<T.getTextRects(Z,parseFloat(x.style.fontSize)).width&&(Z=""),b.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?c.width/1.6>Math.abs(g)&&(Z=""):c.height/1.6>Math.abs(f)&&(Z=""));var O=D({},x);this.barCtx.isHorizontal&&a<0&&(x.textAnchor==="start"?O.textAnchor="end":x.textAnchor==="end"&&(O.textAnchor="start")),_.plotDataLabelsText({x:t,y:r,text:Z,i:n,j:i,parent:V,dataLabelsConfig:O,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return V}},{key:"drawTotalDataLabels",value:function(e){var t=e.x,r=e.y,a=e.val,n=e.realIndex,i=e.textAnchor,c=e.barTotalDataLabelsConfig;this.w;var f,g=new B(this.barCtx.ctx);return c.enabled&&t!==void 0&&r!==void 0&&this.barCtx.lastActiveBarSerieIndex===n&&(f=g.drawText({x:t,y:r,foreColor:c.style.color,text:a,textAnchor:i,fontFamily:c.style.fontFamily,fontSize:c.style.fontSize,fontWeight:c.style.fontWeight})),f}}]),W}(),us=function(){function W(e){h(this,W),this.w=e.w,this.barCtx=e}return m(W,[{key:"initVariables",value:function(e){var t=this.w;this.barCtx.series=e,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var r=0;r<e.length;r++)if(e[r].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=e[r].length),t.globals.isXNumeric)for(var a=0;a<e[r].length;a++)t.globals.seriesX[r][a]>t.globals.minX&&t.globals.seriesX[r][a]<t.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=t.globals.dataPoints;this.arrBorderRadius=this.createBorderRadiusArr(t.globals.series),this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],t.globals.comboCharts||this.checkZeroSeries({series:e})}},{key:"initialPositions",value:function(){var e,t,r,a,n,i,c,f,g=this.w,x=g.globals.dataPoints;this.barCtx.isRangeBar&&(x=g.globals.labels.length);var b=this.barCtx.seriesLen;if(g.config.plotOptions.bar.rangeBarGroupRows&&(b=1),this.barCtx.isHorizontal)n=(r=g.globals.gridHeight/x)/b,g.globals.isXNumeric&&(n=(r=g.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),n=n*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(n=parseInt(this.barCtx.barOptions.barHeight,10)),f=this.barCtx.baseLineInvertedY+g.globals.padHorizontal+(this.barCtx.isReversed?g.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(f=g.globals.gridWidth/2),t=(r-n*this.barCtx.seriesLen)/2;else{if(a=g.globals.gridWidth/this.barCtx.visibleItems,g.config.xaxis.convertedCatToNumeric&&(a=g.globals.gridWidth/g.globals.dataPoints),i=a/b*parseInt(this.barCtx.barOptions.columnWidth,10)/100,g.globals.isXNumeric){var w=this.barCtx.xRatio;g.globals.minXDiff&&g.globals.minXDiff!==.5&&g.globals.minXDiff/w>0&&(a=g.globals.minXDiff/w),(i=a/b*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(i=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(i=parseInt(this.barCtx.barOptions.columnWidth,10)),c=g.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.translationsIndex]-(this.barCtx.isReversed?g.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.translationsIndex]:0),e=g.globals.padHorizontal+(a-i*this.barCtx.seriesLen)/2}return g.globals.barHeight=n,g.globals.barWidth=i,{x:e,y:t,yDivision:r,xDivision:a,barHeight:n,barWidth:i,zeroH:c,zeroW:f}}},{key:"initializeStackedPrevVars",value:function(e){e.w.globals.seriesGroups.forEach(function(t){e[t]||(e[t]={}),e[t].prevY=[],e[t].prevX=[],e[t].prevYF=[],e[t].prevXF=[],e[t].prevYVal=[],e[t].prevXVal=[]})}},{key:"initializeStackedXYVars",value:function(e){e.w.globals.seriesGroups.forEach(function(t){e[t]||(e[t]={}),e[t].xArrj=[],e[t].xArrjF=[],e[t].xArrjVal=[],e[t].yArrj=[],e[t].yArrjF=[],e[t].yArrjVal=[]})}},{key:"getPathFillColor",value:function(e,t,r,a){var n,i,c,f,g,x=this.w,b=this.barCtx.ctx.fill,w=null,_=this.barCtx.barOptions.distributed?r:t;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(T){e[t][r]>=T.from&&e[t][r]<=T.to&&(w=T.color)}),(n=x.config.series[t].data[r])!==null&&n!==void 0&&n.fillColor&&(w=x.config.series[t].data[r].fillColor),b.fillPath({seriesNumber:this.barCtx.barOptions.distributed?_:a,dataPointIndex:r,color:w,value:e[t][r],fillConfig:(i=x.config.series[t].data[r])===null||i===void 0?void 0:i.fill,fillType:(c=x.config.series[t].data[r])!==null&&c!==void 0&&(f=c.fill)!==null&&f!==void 0&&f.type?(g=x.config.series[t].data[r])===null||g===void 0?void 0:g.fill.type:Array.isArray(x.config.fill.type)?x.config.fill.type[a]:x.config.fill.type})}},{key:"getStrokeWidth",value:function(e,t,r){var a=0,n=this.w;return this.barCtx.series[e][t]?this.barCtx.isNullValue=!1:this.barCtx.isNullValue=!0,n.config.stroke.show&&(this.barCtx.isNullValue||(a=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[r]:this.barCtx.strokeWidth)),a}},{key:"createBorderRadiusArr",value:function(e){var t=this.w,r=!this.w.config.chart.stacked||t.config.plotOptions.bar.borderRadiusWhenStacked!=="last"||t.config.plotOptions.bar.borderRadius<=0,a=e.length,n=e[0].length,i=Array.from({length:a},function(){return Array(n).fill(r?"top":"none")});if(r)return i;for(var c=0;c<n;c++){for(var f=[],g=[],x=0,b=0;b<a;b++){var w=e[b][c];w>0?(f.push(b),x++):w<0&&(g.push(b),x++)}if(f.length>0&&g.length===0)if(f.length===1)i[f[0]][c]="both";else{var _,T=f[0],M=f[f.length-1],V=y(f);try{for(V.s();!(_=V.n()).done;){var X=_.value;i[X][c]=X===T?"bottom":X===M?"top":"none"}}catch(ut){V.e(ut)}finally{V.f()}}else if(g.length>0&&f.length===0)if(g.length===1)i[g[0]][c]="both";else{var Z,p=g[0],C=g[g.length-1],O=y(g);try{for(O.s();!(Z=O.n()).done;){var ee=Z.value;i[ee][c]=ee===p?"bottom":ee===C?"top":"none"}}catch(ut){O.e(ut)}finally{O.f()}}else if(f.length>0&&g.length>0){var J,re=f[f.length-1],me=y(f);try{for(me.s();!(J=me.n()).done;){var be=J.value;i[be][c]=be===re?"top":"none"}}catch(ut){me.e(ut)}finally{me.f()}var Se,qe=g[g.length-1],$e=y(g);try{for($e.s();!(Se=$e.n()).done;){var Fe=Se.value;i[Fe][c]=Fe===qe?"bottom":"none"}}catch(ut){$e.e(ut)}finally{$e.f()}}else x===1&&(i[f[0]||g[0]][c]="both")}return i}},{key:"barBackground",value:function(e){var t=e.j,r=e.i,a=e.x1,n=e.x2,i=e.y1,c=e.y2,f=e.elSeries,g=this.w,x=new B(this.barCtx.ctx),b=new ie(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&b===r){t>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(t%=this.barCtx.barOptions.colors.backgroundBarColors.length);var w=this.barCtx.barOptions.colors.backgroundBarColors[t],_=x.drawRect(a!==void 0?a:0,i!==void 0?i:0,n!==void 0?n:g.globals.gridWidth,c!==void 0?c:g.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,w,this.barCtx.barOptions.colors.backgroundBarOpacity);f.add(_),_.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(e){var t,r=e.barWidth,a=e.barXPosition,n=e.y1,i=e.y2,c=e.strokeWidth,f=e.isReversed,g=e.series,x=e.seriesGroup,b=e.realIndex,w=e.i,_=e.j,T=e.w,M=new B(this.barCtx.ctx);(c=Array.isArray(c)?c[b]:c)||(c=0);var V=r,X=a;(t=T.config.series[b].data[_])!==null&&t!==void 0&&t.columnWidthOffset&&(X=a-T.config.series[b].data[_].columnWidthOffset/2,V=r+T.config.series[b].data[_].columnWidthOffset);var Z=c/2,p=X+Z,C=X+V-Z,O=(g[w][_]>=0?1:-1)*(f?-1:1);n+=.001-Z*O,i+=.001+Z*O;var ee=M.move(p,n),J=M.move(p,n),re=M.line(C,n);if(T.globals.previousPaths.length>0&&(J=this.barCtx.getPreviousPath(b,_,!1)),ee=ee+M.line(p,i)+M.line(C,i)+re+(T.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[b][_]==="both"?" Z":" z"),J=J+M.line(p,n)+re+re+re+re+re+M.line(p,n)+(T.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[b][_]==="both"?" Z":" z"),this.arrBorderRadius[b][_]!=="none"&&(ee=M.roundPathCorners(ee,T.config.plotOptions.bar.borderRadius)),T.config.chart.stacked){var me=this.barCtx;(me=this.barCtx[x]).yArrj.push(i-Z*O),me.yArrjF.push(Math.abs(n-i+c*O)),me.yArrjVal.push(this.barCtx.series[w][_])}return{pathTo:ee,pathFrom:J}}},{key:"getBarpaths",value:function(e){var t,r=e.barYPosition,a=e.barHeight,n=e.x1,i=e.x2,c=e.strokeWidth,f=e.isReversed,g=e.series,x=e.seriesGroup,b=e.realIndex,w=e.i,_=e.j,T=e.w,M=new B(this.barCtx.ctx);(c=Array.isArray(c)?c[b]:c)||(c=0);var V=r,X=a;(t=T.config.series[b].data[_])!==null&&t!==void 0&&t.barHeightOffset&&(V=r-T.config.series[b].data[_].barHeightOffset/2,X=a+T.config.series[b].data[_].barHeightOffset);var Z=c/2,p=V+Z,C=V+X-Z,O=(g[w][_]>=0?1:-1)*(f?-1:1);n+=.001+Z*O,i+=.001-Z*O;var ee=M.move(n,p),J=M.move(n,p);T.globals.previousPaths.length>0&&(J=this.barCtx.getPreviousPath(b,_,!1));var re=M.line(n,C);if(ee=ee+M.line(i,p)+M.line(i,C)+re+(T.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[b][_]==="both"?" Z":" z"),J=J+M.line(n,p)+re+re+re+re+re+M.line(n,p)+(T.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[b][_]==="both"?" Z":" z"),this.arrBorderRadius[b][_]!=="none"&&(ee=M.roundPathCorners(ee,T.config.plotOptions.bar.borderRadius)),T.config.chart.stacked){var me=this.barCtx;(me=this.barCtx[x]).xArrj.push(i+Z*O),me.xArrjF.push(Math.abs(n-i-c*O)),me.xArrjVal.push(this.barCtx.series[w][_])}return{pathTo:ee,pathFrom:J}}},{key:"checkZeroSeries",value:function(e){for(var t=e.series,r=this.w,a=0;a<t.length;a++){for(var n=0,i=0;i<t[r.globals.maxValsInArrayIndex].length;i++)n+=t[a][i];n===0&&this.barCtx.zeroSerieses.push(a)}}},{key:"getXForValue",value:function(e,t){var r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?t:null;return e!=null&&(r=t+e/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?e/this.barCtx.invertedYRatio:0)),r}},{key:"getYForValue",value:function(e,t,r){var a=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3]?t:null;return e!=null&&(a=t-e/this.barCtx.yRatio[r]+2*(this.barCtx.isReversed?e/this.barCtx.yRatio[r]:0)),a}},{key:"getGoalValues",value:function(e,t,r,a,n,i){var c=this,f=this.w,g=[],x=function(_,T){var M;g.push((I(M={},e,e==="x"?c.getXForValue(_,t,!1):c.getYForValue(_,r,i,!1)),I(M,"attrs",T),M))};if(f.globals.seriesGoals[a]&&f.globals.seriesGoals[a][n]&&Array.isArray(f.globals.seriesGoals[a][n])&&f.globals.seriesGoals[a][n].forEach(function(_){x(_.value,_)}),this.barCtx.barOptions.isDumbbell&&f.globals.seriesRange.length){var b=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:f.globals.colors,w={strokeHeight:e==="x"?0:f.globals.markers.size[a],strokeWidth:e==="x"?f.globals.markers.size[a]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(b[a])?b[a][0]:b[a]};x(f.globals.seriesRangeStart[a][n],w),x(f.globals.seriesRangeEnd[a][n],D(D({},w),{},{strokeColor:Array.isArray(b[a])?b[a][1]:b[a]}))}return g}},{key:"drawGoalLine",value:function(e){var t=e.barXPosition,r=e.barYPosition,a=e.goalX,n=e.goalY,i=e.barWidth,c=e.barHeight,f=new B(this.barCtx.ctx),g=f.group({className:"apexcharts-bar-goals-groups"});g.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:g.node}),g.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var x=null;return this.barCtx.isHorizontal?Array.isArray(a)&&a.forEach(function(b){if(b.x>=-1&&b.x<=f.w.globals.gridWidth+1){var w=b.attrs.strokeHeight!==void 0?b.attrs.strokeHeight:c/2,_=r+w+c/2;x=f.drawLine(b.x,_-2*w,b.x,_,b.attrs.strokeColor?b.attrs.strokeColor:void 0,b.attrs.strokeDashArray,b.attrs.strokeWidth?b.attrs.strokeWidth:2,b.attrs.strokeLineCap),g.add(x)}}):Array.isArray(n)&&n.forEach(function(b){if(b.y>=-1&&b.y<=f.w.globals.gridHeight+1){var w=b.attrs.strokeWidth!==void 0?b.attrs.strokeWidth:i/2,_=t+w+i/2;x=f.drawLine(_-2*w,b.y,_,b.y,b.attrs.strokeColor?b.attrs.strokeColor:void 0,b.attrs.strokeDashArray,b.attrs.strokeHeight?b.attrs.strokeHeight:2,b.attrs.strokeLineCap),g.add(x)}}),g}},{key:"drawBarShadow",value:function(e){var t=e.prevPaths,r=e.currPaths,a=e.color,n=this.w,i=t.x,c=t.x1,f=t.barYPosition,g=r.x,x=r.x1,b=r.barYPosition,w=f+r.barHeight,_=new B(this.barCtx.ctx),T=new S,M=_.move(c,w)+_.line(i,w)+_.line(g,b)+_.line(x,b)+_.line(c,w)+(n.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[realIndex][j]==="both"?" Z":" z");return _.drawPath({d:M,fill:T.shadeColor(.5,S.rgb2hex(a)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadows"})}},{key:"getZeroValueEncounters",value:function(e){var t,r=e.i,a=e.j,n=this.w,i=0,c=0;return(n.config.plotOptions.bar.horizontal?n.globals.series.map(function(f,g){return g}):((t=n.globals.columnSeries)===null||t===void 0?void 0:t.i.map(function(f){return f}))||[]).forEach(function(f){var g=n.globals.seriesPercent[f][a];g&&i++,f<r&&g===0&&c++}),{nonZeroColumns:i,zeroEncounters:c}}},{key:"getGroupIndex",value:function(e){var t=this.w,r=t.globals.seriesGroups.findIndex(function(i){return i.indexOf(t.globals.seriesNames[e])>-1}),a=this.barCtx.columnGroupIndices,n=a.indexOf(r);return n<0&&(a.push(r),n=a.length-1),{groupIndex:r,columnGroupIndex:n}}}]),W}(),Et=function(){function W(e,t){h(this,W),this.ctx=e,this.w=e.w;var r=this.w;this.barOptions=r.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=r.config.stroke.width,this.isNullValue=!1,this.isRangeBar=r.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!r.globals.isBarHorizontal&&r.globals.seriesRange.length&&r.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=t,this.xyRatios!==null&&(this.xRatio=t.xRatio,this.yRatio=t.yRatio,this.invertedXRatio=t.invertedXRatio,this.invertedYRatio=t.invertedYRatio,this.baseLineY=t.baseLineY,this.baseLineInvertedY=t.baseLineInvertedY),this.yaxisIndex=0,this.translationsIndex=0,this.seriesLen=0,this.pathArr=[];var a=new ie(this.ctx);this.lastActiveBarSerieIndex=a.getActiveConfigSeriesIndex("desc",["bar","column"]),this.columnGroupIndices=[];var n=a.getBarSeriesIndices(),i=new te(this.ctx);this.stackedSeriesTotals=i.getStackedSeriesTotals(this.w.config.series.map(function(c,f){return n.indexOf(f)===-1?f:-1}).filter(function(c){return c!==-1})),this.barHelpers=new us(this)}return m(W,[{key:"draw",value:function(e,t){var r=this.w,a=new B(this.ctx),n=new te(this.ctx,r);e=n.getLogSeries(e),this.series=e,this.yRatio=n.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e);var i=a.group({class:"apexcharts-bar-series apexcharts-plot-series"});r.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var c=0,f=0;c<e.length;c++,f++){var g,x,b,w,_=void 0,T=void 0,M=[],V=[],X=r.globals.comboCharts?t[c]:c,Z=this.barHelpers.getGroupIndex(X).columnGroupIndex,p=a.group({class:"apexcharts-series",rel:c+1,seriesName:S.escapeString(r.globals.seriesNames[X]),"data:realIndex":X});this.ctx.series.addCollapsedClassToSeries(p,X),e[c].length>0&&(this.visibleI=this.visibleI+1);var C=0,O=0;this.yRatio.length>1&&(this.yaxisIndex=r.globals.seriesYAxisReverseMap[X],this.translationsIndex=X);var ee=this.translationsIndex;this.isReversed=r.config.yaxis[this.yaxisIndex]&&r.config.yaxis[this.yaxisIndex].reversed;var J=this.barHelpers.initialPositions();T=J.y,C=J.barHeight,x=J.yDivision,w=J.zeroW,_=J.x,O=J.barWidth,g=J.xDivision,b=J.zeroH,this.horizontal||V.push(_+O/2);var re=a.group({class:"apexcharts-datalabels","data:realIndex":X});r.globals.delayedElements.push({el:re.node}),re.node.classList.add("apexcharts-element-hidden");var me=a.group({class:"apexcharts-bar-goals-markers"}),be=a.group({class:"apexcharts-bar-shadows"});r.globals.delayedElements.push({el:be.node}),be.node.classList.add("apexcharts-element-hidden");for(var Se=0;Se<e[c].length;Se++){var qe=this.barHelpers.getStrokeWidth(c,Se,X),$e=null,Fe={indexes:{i:c,j:Se,realIndex:X,translationsIndex:ee,bc:f},x:_,y:T,strokeWidth:qe,elSeries:p};this.isHorizontal?($e=this.drawBarPaths(D(D({},Fe),{},{barHeight:C,zeroW:w,yDivision:x})),O=this.series[c][Se]/this.invertedYRatio):($e=this.drawColumnPaths(D(D({},Fe),{},{xDivision:g,barWidth:O,zeroH:b})),C=this.series[c][Se]/this.yRatio[ee]);var ut=this.barHelpers.getPathFillColor(e,c,Se,X);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&Se>0){var mt=this.barHelpers.drawBarShadow({color:typeof ut=="string"&&(ut==null?void 0:ut.indexOf("url"))===-1?ut:S.hexToRgba(r.globals.colors[c]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:$e});mt&&be.add(mt)}this.pathArr.push($e);var kt=this.barHelpers.drawGoalLine({barXPosition:$e.barXPosition,barYPosition:$e.barYPosition,goalX:$e.goalX,goalY:$e.goalY,barHeight:C,barWidth:O});kt&&me.add(kt),T=$e.y,_=$e.x,Se>0&&V.push(_+O/2),M.push(T),this.renderSeries({realIndex:X,pathFill:ut,j:Se,i:c,columnGroupIndex:Z,pathFrom:$e.pathFrom,pathTo:$e.pathTo,strokeWidth:qe,elSeries:p,x:_,y:T,series:e,barHeight:Math.abs($e.barHeight?$e.barHeight:C),barWidth:Math.abs($e.barWidth?$e.barWidth:O),elDataLabelsWrap:re,elGoalsMarkers:me,elBarShadows:be,visibleSeries:this.visibleI,type:"bar"})}r.globals.seriesXvalues[X]=V,r.globals.seriesYvalues[X]=M,i.add(p)}return i}},{key:"renderSeries",value:function(e){var t=e.realIndex,r=e.pathFill,a=e.lineFill,n=e.j,i=e.i,c=e.columnGroupIndex,f=e.pathFrom,g=e.pathTo,x=e.strokeWidth,b=e.elSeries,w=e.x,_=e.y,T=e.y1,M=e.y2,V=e.series,X=e.barHeight,Z=e.barWidth,p=e.barXPosition,C=e.barYPosition,O=e.elDataLabelsWrap,ee=e.elGoalsMarkers,J=e.elBarShadows,re=e.visibleSeries,me=e.type,be=e.classes,Se=this.w,qe=new B(this.ctx);if(!a){var $e=typeof Se.globals.stroke.colors[t]=="function"?function(Mt){var Rt,Tt=Se.config.stroke.colors;return Array.isArray(Tt)&&Tt.length>0&&((Rt=Tt[Mt])||(Rt=""),typeof Rt=="function")?Rt({value:Se.globals.series[Mt][n],dataPointIndex:n,w:Se}):Rt}(t):Se.globals.stroke.colors[t];a=this.barOptions.distributed?Se.globals.stroke.colors[n]:$e}Se.config.series[i].data[n]&&Se.config.series[i].data[n].strokeColor&&(a=Se.config.series[i].data[n].strokeColor),this.isNullValue&&(r="none");var Fe=n/Se.config.chart.animations.animateGradually.delay*(Se.config.chart.animations.speed/Se.globals.dataPoints)/2.4,ut=qe.renderPaths({i,j:n,realIndex:t,pathFrom:f,pathTo:g,stroke:a,strokeWidth:x,strokeLineCap:Se.config.stroke.lineCap,fill:r,animationDelay:Fe,initialSpeed:Se.config.chart.animations.speed,dataChangeSpeed:Se.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(me,"-area ").concat(be),chartType:me});ut.attr("clip-path","url(#gridRectBarMask".concat(Se.globals.cuid,")"));var mt=Se.config.forecastDataPoints;mt.count>0&&n>=Se.globals.dataPoints-mt.count&&(ut.node.setAttribute("stroke-dasharray",mt.dashArray),ut.node.setAttribute("stroke-width",mt.strokeWidth),ut.node.setAttribute("fill-opacity",mt.fillOpacity)),T!==void 0&&M!==void 0&&(ut.attr("data-range-y1",T),ut.attr("data-range-y2",M)),new ae(this.ctx).setSelectionFilter(ut,t,n),b.add(ut);var kt=new as(this).handleBarDataLabels({x:w,y:_,y1:T,y2:M,i,j:n,series:V,realIndex:t,columnGroupIndex:c,barHeight:X,barWidth:Z,barXPosition:p,barYPosition:C,renderedPath:ut,visibleSeries:re});return kt.dataLabels!==null&&O.add(kt.dataLabels),kt.totalDataLabels&&O.add(kt.totalDataLabels),b.add(O),ee&&b.add(ee),J&&b.add(J),b}},{key:"drawBarPaths",value:function(e){var t,r=e.indexes,a=e.barHeight,n=e.strokeWidth,i=e.zeroW,c=e.x,f=e.y,g=e.yDivision,x=e.elSeries,b=this.w,w=r.i,_=r.j;if(b.globals.isXNumeric)t=(f=(b.globals.seriesX[w][_]-b.globals.minX)/this.invertedXRatio-a)+a*this.visibleI;else if(b.config.plotOptions.bar.hideZeroBarsWhenGrouped){var T=0,M=0;b.globals.seriesPercent.forEach(function(X,Z){X[_]&&T++,Z<w&&X[_]===0&&M++}),T>0&&(a=this.seriesLen*a/T),t=f+a*this.visibleI,t-=a*M}else t=f+a*this.visibleI;this.isFunnel&&(i-=(this.barHelpers.getXForValue(this.series[w][_],i)-i)/2),c=this.barHelpers.getXForValue(this.series[w][_],i);var V=this.barHelpers.getBarpaths({barYPosition:t,barHeight:a,x1:i,x2:c,strokeWidth:n,isReversed:this.isReversed,series:this.series,realIndex:r.realIndex,i:w,j:_,w:b});return b.globals.isXNumeric||(f+=g),this.barHelpers.barBackground({j:_,i:w,y1:t-a*this.visibleI,y2:a*this.seriesLen,elSeries:x}),{pathTo:V.pathTo,pathFrom:V.pathFrom,x1:i,x:c,y:f,goalX:this.barHelpers.getGoalValues("x",i,null,w,_),barYPosition:t,barHeight:a}}},{key:"drawColumnPaths",value:function(e){var t,r=e.indexes,a=e.x,n=e.y,i=e.xDivision,c=e.barWidth,f=e.zeroH,g=e.strokeWidth,x=e.elSeries,b=this.w,w=r.realIndex,_=r.translationsIndex,T=r.i,M=r.j,V=r.bc;if(b.globals.isXNumeric){var X=this.getBarXForNumericXAxis({x:a,j:M,realIndex:w,barWidth:c});a=X.x,t=X.barXPosition}else if(b.config.plotOptions.bar.hideZeroBarsWhenGrouped){var Z=this.barHelpers.getZeroValueEncounters({i:T,j:M}),p=Z.nonZeroColumns,C=Z.zeroEncounters;p>0&&(c=this.seriesLen*c/p),t=a+c*this.visibleI,t-=c*C}else t=a+c*this.visibleI;n=this.barHelpers.getYForValue(this.series[T][M],f,_);var O=this.barHelpers.getColumnPaths({barXPosition:t,barWidth:c,y1:f,y2:n,strokeWidth:g,isReversed:this.isReversed,series:this.series,realIndex:w,i:T,j:M,w:b});return b.globals.isXNumeric||(a+=i),this.barHelpers.barBackground({bc:V,j:M,i:T,x1:t-g/2-c*this.visibleI,x2:c*this.seriesLen+g/2,elSeries:x}),{pathTo:O.pathTo,pathFrom:O.pathFrom,x:a,y:n,goalY:this.barHelpers.getGoalValues("y",null,f,T,M,_),barXPosition:t,barWidth:c}}},{key:"getBarXForNumericXAxis",value:function(e){var t=e.x,r=e.barWidth,a=e.realIndex,n=e.j,i=this.w,c=a;return i.globals.seriesX[a].length||(c=i.globals.maxValsInArrayIndex),i.globals.seriesX[c][n]&&(t=(i.globals.seriesX[c][n]-i.globals.minX)/this.xRatio-r*this.seriesLen/2),{barXPosition:t+r*this.visibleI,x:t}}},{key:"getPreviousPath",value:function(e,t){for(var r,a=this.w,n=0;n<a.globals.previousPaths.length;n++){var i=a.globals.previousPaths[n];i.paths&&i.paths.length>0&&parseInt(i.realIndex,10)===parseInt(e,10)&&a.globals.previousPaths[n].paths[t]!==void 0&&(r=a.globals.previousPaths[n].paths[t].d)}return r}}]),W}(),Lt=function(W){E(t,Et);var e=k(t);function t(){return h(this,t),e.apply(this,arguments)}return m(t,[{key:"draw",value:function(r,a){var n=this,i=this.w;this.graphics=new B(this.ctx),this.bar=new Et(this.ctx,this.xyRatios);var c=new te(this.ctx,i);r=c.getLogSeries(r),this.yRatio=c.getLogYRatios(this.yRatio),this.barHelpers.initVariables(r),i.config.chart.stackType==="100%"&&(r=i.globals.comboCharts?a.map(function(T){return i.globals.seriesPercent[T]}):i.globals.seriesPercent.slice()),this.series=r,this.barHelpers.initializeStackedPrevVars(this);for(var f=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),g=0,x=0,b=function(T,M){var V=void 0,X=void 0,Z=void 0,p=void 0,C=i.globals.comboCharts?a[T]:T,O=n.barHelpers.getGroupIndex(C),ee=O.groupIndex,J=O.columnGroupIndex;n.groupCtx=n[i.globals.seriesGroups[ee]];var re=[],me=[],be=0;n.yRatio.length>1&&(n.yaxisIndex=i.globals.seriesYAxisReverseMap[C][0],be=C),n.isReversed=i.config.yaxis[n.yaxisIndex]&&i.config.yaxis[n.yaxisIndex].reversed;var Se=n.graphics.group({class:"apexcharts-series",seriesName:S.escapeString(i.globals.seriesNames[C]),rel:T+1,"data:realIndex":C});n.ctx.series.addCollapsedClassToSeries(Se,C);var qe=n.graphics.group({class:"apexcharts-datalabels","data:realIndex":C}),$e=n.graphics.group({class:"apexcharts-bar-goals-markers"}),Fe=0,ut=0,mt=n.initialPositions(g,x,V,X,Z,p,be);x=mt.y,Fe=mt.barHeight,X=mt.yDivision,p=mt.zeroW,g=mt.x,ut=mt.barWidth,V=mt.xDivision,Z=mt.zeroH,i.globals.barHeight=Fe,i.globals.barWidth=ut,n.barHelpers.initializeStackedXYVars(n),n.groupCtx.prevY.length===1&&n.groupCtx.prevY[0].every(function(Kt){return isNaN(Kt)})&&(n.groupCtx.prevY[0]=n.groupCtx.prevY[0].map(function(){return Z}),n.groupCtx.prevYF[0]=n.groupCtx.prevYF[0].map(function(){return 0}));for(var kt=0;kt<i.globals.dataPoints;kt++){var Mt=n.barHelpers.getStrokeWidth(T,kt,C),Rt={indexes:{i:T,j:kt,realIndex:C,translationsIndex:be,bc:M},strokeWidth:Mt,x:g,y:x,elSeries:Se,columnGroupIndex:J,seriesGroup:i.globals.seriesGroups[ee]},Tt=null;n.isHorizontal?(Tt=n.drawStackedBarPaths(D(D({},Rt),{},{zeroW:p,barHeight:Fe,yDivision:X})),ut=n.series[T][kt]/n.invertedYRatio):(Tt=n.drawStackedColumnPaths(D(D({},Rt),{},{xDivision:V,barWidth:ut,zeroH:Z})),Fe=n.series[T][kt]/n.yRatio[be]);var Vt=n.barHelpers.drawGoalLine({barXPosition:Tt.barXPosition,barYPosition:Tt.barYPosition,goalX:Tt.goalX,goalY:Tt.goalY,barHeight:Fe,barWidth:ut});Vt&&$e.add(Vt),x=Tt.y,g=Tt.x,re.push(g),me.push(x);var ls=n.barHelpers.getPathFillColor(r,T,kt,C),cs="";i.globals.isBarHorizontal?n.barHelpers.arrBorderRadius[C][kt]==="bottom"&&i.globals.series[C][kt]>0&&(cs="apexcharts-flip-x"):n.barHelpers.arrBorderRadius[C][kt]==="bottom"&&i.globals.series[C][kt]>0&&(cs="apexcharts-flip-y"),Se=n.renderSeries({realIndex:C,pathFill:ls,j:kt,i:T,columnGroupIndex:J,pathFrom:Tt.pathFrom,pathTo:Tt.pathTo,strokeWidth:Mt,elSeries:Se,x:g,y:x,series:r,barHeight:Fe,barWidth:ut,elDataLabelsWrap:qe,elGoalsMarkers:$e,type:"bar",visibleSeries:J,classes:cs})}i.globals.seriesXvalues[C]=re,i.globals.seriesYvalues[C]=me,n.groupCtx.prevY.push(n.groupCtx.yArrj),n.groupCtx.prevYF.push(n.groupCtx.yArrjF),n.groupCtx.prevYVal.push(n.groupCtx.yArrjVal),n.groupCtx.prevX.push(n.groupCtx.xArrj),n.groupCtx.prevXF.push(n.groupCtx.xArrjF),n.groupCtx.prevXVal.push(n.groupCtx.xArrjVal),f.add(Se)},w=0,_=0;w<r.length;w++,_++)b(w,_);return f}},{key:"initialPositions",value:function(r,a,n,i,c,f,g){var x,b,w=this.w;if(this.isHorizontal){i=w.globals.gridHeight/w.globals.dataPoints;var _=w.config.plotOptions.bar.barHeight;x=String(_).indexOf("%")===-1?parseInt(_,10):i*parseInt(_,10)/100,f=w.globals.padHorizontal+(this.isReversed?w.globals.gridWidth-this.baseLineInvertedY:this.baseLineInvertedY),a=(i-x)/2}else{b=n=w.globals.gridWidth/w.globals.dataPoints;var T=w.config.plotOptions.bar.columnWidth;w.globals.isXNumeric&&w.globals.dataPoints>1?b=(n=w.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:String(T).indexOf("%")===-1?b=parseInt(T,10):b*=parseInt(T,10)/100,c=this.isReversed?this.baseLineY[g]:w.globals.gridHeight-this.baseLineY[g],r=w.globals.padHorizontal+(n-b)/2}var M=w.globals.barGroups.length||1;return{x:r,y:a,yDivision:i,xDivision:n,barHeight:x/M,barWidth:b/M,zeroH:c,zeroW:f}}},{key:"drawStackedBarPaths",value:function(r){for(var a,n=r.indexes,i=r.barHeight,c=r.strokeWidth,f=r.zeroW,g=r.x,x=r.y,b=r.columnGroupIndex,w=r.seriesGroup,_=r.yDivision,T=r.elSeries,M=this.w,V=x+b*i,X=n.i,Z=n.j,p=n.realIndex,C=n.translationsIndex,O=0,ee=0;ee<this.groupCtx.prevXF.length;ee++)O+=this.groupCtx.prevXF[ee][Z];var J;if((J=w.indexOf(M.config.series[p].name))>0){var re=f;this.groupCtx.prevXVal[J-1][Z]<0?re=this.series[X][Z]>=0?this.groupCtx.prevX[J-1][Z]+O-2*(this.isReversed?O:0):this.groupCtx.prevX[J-1][Z]:this.groupCtx.prevXVal[J-1][Z]>=0&&(re=this.series[X][Z]>=0?this.groupCtx.prevX[J-1][Z]:this.groupCtx.prevX[J-1][Z]-O+2*(this.isReversed?O:0)),a=re}else a=f;g=this.series[X][Z]===null?a:a+this.series[X][Z]/this.invertedYRatio-2*(this.isReversed?this.series[X][Z]/this.invertedYRatio:0);var me=this.barHelpers.getBarpaths({barYPosition:V,barHeight:i,x1:a,x2:g,strokeWidth:c,isReversed:this.isReversed,series:this.series,realIndex:n.realIndex,seriesGroup:w,i:X,j:Z,w:M});return this.barHelpers.barBackground({j:Z,i:X,y1:V,y2:i,elSeries:T}),x+=_,{pathTo:me.pathTo,pathFrom:me.pathFrom,goalX:this.barHelpers.getGoalValues("x",f,null,X,Z,C),barXPosition:a,barYPosition:V,x:g,y:x}}},{key:"drawStackedColumnPaths",value:function(r){var a=r.indexes,n=r.x,i=r.y,c=r.xDivision,f=r.barWidth,g=r.zeroH,x=r.columnGroupIndex,b=r.seriesGroup,w=r.elSeries,_=this.w,T=a.i,M=a.j,V=a.bc,X=a.realIndex,Z=a.translationsIndex;if(_.globals.isXNumeric){var p=_.globals.seriesX[X][M];p||(p=0),n=(p-_.globals.minX)/this.xRatio-f/2*_.globals.barGroups.length}for(var C,O=n+x*f,ee=0,J=0;J<this.groupCtx.prevYF.length;J++)ee+=isNaN(this.groupCtx.prevYF[J][M])?0:this.groupCtx.prevYF[J][M];var re=T;if(b&&(re=b.indexOf(_.globals.seriesNames[X])),re>0&&!_.globals.isXNumeric||re>0&&_.globals.isXNumeric&&_.globals.seriesX[X-1][M]===_.globals.seriesX[X][M]){var me,be,Se,qe=Math.min(this.yRatio.length+1,X+1);if(this.groupCtx.prevY[re-1]!==void 0&&this.groupCtx.prevY[re-1].length)for(var $e=1;$e<qe;$e++){var Fe;if(!isNaN((Fe=this.groupCtx.prevY[re-$e])===null||Fe===void 0?void 0:Fe[M])){Se=this.groupCtx.prevY[re-$e][M];break}}for(var ut=1;ut<qe;ut++){var mt,kt;if(((mt=this.groupCtx.prevYVal[re-ut])===null||mt===void 0?void 0:mt[M])<0){be=this.series[T][M]>=0?Se-ee+2*(this.isReversed?ee:0):Se;break}if(((kt=this.groupCtx.prevYVal[re-ut])===null||kt===void 0?void 0:kt[M])>=0){be=this.series[T][M]>=0?Se:Se+ee-2*(this.isReversed?ee:0);break}}be===void 0&&(be=_.globals.gridHeight),C=(me=this.groupCtx.prevYF[0])!==null&&me!==void 0&&me.every(function(Rt){return Rt===0})&&this.groupCtx.prevYF.slice(1,re).every(function(Rt){return Rt.every(function(Tt){return isNaN(Tt)})})?g:be}else C=g;i=this.series[T][M]?C-this.series[T][M]/this.yRatio[Z]+2*(this.isReversed?this.series[T][M]/this.yRatio[Z]:0):C;var Mt=this.barHelpers.getColumnPaths({barXPosition:O,barWidth:f,y1:C,y2:i,yRatio:this.yRatio[Z],strokeWidth:this.strokeWidth,isReversed:this.isReversed,series:this.series,seriesGroup:b,realIndex:a.realIndex,i:T,j:M,w:_});return this.barHelpers.barBackground({bc:V,j:M,i:T,x1:O,x2:f,elSeries:w}),{pathTo:Mt.pathTo,pathFrom:Mt.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,g,T,M),barXPosition:O,x:_.globals.isXNumeric?n:n+c,y:i}}}]),t}(),Xt=function(W){E(t,Et);var e=k(t);function t(){return h(this,t),e.apply(this,arguments)}return m(t,[{key:"draw",value:function(r,a,n){var i=this,c=this.w,f=new B(this.ctx),g=c.globals.comboCharts?a:c.config.chart.type,x=new Pe(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=c.config.plotOptions.bar.horizontal;var b=new te(this.ctx,c);r=b.getLogSeries(r),this.series=r,this.yRatio=b.getLogYRatios(this.yRatio),this.barHelpers.initVariables(r);for(var w=f.group({class:"apexcharts-".concat(g,"-series apexcharts-plot-series")}),_=function(M){i.isBoxPlot=c.config.chart.type==="boxPlot"||c.config.series[M].type==="boxPlot";var V,X,Z,p,C=void 0,O=void 0,ee=[],J=[],re=c.globals.comboCharts?n[M]:M,me=i.barHelpers.getGroupIndex(re).columnGroupIndex,be=f.group({class:"apexcharts-series",seriesName:S.escapeString(c.globals.seriesNames[re]),rel:M+1,"data:realIndex":re});i.ctx.series.addCollapsedClassToSeries(be,re),r[M].length>0&&(i.visibleI=i.visibleI+1);var Se,qe,$e=0;i.yRatio.length>1&&(i.yaxisIndex=c.globals.seriesYAxisReverseMap[re][0],$e=re);var Fe=i.barHelpers.initialPositions();O=Fe.y,Se=Fe.barHeight,X=Fe.yDivision,p=Fe.zeroW,C=Fe.x,qe=Fe.barWidth,V=Fe.xDivision,Z=Fe.zeroH,J.push(C+qe/2);for(var ut=f.group({class:"apexcharts-datalabels","data:realIndex":re}),mt=function(Mt){var Rt=i.barHelpers.getStrokeWidth(M,Mt,re),Tt=null,Vt={indexes:{i:M,j:Mt,realIndex:re,translationsIndex:$e},x:C,y:O,strokeWidth:Rt,elSeries:be};Tt=i.isHorizontal?i.drawHorizontalBoxPaths(D(D({},Vt),{},{yDivision:X,barHeight:Se,zeroW:p})):i.drawVerticalBoxPaths(D(D({},Vt),{},{xDivision:V,barWidth:qe,zeroH:Z})),O=Tt.y,C=Tt.x,Mt>0&&J.push(C+qe/2),ee.push(O),Tt.pathTo.forEach(function(ls,cs){var Kt=!i.isBoxPlot&&i.candlestickOptions.wick.useFillColor?Tt.color[cs]:c.globals.stroke.colors[M],Ds=x.fillPath({seriesNumber:re,dataPointIndex:Mt,color:Tt.color[cs],value:r[M][Mt]});i.renderSeries({realIndex:re,pathFill:Ds,lineFill:Kt,j:Mt,i:M,pathFrom:Tt.pathFrom,pathTo:ls,strokeWidth:Rt,elSeries:be,x:C,y:O,series:r,columnGroupIndex:me,barHeight:Se,barWidth:qe,elDataLabelsWrap:ut,visibleSeries:i.visibleI,type:c.config.chart.type})})},kt=0;kt<c.globals.dataPoints;kt++)mt(kt);c.globals.seriesXvalues[re]=J,c.globals.seriesYvalues[re]=ee,w.add(be)},T=0;T<r.length;T++)_(T);return w}},{key:"drawVerticalBoxPaths",value:function(r){var a=r.indexes,n=r.x;r.y;var i=r.xDivision,c=r.barWidth,f=r.zeroH,g=r.strokeWidth,x=this.w,b=new B(this.ctx),w=a.i,_=a.j,T=!0,M=x.config.plotOptions.candlestick.colors.upward,V=x.config.plotOptions.candlestick.colors.downward,X="";this.isBoxPlot&&(X=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var Z=this.yRatio[a.translationsIndex],p=a.realIndex,C=this.getOHLCValue(p,_),O=f,ee=f;C.o>C.c&&(T=!1);var J=Math.min(C.o,C.c),re=Math.max(C.o,C.c),me=C.m;x.globals.isXNumeric&&(n=(x.globals.seriesX[p][_]-x.globals.minX)/this.xRatio-c/2);var be=n+c*this.visibleI;this.series[w][_]===void 0||this.series[w][_]===null?(J=f,re=f):(J=f-J/Z,re=f-re/Z,O=f-C.h/Z,ee=f-C.l/Z,me=f-C.m/Z);var Se=b.move(be,f),qe=b.move(be+c/2,J);return x.globals.previousPaths.length>0&&(qe=this.getPreviousPath(p,_,!0)),Se=this.isBoxPlot?[b.move(be,J)+b.line(be+c/2,J)+b.line(be+c/2,O)+b.line(be+c/4,O)+b.line(be+c-c/4,O)+b.line(be+c/2,O)+b.line(be+c/2,J)+b.line(be+c,J)+b.line(be+c,me)+b.line(be,me)+b.line(be,J+g/2),b.move(be,me)+b.line(be+c,me)+b.line(be+c,re)+b.line(be+c/2,re)+b.line(be+c/2,ee)+b.line(be+c-c/4,ee)+b.line(be+c/4,ee)+b.line(be+c/2,ee)+b.line(be+c/2,re)+b.line(be,re)+b.line(be,me)+"z"]:[b.move(be,re)+b.line(be+c/2,re)+b.line(be+c/2,O)+b.line(be+c/2,re)+b.line(be+c,re)+b.line(be+c,J)+b.line(be+c/2,J)+b.line(be+c/2,ee)+b.line(be+c/2,J)+b.line(be,J)+b.line(be,re-g/2)],qe+=b.move(be,J),x.globals.isXNumeric||(n+=i),{pathTo:Se,pathFrom:qe,x:n,y:re,barXPosition:be,color:this.isBoxPlot?X:T?[M]:[V]}}},{key:"drawHorizontalBoxPaths",value:function(r){var a=r.indexes;r.x;var n=r.y,i=r.yDivision,c=r.barHeight,f=r.zeroW,g=r.strokeWidth,x=this.w,b=new B(this.ctx),w=a.i,_=a.j,T=this.boxOptions.colors.lower;this.isBoxPlot&&(T=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var M=this.invertedYRatio,V=a.realIndex,X=this.getOHLCValue(V,_),Z=f,p=f,C=Math.min(X.o,X.c),O=Math.max(X.o,X.c),ee=X.m;x.globals.isXNumeric&&(n=(x.globals.seriesX[V][_]-x.globals.minX)/this.invertedXRatio-c/2);var J=n+c*this.visibleI;this.series[w][_]===void 0||this.series[w][_]===null?(C=f,O=f):(C=f+C/M,O=f+O/M,Z=f+X.h/M,p=f+X.l/M,ee=f+X.m/M);var re=b.move(f,J),me=b.move(C,J+c/2);return x.globals.previousPaths.length>0&&(me=this.getPreviousPath(V,_,!0)),re=[b.move(C,J)+b.line(C,J+c/2)+b.line(Z,J+c/2)+b.line(Z,J+c/2-c/4)+b.line(Z,J+c/2+c/4)+b.line(Z,J+c/2)+b.line(C,J+c/2)+b.line(C,J+c)+b.line(ee,J+c)+b.line(ee,J)+b.line(C+g/2,J),b.move(ee,J)+b.line(ee,J+c)+b.line(O,J+c)+b.line(O,J+c/2)+b.line(p,J+c/2)+b.line(p,J+c-c/4)+b.line(p,J+c/4)+b.line(p,J+c/2)+b.line(O,J+c/2)+b.line(O,J)+b.line(ee,J)+"z"],me+=b.move(C,J),x.globals.isXNumeric||(n+=i),{pathTo:re,pathFrom:me,x:O,y:n,barYPosition:J,color:T}}},{key:"getOHLCValue",value:function(r,a){var n=this.w;return{o:this.isBoxPlot?n.globals.seriesCandleH[r][a]:n.globals.seriesCandleO[r][a],h:this.isBoxPlot?n.globals.seriesCandleO[r][a]:n.globals.seriesCandleH[r][a],m:n.globals.seriesCandleM[r][a],l:this.isBoxPlot?n.globals.seriesCandleC[r][a]:n.globals.seriesCandleL[r][a],c:this.isBoxPlot?n.globals.seriesCandleL[r][a]:n.globals.seriesCandleC[r][a]}}}]),t}(),It=function(){function W(e){h(this,W),this.ctx=e,this.w=e.w}return m(W,[{key:"checkColorRange",value:function(){var e=this.w,t=!1,r=e.config.plotOptions[e.config.chart.type];return r.colorScale.ranges.length>0&&r.colorScale.ranges.map(function(a,n){a.from<=0&&(t=!0)}),t}},{key:"getShadeColor",value:function(e,t,r,a){var n=this.w,i=1,c=n.config.plotOptions[e].shadeIntensity,f=this.determineColor(e,t,r);n.globals.hasNegs||a?i=n.config.plotOptions[e].reverseNegativeShade?f.percent<0?f.percent/100*(1.25*c):(1-f.percent/100)*(1.25*c):f.percent<=0?1-(1+f.percent/100)*c:(1-f.percent/100)*c:(i=1-f.percent/100,e==="treemap"&&(i=(1-f.percent/100)*(1.25*c)));var g=f.color,x=new S;if(n.config.plotOptions[e].enableShades)if(this.w.config.theme.mode==="dark"){var b=x.shadeColor(-1*i,f.color);g=S.hexToRgba(S.isColorHex(b)?b:S.rgb2hex(b),n.config.fill.opacity)}else{var w=x.shadeColor(i,f.color);g=S.hexToRgba(S.isColorHex(w)?w:S.rgb2hex(w),n.config.fill.opacity)}return{color:g,colorProps:f}}},{key:"determineColor",value:function(e,t,r){var a=this.w,n=a.globals.series[t][r],i=a.config.plotOptions[e],c=i.colorScale.inverse?r:t;i.distributed&&a.config.chart.type==="treemap"&&(c=r);var f=a.globals.colors[c],g=null,x=Math.min.apply(Math,H(a.globals.series[t])),b=Math.max.apply(Math,H(a.globals.series[t]));i.distributed||e!=="heatmap"||(x=a.globals.minY,b=a.globals.maxY),i.colorScale.min!==void 0&&(x=i.colorScale.min<a.globals.minY?i.colorScale.min:a.globals.minY,b=i.colorScale.max>a.globals.maxY?i.colorScale.max:a.globals.maxY);var w=Math.abs(b)+Math.abs(x),_=100*n/(w===0?w-1e-6:w);return i.colorScale.ranges.length>0&&i.colorScale.ranges.map(function(T,M){if(n>=T.from&&n<=T.to){f=T.color,g=T.foreColor?T.foreColor:null,x=T.from,b=T.to;var V=Math.abs(b)+Math.abs(x);_=100*n/(V===0?V-1e-6:V)}}),{color:f,foreColor:g,percent:_}}},{key:"calculateDataLabels",value:function(e){var t=e.text,r=e.x,a=e.y,n=e.i,i=e.j,c=e.colorProps,f=e.fontSize,g=this.w.config.dataLabels,x=new B(this.ctx),b=new ke(this.ctx),w=null;if(g.enabled){w=x.group({class:"apexcharts-data-labels"});var _=g.offsetX,T=g.offsetY,M=r+_,V=a+parseFloat(g.style.fontSize)/3+T;b.plotDataLabelsText({x:M,y:V,text:t,i:n,j:i,color:c.foreColor,parent:w,fontSize:f,dataLabelsConfig:g})}return w}},{key:"addListeners",value:function(e){var t=new B(this.ctx);e.node.addEventListener("mouseenter",t.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",t.pathMouseLeave.bind(this,e)),e.node.addEventListener("mousedown",t.pathMouseDown.bind(this,e))}}]),W}(),xs=function(){function W(e,t){h(this,W),this.ctx=e,this.w=e.w,this.xRatio=t.xRatio,this.yRatio=t.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new It(e),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return m(W,[{key:"draw",value:function(e){var t=this.w,r=new B(this.ctx),a=r.group({class:"apexcharts-heatmap"});a.attr("clip-path","url(#gridRectMask".concat(t.globals.cuid,")"));var n=t.globals.gridWidth/t.globals.dataPoints,i=t.globals.gridHeight/t.globals.series.length,c=0,f=!1;this.negRange=this.helpers.checkColorRange();var g=e.slice();t.config.yaxis[0].reversed&&(f=!0,g.reverse());for(var x=f?0:g.length-1;f?x<g.length:x>=0;f?x++:x--){var b=r.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:S.escapeString(t.globals.seriesNames[x]),rel:x+1,"data:realIndex":x});if(this.ctx.series.addCollapsedClassToSeries(b,x),t.config.chart.dropShadow.enabled){var w=t.config.chart.dropShadow;new ae(this.ctx).dropShadow(b,w,x)}for(var _=0,T=t.config.plotOptions.heatmap.shadeIntensity,M=0;M<g[x].length;M++){var V=this.helpers.getShadeColor(t.config.chart.type,x,M,this.negRange),X=V.color,Z=V.colorProps;t.config.fill.type==="image"&&(X=new Pe(this.ctx).fillPath({seriesNumber:x,dataPointIndex:M,opacity:t.globals.hasNegs?Z.percent<0?1-(1+Z.percent/100):T+Z.percent/100:Z.percent/100,patternID:S.randomId(),width:t.config.fill.image.width?t.config.fill.image.width:n,height:t.config.fill.image.height?t.config.fill.image.height:i}));var p=this.rectRadius,C=r.drawRect(_,c,n,i,p);if(C.attr({cx:_,cy:c}),C.node.classList.add("apexcharts-heatmap-rect"),b.add(C),C.attr({fill:X,i:x,index:x,j:M,val:e[x][M],"stroke-width":this.strokeWidth,stroke:t.config.plotOptions.heatmap.useFillColorAsStroke?X:t.globals.stroke.colors[0],color:X}),this.helpers.addListeners(C),t.config.chart.animations.enabled&&!t.globals.dataChanged){var O=1;t.globals.resized||(O=t.config.chart.animations.speed),this.animateHeatMap(C,_,c,n,i,O)}if(t.globals.dataChanged){var ee=1;if(this.dynamicAnim.enabled&&t.globals.shouldAnimate){ee=this.dynamicAnim.speed;var J=t.globals.previousPaths[x]&&t.globals.previousPaths[x][M]&&t.globals.previousPaths[x][M].color;J||(J="rgba(255, 255, 255, 0)"),this.animateHeatColor(C,S.isColorHex(J)?J:S.rgb2hex(J),S.isColorHex(X)?X:S.rgb2hex(X),ee)}}var re=(0,t.config.dataLabels.formatter)(t.globals.series[x][M],{value:t.globals.series[x][M],seriesIndex:x,dataPointIndex:M,w:t}),me=this.helpers.calculateDataLabels({text:re,x:_+n/2,y:c+i/2,i:x,j:M,colorProps:Z,series:g});me!==null&&b.add(me),_+=n}c+=i,a.add(b)}var be=t.globals.yAxisScale[0].result.slice();return t.config.yaxis[0].reversed?be.unshift(""):be.push(""),t.globals.yAxisScale[0].result=be,a}},{key:"animateHeatMap",value:function(e,t,r,a,n,i){var c=new K(this.ctx);c.animateRect(e,{x:t+a/2,y:r+n/2,width:0,height:0},{x:t,y:r,width:a,height:n},i,function(){c.animationCompleted(e)})}},{key:"animateHeatColor",value:function(e,t,r,a){e.attr({fill:t}).animate(a).attr({fill:r})}}]),W}(),ms=function(){function W(e){h(this,W),this.ctx=e,this.w=e.w}return m(W,[{key:"drawYAxisTexts",value:function(e,t,r,a){var n=this.w,i=n.config.yaxis[0],c=n.globals.yLabelFormatters[0];return new B(this.ctx).drawText({x:e+i.labels.offsetX,y:t+i.labels.offsetY,text:c(a,r),textAnchor:"middle",fontSize:i.labels.style.fontSize,fontFamily:i.labels.style.fontFamily,foreColor:Array.isArray(i.labels.style.colors)?i.labels.style.colors[r]:i.labels.style.colors})}}]),W}(),$s=function(){function W(e){h(this,W),this.ctx=e,this.w=e.w;var t=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=t.globals.stroke.colors!==void 0?t.globals.stroke.colors:t.globals.colors,this.defaultSize=Math.min(t.globals.gridWidth,t.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=t.globals.gridWidth/2,t.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(t.config.plotOptions.pie.endAngle-t.config.plotOptions.pie.startAngle),this.initialAngle=t.config.plotOptions.pie.startAngle%this.fullAngle,t.globals.radialSize=this.defaultSize/2.05-t.config.stroke.width-(t.config.chart.sparkline.enabled?0:t.config.chart.dropShadow.blur),this.donutSize=t.globals.radialSize*parseInt(t.config.plotOptions.pie.donut.size,10)/100;var r=t.config.plotOptions.pie.customScale,a=t.globals.gridWidth/2,n=t.globals.gridHeight/2;this.translateX=a-a*r,this.translateY=n-n*r,this.dataLabelsGroup=new B(this.ctx).group({class:"apexcharts-datalabels-group",transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(r,")")}),this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return m(W,[{key:"draw",value:function(e){var t=this,r=this.w,a=new B(this.ctx),n=a.group({class:"apexcharts-pie"});if(r.globals.noData)return n;for(var i=0,c=0;c<e.length;c++)i+=S.negToZero(e[c]);var f=[],g=a.group();i===0&&(i=1e-5),e.forEach(function(p){t.maxY=Math.max(t.maxY,p)}),r.config.yaxis[0].max&&(this.maxY=r.config.yaxis[0].max),r.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(n);for(var x=0;x<e.length;x++){var b=this.fullAngle*S.negToZero(e[x])/i;f.push(b),this.chartType==="polarArea"?(f[x]=this.fullAngle/e.length,this.sliceSizes.push(r.globals.radialSize*e[x]/this.maxY)):this.sliceSizes.push(r.globals.radialSize)}if(r.globals.dataChanged){for(var w,_=0,T=0;T<r.globals.previousPaths.length;T++)_+=S.negToZero(r.globals.previousPaths[T]);for(var M=0;M<r.globals.previousPaths.length;M++)w=this.fullAngle*S.negToZero(r.globals.previousPaths[M])/_,this.prevSectorAngleArr.push(w)}if(this.donutSize<0&&(this.donutSize=0),this.chartType==="donut"){var V=a.drawCircle(this.donutSize);V.attr({cx:this.centerX,cy:this.centerY,fill:r.config.plotOptions.pie.donut.background?r.config.plotOptions.pie.donut.background:"transparent"}),g.add(V)}var X=this.drawArcs(f,e);if(this.sliceLabels.forEach(function(p){X.add(p)}),g.attr({transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(r.config.plotOptions.pie.customScale,")")}),g.add(X),n.add(g),this.donutDataLabels.show){var Z=this.renderInnerDataLabels(this.dataLabelsGroup,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});n.add(Z)}return r.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(n),n}},{key:"drawArcs",value:function(e,t){var r=this.w,a=new ae(this.ctx),n=new B(this.ctx),i=new Pe(this.ctx),c=n.group({class:"apexcharts-slices"}),f=this.initialAngle,g=this.initialAngle,x=this.initialAngle,b=this.initialAngle;this.strokeWidth=r.config.stroke.show?r.config.stroke.width:0;for(var w=0;w<e.length;w++){var _=n.group({class:"apexcharts-series apexcharts-pie-series",seriesName:S.escapeString(r.globals.seriesNames[w]),rel:w+1,"data:realIndex":w});c.add(_),g=b,x=(f=x)+e[w],b=g+this.prevSectorAngleArr[w];var T=x<f?this.fullAngle+x-f:x-f,M=i.fillPath({seriesNumber:w,size:this.sliceSizes[w],value:t[w]}),V=this.getChangedPath(g,b),X=n.drawPath({d:V,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[w]:this.lineColorArr,strokeWidth:0,fill:M,fillOpacity:r.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(w)});if(X.attr({index:0,j:w}),a.setSelectionFilter(X,0,w),r.config.chart.dropShadow.enabled){var Z=r.config.chart.dropShadow;a.dropShadow(X,Z,w)}this.addListeners(X,this.donutDataLabels),B.setAttrs(X.node,{"data:angle":T,"data:startAngle":f,"data:strokeWidth":this.strokeWidth,"data:value":t[w]});var p={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?p=S.polarToCartesian(this.centerX,this.centerY,r.globals.radialSize/1.25+r.config.plotOptions.pie.dataLabels.offset,(f+T/2)%this.fullAngle):this.chartType==="donut"&&(p=S.polarToCartesian(this.centerX,this.centerY,(r.globals.radialSize+this.donutSize)/2+r.config.plotOptions.pie.dataLabels.offset,(f+T/2)%this.fullAngle)),_.add(X);var C=0;if(!this.initialAnim||r.globals.resized||r.globals.dataChanged?this.animBeginArr.push(0):((C=T/this.fullAngle*r.config.chart.animations.speed)===0&&(C=1),this.animDur=C+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&r.globals.dataChanged?this.animatePaths(X,{size:this.sliceSizes[w],endAngle:x,startAngle:f,prevStartAngle:g,prevEndAngle:b,animateStartingPos:!0,i:w,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:r.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(X,{size:this.sliceSizes[w],endAngle:x,startAngle:f,i:w,totalItems:e.length-1,animBeginArr:this.animBeginArr,dur:C}),r.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&X.node.addEventListener("mouseup",this.pieClicked.bind(this,w)),r.globals.selectedDataPoints[0]!==void 0&&r.globals.selectedDataPoints[0].indexOf(w)>-1&&this.pieClicked(w),r.config.dataLabels.enabled){var O=p.x,ee=p.y,J=100*T/this.fullAngle+"%";if(T!==0&&r.config.plotOptions.pie.dataLabels.minAngleToShowLabel<e[w]){var re=r.config.dataLabels.formatter;re!==void 0&&(J=re(r.globals.seriesPercent[w][0],{seriesIndex:w,w:r}));var me=r.globals.dataLabels.style.colors[w],be=n.group({class:"apexcharts-datalabels"}),Se=n.drawText({x:O,y:ee,text:J,textAnchor:"middle",fontSize:r.config.dataLabels.style.fontSize,fontFamily:r.config.dataLabels.style.fontFamily,fontWeight:r.config.dataLabels.style.fontWeight,foreColor:me});if(be.add(Se),r.config.dataLabels.dropShadow.enabled){var qe=r.config.dataLabels.dropShadow;a.dropShadow(Se,qe)}Se.node.classList.add("apexcharts-pie-label"),r.config.chart.animations.animate&&r.globals.resized===!1&&(Se.node.classList.add("apexcharts-pie-label-delay"),Se.node.style.animationDelay=r.config.chart.animations.speed/940+"s"),this.sliceLabels.push(be)}}}return c}},{key:"addListeners",value:function(e,t){var r=new B(this.ctx);e.node.addEventListener("mouseenter",r.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",r.pathMouseLeave.bind(this,e)),e.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",r.pathMouseDown.bind(this,e)),this.donutDataLabels.total.showAlways||(e.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,e.node,t)))}},{key:"animatePaths",value:function(e,t){var r=this.w,a=t.endAngle<t.startAngle?this.fullAngle+t.endAngle-t.startAngle:t.endAngle-t.startAngle,n=a,i=t.startAngle,c=t.startAngle;t.prevStartAngle!==void 0&&t.prevEndAngle!==void 0&&(i=t.prevEndAngle,n=t.prevEndAngle<t.prevStartAngle?this.fullAngle+t.prevEndAngle-t.prevStartAngle:t.prevEndAngle-t.prevStartAngle),t.i===r.config.series.length-1&&(a+c>this.fullAngle?t.endAngle=t.endAngle-(a+c):a+c<this.fullAngle&&(t.endAngle=t.endAngle+(this.fullAngle-(a+c)))),a===this.fullAngle&&(a=this.fullAngle-.01),this.animateArc(e,i,c,a,n,t)}},{key:"animateArc",value:function(e,t,r,a,n,i){var c,f=this,g=this.w,x=new K(this.ctx),b=i.size;(isNaN(t)||isNaN(n))&&(t=r,n=a,i.dur=0);var w=a,_=r,T=t<r?this.fullAngle+t-r:t-r;g.globals.dataChanged&&i.shouldSetPrevPaths&&i.prevEndAngle&&(c=f.getPiePath({me:f,startAngle:i.prevStartAngle,angle:i.prevEndAngle<i.prevStartAngle?this.fullAngle+i.prevEndAngle-i.prevStartAngle:i.prevEndAngle-i.prevStartAngle,size:b}),e.attr({d:c})),i.dur!==0?e.animate(i.dur,g.globals.easing,i.animBeginArr[i.i]).afterAll(function(){f.chartType!=="pie"&&f.chartType!=="donut"&&f.chartType!=="polarArea"||this.animate(g.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":f.strokeWidth}),i.i===g.config.series.length-1&&x.animationCompleted(e)}).during(function(M){w=T+(a-T)*M,i.animateStartingPos&&(w=n+(a-n)*M,_=t-n+(r-(t-n))*M),c=f.getPiePath({me:f,startAngle:_,angle:w,size:b}),e.node.setAttribute("data:pathOrig",c),e.attr({d:c})}):(c=f.getPiePath({me:f,startAngle:_,angle:a,size:b}),i.isTrack||(g.globals.animationEnded=!0),e.node.setAttribute("data:pathOrig",c),e.attr({d:c,"stroke-width":f.strokeWidth}))}},{key:"pieClicked",value:function(e){var t,r=this.w,a=this,n=a.sliceSizes[e]+(r.config.plotOptions.pie.expandOnClick?4:0),i=r.globals.dom.Paper.select(".apexcharts-".concat(a.chartType.toLowerCase(),"-slice-").concat(e)).members[0];if(i.attr("data:pieClicked")!=="true"){var c=r.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(c,function(b){b.setAttribute("data:pieClicked","false");var w=b.getAttribute("data:pathOrig");w&&b.setAttribute("d",w)}),r.globals.capturedDataPointIndex=e,i.attr("data:pieClicked","true");var f=parseInt(i.attr("data:startAngle"),10),g=parseInt(i.attr("data:angle"),10);t=a.getPiePath({me:a,startAngle:f,angle:g,size:n}),g!==360&&i.plot(t)}else{i.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(i.node,this.donutDataLabels);var x=i.attr("data:pathOrig");i.attr({d:x})}}},{key:"getChangedPath",value:function(e,t){var r="";return this.dynamicAnim&&this.w.globals.dataChanged&&(r=this.getPiePath({me:this,startAngle:e,angle:t-e,size:this.size})),r}},{key:"getPiePath",value:function(e){var t,r=e.me,a=e.startAngle,n=e.angle,i=e.size,c=new B(this.ctx),f=a,g=Math.PI*(f-90)/180,x=n+a;Math.ceil(x)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(x=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(x)>this.fullAngle&&(x-=this.fullAngle);var b=Math.PI*(x-90)/180,w=r.centerX+i*Math.cos(g),_=r.centerY+i*Math.sin(g),T=r.centerX+i*Math.cos(b),M=r.centerY+i*Math.sin(b),V=S.polarToCartesian(r.centerX,r.centerY,r.donutSize,x),X=S.polarToCartesian(r.centerX,r.centerY,r.donutSize,f),Z=n>180?1:0,p=["M",w,_,"A",i,i,0,Z,1,T,M];return t=r.chartType==="donut"?[].concat(p,["L",V.x,V.y,"A",r.donutSize,r.donutSize,0,Z,0,X.x,X.y,"L",w,_,"z"]).join(" "):r.chartType==="pie"||r.chartType==="polarArea"?[].concat(p,["L",r.centerX,r.centerY,"L",w,_]).join(" "):[].concat(p).join(" "),c.roundPathCorners(t,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(e){var t=this.w,r=new Ce(this.ctx),a=new B(this.ctx),n=new ms(this.ctx),i=a.group(),c=a.group(),f=r.niceScale(0,Math.ceil(this.maxY),0),g=f.result.reverse(),x=f.result.length;this.maxY=f.niceMax;for(var b=t.globals.radialSize,w=b/(x-1),_=0;_<x-1;_++){var T=a.drawCircle(b);if(T.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":t.config.plotOptions.polarArea.rings.strokeWidth,stroke:t.config.plotOptions.polarArea.rings.strokeColor}),t.config.yaxis[0].show){var M=n.drawYAxisTexts(this.centerX,this.centerY-b+parseInt(t.config.yaxis[0].labels.style.fontSize,10)/2,_,g[_]);c.add(M)}i.add(T),b-=w}this.drawSpokes(e),e.add(i),e.add(c)}},{key:"renderInnerDataLabels",value:function(e,t,r){var a=this.w,n=new B(this.ctx),i=t.total.show;e.node.innerHTML="",e.node.style.opacity=r.opacity;var c,f,g=r.centerX,x=this.donutDataLabels.total.label?r.centerY:r.centerY-r.centerY/6;c=t.name.color===void 0?a.globals.colors[0]:t.name.color;var b=t.name.fontSize,w=t.name.fontFamily,_=t.name.fontWeight;f=t.value.color===void 0?a.config.chart.foreColor:t.value.color;var T=t.value.formatter,M="",V="";if(i?(c=t.total.color,b=t.total.fontSize,w=t.total.fontFamily,_=t.total.fontWeight,V=this.donutDataLabels.total.label?t.total.label:"",M=t.total.formatter(a)):a.globals.series.length===1&&(M=T(a.globals.series[0],a),V=a.globals.seriesNames[0]),V&&(V=t.name.formatter(V,t.total.show,a)),t.name.show){var X=n.drawText({x:g,y:x+parseFloat(t.name.offsetY),text:V,textAnchor:"middle",foreColor:c,fontSize:b,fontWeight:_,fontFamily:w});X.node.classList.add("apexcharts-datalabel-label"),e.add(X)}if(t.value.show){var Z=t.name.show?parseFloat(t.value.offsetY)+16:t.value.offsetY,p=n.drawText({x:g,y:x+Z,text:M,textAnchor:"middle",foreColor:f,fontWeight:t.value.fontWeight,fontSize:t.value.fontSize,fontFamily:t.value.fontFamily});p.node.classList.add("apexcharts-datalabel-value"),e.add(p)}return e}},{key:"printInnerLabels",value:function(e,t,r,a){var n,i=this.w;a?n=e.name.color===void 0?i.globals.colors[parseInt(a.parentNode.getAttribute("rel"),10)-1]:e.name.color:i.globals.series.length>1&&e.total.show&&(n=e.total.color);var c=i.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),f=i.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");r=(0,e.value.formatter)(r,i),a||typeof e.total.formatter!="function"||(r=e.total.formatter(i));var g=t===e.total.label;t=this.donutDataLabels.total.label?e.name.formatter(t,g,i):"",c!==null&&(c.textContent=t),f!==null&&(f.textContent=r),c!==null&&(c.style.fill=n)}},{key:"printDataLabelsInner",value:function(e,t){var r=this.w,a=e.getAttribute("data:value"),n=r.globals.seriesNames[parseInt(e.parentNode.getAttribute("rel"),10)-1];r.globals.series.length>1&&this.printInnerLabels(t,n,a,e);var i=r.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");i!==null&&(i.style.opacity=1)}},{key:"drawSpokes",value:function(e){var t=this,r=this.w,a=new B(this.ctx),n=r.config.plotOptions.polarArea.spokes;if(n.strokeWidth!==0){for(var i=[],c=360/r.globals.series.length,f=0;f<r.globals.series.length;f++)i.push(S.polarToCartesian(this.centerX,this.centerY,r.globals.radialSize,r.config.plotOptions.pie.startAngle+c*f));i.forEach(function(g,x){var b=a.drawLine(g.x,g.y,t.centerX,t.centerY,Array.isArray(n.connectorColors)?n.connectorColors[x]:n.connectorColors);e.add(b)})}}},{key:"revertDataLabelsInner",value:function(){var e=this.w;if(this.donutDataLabels.show){var t=e.globals.dom.Paper.select(".apexcharts-datalabels-group").members[0],r=this.renderInnerDataLabels(t,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});e.globals.dom.Paper.select(".apexcharts-radialbar, .apexcharts-pie").members[0].add(r)}}}]),W}(),Ps=function(){function W(e){h(this,W),this.ctx=e,this.w=e.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var t=this.w;this.graphics=new B(this.ctx),this.lineColorArr=t.globals.stroke.colors!==void 0?t.globals.stroke.colors:t.globals.colors,this.defaultSize=t.globals.svgHeight<t.globals.svgWidth?t.globals.gridHeight:t.globals.gridWidth,this.isLog=t.config.yaxis[0].logarithmic,this.logBase=t.config.yaxis[0].logBase,this.coreUtils=new te(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(this.logBase,t.globals.maxY,0):t.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.logBase,this.w.globals.minY,0):t.globals.minY,this.polygons=t.config.plotOptions.radar.polygons,this.strokeWidth=t.config.stroke.show?t.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-t.config.chart.dropShadow.blur,t.config.xaxis.labels.show&&(this.size=this.size-t.globals.xAxisLabelsWidth/1.75),t.config.plotOptions.radar.size!==void 0&&(this.size=t.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return m(W,[{key:"draw",value:function(e){var t=this,r=this.w,a=new Pe(this.ctx),n=[],i=new ke(this.ctx);e.length&&(this.dataPointsLen=e[r.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var c=r.globals.gridWidth/2,f=r.globals.gridHeight/2,g=c+r.config.plotOptions.radar.offsetX,x=f+r.config.plotOptions.radar.offsetY,b=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(g||0,", ").concat(x||0,")")}),w=[],_=null,T=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),e.forEach(function(V,X){var Z=V.length===r.globals.dataPoints,p=t.graphics.group().attr({class:"apexcharts-series","data:longestSeries":Z,seriesName:S.escapeString(r.globals.seriesNames[X]),rel:X+1,"data:realIndex":X});t.dataRadiusOfPercent[X]=[],t.dataRadius[X]=[],t.angleArr[X]=[],V.forEach(function($e,Fe){var ut=Math.abs(t.maxValue-t.minValue);$e-=t.minValue,t.isLog&&($e=t.coreUtils.getLogVal(t.logBase,$e,0)),t.dataRadiusOfPercent[X][Fe]=$e/ut,t.dataRadius[X][Fe]=t.dataRadiusOfPercent[X][Fe]*t.size,t.angleArr[X][Fe]=Fe*t.disAngle}),w=t.getDataPointsPos(t.dataRadius[X],t.angleArr[X]);var C=t.createPaths(w,{x:0,y:0});_=t.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),T=t.graphics.group({class:"apexcharts-datalabels","data:realIndex":X}),r.globals.delayedElements.push({el:_.node,index:X});var O={i:X,realIndex:X,animationDelay:X,initialSpeed:r.config.chart.animations.speed,dataChangeSpeed:r.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:r.globals.stroke.colors[X],strokeLineCap:r.config.stroke.lineCap},ee=null;r.globals.previousPaths.length>0&&(ee=t.getPreviousPath(X));for(var J=0;J<C.linePathsTo.length;J++){var re=t.graphics.renderPaths(D(D({},O),{},{pathFrom:ee===null?C.linePathsFrom[J]:ee,pathTo:C.linePathsTo[J],strokeWidth:Array.isArray(t.strokeWidth)?t.strokeWidth[X]:t.strokeWidth,fill:"none",drawShadow:!1}));p.add(re);var me=a.fillPath({seriesNumber:X}),be=t.graphics.renderPaths(D(D({},O),{},{pathFrom:ee===null?C.areaPathsFrom[J]:ee,pathTo:C.areaPathsTo[J],strokeWidth:0,fill:me,drawShadow:!1}));if(r.config.chart.dropShadow.enabled){var Se=new ae(t.ctx),qe=r.config.chart.dropShadow;Se.dropShadow(be,Object.assign({},qe,{noUserSpaceOnUse:!0}),X)}p.add(be)}V.forEach(function($e,Fe){var ut=new ge(t.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:X,dataPointIndex:Fe}),mt=t.graphics.drawMarker(w[Fe].x,w[Fe].y,ut);mt.attr("rel",Fe),mt.attr("j",Fe),mt.attr("index",X),mt.node.setAttribute("default-marker-size",ut.pSize);var kt=t.graphics.group({class:"apexcharts-series-markers"});kt&&kt.add(mt),_.add(kt),p.add(_);var Mt=r.config.dataLabels;if(Mt.enabled){var Rt=Mt.formatter(r.globals.series[X][Fe],{seriesIndex:X,dataPointIndex:Fe,w:r});i.plotDataLabelsText({x:w[Fe].x,y:w[Fe].y,text:Rt,textAnchor:"middle",i:X,j:X,parent:T,offsetCorrection:!1,dataLabelsConfig:D({},Mt)})}p.add(T)}),n.push(p)}),this.drawPolygons({parent:b}),r.config.xaxis.labels.show){var M=this.drawXAxisTexts();b.add(M)}return n.forEach(function(V){b.add(V)}),b.add(this.yaxisLabels),b}},{key:"drawPolygons",value:function(e){for(var t=this,r=this.w,a=e.parent,n=new ms(this.ctx),i=r.globals.yAxisScale[0].result.reverse(),c=i.length,f=[],g=this.size/(c-1),x=0;x<c;x++)f[x]=g*x;f.reverse();var b=[],w=[];f.forEach(function(_,T){var M=S.getPolygonPos(_,t.dataPointsLen),V="";M.forEach(function(X,Z){if(T===0){var p=t.graphics.drawLine(X.x,X.y,0,0,Array.isArray(t.polygons.connectorColors)?t.polygons.connectorColors[Z]:t.polygons.connectorColors);w.push(p)}Z===0&&t.yaxisLabelsTextsPos.push({x:X.x,y:X.y}),V+=X.x+","+X.y+" "}),b.push(V)}),b.forEach(function(_,T){var M=t.polygons.strokeColors,V=t.polygons.strokeWidth,X=t.graphics.drawPolygon(_,Array.isArray(M)?M[T]:M,Array.isArray(V)?V[T]:V,r.globals.radarPolygons.fill.colors[T]);a.add(X)}),w.forEach(function(_){a.add(_)}),r.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(_,T){var M=n.drawYAxisTexts(_.x,_.y,T,i[T]);t.yaxisLabels.add(M)})}},{key:"drawXAxisTexts",value:function(){var e=this,t=this.w,r=t.config.xaxis.labels,a=this.graphics.group({class:"apexcharts-xaxis"}),n=S.getPolygonPos(this.size,this.dataPointsLen);return t.globals.labels.forEach(function(i,c){var f=t.config.xaxis.labels.formatter,g=new ke(e.ctx);if(n[c]){var x=e.getTextPos(n[c],e.size),b=f(i,{seriesIndex:-1,dataPointIndex:c,w:t});g.plotDataLabelsText({x:x.newX,y:x.newY,text:b,textAnchor:x.textAnchor,i:c,j:c,parent:a,className:"apexcharts-xaxis-label",color:Array.isArray(r.style.colors)&&r.style.colors[c]?r.style.colors[c]:"#a8a8a8",dataLabelsConfig:D({textAnchor:x.textAnchor,dropShadow:{enabled:!1}},r),offsetCorrection:!1}).on("click",function(w){if(typeof t.config.chart.events.xAxisLabelClick=="function"){var _=Object.assign({},t,{labelIndex:c});t.config.chart.events.xAxisLabelClick(w,e.ctx,_)}})}}),a}},{key:"createPaths",value:function(e,t){var r=this,a=[],n=[],i=[],c=[];if(e.length){n=[this.graphics.move(t.x,t.y)],c=[this.graphics.move(t.x,t.y)];var f=this.graphics.move(e[0].x,e[0].y),g=this.graphics.move(e[0].x,e[0].y);e.forEach(function(x,b){f+=r.graphics.line(x.x,x.y),g+=r.graphics.line(x.x,x.y),b===e.length-1&&(f+="Z",g+="Z")}),a.push(f),i.push(g)}return{linePathsFrom:n,linePathsTo:a,areaPathsFrom:c,areaPathsTo:i}}},{key:"getTextPos",value:function(e,t){var r="middle",a=e.x,n=e.y;return Math.abs(e.x)>=10?e.x>0?(r="start",a+=10):e.x<0&&(r="end",a-=10):r="middle",Math.abs(e.y)>=t-10&&(e.y<0?n-=10:e.y>0&&(n+=10)),{textAnchor:r,newX:a,newY:n}}},{key:"getPreviousPath",value:function(e){for(var t=this.w,r=null,a=0;a<t.globals.previousPaths.length;a++){var n=t.globals.previousPaths[a];n.paths.length>0&&parseInt(n.realIndex,10)===parseInt(e,10)&&t.globals.previousPaths[a].paths[0]!==void 0&&(r=t.globals.previousPaths[a].paths[0].d)}return r}},{key:"getDataPointsPos",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;e=e||[],t=t||[];for(var a=[],n=0;n<r;n++){var i={};i.x=e[n]*Math.sin(t[n]),i.y=-e[n]*Math.cos(t[n]),a.push(i)}return a}}]),W}(),Rs=function(W){E(t,$s);var e=k(t);function t(r){var a;h(this,t),(a=e.call(this,r)).ctx=r,a.w=r.w,a.animBeginArr=[0],a.animDur=0;var n=a.w;return a.startAngle=n.config.plotOptions.radialBar.startAngle,a.endAngle=n.config.plotOptions.radialBar.endAngle,a.totalAngle=Math.abs(n.config.plotOptions.radialBar.endAngle-n.config.plotOptions.radialBar.startAngle),a.trackStartAngle=n.config.plotOptions.radialBar.track.startAngle,a.trackEndAngle=n.config.plotOptions.radialBar.track.endAngle,a.barLabels=a.w.config.plotOptions.radialBar.barLabels,a.donutDataLabels=a.w.config.plotOptions.radialBar.dataLabels,a.radialDataLabels=a.donutDataLabels,a.trackStartAngle||(a.trackStartAngle=a.startAngle),a.trackEndAngle||(a.trackEndAngle=a.endAngle),a.endAngle===360&&(a.endAngle=359.99),a.margin=parseInt(n.config.plotOptions.radialBar.track.margin,10),a.onBarLabelClick=a.onBarLabelClick.bind(u(a)),a}return m(t,[{key:"draw",value:function(r){var a=this.w,n=new B(this.ctx),i=n.group({class:"apexcharts-radialbar"});if(a.globals.noData)return i;var c=n.group(),f=this.defaultSize/2,g=a.globals.gridWidth/2,x=this.defaultSize/2.05;a.config.chart.sparkline.enabled||(x=x-a.config.stroke.width-a.config.chart.dropShadow.blur);var b=a.globals.fill.colors;if(a.config.plotOptions.radialBar.track.show){var w=this.drawTracks({size:x,centerX:g,centerY:f,colorArr:b,series:r});c.add(w)}var _=this.drawArcs({size:x,centerX:g,centerY:f,colorArr:b,series:r}),T=360;a.config.plotOptions.radialBar.startAngle<0&&(T=this.totalAngle);var M=(360-T)/360;if(a.globals.radialSize=x-x*M,this.radialDataLabels.value.show){var V=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);a.globals.radialSize+=V*M}return c.add(_.g),a.config.plotOptions.radialBar.hollow.position==="front"&&(_.g.add(_.elHollow),_.dataLabels&&_.g.add(_.dataLabels)),i.add(c),i}},{key:"drawTracks",value:function(r){var a=this.w,n=new B(this.ctx),i=n.group({class:"apexcharts-tracks"}),c=new ae(this.ctx),f=new Pe(this.ctx),g=this.getStrokeWidth(r);r.size=r.size-g/2;for(var x=0;x<r.series.length;x++){var b=n.group({class:"apexcharts-radialbar-track apexcharts-track"});i.add(b),b.attr({rel:x+1}),r.size=r.size-g-this.margin;var w=a.config.plotOptions.radialBar.track,_=f.fillPath({seriesNumber:0,size:r.size,fillColors:Array.isArray(w.background)?w.background[x]:w.background,solid:!0}),T=this.trackStartAngle,M=this.trackEndAngle;Math.abs(M)+Math.abs(T)>=360&&(M=360-Math.abs(this.startAngle)-.1);var V=n.drawPath({d:"",stroke:_,strokeWidth:g*parseInt(w.strokeWidth,10)/100,fill:"none",strokeOpacity:w.opacity,classes:"apexcharts-radialbar-area"});if(w.dropShadow.enabled){var X=w.dropShadow;c.dropShadow(V,X)}b.add(V),V.attr("id","apexcharts-radialbarTrack-"+x),this.animatePaths(V,{centerX:r.centerX,centerY:r.centerY,endAngle:M,startAngle:T,size:r.size,i:x,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:a.globals.easing})}return i}},{key:"drawArcs",value:function(r){var a=this.w,n=new B(this.ctx),i=new Pe(this.ctx),c=new ae(this.ctx),f=n.group(),g=this.getStrokeWidth(r);r.size=r.size-g/2;var x=a.config.plotOptions.radialBar.hollow.background,b=r.size-g*r.series.length-this.margin*r.series.length-g*parseInt(a.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,w=b-a.config.plotOptions.radialBar.hollow.margin;a.config.plotOptions.radialBar.hollow.image!==void 0&&(x=this.drawHollowImage(r,f,b,x));var _=this.drawHollow({size:w,centerX:r.centerX,centerY:r.centerY,fill:x||"transparent"});if(a.config.plotOptions.radialBar.hollow.dropShadow.enabled){var T=a.config.plotOptions.radialBar.hollow.dropShadow;c.dropShadow(_,T)}var M=1;!this.radialDataLabels.total.show&&a.globals.series.length>1&&(M=0);var V=null;if(this.radialDataLabels.show){var X=a.globals.dom.Paper.select(".apexcharts-datalabels-group").members[0];V=this.renderInnerDataLabels(X,this.radialDataLabels,{hollowSize:b,centerX:r.centerX,centerY:r.centerY,opacity:M})}a.config.plotOptions.radialBar.hollow.position==="back"&&(f.add(_),V&&f.add(V));var Z=!1;a.config.plotOptions.radialBar.inverseOrder&&(Z=!0);for(var p=Z?r.series.length-1:0;Z?p>=0:p<r.series.length;Z?p--:p++){var C=n.group({class:"apexcharts-series apexcharts-radial-series",seriesName:S.escapeString(a.globals.seriesNames[p])});f.add(C),C.attr({rel:p+1,"data:realIndex":p}),this.ctx.series.addCollapsedClassToSeries(C,p),r.size=r.size-g-this.margin;var O=i.fillPath({seriesNumber:p,size:r.size,value:r.series[p]}),ee=this.startAngle,J=void 0,re=S.negToZero(r.series[p]>100?100:r.series[p])/100,me=Math.round(this.totalAngle*re)+this.startAngle,be=void 0;a.globals.dataChanged&&(J=this.startAngle,be=Math.round(this.totalAngle*S.negToZero(a.globals.previousPaths[p])/100)+J),Math.abs(me)+Math.abs(ee)>360&&(me-=.01),Math.abs(be)+Math.abs(J)>360&&(be-=.01);var Se=me-ee,qe=Array.isArray(a.config.stroke.dashArray)?a.config.stroke.dashArray[p]:a.config.stroke.dashArray,$e=n.drawPath({d:"",stroke:O,strokeWidth:g,fill:"none",fillOpacity:a.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+p,strokeDashArray:qe});if(B.setAttrs($e.node,{"data:angle":Se,"data:value":r.series[p]}),a.config.chart.dropShadow.enabled){var Fe=a.config.chart.dropShadow;c.dropShadow($e,Fe,p)}if(c.setSelectionFilter($e,0,p),this.addListeners($e,this.radialDataLabels),C.add($e),$e.attr({index:0,j:p}),this.barLabels.enabled){var ut=S.polarToCartesian(r.centerX,r.centerY,r.size,ee),mt=this.barLabels.formatter(a.globals.seriesNames[p],{seriesIndex:p,w:a}),kt=["apexcharts-radialbar-label"];this.barLabels.onClick||kt.push("apexcharts-no-click");var Mt=this.barLabels.useSeriesColors?a.globals.colors[p]:a.config.chart.foreColor;Mt||(Mt=a.config.chart.foreColor);var Rt=ut.x+this.barLabels.offsetX,Tt=ut.y+this.barLabels.offsetY,Vt=n.drawText({x:Rt,y:Tt,text:mt,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:Mt,cssClass:kt.join(" ")});Vt.on("click",this.onBarLabelClick),Vt.attr({rel:p+1}),ee!==0&&Vt.attr({"transform-origin":"".concat(Rt," ").concat(Tt),transform:"rotate(".concat(ee," 0 0)")}),C.add(Vt)}var ls=0;!this.initialAnim||a.globals.resized||a.globals.dataChanged||(ls=a.config.chart.animations.speed),a.globals.dataChanged&&(ls=a.config.chart.animations.dynamicAnimation.speed),this.animDur=ls/(1.2*r.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths($e,{centerX:r.centerX,centerY:r.centerY,endAngle:me,startAngle:ee,prevEndAngle:be,prevStartAngle:J,size:r.size,i:p,totalItems:2,animBeginArr:this.animBeginArr,dur:ls,shouldSetPrevPaths:!0,easing:a.globals.easing})}return{g:f,elHollow:_,dataLabels:V}}},{key:"drawHollow",value:function(r){var a=new B(this.ctx).drawCircle(2*r.size);return a.attr({class:"apexcharts-radialbar-hollow",cx:r.centerX,cy:r.centerY,r:r.size,fill:r.fill}),a}},{key:"drawHollowImage",value:function(r,a,n,i){var c=this.w,f=new Pe(this.ctx),g=S.randomId(),x=c.config.plotOptions.radialBar.hollow.image;if(c.config.plotOptions.radialBar.hollow.imageClipped)f.clippedImgArea({width:n,height:n,image:x,patternID:"pattern".concat(c.globals.cuid).concat(g)}),i="url(#pattern".concat(c.globals.cuid).concat(g,")");else{var b=c.config.plotOptions.radialBar.hollow.imageWidth,w=c.config.plotOptions.radialBar.hollow.imageHeight;if(b===void 0&&w===void 0){var _=c.globals.dom.Paper.image(x).loaded(function(M){this.move(r.centerX-M.width/2+c.config.plotOptions.radialBar.hollow.imageOffsetX,r.centerY-M.height/2+c.config.plotOptions.radialBar.hollow.imageOffsetY)});a.add(_)}else{var T=c.globals.dom.Paper.image(x).loaded(function(M){this.move(r.centerX-b/2+c.config.plotOptions.radialBar.hollow.imageOffsetX,r.centerY-w/2+c.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(b,w)});a.add(T)}}return i}},{key:"getStrokeWidth",value:function(r){var a=this.w;return r.size*(100-parseInt(a.config.plotOptions.radialBar.hollow.size,10))/100/(r.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(r){var a=parseInt(r.target.getAttribute("rel"),10)-1,n=this.barLabels.onClick,i=this.w;n&&n(i.globals.seriesNames[a],{w:i,seriesIndex:a})}}]),t}(),Fs=function(W){E(t,Et);var e=k(t);function t(){return h(this,t),e.apply(this,arguments)}return m(t,[{key:"draw",value:function(r,a){var n=this.w,i=new B(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=r,this.seriesRangeStart=n.globals.seriesRangeStart,this.seriesRangeEnd=n.globals.seriesRangeEnd,this.barHelpers.initVariables(r);for(var c=i.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),f=0;f<r.length;f++){var g,x,b,w,_=void 0,T=void 0,M=n.globals.comboCharts?a[f]:f,V=this.barHelpers.getGroupIndex(M).columnGroupIndex,X=i.group({class:"apexcharts-series",seriesName:S.escapeString(n.globals.seriesNames[M]),rel:f+1,"data:realIndex":M});this.ctx.series.addCollapsedClassToSeries(X,M),r[f].length>0&&(this.visibleI=this.visibleI+1);var Z=0,p=0,C=0;this.yRatio.length>1&&(this.yaxisIndex=n.globals.seriesYAxisReverseMap[M][0],C=M);var O=this.barHelpers.initialPositions();T=O.y,w=O.zeroW,_=O.x,p=O.barWidth,Z=O.barHeight,g=O.xDivision,x=O.yDivision,b=O.zeroH;for(var ee=i.group({class:"apexcharts-datalabels","data:realIndex":M}),J=i.group({class:"apexcharts-rangebar-goals-markers"}),re=0;re<n.globals.dataPoints;re++){var me=this.barHelpers.getStrokeWidth(f,re,M),be=this.seriesRangeStart[f][re],Se=this.seriesRangeEnd[f][re],qe=null,$e=null,Fe=null,ut={x:_,y:T,strokeWidth:me,elSeries:X},mt=this.seriesLen;if(n.config.plotOptions.bar.rangeBarGroupRows&&(mt=1),n.config.series[f].data[re]===void 0)break;if(this.isHorizontal){Fe=T+Z*this.visibleI;var kt=(x-Z*mt)/2;if(n.config.series[f].data[re].x){var Mt=this.detectOverlappingBars({i:f,j:re,barYPosition:Fe,srty:kt,barHeight:Z,yDivision:x,initPositions:O});Z=Mt.barHeight,Fe=Mt.barYPosition}p=(qe=this.drawRangeBarPaths(D({indexes:{i:f,j:re,realIndex:M},barHeight:Z,barYPosition:Fe,zeroW:w,yDivision:x,y1:be,y2:Se},ut))).barWidth}else{n.globals.isXNumeric&&(_=(n.globals.seriesX[f][re]-n.globals.minX)/this.xRatio-p/2),$e=_+p*this.visibleI;var Rt=(g-p*mt)/2;if(n.config.series[f].data[re].x){var Tt=this.detectOverlappingBars({i:f,j:re,barXPosition:$e,srtx:Rt,barWidth:p,xDivision:g,initPositions:O});p=Tt.barWidth,$e=Tt.barXPosition}Z=(qe=this.drawRangeColumnPaths(D({indexes:{i:f,j:re,realIndex:M,translationsIndex:C},barWidth:p,barXPosition:$e,zeroH:b,xDivision:g},ut))).barHeight}var Vt=this.barHelpers.drawGoalLine({barXPosition:qe.barXPosition,barYPosition:Fe,goalX:qe.goalX,goalY:qe.goalY,barHeight:Z,barWidth:p});Vt&&J.add(Vt),T=qe.y,_=qe.x;var ls=this.barHelpers.getPathFillColor(r,f,re,M),cs=n.globals.stroke.colors[M];this.renderSeries({realIndex:M,pathFill:ls,lineFill:cs,j:re,i:f,x:_,y:T,y1:be,y2:Se,pathFrom:qe.pathFrom,pathTo:qe.pathTo,strokeWidth:me,elSeries:X,series:r,barHeight:Z,barWidth:p,barXPosition:$e,barYPosition:Fe,columnGroupIndex:V,elDataLabelsWrap:ee,elGoalsMarkers:J,visibleSeries:this.visibleI,type:"rangebar"})}c.add(X)}return c}},{key:"detectOverlappingBars",value:function(r){var a=r.i,n=r.j,i=r.barYPosition,c=r.barXPosition,f=r.srty,g=r.srtx,x=r.barHeight,b=r.barWidth,w=r.yDivision,_=r.xDivision,T=r.initPositions,M=this.w,V=[],X=M.config.series[a].data[n].rangeName,Z=M.config.series[a].data[n].x,p=Array.isArray(Z)?Z.join(" "):Z,C=M.globals.labels.map(function(ee){return Array.isArray(ee)?ee.join(" "):ee}).indexOf(p),O=M.globals.seriesRange[a].findIndex(function(ee){return ee.x===p&&ee.overlaps.length>0});return this.isHorizontal?(i=M.config.plotOptions.bar.rangeBarGroupRows?f+w*C:f+x*this.visibleI+w*C,O>-1&&!M.config.plotOptions.bar.rangeBarOverlap&&(V=M.globals.seriesRange[a][O].overlaps).indexOf(X)>-1&&(i=(x=T.barHeight/V.length)*this.visibleI+w*(100-parseInt(this.barOptions.barHeight,10))/100/2+x*(this.visibleI+V.indexOf(X))+w*C)):(C>-1&&!M.globals.timescaleLabels.length&&(c=M.config.plotOptions.bar.rangeBarGroupRows?g+_*C:g+b*this.visibleI+_*C),O>-1&&!M.config.plotOptions.bar.rangeBarOverlap&&(V=M.globals.seriesRange[a][O].overlaps).indexOf(X)>-1&&(c=(b=T.barWidth/V.length)*this.visibleI+_*(100-parseInt(this.barOptions.barWidth,10))/100/2+b*(this.visibleI+V.indexOf(X))+_*C)),{barYPosition:i,barXPosition:c,barHeight:x,barWidth:b}}},{key:"drawRangeColumnPaths",value:function(r){var a=r.indexes,n=r.x,i=r.xDivision,c=r.barWidth,f=r.barXPosition,g=r.zeroH,x=this.w,b=a.i,w=a.j,_=a.realIndex,T=a.translationsIndex,M=this.yRatio[T],V=this.getRangeValue(_,w),X=Math.min(V.start,V.end),Z=Math.max(V.start,V.end);this.series[b][w]===void 0||this.series[b][w]===null?X=g:(X=g-X/M,Z=g-Z/M);var p=Math.abs(Z-X),C=this.barHelpers.getColumnPaths({barXPosition:f,barWidth:c,y1:X,y2:Z,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:_,i:_,j:w,w:x});if(x.globals.isXNumeric){var O=this.getBarXForNumericXAxis({x:n,j:w,realIndex:_,barWidth:c});n=O.x,f=O.barXPosition}else n+=i;return{pathTo:C.pathTo,pathFrom:C.pathFrom,barHeight:p,x:n,y:V.start<0&&V.end<0?X:Z,goalY:this.barHelpers.getGoalValues("y",null,g,b,w,T),barXPosition:f}}},{key:"preventBarOverflow",value:function(r){var a=this.w;return r<0&&(r=0),r>a.globals.gridWidth&&(r=a.globals.gridWidth),r}},{key:"drawRangeBarPaths",value:function(r){var a=r.indexes,n=r.y,i=r.y1,c=r.y2,f=r.yDivision,g=r.barHeight,x=r.barYPosition,b=r.zeroW,w=this.w,_=a.realIndex,T=a.j,M=this.preventBarOverflow(b+i/this.invertedYRatio),V=this.preventBarOverflow(b+c/this.invertedYRatio),X=this.getRangeValue(_,T),Z=Math.abs(V-M),p=this.barHelpers.getBarpaths({barYPosition:x,barHeight:g,x1:M,x2:V,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:_,realIndex:_,j:T,w});return w.globals.isXNumeric||(n+=f),{pathTo:p.pathTo,pathFrom:p.pathFrom,barWidth:Z,x:X.start<0&&X.end<0?M:V,goalX:this.barHelpers.getGoalValues("x",b,null,_,T),y:n}}},{key:"getRangeValue",value:function(r,a){var n=this.w;return{start:n.globals.seriesRangeStart[r][a],end:n.globals.seriesRangeEnd[r][a]}}}]),t}(),na=function(){function W(e){h(this,W),this.w=e.w,this.lineCtx=e}return m(W,[{key:"sameValueSeriesFix",value:function(e,t){var r=this.w;if((r.config.fill.type==="gradient"||r.config.fill.type[e]==="gradient")&&new te(this.lineCtx.ctx,r).seriesHaveSameValues(e)){var a=t[e].slice();a[a.length-1]=a[a.length-1]+1e-6,t[e]=a}return t}},{key:"calculatePoints",value:function(e){var t=e.series,r=e.realIndex,a=e.x,n=e.y,i=e.i,c=e.j,f=e.prevY,g=this.w,x=[],b=[];if(c===0){var w=this.lineCtx.categoryAxisCorrection+g.config.markers.offsetX;g.globals.isXNumeric&&(w=(g.globals.seriesX[r][0]-g.globals.minX)/this.lineCtx.xRatio+g.config.markers.offsetX),x.push(w),b.push(S.isNumber(t[i][0])?f+g.config.markers.offsetY:null),x.push(a+g.config.markers.offsetX),b.push(S.isNumber(t[i][c+1])?n+g.config.markers.offsetY:null)}else x.push(a+g.config.markers.offsetX),b.push(S.isNumber(t[i][c+1])?n+g.config.markers.offsetY:null);return{x,y:b}}},{key:"checkPreviousPaths",value:function(e){for(var t=e.pathFromLine,r=e.pathFromArea,a=e.realIndex,n=this.w,i=0;i<n.globals.previousPaths.length;i++){var c=n.globals.previousPaths[i];(c.type==="line"||c.type==="area")&&c.paths.length>0&&parseInt(c.realIndex,10)===parseInt(a,10)&&(c.type==="line"?(this.lineCtx.appendPathFrom=!1,t=n.globals.previousPaths[i].paths[0].d):c.type==="area"&&(this.lineCtx.appendPathFrom=!1,r=n.globals.previousPaths[i].paths[0].d,n.config.stroke.show&&n.globals.previousPaths[i].paths[1]&&(t=n.globals.previousPaths[i].paths[1].d)))}return{pathFromLine:t,pathFromArea:r}}},{key:"determineFirstPrevY",value:function(e){var t,r,a,n=e.i,i=e.realIndex,c=e.series,f=e.prevY,g=e.lineYPosition,x=e.translationsIndex,b=this.w,w=b.config.chart.stacked&&!b.globals.comboCharts||b.config.chart.stacked&&b.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((t=this.w.config.series[i])===null||t===void 0?void 0:t.type)==="bar"||((r=this.w.config.series[i])===null||r===void 0?void 0:r.type)==="column");if(((a=c[n])===null||a===void 0?void 0:a[0])!==void 0)f=(g=w&&n>0?this.lineCtx.prevSeriesY[n-1][0]:this.lineCtx.zeroY)-c[n][0]/this.lineCtx.yRatio[x]+2*(this.lineCtx.isReversed?c[n][0]/this.lineCtx.yRatio[x]:0);else if(w&&n>0&&c[n][0]===void 0){for(var _=n-1;_>=0;_--)if(c[_][0]!==null&&c[_][0]!==void 0){f=g=this.lineCtx.prevSeriesY[_][0];break}}return{prevY:f,lineYPosition:g}}}]),W}(),la=function(W){for(var e,t,r,a,n=function(x){for(var b=[],w=x[0],_=x[1],T=b[0]=Er(w,_),M=1,V=x.length-1;M<V;M++)w=_,_=x[M+1],b[M]=.5*(T+(T=Er(w,_)));return b[M]=T,b}(W),i=W.length-1,c=[],f=0;f<i;f++)r=Er(W[f],W[f+1]),Math.abs(r)<1e-6?n[f]=n[f+1]=0:(a=(e=n[f]/r)*e+(t=n[f+1]/r)*t)>9&&(a=3*r/Math.sqrt(a),n[f]=a*e,n[f+1]=a*t);for(var g=0;g<=i;g++)a=(W[Math.min(i,g+1)][0]-W[Math.max(0,g-1)][0])/(6*(1+n[g]*n[g])),c.push([a||0,n[g]*a||0]);return c},ca=function(W){var e=la(W),t=W[1],r=W[0],a=[],n=e[1],i=e[0];a.push(r,[r[0]+i[0],r[1]+i[1],t[0]-n[0],t[1]-n[1],t[0],t[1]]);for(var c=2,f=e.length;c<f;c++){var g=W[c],x=e[c];a.push([g[0]-x[0],g[1]-x[1],g[0],g[1]])}return a},da=function(W,e,t){var r=W.slice(e,t);if(e){if(t-e>1&&r[1].length<6){var a=r[0].length;r[1]=[2*r[0][a-2]-r[0][a-4],2*r[0][a-1]-r[0][a-3]].concat(r[1])}r[0]=r[0].slice(-2)}return r};function Er(W,e){return(e[1]-W[1])/(e[0]-W[0])}var Pr=function(){function W(e,t,r){h(this,W),this.ctx=e,this.w=e.w,this.xyRatios=t,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||r,this.scatter=new je(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new na(this),this.markers=new ge(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return m(W,[{key:"draw",value:function(e,t,r,a){var n,i=this.w,c=new B(this.ctx),f=i.globals.comboCharts?t:i.config.chart.type,g=c.group({class:"apexcharts-".concat(f,"-series apexcharts-plot-series")}),x=new te(this.ctx,i);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,e=x.getLogSeries(e),this.yRatio=x.getLogYRatios(this.yRatio),this.prevSeriesY=[];for(var b=[],w=0;w<e.length;w++){e=this.lineHelpers.sameValueSeriesFix(w,e);var _=i.globals.comboCharts?r[w]:w,T=this.yRatio.length>1?_:0;this._initSerieVariables(e,w,_);var M=[],V=[],X=[],Z=i.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,_),i.globals.isXNumeric&&i.globals.seriesX.length>0&&(Z=(i.globals.seriesX[_][0]-i.globals.minX)/this.xRatio),X.push(Z);var p,C=Z,O=void 0,ee=C,J=this.zeroY,re=this.zeroY;J=this.lineHelpers.determineFirstPrevY({i:w,realIndex:_,series:e,prevY:J,lineYPosition:0,translationsIndex:T}).prevY,i.config.stroke.curve==="monotoneCubic"&&e[w][0]===null?M.push(null):M.push(J),p=J,f==="rangeArea"&&(O=re=this.lineHelpers.determineFirstPrevY({i:w,realIndex:_,series:a,prevY:re,lineYPosition:0,translationsIndex:T}).prevY,V.push(M[0]!==null?re:null));var me=this._calculatePathsFrom({type:f,series:e,i:w,realIndex:_,translationsIndex:T,prevX:ee,prevY:J,prevY2:re}),be=[M[0]],Se=[V[0]],qe={type:f,series:e,realIndex:_,translationsIndex:T,i:w,x:Z,y:1,pX:C,pY:p,pathsFrom:me,linePaths:[],areaPaths:[],seriesIndex:r,lineYPosition:0,xArrj:X,yArrj:M,y2Arrj:V,seriesRangeEnd:a},$e=this._iterateOverDataPoints(D(D({},qe),{},{iterations:f==="rangeArea"?e[w].length-1:void 0,isRangeStart:!0}));if(f==="rangeArea"){for(var Fe=this._calculatePathsFrom({series:a,i:w,realIndex:_,prevX:ee,prevY:re}),ut=this._iterateOverDataPoints(D(D({},qe),{},{series:a,xArrj:[Z],yArrj:be,y2Arrj:Se,pY:O,areaPaths:$e.areaPaths,pathsFrom:Fe,iterations:a[w].length-1,isRangeStart:!1})),mt=$e.linePaths.length/2,kt=0;kt<mt;kt++)$e.linePaths[kt]=ut.linePaths[kt+mt]+$e.linePaths[kt];$e.linePaths.splice(mt),$e.pathFromLine=ut.pathFromLine+$e.pathFromLine}else $e.pathFromArea+="z";this._handlePaths({type:f,realIndex:_,i:w,paths:$e}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),b.push(this.elSeries)}if(((n=i.config.series[0])===null||n===void 0?void 0:n.zIndex)!==void 0&&b.sort(function(Tt,Vt){return Number(Tt.node.getAttribute("zIndex"))-Number(Vt.node.getAttribute("zIndex"))}),i.config.chart.stacked)for(var Mt=b.length-1;Mt>=0;Mt--)g.add(b[Mt]);else for(var Rt=0;Rt<b.length;Rt++)g.add(b[Rt]);return g}},{key:"_initSerieVariables",value:function(e,t,r){var a=this.w,n=new B(this.ctx);this.xDivision=a.globals.gridWidth/(a.globals.dataPoints-(a.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(a.config.stroke.width)?a.config.stroke.width[r]:a.config.stroke.width;var i=0;this.yRatio.length>1&&(this.yaxisIndex=a.globals.seriesYAxisReverseMap[r],i=r),this.isReversed=a.config.yaxis[this.yaxisIndex]&&a.config.yaxis[this.yaxisIndex].reversed,this.zeroY=a.globals.gridHeight-this.baseLineY[i]-(this.isReversed?a.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[i]:0),this.areaBottomY=this.zeroY,(this.zeroY>a.globals.gridHeight||a.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=a.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=n.group({class:"apexcharts-series",zIndex:a.config.series[r].zIndex!==void 0?a.config.series[r].zIndex:r,seriesName:S.escapeString(a.globals.seriesNames[r])}),this.elPointsMain=n.group({class:"apexcharts-series-markers-wrap","data:realIndex":r}),this.elDataLabelsWrap=n.group({class:"apexcharts-datalabels","data:realIndex":r});var c=e[t].length===a.globals.dataPoints;this.elSeries.attr({"data:longestSeries":c,rel:t+1,"data:realIndex":r}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(e){var t,r,a,n,i=e.type,c=e.series,f=e.i,g=e.realIndex,x=e.translationsIndex,b=e.prevX,w=e.prevY,_=e.prevY2,T=this.w,M=new B(this.ctx);if(c[f][0]===null){for(var V=0;V<c[f].length;V++)if(c[f][V]!==null){b=this.xDivision*V,w=this.zeroY-c[f][V]/this.yRatio[x],t=M.move(b,w),r=M.move(b,this.areaBottomY);break}}else t=M.move(b,w),i==="rangeArea"&&(t=M.move(b,_)+M.line(b,w)),r=M.move(b,this.areaBottomY)+M.line(b,w);if(a=M.move(0,this.zeroY)+M.line(0,this.zeroY),n=M.move(0,this.zeroY)+M.line(0,this.zeroY),T.globals.previousPaths.length>0){var X=this.lineHelpers.checkPreviousPaths({pathFromLine:a,pathFromArea:n,realIndex:g});a=X.pathFromLine,n=X.pathFromArea}return{prevX:b,prevY:w,linePath:t,areaPath:r,pathFromLine:a,pathFromArea:n}}},{key:"_handlePaths",value:function(e){var t=e.type,r=e.realIndex,a=e.i,n=e.paths,i=this.w,c=new B(this.ctx),f=new Pe(this.ctx);this.prevSeriesY.push(n.yArrj),i.globals.seriesXvalues[r]=n.xArrj,i.globals.seriesYvalues[r]=n.yArrj;var g=i.config.forecastDataPoints;if(g.count>0&&t!=="rangeArea"){var x=i.globals.seriesXvalues[r][i.globals.seriesXvalues[r].length-g.count-1],b=c.drawRect(x,0,i.globals.gridWidth,i.globals.gridHeight,0);i.globals.dom.elForecastMask.appendChild(b.node);var w=c.drawRect(0,0,x,i.globals.gridHeight,0);i.globals.dom.elNonForecastMask.appendChild(w.node)}this.pointsChart||i.globals.delayedElements.push({el:this.elPointsMain.node,index:r});var _={i:a,realIndex:r,animationDelay:a,initialSpeed:i.config.chart.animations.speed,dataChangeSpeed:i.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(t)};if(t==="area")for(var T=f.fillPath({seriesNumber:r}),M=0;M<n.areaPaths.length;M++){var V=c.renderPaths(D(D({},_),{},{pathFrom:n.pathFromArea,pathTo:n.areaPaths[M],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:T}));this.elSeries.add(V)}if(i.config.stroke.show&&!this.pointsChart){var X=null;if(t==="line")X=f.fillPath({seriesNumber:r,i:a});else if(i.config.stroke.fill.type==="solid")X=i.globals.stroke.colors[r];else{var Z=i.config.fill;i.config.fill=i.config.stroke.fill,X=f.fillPath({seriesNumber:r,i:a}),i.config.fill=Z}for(var p=0;p<n.linePaths.length;p++){var C=X;t==="rangeArea"&&(C=f.fillPath({seriesNumber:r}));var O=D(D({},_),{},{pathFrom:n.pathFromLine,pathTo:n.linePaths[p],stroke:X,strokeWidth:this.strokeWidth,strokeLineCap:i.config.stroke.lineCap,fill:t==="rangeArea"?C:"none"}),ee=c.renderPaths(O);if(this.elSeries.add(ee),ee.attr("fill-rule","evenodd"),g.count>0&&t!=="rangeArea"){var J=c.renderPaths(O);J.node.setAttribute("stroke-dasharray",g.dashArray),g.strokeWidth&&J.node.setAttribute("stroke-width",g.strokeWidth),this.elSeries.add(J),J.attr("clip-path","url(#forecastMask".concat(i.globals.cuid,")")),ee.attr("clip-path","url(#nonForecastMask".concat(i.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(e){var t,r,a=this,n=e.type,i=e.series,c=e.iterations,f=e.realIndex,g=e.translationsIndex,x=e.i,b=e.x,w=e.y,_=e.pX,T=e.pY,M=e.pathsFrom,V=e.linePaths,X=e.areaPaths,Z=e.seriesIndex,p=e.lineYPosition,C=e.xArrj,O=e.yArrj,ee=e.y2Arrj,J=e.isRangeStart,re=e.seriesRangeEnd,me=this.w,be=new B(this.ctx),Se=this.yRatio,qe=M.prevY,$e=M.linePath,Fe=M.areaPath,ut=M.pathFromLine,mt=M.pathFromArea,kt=S.isNumber(me.globals.minYArr[f])?me.globals.minYArr[f]:me.globals.minY;c||(c=me.globals.dataPoints>1?me.globals.dataPoints-1:me.globals.dataPoints);var Mt=function(Cs,_s){return _s-Cs/Se[g]+2*(a.isReversed?Cs/Se[g]:0)},Rt=w,Tt=me.config.chart.stacked&&!me.globals.comboCharts||me.config.chart.stacked&&me.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((t=this.w.config.series[f])===null||t===void 0?void 0:t.type)==="bar"||((r=this.w.config.series[f])===null||r===void 0?void 0:r.type)==="column"),Vt=me.config.stroke.curve;Array.isArray(Vt)&&(Vt=Array.isArray(Z)?Vt[Z[x]]:Vt[x]);for(var ls,cs=0,Kt=0;Kt<c;Kt++){var Ds=i[x][Kt+1]===void 0||i[x][Kt+1]===null;if(me.globals.isXNumeric){var Gt=me.globals.seriesX[f][Kt+1];me.globals.seriesX[f][Kt+1]===void 0&&(Gt=me.globals.seriesX[f][c-1]),b=(Gt-me.globals.minX)/this.xRatio}else b+=this.xDivision;Tt?x>0&&me.globals.collapsedSeries.length<me.config.series.length-1?p=this.prevSeriesY[function(Cs){for(var _s=Cs;_s>0;_s--){if(!(me.globals.collapsedSeriesIndices.indexOf((Z==null?void 0:Z[_s])||_s)>-1))return _s;_s--}return 0}(x-1)][Kt+1]:p=this.zeroY:p=this.zeroY,Ds?w=Mt(kt,p):(w=Mt(i[x][Kt+1],p),n==="rangeArea"&&(Rt=Mt(re[x][Kt+1],p))),C.push(b),!Ds||me.config.stroke.curve!=="smooth"&&me.config.stroke.curve!=="monotoneCubic"?(O.push(w),ee.push(Rt)):(O.push(null),ee.push(null));var Yt=this.lineHelpers.calculatePoints({series:i,x:b,y:w,realIndex:f,i:x,j:Kt,prevY:qe}),Zt=this._createPaths({type:n,series:i,i:x,realIndex:f,j:Kt,x:b,y:w,y2:Rt,xArrj:C,yArrj:O,y2Arrj:ee,pX:_,pY:T,pathState:cs,segmentStartX:ls,linePath:$e,areaPath:Fe,linePaths:V,areaPaths:X,curve:Vt,isRangeStart:J});X=Zt.areaPaths,V=Zt.linePaths,_=Zt.pX,T=Zt.pY,cs=Zt.pathState,ls=Zt.segmentStartX,Fe=Zt.areaPath,$e=Zt.linePath,!this.appendPathFrom||Vt==="monotoneCubic"&&n==="rangeArea"||(ut+=be.line(b,this.zeroY),mt+=be.line(b,this.zeroY)),this.handleNullDataPoints(i,Yt,x,Kt,f),this._handleMarkersAndLabels({type:n,pointsPos:Yt,i:x,j:Kt,realIndex:f,isRangeStart:J})}return{yArrj:O,xArrj:C,pathFromArea:mt,areaPaths:X,pathFromLine:ut,linePaths:V,linePath:$e,areaPath:Fe}}},{key:"_handleMarkersAndLabels",value:function(e){var t=e.type,r=e.pointsPos,a=e.isRangeStart,n=e.i,i=e.j,c=e.realIndex,f=this.w,g=new ke(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,i,{realIndex:c,pointsPos:r,zRatio:this.zRatio,elParent:this.elPointsMain});else{f.globals.series[n].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var x=this.markers.plotChartMarkers(r,c,i+1);x!==null&&this.elPointsMain.add(x)}var b=g.drawDataLabel({type:t,isRangeStart:a,pos:r,i:c,j:i+1});b!==null&&this.elDataLabelsWrap.add(b)}},{key:"_createPaths",value:function(e){var t=e.type,r=e.series,a=e.i;e.realIndex;var n,i=e.j,c=e.x,f=e.y,g=e.xArrj,x=e.yArrj,b=e.y2,w=e.y2Arrj,_=e.pX,T=e.pY,M=e.pathState,V=e.segmentStartX,X=e.linePath,Z=e.areaPath,p=e.linePaths,C=e.areaPaths,O=e.curve,ee=e.isRangeStart,J=new B(this.ctx),re=this.areaBottomY,me=t==="rangeArea",be=t==="rangeArea"&&ee;switch(O){case"monotoneCubic":var Se=ee?x:w;switch(M){case 0:if(Se[i+1]===null)break;M=1;case 1:if(!(me?g.length===r[a].length:i===r[a].length-2))break;case 2:var qe=ee?g:g.slice().reverse(),$e=ee?Se:Se.slice().reverse(),Fe=(n=$e,qe.map(function(Gt,Yt){return[Gt,n[Yt]]}).filter(function(Gt){return Gt[1]!==null})),ut=Fe.length>1?ca(Fe):Fe,mt=[];me&&(be?C=Fe:mt=C.reverse());var kt=0,Mt=0;if(function(Gt,Yt){for(var Zt=function(Yr){var Ss=[],Ot=0;return Yr.forEach(function(Ra){Ra!==null?Ot++:Ot>0&&(Ss.push(Ot),Ot=0)}),Ot>0&&Ss.push(Ot),Ss}(Gt),Cs=[],_s=0,Xs=0;_s<Zt.length;Xs+=Zt[_s++])Cs[_s]=da(Yt,Xs,Xs+Zt[_s]);return Cs}($e,ut).forEach(function(Gt){kt++;var Yt=function(_s){for(var Xs="",Yr=0;Yr<_s.length;Yr++){var Ss=_s[Yr],Ot=Ss.length;Ot>4?(Xs+="C".concat(Ss[0],", ").concat(Ss[1]),Xs+=", ".concat(Ss[2],", ").concat(Ss[3]),Xs+=", ".concat(Ss[4],", ").concat(Ss[5])):Ot>2&&(Xs+="S".concat(Ss[0],", ").concat(Ss[1]),Xs+=", ".concat(Ss[2],", ").concat(Ss[3]))}return Xs}(Gt),Zt=Mt,Cs=(Mt+=Gt.length)-1;be?X=J.move(Fe[Zt][0],Fe[Zt][1])+Yt:me?X=J.move(mt[Zt][0],mt[Zt][1])+J.line(Fe[Zt][0],Fe[Zt][1])+Yt+J.line(mt[Cs][0],mt[Cs][1]):(X=J.move(Fe[Zt][0],Fe[Zt][1])+Yt,Z=X+J.line(Fe[Cs][0],re)+J.line(Fe[Zt][0],re)+"z",C.push(Z)),p.push(X)}),me&&kt>1&&!be){var Rt=p.slice(kt).reverse();p.splice(kt),Rt.forEach(function(Gt){return p.push(Gt)})}M=0}break;case"smooth":var Tt=.35*(c-_);if(r[a][i]===null)M=0;else switch(M){case 0:if(V=_,X=be?J.move(_,w[i])+J.line(_,T):J.move(_,T),Z=J.move(_,T),r[a][i+1]===null){p.push(X),C.push(Z);break}if(M=1,i<r[a].length-2){var Vt=J.curve(_+Tt,T,c-Tt,f,c,f);X+=Vt,Z+=Vt;break}case 1:if(r[a][i+1]===null)X+=be?J.line(_,b):J.move(_,T),Z+=J.line(_,re)+J.line(V,re)+"z",p.push(X),C.push(Z),M=-1;else{var ls=J.curve(_+Tt,T,c-Tt,f,c,f);X+=ls,Z+=ls,i>=r[a].length-2&&(be&&(X+=J.curve(c,f,c,f,c,b)+J.move(c,b)),Z+=J.curve(c,f,c,f,c,re)+J.line(V,re)+"z",p.push(X),C.push(Z),M=-1)}}_=c,T=f;break;default:var cs=function(Gt,Yt,Zt){var Cs=[];switch(Gt){case"stepline":Cs=J.line(Yt,null,"H")+J.line(null,Zt,"V");break;case"linestep":Cs=J.line(null,Zt,"V")+J.line(Yt,null,"H");break;case"straight":Cs=J.line(Yt,Zt)}return Cs};if(r[a][i]===null)M=0;else switch(M){case 0:if(V=_,X=be?J.move(_,w[i])+J.line(_,T):J.move(_,T),Z=J.move(_,T),r[a][i+1]===null){p.push(X),C.push(Z);break}if(M=1,i<r[a].length-2){var Kt=cs(O,c,f);X+=Kt,Z+=Kt;break}case 1:if(r[a][i+1]===null)X+=be?J.line(_,b):J.move(_,T),Z+=J.line(_,re)+J.line(V,re)+"z",p.push(X),C.push(Z),M=-1;else{var Ds=cs(O,c,f);X+=Ds,Z+=Ds,i>=r[a].length-2&&(be&&(X+=J.line(c,b)),Z+=J.line(c,re)+J.line(V,re)+"z",p.push(X),C.push(Z),M=-1)}}_=c,T=f}return{linePaths:p,areaPaths:C,pX:_,pY:T,pathState:M,segmentStartX:V,linePath:X,areaPath:Z}}},{key:"handleNullDataPoints",value:function(e,t,r,a,n){var i=this.w;if(e[r][a]===null&&i.config.markers.showNullDataPoints||e[r].length===1){var c=this.strokeWidth-i.config.markers.strokeWidth/2;c>0||(c=0);var f=this.markers.plotChartMarkers(t,n,a+1,c,!0);f!==null&&this.elPointsMain.add(f)}}}]),W}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function W(c,f,g,x){this.xoffset=c,this.yoffset=f,this.height=x,this.width=g,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(b){var w,_=[],T=this.xoffset,M=this.yoffset,V=n(b)/this.height,X=n(b)/this.width;if(this.width>=this.height)for(w=0;w<b.length;w++)_.push([T,M,T+V,M+b[w]/V]),M+=b[w]/V;else for(w=0;w<b.length;w++)_.push([T,M,T+b[w]/X,M+X]),T+=b[w]/X;return _},this.cutArea=function(b){var w;if(this.width>=this.height){var _=b/this.height,T=this.width-_;w=new W(this.xoffset+_,this.yoffset,T,this.height)}else{var M=b/this.width,V=this.height-M;w=new W(this.xoffset,this.yoffset+M,this.width,V)}return w}}function e(c,f,g,x,b){x=x===void 0?0:x,b=b===void 0?0:b;var w=t(function(_,T){var M,V=[],X=T/n(_);for(M=0;M<_.length;M++)V[M]=_[M]*X;return V}(c,f*g),[],new W(x,b,f,g),[]);return function(_){var T,M,V=[];for(T=0;T<_.length;T++)for(M=0;M<_[T].length;M++)V.push(_[T][M]);return V}(w)}function t(c,f,g,x){var b,w,_;if(c.length!==0)return b=g.shortestEdge(),function(T,M,V){var X;if(T.length===0)return!0;(X=T.slice()).push(M);var Z=r(T,V),p=r(X,V);return Z>=p}(f,w=c[0],b)?(f.push(w),t(c.slice(1),f,g,x)):(_=g.cutArea(n(f),x),x.push(g.getCoordinates(f)),t(c,[],_,x)),x;x.push(g.getCoordinates(f))}function r(c,f){var g=Math.min.apply(Math,c),x=Math.max.apply(Math,c),b=n(c);return Math.max(Math.pow(f,2)*x/Math.pow(b,2),Math.pow(b,2)/(Math.pow(f,2)*g))}function a(c){return c&&c.constructor===Array}function n(c){var f,g=0;for(f=0;f<c.length;f++)g+=c[f];return g}function i(c){var f,g=0;if(a(c[0]))for(f=0;f<c.length;f++)g+=i(c[f]);else g=n(c);return g}return function c(f,g,x,b,w){b=b===void 0?0:b,w=w===void 0?0:w;var _,T,M=[],V=[];if(a(f[0])){for(T=0;T<f.length;T++)M[T]=i(f[T]);for(_=e(M,g,x,b,w),T=0;T<f.length;T++)V.push(c(f[T],_[T][2]-_[T][0],_[T][3]-_[T][1],_[T][0],_[T][1]))}else V=e(f,g,x,b,w);return V}}();var Qs,cr,Zs=function(){function W(e,t){h(this,W),this.ctx=e,this.w=e.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new It(e),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return m(W,[{key:"draw",value:function(e){var t=this,r=this.w,a=new B(this.ctx),n=new Pe(this.ctx),i=a.group({class:"apexcharts-treemap"});if(r.globals.noData)return i;var c=[];return e.forEach(function(f){var g=f.map(function(x){return Math.abs(x)});c.push(g)}),this.negRange=this.helpers.checkColorRange(),r.config.series.forEach(function(f,g){f.data.forEach(function(x){Array.isArray(t.labels[g])||(t.labels[g]=[]),t.labels[g].push(x.x)})}),window.TreemapSquared.generate(c,r.globals.gridWidth,r.globals.gridHeight).forEach(function(f,g){var x=a.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:S.escapeString(r.globals.seriesNames[g]),rel:g+1,"data:realIndex":g});if(r.config.chart.dropShadow.enabled){var b=r.config.chart.dropShadow;new ae(t.ctx).dropShadow(i,b,g)}var w=a.group({class:"apexcharts-data-labels"});f.forEach(function(_,T){var M=_[0],V=_[1],X=_[2],Z=_[3],p=a.drawRect(M,V,X-M,Z-V,r.config.plotOptions.treemap.borderRadius,"#fff",1,t.strokeWidth,r.config.plotOptions.treemap.useFillColorAsStroke?O:r.globals.stroke.colors[g]);p.attr({cx:M,cy:V,index:g,i:g,j:T,width:X-M,height:Z-V});var C=t.helpers.getShadeColor(r.config.chart.type,g,T,t.negRange),O=C.color;r.config.series[g].data[T]!==void 0&&r.config.series[g].data[T].fillColor&&(O=r.config.series[g].data[T].fillColor);var ee=n.fillPath({color:O,seriesNumber:g,dataPointIndex:T});p.node.classList.add("apexcharts-treemap-rect"),p.attr({fill:ee}),t.helpers.addListeners(p);var J={x:M+(X-M)/2,y:V+(Z-V)/2,width:0,height:0},re={x:M,y:V,width:X-M,height:Z-V};if(r.config.chart.animations.enabled&&!r.globals.dataChanged){var me=1;r.globals.resized||(me=r.config.chart.animations.speed),t.animateTreemap(p,J,re,me)}if(r.globals.dataChanged){var be=1;t.dynamicAnim.enabled&&r.globals.shouldAnimate&&(be=t.dynamicAnim.speed,r.globals.previousPaths[g]&&r.globals.previousPaths[g][T]&&r.globals.previousPaths[g][T].rect&&(J=r.globals.previousPaths[g][T].rect),t.animateTreemap(p,J,re,be))}var Se=t.getFontSize(_),qe=r.config.dataLabels.formatter(t.labels[g][T],{value:r.globals.series[g][T],seriesIndex:g,dataPointIndex:T,w:r});r.config.plotOptions.treemap.dataLabels.format==="truncate"&&(Se=parseInt(r.config.dataLabels.style.fontSize,10),qe=t.truncateLabels(qe,Se,M,V,X,Z));var $e=null;r.globals.series[g][T]&&($e=t.helpers.calculateDataLabels({text:qe,x:(M+X)/2,y:(V+Z)/2+t.strokeWidth/2+Se/3,i:g,j:T,colorProps:C,fontSize:Se,series:e})),r.config.dataLabels.enabled&&$e&&t.rotateToFitLabel($e,Se,qe,M,V,X,Z),x.add(p),$e!==null&&x.add($e)}),x.add(w),i.add(x)}),i}},{key:"getFontSize",value:function(e){var t=this.w,r,a,n,i,c=function f(g){var x,b=0;if(Array.isArray(g[0]))for(x=0;x<g.length;x++)b+=f(g[x]);else for(x=0;x<g.length;x++)b+=g[x].length;return b}(this.labels)/function f(g){var x,b=0;if(Array.isArray(g[0]))for(x=0;x<g.length;x++)b+=f(g[x]);else for(x=0;x<g.length;x++)b+=1;return b}(this.labels);return r=e[2]-e[0],a=e[3]-e[1],n=r*a,i=Math.pow(n,.5),Math.min(i/c,parseInt(t.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(e,t,r,a,n,i,c){var f=new B(this.ctx),g=f.getTextRects(r,t);if(g.width+this.w.config.stroke.width+5>i-a&&g.width<=c-n){var x=f.rotateAroundCenter(e.node);e.node.setAttribute("transform","rotate(-90 ".concat(x.x," ").concat(x.y,") translate(").concat(g.height/3,")"))}}},{key:"truncateLabels",value:function(e,t,r,a,n,i){var c=new B(this.ctx),f=c.getTextRects(e,t).width+this.w.config.stroke.width+5>n-r&&i-a>n-r?i-a:n-r,g=c.getTextBasedOnMaxWidth({text:e,maxWidth:f,fontSize:t});return e.length!==g.length&&f/t<5?"":g}},{key:"animateTreemap",value:function(e,t,r,a){var n=new K(this.ctx);n.animateRect(e,{x:t.x,y:t.y,width:t.width,height:t.height},{x:r.x,y:r.y,width:r.width,height:r.height},a,function(){n.animationCompleted(e)})}}]),W}(),qr=86400,vs=10/qr,Ir=function(){function W(e){h(this,W),this.ctx=e,this.w=e.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return m(W,[{key:"calculateTimeScaleTicks",value:function(e,t){var r=this,a=this.w;if(a.globals.allSeriesCollapsed)return a.globals.labels=[],a.globals.timescaleLabels=[],[];var n=new Ae(this.ctx),i=(t-e)/864e5;this.determineInterval(i),a.globals.disableZoomIn=!1,a.globals.disableZoomOut=!1,i<vs?a.globals.disableZoomIn=!0:i>5e4&&(a.globals.disableZoomOut=!0);var c=n.getTimeUnitsfromTimestamp(e,t,this.utc),f=a.globals.gridWidth/i,g=f/24,x=g/60,b=x/60,w=Math.floor(24*i),_=Math.floor(1440*i),T=Math.floor(i*qr),M=Math.floor(i),V=Math.floor(i/30),X=Math.floor(i/365),Z={minMillisecond:c.minMillisecond,minSecond:c.minSecond,minMinute:c.minMinute,minHour:c.minHour,minDate:c.minDate,minMonth:c.minMonth,minYear:c.minYear},p={firstVal:Z,currentMillisecond:Z.minMillisecond,currentSecond:Z.minSecond,currentMinute:Z.minMinute,currentHour:Z.minHour,currentMonthDate:Z.minDate,currentDate:Z.minDate,currentMonth:Z.minMonth,currentYear:Z.minYear,daysWidthOnXAxis:f,hoursWidthOnXAxis:g,minutesWidthOnXAxis:x,secondsWidthOnXAxis:b,numberOfSeconds:T,numberOfMinutes:_,numberOfHours:w,numberOfDays:M,numberOfMonths:V,numberOfYears:X};switch(this.tickInterval){case"years":this.generateYearScale(p);break;case"months":case"half_year":this.generateMonthScale(p);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(p);break;case"hours":this.generateHourScale(p);break;case"minutes_fives":case"minutes":this.generateMinuteScale(p);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(p)}var C=this.timeScaleArray.map(function(O){var ee={position:O.position,unit:O.unit,year:O.year,day:O.day?O.day:1,hour:O.hour?O.hour:0,month:O.month+1};return O.unit==="month"?D(D({},ee),{},{day:1,value:O.value+1}):O.unit==="day"||O.unit==="hour"?D(D({},ee),{},{value:O.value}):O.unit==="minute"?D(D({},ee),{},{value:O.value,minute:O.value}):O.unit==="second"?D(D({},ee),{},{value:O.value,minute:O.minute,second:O.second}):O});return C.filter(function(O){var ee=1,J=Math.ceil(a.globals.gridWidth/120),re=O.value;a.config.xaxis.tickAmount!==void 0&&(J=a.config.xaxis.tickAmount),C.length>J&&(ee=Math.floor(C.length/J));var me=!1,be=!1;switch(r.tickInterval){case"years":O.unit==="year"&&(me=!0);break;case"half_year":ee=7,O.unit==="year"&&(me=!0);break;case"months":ee=1,O.unit==="year"&&(me=!0);break;case"months_fortnight":ee=15,O.unit!=="year"&&O.unit!=="month"||(me=!0),re===30&&(be=!0);break;case"months_days":ee=10,O.unit==="month"&&(me=!0),re===30&&(be=!0);break;case"week_days":ee=8,O.unit==="month"&&(me=!0);break;case"days":ee=1,O.unit==="month"&&(me=!0);break;case"hours":O.unit==="day"&&(me=!0);break;case"minutes_fives":case"seconds_fives":re%5!=0&&(be=!0);break;case"seconds_tens":re%10!=0&&(be=!0)}if(r.tickInterval==="hours"||r.tickInterval==="minutes_fives"||r.tickInterval==="seconds_tens"||r.tickInterval==="seconds_fives"){if(!be)return!0}else if((re%ee==0||me)&&!be)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(e,t){var r=this.w,a=this.formatDates(e),n=this.removeOverlappingTS(a);r.globals.timescaleLabels=n.slice(),new ss(this.ctx).plotCoords()}},{key:"determineInterval",value:function(e){var t=24*e,r=60*t;switch(!0){case e/365>5:this.tickInterval="years";break;case e>800:this.tickInterval="half_year";break;case e>180:this.tickInterval="months";break;case e>90:this.tickInterval="months_fortnight";break;case e>60:this.tickInterval="months_days";break;case e>30:this.tickInterval="week_days";break;case e>2:this.tickInterval="days";break;case t>2.4:this.tickInterval="hours";break;case r>15:this.tickInterval="minutes_fives";break;case r>5:this.tickInterval="minutes";break;case r>1:this.tickInterval="seconds_tens";break;case 60*r>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(e){var t=e.firstVal,r=e.currentMonth,a=e.currentYear,n=e.daysWidthOnXAxis,i=e.numberOfYears,c=t.minYear,f=0,g=new Ae(this.ctx),x="year";if(t.minDate>1||t.minMonth>0){var b=g.determineRemainingDaysOfYear(t.minYear,t.minMonth,t.minDate);f=(g.determineDaysOfYear(t.minYear)-b+1)*n,c=t.minYear+1,this.timeScaleArray.push({position:f,value:c,unit:x,year:c,month:S.monthMod(r+1)})}else t.minDate===1&&t.minMonth===0&&this.timeScaleArray.push({position:f,value:c,unit:x,year:a,month:S.monthMod(r+1)});for(var w=c,_=f,T=0;T<i;T++)w++,_=g.determineDaysOfYear(w-1)*n+_,this.timeScaleArray.push({position:_,value:w,unit:x,year:w,month:1})}},{key:"generateMonthScale",value:function(e){var t=e.firstVal,r=e.currentMonthDate,a=e.currentMonth,n=e.currentYear,i=e.daysWidthOnXAxis,c=e.numberOfMonths,f=a,g=0,x=new Ae(this.ctx),b="month",w=0;if(t.minDate>1){g=(x.determineDaysOfMonths(a+1,t.minYear)-r+1)*i,f=S.monthMod(a+1);var _=n+w,T=S.monthMod(f),M=f;f===0&&(b="year",M=_,T=1,_+=w+=1),this.timeScaleArray.push({position:g,value:M,unit:b,year:_,month:T})}else this.timeScaleArray.push({position:g,value:f,unit:b,year:n,month:S.monthMod(a)});for(var V=f+1,X=g,Z=0,p=1;Z<c;Z++,p++){(V=S.monthMod(V))===0?(b="year",w+=1):b="month";var C=this._getYear(n,V,w);X=x.determineDaysOfMonths(V,C)*i+X;var O=V===0?C:V;this.timeScaleArray.push({position:X,value:O,unit:b,year:C,month:V===0?1:V}),V++}}},{key:"generateDayScale",value:function(e){var t=e.firstVal,r=e.currentMonth,a=e.currentYear,n=e.hoursWidthOnXAxis,i=e.numberOfDays,c=new Ae(this.ctx),f="day",g=t.minDate+1,x=g,b=function(p,C,O){return p>c.determineDaysOfMonths(C+1,O)&&(x=1,f="month",_=C+=1),C},w=(24-t.minHour)*n,_=g,T=b(x,r,a);t.minHour===0&&t.minDate===1?(w=0,_=S.monthMod(t.minMonth),f="month",x=t.minDate):t.minDate!==1&&t.minHour===0&&t.minMinute===0&&(w=0,g=t.minDate,_=g,T=b(x=g,r,a)),this.timeScaleArray.push({position:w,value:_,unit:f,year:this._getYear(a,T,0),month:S.monthMod(T),day:x});for(var M=w,V=0;V<i;V++){f="day",T=b(x+=1,T,this._getYear(a,T,0));var X=this._getYear(a,T,0);M=24*n+M;var Z=x===1?S.monthMod(T):x;this.timeScaleArray.push({position:M,value:Z,unit:f,year:X,month:S.monthMod(T),day:Z})}}},{key:"generateHourScale",value:function(e){var t=e.firstVal,r=e.currentDate,a=e.currentMonth,n=e.currentYear,i=e.minutesWidthOnXAxis,c=e.numberOfHours,f=new Ae(this.ctx),g="hour",x=function(ee,J){return ee>f.determineDaysOfMonths(J+1,n)&&(V=1,J+=1),{month:J,date:V}},b=function(ee,J){return ee>f.determineDaysOfMonths(J+1,n)?J+=1:J},w=60-(t.minMinute+t.minSecond/60),_=w*i,T=t.minHour+1,M=T;w===60&&(_=0,M=T=t.minHour);var V=r;M>=24&&(M=0,V+=1,g="day");var X=x(V,a).month;X=b(V,X),this.timeScaleArray.push({position:_,value:T,unit:g,day:V,hour:M,year:n,month:S.monthMod(X)}),M++;for(var Z=_,p=0;p<c;p++){g="hour",M>=24&&(M=0,g="day",X=x(V+=1,X).month,X=b(V,X));var C=this._getYear(n,X,0);Z=60*i+Z;var O=M===0?V:M;this.timeScaleArray.push({position:Z,value:O,unit:g,hour:M,day:V,year:C,month:S.monthMod(X)}),M++}}},{key:"generateMinuteScale",value:function(e){for(var t=e.currentMillisecond,r=e.currentSecond,a=e.currentMinute,n=e.currentHour,i=e.currentDate,c=e.currentMonth,f=e.currentYear,g=e.minutesWidthOnXAxis,x=e.secondsWidthOnXAxis,b=e.numberOfMinutes,w=a+1,_=i,T=c,M=f,V=n,X=(60-r-t/1e3)*x,Z=0;Z<b;Z++)w>=60&&(w=0,(V+=1)===24&&(V=0)),this.timeScaleArray.push({position:X,value:w,unit:"minute",hour:V,minute:w,day:_,year:this._getYear(M,T,0),month:S.monthMod(T)}),X+=g,w++}},{key:"generateSecondScale",value:function(e){for(var t=e.currentMillisecond,r=e.currentSecond,a=e.currentMinute,n=e.currentHour,i=e.currentDate,c=e.currentMonth,f=e.currentYear,g=e.secondsWidthOnXAxis,x=e.numberOfSeconds,b=r+1,w=a,_=i,T=c,M=f,V=n,X=(1e3-t)/1e3*g,Z=0;Z<x;Z++)b>=60&&(b=0,++w>=60&&(w=0,++V===24&&(V=0))),this.timeScaleArray.push({position:X,value:b,unit:"second",hour:V,minute:w,second:b,day:_,year:this._getYear(M,T,0),month:S.monthMod(T)}),X+=g,b++}},{key:"createRawDateString",value:function(e,t){var r=e.year;return e.month===0&&(e.month=1),r+="-"+("0"+e.month.toString()).slice(-2),e.unit==="day"?r+=e.unit==="day"?"-"+("0"+t).slice(-2):"-01":r+="-"+("0"+(e.day?e.day:"1")).slice(-2),e.unit==="hour"?r+=e.unit==="hour"?"T"+("0"+t).slice(-2):"T00":r+="T"+("0"+(e.hour?e.hour:"0")).slice(-2),e.unit==="minute"?r+=":"+("0"+t).slice(-2):r+=":"+(e.minute?("0"+e.minute).slice(-2):"00"),e.unit==="second"?r+=":"+("0"+t).slice(-2):r+=":00",this.utc&&(r+=".000Z"),r}},{key:"formatDates",value:function(e){var t=this,r=this.w;return e.map(function(a){var n=a.value.toString(),i=new Ae(t.ctx),c=t.createRawDateString(a,n),f=i.getDate(i.parseDate(c));if(t.utc||(f=i.getDate(i.parseDateWithTimezone(c))),r.config.xaxis.labels.format===void 0){var g="dd MMM",x=r.config.xaxis.labels.datetimeFormatter;a.unit==="year"&&(g=x.year),a.unit==="month"&&(g=x.month),a.unit==="day"&&(g=x.day),a.unit==="hour"&&(g=x.hour),a.unit==="minute"&&(g=x.minute),a.unit==="second"&&(g=x.second),n=i.formatDate(f,g)}else n=i.formatDate(f,r.config.xaxis.labels.format);return{dateString:c,position:a.position,value:n,unit:a.unit,year:a.year,month:a.month}})}},{key:"removeOverlappingTS",value:function(e){var t,r=this,a=new B(this.ctx),n=!1;e.length>0&&e[0].value&&e.every(function(f){return f.value.length===e[0].value.length})&&(n=!0,t=a.getTextRects(e[0].value).width);var i=0,c=e.map(function(f,g){if(g>0&&r.w.config.xaxis.labels.hideOverlappingLabels){var x=n?t:a.getTextRects(e[i].value).width,b=e[i].position;return f.position>b+x+10?(i=g,f):null}return f});return c=c.filter(function(f){return f!==null})}},{key:"_getYear",value:function(e,t,r){return e+Math.floor(t/12)+r}}]),W}(),dr=function(){function W(e,t){h(this,W),this.ctx=t,this.w=t.w,this.el=e}return m(W,[{key:"setupElements",value:function(){var e=this.w,t=e.globals,r=e.config,a=r.chart.type;t.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].includes(a),t.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].includes(a),t.isBarHorizontal=["bar","rangeBar","boxPlot"].includes(a)&&r.plotOptions.bar.horizontal,t.chartClass=".apexcharts".concat(t.chartID),t.dom.baseEl=this.el,t.dom.elWrap=document.createElement("div"),B.setAttrs(t.dom.elWrap,{id:t.chartClass.substring(1),class:"apexcharts-canvas ".concat(t.chartClass.substring(1))}),this.el.appendChild(t.dom.elWrap),t.dom.Paper=new window.SVG.Doc(t.dom.elWrap),t.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(r.chart.offsetX,", ").concat(r.chart.offsetY,")")}),t.dom.Paper.node.style.background=r.theme.mode!=="dark"||r.chart.background?r.theme.mode!=="light"||r.chart.background?r.chart.background:"#fff":"#424242",this.setSVGDimensions(),t.dom.elLegendForeign=document.createElementNS(t.SVGNS,"foreignObject"),B.setAttrs(t.dom.elLegendForeign,{x:0,y:0,width:t.svgWidth,height:t.svgHeight}),t.dom.elLegendWrap=document.createElement("div"),t.dom.elLegendWrap.classList.add("apexcharts-legend"),t.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),t.dom.elLegendForeign.appendChild(t.dom.elLegendWrap),t.dom.Paper.node.appendChild(t.dom.elLegendForeign),t.dom.elGraphical=t.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),t.dom.elDefs=t.dom.Paper.defs(),t.dom.Paper.add(t.dom.elGraphical),t.dom.elGraphical.add(t.dom.elDefs)}},{key:"plotChartType",value:function(e,t){var r=this.w,a=this.ctx,n=r.config,i=r.globals,c={line:{series:[],i:[]},area:{series:[],i:[]},scatter:{series:[],i:[]},bubble:{series:[],i:[]},column:{series:[],i:[]},candlestick:{series:[],i:[]},boxPlot:{series:[],i:[]},rangeBar:{series:[],i:[]},rangeArea:{series:[],seriesRangeEnd:[],i:[]}},f=n.chart.type||"line",g=null,x=0;i.series.forEach(function(ee,J){var re=e[J].type||f;c[re]?(re==="rangeArea"?(c[re].series.push(i.seriesRangeStart[J]),c[re].seriesRangeEnd.push(i.seriesRangeEnd[J])):c[re].series.push(ee),c[re].i.push(J),re!=="column"&&re!=="bar"||(r.globals.columnSeries=c.column)):["heatmap","treemap","pie","donut","polarArea","radialBar","radar"].includes(re)?g=re:re==="bar"?(c.column.series.push(ee),c.column.i.push(J)):console.warn("You have specified an unrecognized series type (".concat(re,").")),f!==re&&re!=="scatter"&&x++}),x>0&&(g&&console.warn("Chart or series type ".concat(g," cannot appear with other chart or series types.")),c.column.series.length>0&&n.plotOptions.bar.horizontal&&(x-=c.column.series.length,c.column={series:[],i:[]},r.globals.columnSeries={series:[],i:[]},console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"))),i.comboCharts||(i.comboCharts=x>0);var b=new Pr(a,t),w=new Xt(a,t);a.pie=new $s(a);var _=new Rs(a);a.rangeBar=new Fs(a,t);var T=new Ps(a),M=[];if(i.comboCharts){var V,X,Z=new te(a);if(c.area.series.length>0&&(V=M).push.apply(V,H(Z.drawSeriesByGroup(c.area,i.areaGroups,"area",b))),c.column.series.length>0)if(n.chart.stacked){var p=new Lt(a,t);M.push(p.draw(c.column.series,c.column.i))}else a.bar=new Et(a,t),M.push(a.bar.draw(c.column.series,c.column.i));if(c.rangeArea.series.length>0&&M.push(b.draw(c.rangeArea.series,"rangeArea",c.rangeArea.i,c.rangeArea.seriesRangeEnd)),c.line.series.length>0&&(X=M).push.apply(X,H(Z.drawSeriesByGroup(c.line,i.lineGroups,"line",b))),c.candlestick.series.length>0&&M.push(w.draw(c.candlestick.series,"candlestick",c.candlestick.i)),c.boxPlot.series.length>0&&M.push(w.draw(c.boxPlot.series,"boxPlot",c.boxPlot.i)),c.rangeBar.series.length>0&&M.push(a.rangeBar.draw(c.rangeBar.series,c.rangeBar.i)),c.scatter.series.length>0){var C=new Pr(a,t,!0);M.push(C.draw(c.scatter.series,"scatter",c.scatter.i))}if(c.bubble.series.length>0){var O=new Pr(a,t,!0);M.push(O.draw(c.bubble.series,"bubble",c.bubble.i))}}else switch(n.chart.type){case"line":M=b.draw(i.series,"line");break;case"area":M=b.draw(i.series,"area");break;case"bar":n.chart.stacked?M=new Lt(a,t).draw(i.series):(a.bar=new Et(a,t),M=a.bar.draw(i.series));break;case"candlestick":M=new Xt(a,t).draw(i.series,"candlestick");break;case"boxPlot":M=new Xt(a,t).draw(i.series,n.chart.type);break;case"rangeBar":M=a.rangeBar.draw(i.series);break;case"rangeArea":M=b.draw(i.seriesRangeStart,"rangeArea",void 0,i.seriesRangeEnd);break;case"heatmap":M=new xs(a,t).draw(i.series);break;case"treemap":M=new Zs(a,t).draw(i.series);break;case"pie":case"donut":case"polarArea":M=a.pie.draw(i.series);break;case"radialBar":M=_.draw(i.series);break;case"radar":M=T.draw(i.series);break;default:M=b.draw(i.series)}return M}},{key:"setSVGDimensions",value:function(){var e=this.w,t=e.globals,r=e.config;r.chart.width=r.chart.width||"100%",r.chart.height=r.chart.height||"auto",t.svgWidth=r.chart.width,t.svgHeight=r.chart.height;var a=S.getDimensions(this.el),n=r.chart.width.toString().split(/[0-9]+/g).pop();n==="%"?S.isNumber(a[0])&&(a[0].width===0&&(a=S.getDimensions(this.el.parentNode)),t.svgWidth=a[0]*parseInt(r.chart.width,10)/100):n!=="px"&&n!==""||(t.svgWidth=parseInt(r.chart.width,10));var i=String(r.chart.height).toString().split(/[0-9]+/g).pop();if(t.svgHeight!=="auto"&&t.svgHeight!=="")if(i==="%"){var c=S.getDimensions(this.el.parentNode);t.svgHeight=c[1]*parseInt(r.chart.height,10)/100}else t.svgHeight=parseInt(r.chart.height,10);else t.svgHeight=t.axisCharts?t.svgWidth/1.61:t.svgWidth/1.2;if(t.svgWidth=Math.max(t.svgWidth,0),t.svgHeight=Math.max(t.svgHeight,0),B.setAttrs(t.dom.Paper.node,{width:t.svgWidth,height:t.svgHeight}),i!=="%"){var f=r.chart.sparkline.enabled?0:t.axisCharts?r.chart.parentHeightOffset:0;t.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(t.svgHeight+f,"px")}t.dom.elWrap.style.width="".concat(t.svgWidth,"px"),t.dom.elWrap.style.height="".concat(t.svgHeight,"px")}},{key:"shiftGraphPosition",value:function(){var e=this.w.globals,t=e.translateY,r=e.translateX;B.setAttrs(e.dom.elGraphical.node,{transform:"translate(".concat(r,", ").concat(t,")")})}},{key:"resizeNonAxisCharts",value:function(){var e=this.w,t=e.globals,r=0,a=e.config.chart.sparkline.enabled?1:15;a+=e.config.grid.padding.bottom,["top","bottom"].includes(e.config.legend.position)&&e.config.legend.show&&!e.config.legend.floating&&(r=new Pt(this.ctx).legendHelpers.getLegendDimensions().clwh+7);var n=e.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),i=2.05*e.globals.radialSize;if(n&&!e.config.chart.sparkline.enabled&&e.config.plotOptions.radialBar.startAngle!==0){var c=S.getBoundingClientRect(n);i=c.bottom;var f=c.bottom-c.top;i=Math.max(2.05*e.globals.radialSize,f)}var g=Math.ceil(i+t.translateY+r+a);t.dom.elLegendForeign&&t.dom.elLegendForeign.setAttribute("height",g),e.config.chart.height&&String(e.config.chart.height).includes("%")||(t.dom.elWrap.style.height="".concat(g,"px"),B.setAttrs(t.dom.Paper.node,{height:g}),t.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(g,"px"))}},{key:"coreCalculations",value:function(){new Le(this.ctx).init()}},{key:"resetGlobals",value:function(){var e=this,t=function(){return e.w.config.series.map(function(){return[]})},r=new bt,a=this.w.globals;r.initGlobalVars(a),a.seriesXvalues=t(),a.seriesYvalues=t()}},{key:"isMultipleY",value:function(){return!!(Array.isArray(this.w.config.yaxis)&&this.w.config.yaxis.length>1)&&(this.w.globals.isMultipleYAxis=!0,!0)}},{key:"xySettings",value:function(){var e=this.w,t=null;if(e.globals.axisCharts){if(e.config.xaxis.crosshairs.position==="back"&&new Qe(this.ctx).drawXCrosshairs(),e.config.yaxis[0].crosshairs.position==="back"&&new Qe(this.ctx).drawYCrosshairs(),e.config.xaxis.type==="datetime"&&e.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new Ir(this.ctx);var r=[];isFinite(e.globals.minX)&&isFinite(e.globals.maxX)&&!e.globals.isBarHorizontal?r=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minX,e.globals.maxX):e.globals.isBarHorizontal&&(r=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minY,e.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(r)}t=new te(this.ctx).getCalculatedRatios()}return t}},{key:"updateSourceChart",value:function(e){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:e.w.globals.minX,max:e.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var e=this,t=this.w;if(t.config.chart.brush.enabled&&typeof t.config.chart.events.selection!="function"){var r=Array.isArray(t.config.chart.brush.targets)?t.config.chart.brush.targets:[t.config.chart.brush.target];r.forEach(function(a){var n=ApexCharts.getChartByID(a);n.w.globals.brushSource=e.ctx,typeof n.w.config.chart.events.zoomed!="function"&&(n.w.config.chart.events.zoomed=function(){return e.updateSourceChart(n)}),typeof n.w.config.chart.events.scrolled!="function"&&(n.w.config.chart.events.scrolled=function(){return e.updateSourceChart(n)})}),t.config.chart.events.selection=function(a,n){r.forEach(function(i){ApexCharts.getChartByID(i).ctx.updateHelpers._updateOptions({xaxis:{min:n.xaxis.min,max:n.xaxis.max}},!1,!1,!1,!1)})}}}}]),W}(),Mr=function(){function W(e){h(this,W),this.ctx=e,this.w=e.w}return m(W,[{key:"_updateOptions",value:function(e){var t=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1],a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],n=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],i=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise(function(c){var f=[t.ctx];n&&(f=t.ctx.getSyncedCharts()),t.ctx.w.globals.isExecCalled&&(f=[t.ctx],t.ctx.w.globals.isExecCalled=!1),f.forEach(function(g,x){var b=g.w;if(b.globals.shouldAnimate=a,r||(b.globals.resized=!0,b.globals.dataChanged=!0,a&&g.series.getPreviousPaths()),e&&Y(e)==="object"&&(g.config=new Re(e),e=te.extendArrayProps(g.config,e,b),g.w.globals.chartID!==t.ctx.w.globals.chartID&&delete e.series,b.config=S.extend(b.config,e),i&&(b.globals.lastXAxis=e.xaxis?S.clone(e.xaxis):[],b.globals.lastYAxis=e.yaxis?S.clone(e.yaxis):[],b.globals.initialConfig=S.extend({},b.config),b.globals.initialSeries=S.clone(b.config.series),e.series))){for(var w=0;w<b.globals.collapsedSeriesIndices.length;w++){var _=b.config.series[b.globals.collapsedSeriesIndices[w]];b.globals.collapsedSeries[w].data=b.globals.axisCharts?_.data.slice():_}for(var T=0;T<b.globals.ancillaryCollapsedSeriesIndices.length;T++){var M=b.config.series[b.globals.ancillaryCollapsedSeriesIndices[T]];b.globals.ancillaryCollapsedSeries[T].data=b.globals.axisCharts?M.data.slice():M}g.series.emptyCollapsedSeries(b.config.series)}return g.update(e).then(function(){x===f.length-1&&c(g)})})})}},{key:"_updateSeries",value:function(e,t){var r=this,a=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise(function(n){var i,c=r.w;return c.globals.shouldAnimate=t,c.globals.dataChanged=!0,t&&r.ctx.series.getPreviousPaths(),c.globals.axisCharts?((i=e.map(function(f,g){return r._extendSeries(f,g)})).length===0&&(i=[{data:[]}]),c.config.series=i):c.config.series=e.slice(),a&&(c.globals.initialConfig.series=S.clone(c.config.series),c.globals.initialSeries=S.clone(c.config.series)),r.ctx.update().then(function(){n(r.ctx)})})}},{key:"_extendSeries",value:function(e,t){var r=this.w,a=r.config.series[t];return D(D({},r.config.series[t]),{},{name:e.name?e.name:a==null?void 0:a.name,color:e.color?e.color:a==null?void 0:a.color,type:e.type?e.type:a==null?void 0:a.type,group:e.group?e.group:a==null?void 0:a.group,hidden:e.hidden!==void 0?e.hidden:a==null?void 0:a.hidden,data:e.data?e.data:a==null?void 0:a.data,zIndex:e.zIndex!==void 0?e.zIndex:t})}},{key:"toggleDataPointSelection",value:function(e,t){var r=this.w,a=null,n=".apexcharts-series[data\\:realIndex='".concat(e,"']");return r.globals.axisCharts?a=r.globals.dom.Paper.select("".concat(n," path[j='").concat(t,"'], ").concat(n," circle[j='").concat(t,"'], ").concat(n," rect[j='").concat(t,"']")).members[0]:t===void 0&&(a=r.globals.dom.Paper.select("".concat(n," path[j='").concat(e,"']")).members[0],r.config.chart.type!=="pie"&&r.config.chart.type!=="polarArea"&&r.config.chart.type!=="donut"||this.ctx.pie.pieClicked(e)),a?(new B(this.ctx).pathMouseDown(a,null),a.node?a.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(e){var t=this.w;if(["min","max"].forEach(function(a){e.xaxis[a]!==void 0&&(t.config.xaxis[a]=e.xaxis[a],t.globals.lastXAxis[a]=e.xaxis[a])}),e.xaxis.categories&&e.xaxis.categories.length&&(t.config.xaxis.categories=e.xaxis.categories),t.config.xaxis.convertedCatToNumeric){var r=new ue(e);e=r.convertCatToNumericXaxis(e,this.ctx)}return e}},{key:"forceYAxisUpdate",value:function(e){return e.chart&&e.chart.stacked&&e.chart.stackType==="100%"&&(Array.isArray(e.yaxis)?e.yaxis.forEach(function(t,r){e.yaxis[r].min=0,e.yaxis[r].max=100}):(e.yaxis.min=0,e.yaxis.max=100)),e}},{key:"revertDefaultAxisMinMax",value:function(e){var t=this,r=this.w,a=r.globals.lastXAxis,n=r.globals.lastYAxis;e&&e.xaxis&&(a=e.xaxis),e&&e.yaxis&&(n=e.yaxis),r.config.xaxis.min=a.min,r.config.xaxis.max=a.max;var i=function(c){n[c]!==void 0&&(r.config.yaxis[c].min=n[c].min,r.config.yaxis[c].max=n[c].max)};r.config.yaxis.map(function(c,f){r.globals.zoomed||n[f]!==void 0?i(f):t.ctx.opts.yaxis[f]!==void 0&&(c.min=t.ctx.opts.yaxis[f].min,c.max=t.ctx.opts.yaxis[f].max)})}}]),W}();Qs=typeof window<"u"?window:void 0,cr=function(W,e){var t=(this!==void 0?this:W).SVG=function(p){if(t.supported)return p=new t.Doc(p),t.parser.draw||t.prepare(),p};if(t.ns="http://www.w3.org/2000/svg",t.xmlns="http://www.w3.org/2000/xmlns/",t.xlink="http://www.w3.org/1999/xlink",t.svgjs="http://svgjs.dev",t.supported=!0,!t.supported)return!1;t.did=1e3,t.eid=function(p){return"Svgjs"+x(p)+t.did++},t.create=function(p){var C=e.createElementNS(this.ns,p);return C.setAttribute("id",this.eid(p)),C},t.extend=function(){var p,C;C=(p=[].slice.call(arguments)).pop();for(var O=p.length-1;O>=0;O--)if(p[O])for(var ee in C)p[O].prototype[ee]=C[ee];t.Set&&t.Set.inherit&&t.Set.inherit()},t.invent=function(p){var C=typeof p.create=="function"?p.create:function(){this.constructor.call(this,t.create(p.create))};return p.inherit&&(C.prototype=new p.inherit),p.extend&&t.extend(C,p.extend),p.construct&&t.extend(p.parent||t.Container,p.construct),C},t.adopt=function(p){return p?p.instance?p.instance:((C=p.nodeName=="svg"?p.parentNode instanceof W.SVGElement?new t.Nested:new t.Doc:p.nodeName=="linearGradient"?new t.Gradient("linear"):p.nodeName=="radialGradient"?new t.Gradient("radial"):t[x(p.nodeName)]?new t[x(p.nodeName)]:new t.Element(p)).type=p.nodeName,C.node=p,p.instance=C,C instanceof t.Doc&&C.namespace().defs(),C.setData(JSON.parse(p.getAttribute("svgjs:data"))||{}),C):null;var C},t.prepare=function(){var p=e.getElementsByTagName("body")[0],C=(p?new t.Doc(p):t.adopt(e.documentElement).nested()).size(2,0);t.parser={body:p||e.documentElement,draw:C.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:C.polyline().node,path:C.path().node,native:t.create("svg")}},t.parser={native:t.create("svg")},e.addEventListener("DOMContentLoaded",function(){t.parser.draw||t.prepare()},!1),t.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},t.utils={map:function(p,C){for(var O=p.length,ee=[],J=0;J<O;J++)ee.push(C(p[J]));return ee},filter:function(p,C){for(var O=p.length,ee=[],J=0;J<O;J++)C(p[J])&&ee.push(p[J]);return ee},filterSVGElements:function(p){return this.filter(p,function(C){return C instanceof W.SVGElement})}},t.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},t.Color=function(p){var C,O;this.r=0,this.g=0,this.b=0,p&&(typeof p=="string"?t.regex.isRgb.test(p)?(C=t.regex.rgb.exec(p.replace(t.regex.whitespace,"")),this.r=parseInt(C[1]),this.g=parseInt(C[2]),this.b=parseInt(C[3])):t.regex.isHex.test(p)&&(C=t.regex.hex.exec((O=p).length==4?["#",O.substring(1,2),O.substring(1,2),O.substring(2,3),O.substring(2,3),O.substring(3,4),O.substring(3,4)].join(""):O),this.r=parseInt(C[1],16),this.g=parseInt(C[2],16),this.b=parseInt(C[3],16)):Y(p)==="object"&&(this.r=p.r,this.g=p.g,this.b=p.b))},t.extend(t.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+b(this.r)+b(this.g)+b(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(p){return this.destination=new t.Color(p),this},at:function(p){return this.destination?(p=p<0?0:p>1?1:p,new t.Color({r:~~(this.r+(this.destination.r-this.r)*p),g:~~(this.g+(this.destination.g-this.g)*p),b:~~(this.b+(this.destination.b-this.b)*p)})):this}}),t.Color.test=function(p){return p+="",t.regex.isHex.test(p)||t.regex.isRgb.test(p)},t.Color.isRgb=function(p){return p&&typeof p.r=="number"&&typeof p.g=="number"&&typeof p.b=="number"},t.Color.isColor=function(p){return t.Color.isRgb(p)||t.Color.test(p)},t.Array=function(p,C){(p=(p||[]).valueOf()).length==0&&C&&(p=C.valueOf()),this.value=this.parse(p)},t.extend(t.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(p){return p=p.valueOf(),Array.isArray(p)?p:this.split(p)}}),t.PointArray=function(p,C){t.Array.call(this,p,C||[[0,0]])},t.PointArray.prototype=new t.Array,t.PointArray.prototype.constructor=t.PointArray;for(var r={M:function(p,C,O){return C.x=O.x=p[0],C.y=O.y=p[1],["M",C.x,C.y]},L:function(p,C){return C.x=p[0],C.y=p[1],["L",p[0],p[1]]},H:function(p,C){return C.x=p[0],["H",p[0]]},V:function(p,C){return C.y=p[0],["V",p[0]]},C:function(p,C){return C.x=p[4],C.y=p[5],["C",p[0],p[1],p[2],p[3],p[4],p[5]]},Q:function(p,C){return C.x=p[2],C.y=p[3],["Q",p[0],p[1],p[2],p[3]]},S:function(p,C){return C.x=p[2],C.y=p[3],["S",p[0],p[1],p[2],p[3]]},Z:function(p,C,O){return C.x=O.x,C.y=O.y,["Z"]}},a="mlhvqtcsaz".split(""),n=0,i=a.length;n<i;++n)r[a[n]]=function(p){return function(C,O,ee){if(p=="H")C[0]=C[0]+O.x;else if(p=="V")C[0]=C[0]+O.y;else if(p=="A")C[5]=C[5]+O.x,C[6]=C[6]+O.y;else for(var J=0,re=C.length;J<re;++J)C[J]=C[J]+(J%2?O.y:O.x);if(r&&typeof r[p]=="function")return r[p](C,O,ee)}}(a[n].toUpperCase());t.PathArray=function(p,C){t.Array.call(this,p,C||[["M",0,0]])},t.PathArray.prototype=new t.Array,t.PathArray.prototype.constructor=t.PathArray,t.extend(t.PathArray,{toString:function(){return function(p){for(var C=0,O=p.length,ee="";C<O;C++)ee+=p[C][0],p[C][1]!=null&&(ee+=p[C][1],p[C][2]!=null&&(ee+=" ",ee+=p[C][2],p[C][3]!=null&&(ee+=" ",ee+=p[C][3],ee+=" ",ee+=p[C][4],p[C][5]!=null&&(ee+=" ",ee+=p[C][5],ee+=" ",ee+=p[C][6],p[C][7]!=null&&(ee+=" ",ee+=p[C][7])))));return ee+" "}(this.value)},move:function(p,C){var O=this.bbox();return O.x,O.y,this},at:function(p){if(!this.destination)return this;for(var C=this.value,O=this.destination.value,ee=[],J=new t.PathArray,re=0,me=C.length;re<me;re++){ee[re]=[C[re][0]];for(var be=1,Se=C[re].length;be<Se;be++)ee[re][be]=C[re][be]+(O[re][be]-C[re][be])*p;ee[re][0]==="A"&&(ee[re][4]=+(ee[re][4]!=0),ee[re][5]=+(ee[re][5]!=0))}return J.value=ee,J},parse:function(p){if(p instanceof t.PathArray)return p.valueOf();var C,O={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};p=typeof p=="string"?p.replace(t.regex.numbersWithDots,f).replace(t.regex.pathLetters," $& ").replace(t.regex.hyphen,"$1 -").trim().split(t.regex.delimiter):p.reduce(function(Se,qe){return[].concat.call(Se,qe)},[]);var ee=[],J=new t.Point,re=new t.Point,me=0,be=p.length;do t.regex.isPathLetter.test(p[me])?(C=p[me],++me):C=="M"?C="L":C=="m"&&(C="l"),ee.push(r[C].call(null,p.slice(me,me+=O[C.toUpperCase()]).map(parseFloat),J,re));while(be>me);return ee},bbox:function(){return t.parser.draw||t.prepare(),t.parser.path.setAttribute("d",this.toString()),t.parser.path.getBBox()}}),t.Number=t.invent({create:function(p,C){this.value=0,this.unit=C||"",typeof p=="number"?this.value=isNaN(p)?0:isFinite(p)?p:p<0?-34e37:34e37:typeof p=="string"?(C=p.match(t.regex.numberAndUnit))&&(this.value=parseFloat(C[1]),C[5]=="%"?this.value/=100:C[5]=="s"&&(this.value*=1e3),this.unit=C[5]):p instanceof t.Number&&(this.value=p.valueOf(),this.unit=p.unit)},extend:{toString:function(){return(this.unit=="%"?~~(1e8*this.value)/1e6:this.unit=="s"?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(p){return p=new t.Number(p),new t.Number(this+p,this.unit||p.unit)},minus:function(p){return p=new t.Number(p),new t.Number(this-p,this.unit||p.unit)},times:function(p){return p=new t.Number(p),new t.Number(this*p,this.unit||p.unit)},divide:function(p){return p=new t.Number(p),new t.Number(this/p,this.unit||p.unit)},to:function(p){var C=new t.Number(this);return typeof p=="string"&&(C.unit=p),C},morph:function(p){return this.destination=new t.Number(p),p.relative&&(this.destination.value+=this.value),this},at:function(p){return this.destination?new t.Number(this.destination).minus(this).times(p).plus(this):this}}}),t.Element=t.invent({create:function(p){this._stroke=t.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=p)&&(this.type=p.nodeName,this.node.instance=this,this._stroke=p.getAttribute("stroke")||this._stroke)},extend:{x:function(p){return this.attr("x",p)},y:function(p){return this.attr("y",p)},cx:function(p){return p==null?this.x()+this.width()/2:this.x(p-this.width()/2)},cy:function(p){return p==null?this.y()+this.height()/2:this.y(p-this.height()/2)},move:function(p,C){return this.x(p).y(C)},center:function(p,C){return this.cx(p).cy(C)},width:function(p){return this.attr("width",p)},height:function(p){return this.attr("height",p)},size:function(p,C){var O=w(this,p,C);return this.width(new t.Number(O.width)).height(new t.Number(O.height))},clone:function(p){this.writeDataToDom();var C=M(this.node.cloneNode(!0));return p?p.add(C):this.after(C),C},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(p){return this.after(p).remove(),p},addTo:function(p){return p.put(this)},putIn:function(p){return p.add(this)},id:function(p){return this.attr("id",p)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return this.style("display")!="none"},toString:function(){return this.attr("id")},classes:function(){var p=this.attr("class");return p==null?[]:p.trim().split(t.regex.delimiter)},hasClass:function(p){return this.classes().indexOf(p)!=-1},addClass:function(p){if(!this.hasClass(p)){var C=this.classes();C.push(p),this.attr("class",C.join(" "))}return this},removeClass:function(p){return this.hasClass(p)&&this.attr("class",this.classes().filter(function(C){return C!=p}).join(" ")),this},toggleClass:function(p){return this.hasClass(p)?this.removeClass(p):this.addClass(p)},reference:function(p){return t.get(this.attr(p))},parent:function(p){var C=this;if(!C.node.parentNode)return null;if(C=t.adopt(C.node.parentNode),!p)return C;for(;C&&C.node instanceof W.SVGElement;){if(typeof p=="string"?C.matches(p):C instanceof p)return C;if(!C.node.parentNode||C.node.parentNode.nodeName=="#document")return null;C=t.adopt(C.node.parentNode)}},doc:function(){return this instanceof t.Doc?this:this.parent(t.Doc)},parents:function(p){var C=[],O=this;do{if(!(O=O.parent(p))||!O.node)break;C.push(O)}while(O.parent);return C},matches:function(p){return function(C,O){return(C.matches||C.matchesSelector||C.msMatchesSelector||C.mozMatchesSelector||C.webkitMatchesSelector||C.oMatchesSelector).call(C,O)}(this.node,p)},native:function(){return this.node},svg:function(p){var C=e.createElementNS("http://www.w3.org/2000/svg","svg");if(!(p&&this instanceof t.Parent))return C.appendChild(p=e.createElementNS("http://www.w3.org/2000/svg","svg")),this.writeDataToDom(),p.appendChild(this.node.cloneNode(!0)),C.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");C.innerHTML="<svg>"+p.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var O=0,ee=C.firstChild.childNodes.length;O<ee;O++)this.node.appendChild(C.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(p){return this.dom=p,this},is:function(p){return function(C,O){return C instanceof O}(this,p)}}}),t.easing={"-":function(p){return p},"<>":function(p){return-Math.cos(p*Math.PI)/2+.5},">":function(p){return Math.sin(p*Math.PI/2)},"<":function(p){return 1-Math.cos(p*Math.PI/2)}},t.morph=function(p){return function(C,O){return new t.MorphObj(C,O).at(p)}},t.Situation=t.invent({create:function(p){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new t.Number(p.duration).valueOf(),this.delay=new t.Number(p.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=p.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),t.FX=t.invent({create:function(p){this._target=p,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(p,C,O){Y(p)==="object"&&(C=p.ease,O=p.delay,p=p.duration);var ee=new t.Situation({duration:p||1e3,delay:O||0,ease:t.easing[C||"-"]||C});return this.queue(ee),this},target:function(p){return p&&p instanceof t.Element?(this._target=p,this):this._target},timeToAbsPos:function(p){return(p-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(p){return this.situation.duration/this._speed*p+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=W.requestAnimationFrame((function(){this.step()}).bind(this))},stopAnimFrame:function(){W.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(p){return(typeof p=="function"||p instanceof t.Situation)&&this.situations.push(p),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof t.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var p,C=this.situation;if(C.init)return this;for(var O in C.animations){p=this.target()[O](),Array.isArray(p)||(p=[p]),Array.isArray(C.animations[O])||(C.animations[O]=[C.animations[O]]);for(var ee=p.length;ee--;)C.animations[O][ee]instanceof t.Number&&(p[ee]=new t.Number(p[ee])),C.animations[O][ee]=p[ee].morph(C.animations[O][ee])}for(var O in C.attrs)C.attrs[O]=new t.MorphObj(this.target().attr(O),C.attrs[O]);for(var O in C.styles)C.styles[O]=new t.MorphObj(this.target().style(O),C.styles[O]);return C.initialTransformation=this.target().matrixify(),C.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(p,C){var O=this.active;return this.active=!1,C&&this.clearQueue(),p&&this.situation&&(!O&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(p){var C=this.last();return this.target().on("finished.fx",function O(ee){ee.detail.situation==C&&(p.call(this,C),this.off("finished.fx",O))}),this._callStart()},during:function(p){var C=this.last(),O=function(ee){ee.detail.situation==C&&p.call(this,ee.detail.pos,t.morph(ee.detail.pos),ee.detail.eased,C)};return this.target().off("during.fx",O).on("during.fx",O),this.after(function(){this.off("during.fx",O)}),this._callStart()},afterAll:function(p){var C=function O(ee){p.call(this),this.off("allfinished.fx",O)};return this.target().off("allfinished.fx",C).on("allfinished.fx",C),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(p,C,O){return this.last()[O||"animations"][p]=C,this._callStart()},step:function(p){var C,O,ee;p||(this.absPos=this.timeToAbsPos(+new Date)),this.situation.loops!==!1?(C=Math.max(this.absPos,0),O=Math.floor(C),this.situation.loops===!0||O<this.situation.loops?(this.pos=C-O,ee=this.situation.loop,this.situation.loop=O):(this.absPos=this.situation.loops,this.pos=1,ee=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=!!((this.situation.loop-ee)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var J=this.situation.ease(this.pos);for(var re in this.situation.once)re>this.lastPos&&re<=J&&(this.situation.once[re].call(this.target(),this.pos,J),delete this.situation.once[re]);return this.active&&this.target().fire("during",{pos:this.pos,eased:J,fx:this,situation:this.situation}),this.situation?(this.eachAt(),this.pos==1&&!this.situation.reversed||this.situation.reversed&&this.pos==0?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=J,this):this},eachAt:function(){var p,C=this,O=this.target(),ee=this.situation;for(var J in ee.animations)p=[].concat(ee.animations[J]).map(function(be){return typeof be!="string"&&be.at?be.at(ee.ease(C.pos),C.pos):be}),O[J].apply(O,p);for(var J in ee.attrs)p=[J].concat(ee.attrs[J]).map(function(Se){return typeof Se!="string"&&Se.at?Se.at(ee.ease(C.pos),C.pos):Se}),O.attr.apply(O,p);for(var J in ee.styles)p=[J].concat(ee.styles[J]).map(function(Se){return typeof Se!="string"&&Se.at?Se.at(ee.ease(C.pos),C.pos):Se}),O.style.apply(O,p);if(ee.transforms.length){p=ee.initialTransformation,J=0;for(var re=ee.transforms.length;J<re;J++){var me=ee.transforms[J];me instanceof t.Matrix?p=me.relative?p.multiply(new t.Matrix().morph(me).at(ee.ease(this.pos))):p.morph(me).at(ee.ease(this.pos)):(me.relative||me.undo(p.extract()),p=p.multiply(me.at(ee.ease(this.pos))))}O.matrix(p)}return this},once:function(p,C,O){var ee=this.last();return O||(p=ee.ease(p)),ee.once[p]=C,this},_callStart:function(){return setTimeout((function(){this.start()}).bind(this),0),this}},parent:t.Element,construct:{animate:function(p,C,O){return(this.fx||(this.fx=new t.FX(this))).animate(p,C,O)},delay:function(p){return(this.fx||(this.fx=new t.FX(this))).delay(p)},stop:function(p,C){return this.fx&&this.fx.stop(p,C),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),t.MorphObj=t.invent({create:function(p,C){return t.Color.isColor(C)?new t.Color(p).morph(C):t.regex.delimiter.test(p)?t.regex.pathLetters.test(p)?new t.PathArray(p).morph(C):new t.Array(p).morph(C):t.regex.numberAndUnit.test(C)?new t.Number(p).morph(C):(this.value=p,void(this.destination=C))},extend:{at:function(p,C){return C<1?this.value:this.destination},valueOf:function(){return this.value}}}),t.extend(t.FX,{attr:function(p,C,O){if(Y(p)==="object")for(var ee in p)this.attr(ee,p[ee]);else this.add(p,C,"attrs");return this},plot:function(p,C,O,ee){return arguments.length==4?this.plot([p,C,O,ee]):this.add("plot",new(this.target()).morphArray(p))}}),t.Box=t.invent({create:function(p,C,O,ee){if(!(Y(p)!=="object"||p instanceof t.Element))return t.Box.call(this,p.left!=null?p.left:p.x,p.top!=null?p.top:p.y,p.width,p.height);var J;arguments.length==4&&(this.x=p,this.y=C,this.width=O,this.height=ee),(J=this).x==null&&(J.x=0,J.y=0,J.width=0,J.height=0),J.w=J.width,J.h=J.height,J.x2=J.x+J.width,J.y2=J.y+J.height,J.cx=J.x+J.width/2,J.cy=J.y+J.height/2}}),t.BBox=t.invent({create:function(p){if(t.Box.apply(this,[].slice.call(arguments)),p instanceof t.Element){var C;try{if(!e.documentElement.contains){for(var O=p.node;O.parentNode;)O=O.parentNode;if(O!=e)throw new Error("Element not in the dom")}C=p.node.getBBox()}catch{if(p instanceof t.Shape){t.parser.draw||t.prepare();var ee=p.clone(t.parser.draw.instance).show();ee&&ee.node&&typeof ee.node.getBBox=="function"&&(C=ee.node.getBBox()),ee&&typeof ee.remove=="function"&&ee.remove()}else C={x:p.node.clientLeft,y:p.node.clientTop,width:p.node.clientWidth,height:p.node.clientHeight}}t.Box.call(this,C)}},inherit:t.Box,parent:t.Element,construct:{bbox:function(){return new t.BBox(this)}}}),t.BBox.prototype.constructor=t.BBox,t.Matrix=t.invent({create:function(p){var C=T([1,0,0,1,0,0]);p=p===null?C:p instanceof t.Element?p.matrixify():typeof p=="string"?T(p.split(t.regex.delimiter).map(parseFloat)):arguments.length==6?T([].slice.call(arguments)):Array.isArray(p)?T(p):p&&Y(p)==="object"?p:C;for(var O=X.length-1;O>=0;--O)this[X[O]]=p[X[O]]!=null?p[X[O]]:C[X[O]]},extend:{extract:function(){var p=_(this,0,1);_(this,1,0);var C=180/Math.PI*Math.atan2(p.y,p.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(C*Math.PI/180)+this.f*Math.sin(C*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(C*Math.PI/180)+this.e*Math.sin(-C*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:C,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new t.Matrix(this)}},clone:function(){return new t.Matrix(this)},morph:function(p){return this.destination=new t.Matrix(p),this},multiply:function(p){return new t.Matrix(this.native().multiply(function(C){return C instanceof t.Matrix||(C=new t.Matrix(C)),C}(p).native()))},inverse:function(){return new t.Matrix(this.native().inverse())},translate:function(p,C){return new t.Matrix(this.native().translate(p||0,C||0))},native:function(){for(var p=t.parser.native.createSVGMatrix(),C=X.length-1;C>=0;C--)p[X[C]]=this[X[C]];return p},toString:function(){return"matrix("+V(this.a)+","+V(this.b)+","+V(this.c)+","+V(this.d)+","+V(this.e)+","+V(this.f)+")"}},parent:t.Element,construct:{ctm:function(){return new t.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof t.Nested){var p=this.rect(1,1),C=p.node.getScreenCTM();return p.remove(),new t.Matrix(C)}return new t.Matrix(this.node.getScreenCTM())}}}),t.Point=t.invent({create:function(p,C){var O;O=Array.isArray(p)?{x:p[0],y:p[1]}:Y(p)==="object"?{x:p.x,y:p.y}:p!=null?{x:p,y:C??p}:{x:0,y:0},this.x=O.x,this.y=O.y},extend:{clone:function(){return new t.Point(this)},morph:function(p,C){return this.destination=new t.Point(p,C),this}}}),t.extend(t.Element,{point:function(p,C){return new t.Point(p,C).transform(this.screenCTM().inverse())}}),t.extend(t.Element,{attr:function(p,C,O){if(p==null){for(p={},O=(C=this.node.attributes).length-1;O>=0;O--)p[C[O].nodeName]=t.regex.isNumber.test(C[O].nodeValue)?parseFloat(C[O].nodeValue):C[O].nodeValue;return p}if(Y(p)==="object")for(var ee in p)this.attr(ee,p[ee]);else if(C===null)this.node.removeAttribute(p);else{if(C==null)return(C=this.node.getAttribute(p))==null?t.defaults.attrs[p]:t.regex.isNumber.test(C)?parseFloat(C):C;p=="stroke-width"?this.attr("stroke",parseFloat(C)>0?this._stroke:null):p=="stroke"&&(this._stroke=C),p!="fill"&&p!="stroke"||(t.regex.isImage.test(C)&&(C=this.doc().defs().image(C,0,0)),C instanceof t.Image&&(C=this.doc().defs().pattern(0,0,function(){this.add(C)}))),typeof C=="number"?C=new t.Number(C):t.Color.isColor(C)?C=new t.Color(C):Array.isArray(C)&&(C=new t.Array(C)),p=="leading"?this.leading&&this.leading(C):typeof O=="string"?this.node.setAttributeNS(O,p,C.toString()):this.node.setAttribute(p,C.toString()),!this.rebuild||p!="font-size"&&p!="x"||this.rebuild(p,C)}return this}}),t.extend(t.Element,{transform:function(p,C){var O;return Y(p)!=="object"?(O=new t.Matrix(this).extract(),typeof p=="string"?O[p]:O):(O=new t.Matrix(this),C=!!C||!!p.relative,p.a!=null&&(O=C?O.multiply(new t.Matrix(p)):new t.Matrix(p)),this.attr("transform",O))}}),t.extend(t.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(t.regex.transforms).slice(0,-1).map(function(p){var C=p.trim().split("(");return[C[0],C[1].split(t.regex.delimiter).map(function(O){return parseFloat(O)})]}).reduce(function(p,C){return C[0]=="matrix"?p.multiply(T(C[1])):p[C[0]].apply(p,C[1])},new t.Matrix)},toParent:function(p){if(this==p)return this;var C=this.screenCTM(),O=p.screenCTM().inverse();return this.addTo(p).untransform().transform(O.multiply(C)),this},toDoc:function(){return this.toParent(this.doc())}}),t.Transformation=t.invent({create:function(p,C){if(arguments.length>1&&typeof C!="boolean")return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(p))for(var O=0,ee=this.arguments.length;O<ee;++O)this[this.arguments[O]]=p[O];else if(p&&Y(p)==="object")for(O=0,ee=this.arguments.length;O<ee;++O)this[this.arguments[O]]=p[this.arguments[O]];this.inversed=!1,C===!0&&(this.inversed=!0)}}),t.Translate=t.invent({parent:t.Matrix,inherit:t.Transformation,create:function(p,C){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),t.extend(t.Element,{style:function(p,C){if(arguments.length==0)return this.node.style.cssText||"";if(arguments.length<2)if(Y(p)==="object")for(var O in p)this.style(O,p[O]);else{if(!t.regex.isCss.test(p))return this.node.style[g(p)];for(p=p.split(/\s*;\s*/).filter(function(ee){return!!ee}).map(function(ee){return ee.split(/\s*:\s*/)});C=p.pop();)this.style(C[0],C[1])}else this.node.style[g(p)]=C===null||t.regex.isBlank.test(C)?"":C;return this}}),t.Parent=t.invent({create:function(p){this.constructor.call(this,p)},inherit:t.Element,extend:{children:function(){return t.utils.map(t.utils.filterSVGElements(this.node.childNodes),function(p){return t.adopt(p)})},add:function(p,C){return C==null?this.node.appendChild(p.node):p.node!=this.node.childNodes[C]&&this.node.insertBefore(p.node,this.node.childNodes[C]),this},put:function(p,C){return this.add(p,C),p},has:function(p){return this.index(p)>=0},index:function(p){return[].slice.call(this.node.childNodes).indexOf(p.node)},get:function(p){return t.adopt(this.node.childNodes[p])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(p,C){for(var O=this.children(),ee=0,J=O.length;ee<J;ee++)O[ee]instanceof t.Element&&p.apply(O[ee],[ee,O]),C&&O[ee]instanceof t.Container&&O[ee].each(p,C);return this},removeElement:function(p){return this.node.removeChild(p.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),t.extend(t.Parent,{ungroup:function(p,C){return C===0||this instanceof t.Defs||this.node==t.parser.draw||(p=p||(this instanceof t.Doc?this:this.parent(t.Parent)),C=C||1/0,this.each(function(){return this instanceof t.Defs?this:this instanceof t.Parent?this.ungroup(p,C-1):this.toParent(p)}),this.node.firstChild||this.remove()),this},flatten:function(p,C){return this.ungroup(p,C)}}),t.Container=t.invent({create:function(p){this.constructor.call(this,p)},inherit:t.Parent}),t.ViewBox=t.invent({parent:t.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(p){t.Element.prototype[p]=function(C){return t.on(this.node,p,C),this}}),t.listeners=[],t.handlerMap=[],t.listenerId=0,t.on=function(p,C,O,ee,J){var re=O.bind(ee||p.instance||p),me=(t.handlerMap.indexOf(p)+1||t.handlerMap.push(p))-1,be=C.split(".")[0],Se=C.split(".")[1]||"*";t.listeners[me]=t.listeners[me]||{},t.listeners[me][be]=t.listeners[me][be]||{},t.listeners[me][be][Se]=t.listeners[me][be][Se]||{},O._svgjsListenerId||(O._svgjsListenerId=++t.listenerId),t.listeners[me][be][Se][O._svgjsListenerId]=re,p.addEventListener(be,re,J||{passive:!1})},t.off=function(p,C,O){var ee=t.handlerMap.indexOf(p),J=C&&C.split(".")[0],re=C&&C.split(".")[1],me="";if(ee!=-1)if(O){if(typeof O=="function"&&(O=O._svgjsListenerId),!O)return;t.listeners[ee][J]&&t.listeners[ee][J][re||"*"]&&(p.removeEventListener(J,t.listeners[ee][J][re||"*"][O],!1),delete t.listeners[ee][J][re||"*"][O])}else if(re&&J){if(t.listeners[ee][J]&&t.listeners[ee][J][re]){for(var be in t.listeners[ee][J][re])t.off(p,[J,re].join("."),be);delete t.listeners[ee][J][re]}}else if(re)for(var Se in t.listeners[ee])for(var me in t.listeners[ee][Se])re===me&&t.off(p,[Se,re].join("."));else if(J){if(t.listeners[ee][J]){for(var me in t.listeners[ee][J])t.off(p,[J,me].join("."));delete t.listeners[ee][J]}}else{for(var Se in t.listeners[ee])t.off(p,Se);delete t.listeners[ee],delete t.handlerMap[ee]}},t.extend(t.Element,{on:function(p,C,O,ee){return t.on(this.node,p,C,O,ee),this},off:function(p,C){return t.off(this.node,p,C),this},fire:function(p,C){return p instanceof W.Event?this.node.dispatchEvent(p):this.node.dispatchEvent(p=new t.CustomEvent(p,{detail:C,cancelable:!0})),this._event=p,this},event:function(){return this._event}}),t.Defs=t.invent({create:"defs",inherit:t.Container}),t.G=t.invent({create:"g",inherit:t.Container,extend:{x:function(p){return p==null?this.transform("x"):this.transform({x:p-this.x()},!0)}},construct:{group:function(){return this.put(new t.G)}}}),t.Doc=t.invent({create:function(p){p&&((p=typeof p=="string"?e.getElementById(p):p).nodeName=="svg"?this.constructor.call(this,p):(this.constructor.call(this,t.create("svg")),p.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:t.Container,extend:{namespace:function(){return this.attr({xmlns:t.ns,version:"1.1"}).attr("xmlns:xlink",t.xlink,t.xmlns).attr("xmlns:svgjs",t.svgjs,t.xmlns)},defs:function(){var p;return this._defs||((p=this.node.getElementsByTagName("defs")[0])?this._defs=t.adopt(p):this._defs=new t.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&this.node.parentNode.nodeName!="#document"?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,t.parser.draw&&!t.parser.draw.parentNode&&this.node.appendChild(t.parser.draw),this},clone:function(p){this.writeDataToDom();var C=this.node,O=M(C.cloneNode(!0));return p?(p.node||p).appendChild(O.node):C.parentNode.insertBefore(O.node,C.nextSibling),O}}}),t.extend(t.Element,{}),t.Gradient=t.invent({create:function(p){this.constructor.call(this,t.create(p+"Gradient")),this.type=p},inherit:t.Container,extend:{at:function(p,C,O){return this.put(new t.Stop).update(p,C,O)},update:function(p){return this.clear(),typeof p=="function"&&p.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(p,C,O){return p=="transform"&&(p="gradientTransform"),t.Container.prototype.attr.call(this,p,C,O)}},construct:{gradient:function(p,C){return this.defs().gradient(p,C)}}}),t.extend(t.Gradient,t.FX,{from:function(p,C){return(this._target||this).type=="radial"?this.attr({fx:new t.Number(p),fy:new t.Number(C)}):this.attr({x1:new t.Number(p),y1:new t.Number(C)})},to:function(p,C){return(this._target||this).type=="radial"?this.attr({cx:new t.Number(p),cy:new t.Number(C)}):this.attr({x2:new t.Number(p),y2:new t.Number(C)})}}),t.extend(t.Defs,{gradient:function(p,C){return this.put(new t.Gradient(p)).update(C)}}),t.Stop=t.invent({create:"stop",inherit:t.Element,extend:{update:function(p){return(typeof p=="number"||p instanceof t.Number)&&(p={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),p.opacity!=null&&this.attr("stop-opacity",p.opacity),p.color!=null&&this.attr("stop-color",p.color),p.offset!=null&&this.attr("offset",new t.Number(p.offset)),this}}}),t.Pattern=t.invent({create:"pattern",inherit:t.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(p){return this.clear(),typeof p=="function"&&p.call(this,this),this},toString:function(){return this.fill()},attr:function(p,C,O){return p=="transform"&&(p="patternTransform"),t.Container.prototype.attr.call(this,p,C,O)}},construct:{pattern:function(p,C,O){return this.defs().pattern(p,C,O)}}}),t.extend(t.Defs,{pattern:function(p,C,O){return this.put(new t.Pattern).update(O).attr({x:0,y:0,width:p,height:C,patternUnits:"userSpaceOnUse"})}}),t.Shape=t.invent({create:function(p){this.constructor.call(this,p)},inherit:t.Element}),t.Symbol=t.invent({create:"symbol",inherit:t.Container,construct:{symbol:function(){return this.put(new t.Symbol)}}}),t.Use=t.invent({create:"use",inherit:t.Shape,extend:{element:function(p,C){return this.attr("href",(C||"")+"#"+p,t.xlink)}},construct:{use:function(p,C){return this.put(new t.Use).element(p,C)}}}),t.Rect=t.invent({create:"rect",inherit:t.Shape,construct:{rect:function(p,C){return this.put(new t.Rect).size(p,C)}}}),t.Circle=t.invent({create:"circle",inherit:t.Shape,construct:{circle:function(p){return this.put(new t.Circle).rx(new t.Number(p).divide(2)).move(0,0)}}}),t.extend(t.Circle,t.FX,{rx:function(p){return this.attr("r",p)},ry:function(p){return this.rx(p)}}),t.Ellipse=t.invent({create:"ellipse",inherit:t.Shape,construct:{ellipse:function(p,C){return this.put(new t.Ellipse).size(p,C).move(0,0)}}}),t.extend(t.Ellipse,t.Rect,t.FX,{rx:function(p){return this.attr("rx",p)},ry:function(p){return this.attr("ry",p)}}),t.extend(t.Circle,t.Ellipse,{x:function(p){return p==null?this.cx()-this.rx():this.cx(p+this.rx())},y:function(p){return p==null?this.cy()-this.ry():this.cy(p+this.ry())},cx:function(p){return p==null?this.attr("cx"):this.attr("cx",p)},cy:function(p){return p==null?this.attr("cy"):this.attr("cy",p)},width:function(p){return p==null?2*this.rx():this.rx(new t.Number(p).divide(2))},height:function(p){return p==null?2*this.ry():this.ry(new t.Number(p).divide(2))},size:function(p,C){var O=w(this,p,C);return this.rx(new t.Number(O.width).divide(2)).ry(new t.Number(O.height).divide(2))}}),t.Line=t.invent({create:"line",inherit:t.Shape,extend:{array:function(){return new t.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(p,C,O,ee){return p==null?this.array():(p=C!==void 0?{x1:p,y1:C,x2:O,y2:ee}:new t.PointArray(p).toLine(),this.attr(p))},move:function(p,C){return this.attr(this.array().move(p,C).toLine())},size:function(p,C){var O=w(this,p,C);return this.attr(this.array().size(O.width,O.height).toLine())}},construct:{line:function(p,C,O,ee){return t.Line.prototype.plot.apply(this.put(new t.Line),p!=null?[p,C,O,ee]:[0,0,0,0])}}}),t.Polyline=t.invent({create:"polyline",inherit:t.Shape,construct:{polyline:function(p){return this.put(new t.Polyline).plot(p||new t.PointArray)}}}),t.Polygon=t.invent({create:"polygon",inherit:t.Shape,construct:{polygon:function(p){return this.put(new t.Polygon).plot(p||new t.PointArray)}}}),t.extend(t.Polyline,t.Polygon,{array:function(){return this._array||(this._array=new t.PointArray(this.attr("points")))},plot:function(p){return p==null?this.array():this.clear().attr("points",typeof p=="string"?p:this._array=new t.PointArray(p))},clear:function(){return delete this._array,this},move:function(p,C){return this.attr("points",this.array().move(p,C))},size:function(p,C){var O=w(this,p,C);return this.attr("points",this.array().size(O.width,O.height))}}),t.extend(t.Line,t.Polyline,t.Polygon,{morphArray:t.PointArray,x:function(p){return p==null?this.bbox().x:this.move(p,this.bbox().y)},y:function(p){return p==null?this.bbox().y:this.move(this.bbox().x,p)},width:function(p){var C=this.bbox();return p==null?C.width:this.size(p,C.height)},height:function(p){var C=this.bbox();return p==null?C.height:this.size(C.width,p)}}),t.Path=t.invent({create:"path",inherit:t.Shape,extend:{morphArray:t.PathArray,array:function(){return this._array||(this._array=new t.PathArray(this.attr("d")))},plot:function(p){return p==null?this.array():this.clear().attr("d",typeof p=="string"?p:this._array=new t.PathArray(p))},clear:function(){return delete this._array,this}},construct:{path:function(p){return this.put(new t.Path).plot(p||new t.PathArray)}}}),t.Image=t.invent({create:"image",inherit:t.Shape,extend:{load:function(p){if(!p)return this;var C=this,O=new W.Image;return t.on(O,"load",function(){t.off(O);var ee=C.parent(t.Pattern);ee!==null&&(C.width()==0&&C.height()==0&&C.size(O.width,O.height),ee&&ee.width()==0&&ee.height()==0&&ee.size(C.width(),C.height()),typeof C._loaded=="function"&&C._loaded.call(C,{width:O.width,height:O.height,ratio:O.width/O.height,url:p}))}),t.on(O,"error",function(ee){t.off(O),typeof C._error=="function"&&C._error.call(C,ee)}),this.attr("href",O.src=this.src=p,t.xlink)},loaded:function(p){return this._loaded=p,this},error:function(p){return this._error=p,this}},construct:{image:function(p,C,O){return this.put(new t.Image).load(p).size(C||0,O||C||0)}}}),t.Text=t.invent({create:function(){this.constructor.call(this,t.create("text")),this.dom.leading=new t.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",t.defaults.attrs["font-family"])},inherit:t.Shape,extend:{x:function(p){return p==null?this.attr("x"):this.attr("x",p)},text:function(p){if(p===void 0){p="";for(var C=this.node.childNodes,O=0,ee=C.length;O<ee;++O)O!=0&&C[O].nodeType!=3&&t.adopt(C[O]).dom.newLined==1&&(p+=`
`),p+=C[O].textContent;return p}if(this.clear().build(!0),typeof p=="function")p.call(this,this);else{O=0;for(var J=(p=p.split(`
`)).length;O<J;O++)this.tspan(p[O]).newLine()}return this.build(!1).rebuild()},size:function(p){return this.attr("font-size",p).rebuild()},leading:function(p){return p==null?this.dom.leading:(this.dom.leading=new t.Number(p),this.rebuild())},lines:function(){var p=(this.textPath&&this.textPath()||this).node,C=t.utils.map(t.utils.filterSVGElements(p.childNodes),function(O){return t.adopt(O)});return new t.Set(C)},rebuild:function(p){if(typeof p=="boolean"&&(this._rebuild=p),this._rebuild){var C=this,O=0,ee=this.dom.leading*new t.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(C.textPath()||this.attr("x",C.attr("x")),this.text()==`
`?O+=ee:(this.attr("dy",ee+O),O=0))}),this.fire("rebuild")}return this},build:function(p){return this._build=!!p,this},setData:function(p){return this.dom=p,this.dom.leading=new t.Number(p.leading||1.3),this}},construct:{text:function(p){return this.put(new t.Text).text(p)},plain:function(p){return this.put(new t.Text).plain(p)}}}),t.Tspan=t.invent({create:"tspan",inherit:t.Shape,extend:{text:function(p){return p==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof p=="function"?p.call(this,this):this.plain(p),this)},dx:function(p){return this.attr("dx",p)},dy:function(p){return this.attr("dy",p)},newLine:function(){var p=this.parent(t.Text);return this.dom.newLined=!0,this.dy(p.dom.leading*p.attr("font-size")).attr("x",p.x())}}}),t.extend(t.Text,t.Tspan,{plain:function(p){return this._build===!1&&this.clear(),this.node.appendChild(e.createTextNode(p)),this},tspan:function(p){var C=(this.textPath&&this.textPath()||this).node,O=new t.Tspan;return this._build===!1&&this.clear(),C.appendChild(O.node),O.text(p)},clear:function(){for(var p=(this.textPath&&this.textPath()||this).node;p.hasChildNodes();)p.removeChild(p.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),t.TextPath=t.invent({create:"textPath",inherit:t.Parent,parent:t.Text,construct:{morphArray:t.PathArray,array:function(){var p=this.track();return p?p.array():null},plot:function(p){var C=this.track(),O=null;return C&&(O=C.plot(p)),p==null?O:this},track:function(){var p=this.textPath();if(p)return p.reference("href")},textPath:function(){if(this.node.firstChild&&this.node.firstChild.nodeName=="textPath")return t.adopt(this.node.firstChild)}}}),t.Nested=t.invent({create:function(){this.constructor.call(this,t.create("svg")),this.style("overflow","visible")},inherit:t.Container,construct:{nested:function(){return this.put(new t.Nested)}}});var c={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(p,C){return C=="color"?p:p+"-"+C}};function f(p,C,O,ee){return O+ee.replace(t.regex.dots," .")}function g(p){return p.toLowerCase().replace(/-(.)/g,function(C,O){return O.toUpperCase()})}function x(p){return p.charAt(0).toUpperCase()+p.slice(1)}function b(p){var C=p.toString(16);return C.length==1?"0"+C:C}function w(p,C,O){if(C==null||O==null){var ee=p.bbox();C==null?C=ee.width/ee.height*O:O==null&&(O=ee.height/ee.width*C)}return{width:C,height:O}}function _(p,C,O){return{x:C*p.a+O*p.c+0,y:C*p.b+O*p.d+0}}function T(p){return{a:p[0],b:p[1],c:p[2],d:p[3],e:p[4],f:p[5]}}function M(p){for(var C=p.childNodes.length-1;C>=0;C--)p.childNodes[C]instanceof W.SVGElement&&M(p.childNodes[C]);return t.adopt(p).id(t.eid(p.nodeName))}function V(p){return Math.abs(p)>1e-37?p:0}["fill","stroke"].forEach(function(p){var C={};C[p]=function(O){if(O===void 0)return this;if(typeof O=="string"||t.Color.isRgb(O)||O&&typeof O.fill=="function")this.attr(p,O);else for(var ee=c[p].length-1;ee>=0;ee--)O[c[p][ee]]!=null&&this.attr(c.prefix(p,c[p][ee]),O[c[p][ee]]);return this},t.extend(t.Element,t.FX,C)}),t.extend(t.Element,t.FX,{translate:function(p,C){return this.transform({x:p,y:C})},matrix:function(p){return this.attr("transform",new t.Matrix(arguments.length==6?[].slice.call(arguments):p))},opacity:function(p){return this.attr("opacity",p)},dx:function(p){return this.x(new t.Number(p).plus(this instanceof t.FX?0:this.x()),!0)},dy:function(p){return this.y(new t.Number(p).plus(this instanceof t.FX?0:this.y()),!0)}}),t.extend(t.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(p){return this.node.getPointAtLength(p)}}),t.Set=t.invent({create:function(p){Array.isArray(p)?this.members=p:this.clear()},extend:{add:function(){for(var p=[].slice.call(arguments),C=0,O=p.length;C<O;C++)this.members.push(p[C]);return this},remove:function(p){var C=this.index(p);return C>-1&&this.members.splice(C,1),this},each:function(p){for(var C=0,O=this.members.length;C<O;C++)p.apply(this.members[C],[C,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(p){return this.index(p)>=0},index:function(p){return this.members.indexOf(p)},get:function(p){return this.members[p]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(p){return new t.Set(p)}}}),t.FX.Set=t.invent({create:function(p){this.set=p}}),t.Set.inherit=function(){var p=[];for(var C in t.Shape.prototype)typeof t.Shape.prototype[C]=="function"&&typeof t.Set.prototype[C]!="function"&&p.push(C);for(var C in p.forEach(function(ee){t.Set.prototype[ee]=function(){for(var J=0,re=this.members.length;J<re;J++)this.members[J]&&typeof this.members[J][ee]=="function"&&this.members[J][ee].apply(this.members[J],arguments);return ee=="animate"?this.fx||(this.fx=new t.FX.Set(this)):this}}),p=[],t.FX.prototype)typeof t.FX.prototype[C]=="function"&&typeof t.FX.Set.prototype[C]!="function"&&p.push(C);p.forEach(function(O){t.FX.Set.prototype[O]=function(){for(var ee=0,J=this.set.members.length;ee<J;ee++)this.set.members[ee].fx[O].apply(this.set.members[ee].fx,arguments);return this}})},t.extend(t.Element,{}),t.extend(t.Element,{remember:function(p,C){if(Y(arguments[0])==="object")for(var O in p)this.remember(O,p[O]);else{if(arguments.length==1)return this.memory()[p];this.memory()[p]=C}return this},forget:function(){if(arguments.length==0)this._memory={};else for(var p=arguments.length-1;p>=0;p--)delete this.memory()[arguments[p]];return this},memory:function(){return this._memory||(this._memory={})}}),t.get=function(p){var C=e.getElementById(function(O){var ee=(O||"").toString().match(t.regex.reference);if(ee)return ee[1]}(p)||p);return t.adopt(C)},t.select=function(p,C){return new t.Set(t.utils.map((C||e).querySelectorAll(p),function(O){return t.adopt(O)}))},t.extend(t.Parent,{select:function(p){return t.select(p,this.node)}});var X="abcdef".split("");if(typeof W.CustomEvent!="function"){var Z=function(p,C){C=C||{bubbles:!1,cancelable:!1,detail:void 0};var O=e.createEvent("CustomEvent");return O.initCustomEvent(p,C.bubbles,C.cancelable,C.detail),O};Z.prototype=W.Event.prototype,t.CustomEvent=Z}else t.CustomEvent=W.CustomEvent;return t},Y(o)==="object"?s.exports=Qs.document?cr(Qs,Qs.document):function(W){return cr(W,W.document)}:Qs.SVG=cr(Qs,Qs.document),(function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(i,c){return this.add(i,c),!i.attr("in")&&this.autoSetIn&&i.attr("in",this.source),i.attr("result")||i.attr("result",i),i},blend:function(i,c,f){return this.put(new SVG.BlendEffect(i,c,f))},colorMatrix:function(i,c){return this.put(new SVG.ColorMatrixEffect(i,c))},convolveMatrix:function(i){return this.put(new SVG.ConvolveMatrixEffect(i))},componentTransfer:function(i){return this.put(new SVG.ComponentTransferEffect(i))},composite:function(i,c,f){return this.put(new SVG.CompositeEffect(i,c,f))},flood:function(i,c){return this.put(new SVG.FloodEffect(i,c))},offset:function(i,c){return this.put(new SVG.OffsetEffect(i,c))},image:function(i){return this.put(new SVG.ImageEffect(i))},merge:function(){var i=[void 0];for(var c in arguments)i.push(arguments[c]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,i)))},gaussianBlur:function(i,c){return this.put(new SVG.GaussianBlurEffect(i,c))},morphology:function(i,c){return this.put(new SVG.MorphologyEffect(i,c))},diffuseLighting:function(i,c,f){return this.put(new SVG.DiffuseLightingEffect(i,c,f))},displacementMap:function(i,c,f,g,x){return this.put(new SVG.DisplacementMapEffect(i,c,f,g,x))},specularLighting:function(i,c,f,g){return this.put(new SVG.SpecularLightingEffect(i,c,f,g))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(i,c,f,g,x){return this.put(new SVG.TurbulenceEffect(i,c,f,g,x))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(i){var c=this.put(new SVG.Filter);return typeof i=="function"&&i.call(c,c),c}}),SVG.extend(SVG.Container,{filter:function(i){return this.defs().filter(i)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(i){return this.filterer=i instanceof SVG.Element?i:this.doc().filter(i),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(i){return this.filterer&&i===!0&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(i){return i==null?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",i)},result:function(i){return i==null?this.attr("result"):this.attr("result",i)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(i){return i==null?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",i)},result:function(i){return i==null?this.attr("result"):this.attr("result",i)},toString:function(){return this.result()}}});var W={blend:function(i,c){return this.parent()&&this.parent().blend(this,i,c)},colorMatrix:function(i,c){return this.parent()&&this.parent().colorMatrix(i,c).in(this)},convolveMatrix:function(i){return this.parent()&&this.parent().convolveMatrix(i).in(this)},componentTransfer:function(i){return this.parent()&&this.parent().componentTransfer(i).in(this)},composite:function(i,c){return this.parent()&&this.parent().composite(this,i,c)},flood:function(i,c){return this.parent()&&this.parent().flood(i,c)},offset:function(i,c){return this.parent()&&this.parent().offset(i,c).in(this)},image:function(i){return this.parent()&&this.parent().image(i)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(i,c){return this.parent()&&this.parent().gaussianBlur(i,c).in(this)},morphology:function(i,c){return this.parent()&&this.parent().morphology(i,c).in(this)},diffuseLighting:function(i,c,f){return this.parent()&&this.parent().diffuseLighting(i,c,f).in(this)},displacementMap:function(i,c,f,g){return this.parent()&&this.parent().displacementMap(this,i,c,f,g)},specularLighting:function(i,c,f,g){return this.parent()&&this.parent().specularLighting(i,c,f,g).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(i,c,f,g,x){return this.parent()&&this.parent().turbulence(i,c,f,g,x).in(this)}};SVG.extend(SVG.Effect,W),SVG.extend(SVG.ParentEffect,W),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(i){this.attr("in",i)}}});var e={blend:function(i,c,f){this.attr({in:i,in2:c,mode:f||"normal"})},colorMatrix:function(i,c){i=="matrix"&&(c=a(c)),this.attr({type:i,values:c===void 0?null:c})},convolveMatrix:function(i){i=a(i),this.attr({order:Math.sqrt(i.split(" ").length),kernelMatrix:i})},composite:function(i,c,f){this.attr({in:i,in2:c,operator:f})},flood:function(i,c){this.attr("flood-color",i),c!=null&&this.attr("flood-opacity",c)},offset:function(i,c){this.attr({dx:i,dy:c})},image:function(i){this.attr("href",i,SVG.xlink)},displacementMap:function(i,c,f,g,x){this.attr({in:i,in2:c,scale:f,xChannelSelector:g,yChannelSelector:x})},gaussianBlur:function(i,c){i!=null||c!=null?this.attr("stdDeviation",function(f){if(!Array.isArray(f))return f;for(var g=0,x=f.length,b=[];g<x;g++)b.push(f[g]);return b.join(" ")}(Array.prototype.slice.call(arguments))):this.attr("stdDeviation","0 0")},morphology:function(i,c){this.attr({operator:i,radius:c})},tile:function(){},turbulence:function(i,c,f,g,x){this.attr({numOctaves:c,seed:f,stitchTiles:g,baseFrequency:i,type:x})}},t={merge:function(){var i;if(arguments[0]instanceof SVG.Set){var c=this;arguments[0].each(function(g){this instanceof SVG.MergeNode?c.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&c.put(new SVG.MergeNode(this))})}else{i=Array.isArray(arguments[0])?arguments[0]:arguments;for(var f=0;f<i.length;f++)i[f]instanceof SVG.MergeNode?this.put(i[f]):this.put(new SVG.MergeNode(i[f]))}},componentTransfer:function(i){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach((function(f){this[f]=new SVG["Func"+f.toUpperCase()]("identity"),this.rgb.add(this[f]),this.node.appendChild(this[f].node)}).bind(this)),i)for(var c in i.rgb&&(["r","g","b"].forEach((function(f){this[f].attr(i.rgb)}).bind(this)),delete i.rgb),i)this[c].attr(i[c])},diffuseLighting:function(i,c,f){this.attr({surfaceScale:i,diffuseConstant:c,kernelUnitLength:f})},specularLighting:function(i,c,f,g){this.attr({surfaceScale:i,diffuseConstant:c,specularExponent:f,kernelUnitLength:g})}},r={distantLight:function(i,c){this.attr({azimuth:i,elevation:c})},pointLight:function(i,c,f){this.attr({x:i,y:c,z:f})},spotLight:function(i,c,f,g,x,b){this.attr({x:i,y:c,z:f,pointsAtX:g,pointsAtY:x,pointsAtZ:b})},mergeNode:function(i){this.attr("in",i)}};function a(i){return Array.isArray(i)&&(i=new SVG.Array(i)),i.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function n(){var i=function(){};for(var c in typeof arguments[arguments.length-1]=="function"&&(i=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var f in arguments[c])i(arguments[c][f],f,arguments[c])}["r","g","b","a"].forEach(function(i){r["Func"+i.toUpperCase()]=function(c){switch(this.attr("type",c),c){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),n(e,function(i,c){var f=c.charAt(0).toUpperCase()+c.slice(1);SVG[f+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+f)),i.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),n(t,function(i,c){var f=c.charAt(0).toUpperCase()+c.slice(1);SVG[f+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+f)),i.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),n(r,function(i,c){var f=c.charAt(0).toUpperCase()+c.slice(1);SVG[f]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+f)),i.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{in:function(i){return i instanceof SVG.MergeNode?this.add(i,0):this.add(new SVG.MergeNode(i),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(i){return i==null?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",i)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}).call(void 0),function(){function W(n,i,c,f,g,x,b){for(var w=n.slice(i,c||b),_=f.slice(g,x||b),T=0,M={pos:[0,0],start:[0,0]},V={pos:[0,0],start:[0,0]};w[T]=e.call(M,w[T]),_[T]=e.call(V,_[T]),w[T][0]!=_[T][0]||w[T][0]=="M"||w[T][0]=="A"&&(w[T][4]!=_[T][4]||w[T][5]!=_[T][5])?(Array.prototype.splice.apply(w,[T,1].concat(r.call(M,w[T]))),Array.prototype.splice.apply(_,[T,1].concat(r.call(V,_[T])))):(w[T]=t.call(M,w[T]),_[T]=t.call(V,_[T])),!(++T==w.length&&T==_.length);)T==w.length&&w.push(["C",M.pos[0],M.pos[1],M.pos[0],M.pos[1],M.pos[0],M.pos[1]]),T==_.length&&_.push(["C",V.pos[0],V.pos[1],V.pos[0],V.pos[1],V.pos[0],V.pos[1]]);return{start:w,dest:_}}function e(n){switch(n[0]){case"z":case"Z":n[0]="L",n[1]=this.start[0],n[2]=this.start[1];break;case"H":n[0]="L",n[2]=this.pos[1];break;case"V":n[0]="L",n[2]=n[1],n[1]=this.pos[0];break;case"T":n[0]="Q",n[3]=n[1],n[4]=n[2],n[1]=this.reflection[1],n[2]=this.reflection[0];break;case"S":n[0]="C",n[6]=n[4],n[5]=n[3],n[4]=n[2],n[3]=n[1],n[2]=this.reflection[1],n[1]=this.reflection[0]}return n}function t(n){var i=n.length;return this.pos=[n[i-2],n[i-1]],"SCQT".indexOf(n[0])!=-1&&(this.reflection=[2*this.pos[0]-n[i-4],2*this.pos[1]-n[i-3]]),n}function r(n){var i=[n];switch(n[0]){case"M":return this.pos=this.start=[n[1],n[2]],i;case"L":n[5]=n[3]=n[1],n[6]=n[4]=n[2],n[1]=this.pos[0],n[2]=this.pos[1];break;case"Q":n[6]=n[4],n[5]=n[3],n[4]=1*n[4]/3+2*n[2]/3,n[3]=1*n[3]/3+2*n[1]/3,n[2]=1*this.pos[1]/3+2*n[2]/3,n[1]=1*this.pos[0]/3+2*n[1]/3;break;case"A":i=function(c,f){var g,x,b,w,_,T,M,V,X,Z,p,C,O,ee,J,re,me,be,Se,qe,$e,Fe,ut,mt,kt,Mt,Rt=Math.abs(f[1]),Tt=Math.abs(f[2]),Vt=f[3]%360,ls=f[4],cs=f[5],Kt=f[6],Ds=f[7],Gt=new SVG.Point(c),Yt=new SVG.Point(Kt,Ds),Zt=[];if(Rt===0||Tt===0||Gt.x===Yt.x&&Gt.y===Yt.y)return[["C",Gt.x,Gt.y,Yt.x,Yt.y,Yt.x,Yt.y]];for(g=new SVG.Point((Gt.x-Yt.x)/2,(Gt.y-Yt.y)/2).transform(new SVG.Matrix().rotate(Vt)),(x=g.x*g.x/(Rt*Rt)+g.y*g.y/(Tt*Tt))>1&&(Rt*=x=Math.sqrt(x),Tt*=x),b=new SVG.Matrix().rotate(Vt).scale(1/Rt,1/Tt).rotate(-Vt),Gt=Gt.transform(b),Yt=Yt.transform(b),w=[Yt.x-Gt.x,Yt.y-Gt.y],T=w[0]*w[0]+w[1]*w[1],_=Math.sqrt(T),w[0]/=_,w[1]/=_,M=T<4?Math.sqrt(1-T/4):0,ls===cs&&(M*=-1),V=new SVG.Point((Yt.x+Gt.x)/2+M*-w[1],(Yt.y+Gt.y)/2+M*w[0]),X=new SVG.Point(Gt.x-V.x,Gt.y-V.y),Z=new SVG.Point(Yt.x-V.x,Yt.y-V.y),p=Math.acos(X.x/Math.sqrt(X.x*X.x+X.y*X.y)),X.y<0&&(p*=-1),C=Math.acos(Z.x/Math.sqrt(Z.x*Z.x+Z.y*Z.y)),Z.y<0&&(C*=-1),cs&&p>C&&(C+=2*Math.PI),!cs&&p<C&&(C-=2*Math.PI),ee=Math.ceil(2*Math.abs(p-C)/Math.PI),re=[],me=p,O=(C-p)/ee,J=4*Math.tan(O/4)/3,$e=0;$e<=ee;$e++)Se=Math.cos(me),be=Math.sin(me),qe=new SVG.Point(V.x+Se,V.y+be),re[$e]=[new SVG.Point(qe.x+J*be,qe.y-J*Se),qe,new SVG.Point(qe.x-J*be,qe.y+J*Se)],me+=O;for(re[0][0]=re[0][1].clone(),re[re.length-1][2]=re[re.length-1][1].clone(),b=new SVG.Matrix().rotate(Vt).scale(Rt,Tt).rotate(-Vt),$e=0,Fe=re.length;$e<Fe;$e++)re[$e][0]=re[$e][0].transform(b),re[$e][1]=re[$e][1].transform(b),re[$e][2]=re[$e][2].transform(b);for($e=1,Fe=re.length;$e<Fe;$e++)ut=(qe=re[$e-1][2]).x,mt=qe.y,kt=(qe=re[$e][0]).x,Mt=qe.y,Kt=(qe=re[$e][1]).x,Ds=qe.y,Zt.push(["C",ut,mt,kt,Mt,Kt,Ds]);return Zt}(this.pos,n),n=i[0]}return n[0]="C",this.pos=[n[5],n[6]],this.reflection=[2*n[5]-n[3],2*n[6]-n[4]],i}function a(n,i){if(i===!1)return!1;for(var c=i,f=n.length;c<f;++c)if(n[c][0]=="M")return c;return!1}SVG.extend(SVG.PathArray,{morph:function(n){for(var i=this.value,c=this.parse(n),f=0,g=0,x=!1,b=!1;f!==!1||g!==!1;){var w;x=a(i,f!==!1&&f+1),b=a(c,g!==!1&&g+1),f===!1&&(f=(w=new SVG.PathArray(_.start).bbox()).height==0||w.width==0?i.push(i[0])-1:i.push(["M",w.x+w.width/2,w.y+w.height/2])-1),g===!1&&(g=(w=new SVG.PathArray(_.dest).bbox()).height==0||w.width==0?c.push(c[0])-1:c.push(["M",w.x+w.width/2,w.y+w.height/2])-1);var _=W(i,f,x,c,g,b);i=i.slice(0,f).concat(_.start,x===!1?[]:i.slice(x)),c=c.slice(0,g).concat(_.dest,b===!1?[]:c.slice(b)),f=x!==!1&&f+_.start.length,g=b!==!1&&g+_.dest.length}return this.value=i,this.destination=new SVG.PathArray,this.destination.value=c,this}})}(),(function(){function W(e){e.remember("_draggable",this),this.el=e}W.prototype.init=function(e,t){var r=this;this.constraint=e,this.value=t,this.el.on("mousedown.drag",function(a){r.start(a)}),this.el.on("touchstart.drag",function(a){r.start(a)})},W.prototype.transformPoint=function(e,t){var r=(e=e||window.event).changedTouches&&e.changedTouches[0]||e;return this.p.x=r.clientX-(t||0),this.p.y=r.clientY,this.p.matrixTransform(this.m)},W.prototype.getBBox=function(){var e=this.el.bbox();return this.el instanceof SVG.Nested&&(e=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(e.x=this.el.x(),e.y=this.el.y()),e},W.prototype.start=function(e){if(e.type!="click"&&e.type!="mousedown"&&e.type!="mousemove"||(e.which||e.buttons)==1){var t=this;if(this.el.fire("beforedrag",{event:e,handler:this}),!this.el.event().defaultPrevented){e.preventDefault(),e.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var r,a=this.getBBox();if(this.el instanceof SVG.Text)switch(r=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":r/=2;break;case"start":r=0}this.startPoints={point:this.transformPoint(e,r),box:a,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(n){t.drag(n)}),SVG.on(window,"touchmove.drag",function(n){t.drag(n)}),SVG.on(window,"mouseup.drag",function(n){t.end(n)}),SVG.on(window,"touchend.drag",function(n){t.end(n)}),this.el.fire("dragstart",{event:e,p:this.startPoints.point,m:this.m,handler:this})}}},W.prototype.drag=function(e){var t=this.getBBox(),r=this.transformPoint(e),a=this.startPoints.box.x+r.x-this.startPoints.point.x,n=this.startPoints.box.y+r.y-this.startPoints.point.y,i=this.constraint,c=r.x-this.startPoints.point.x,f=r.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:e,p:r,m:this.m,handler:this}),this.el.event().defaultPrevented)return r;if(typeof i=="function"){var g=i.call(this.el,a,n,this.m);typeof g=="boolean"&&(g={x:g,y:g}),g.x===!0?this.el.x(a):g.x!==!1&&this.el.x(g.x),g.y===!0?this.el.y(n):g.y!==!1&&this.el.y(g.y)}else typeof i=="object"&&(i.minX!=null&&a<i.minX?c=(a=i.minX)-this.startPoints.box.x:i.maxX!=null&&a>i.maxX-t.width&&(c=(a=i.maxX-t.width)-this.startPoints.box.x),i.minY!=null&&n<i.minY?f=(n=i.minY)-this.startPoints.box.y:i.maxY!=null&&n>i.maxY-t.height&&(f=(n=i.maxY-t.height)-this.startPoints.box.y),i.snapToGrid!=null&&(a-=a%i.snapToGrid,n-=n%i.snapToGrid,c-=c%i.snapToGrid,f-=f%i.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:c,y:f},!0):this.el.move(a,n));return r},W.prototype.end=function(e){var t=this.drag(e);this.el.fire("dragend",{event:e,p:t,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(e,t){typeof e!="function"&&typeof e!="object"||(t=e,e=!0);var r=this.remember("_draggable")||new W(this);return(e=e===void 0||e)?r.init(t||{},e):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}).call(void 0),function(){function W(e){this.el=e,e.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(t,r,a){var n=typeof t!="string"?t:r[t];return a?n/2:n},this.pointCoords=function(t,r){var a=this.pointsList[t];return{x:this.pointCoord(a[0],r,t==="t"||t==="b"),y:this.pointCoord(a[1],r,t==="r"||t==="l")}}}W.prototype.init=function(e,t){var r=this.el.bbox();this.options={};var a=this.el.selectize.defaults.points;for(var n in this.el.selectize.defaults)this.options[n]=this.el.selectize.defaults[n],t[n]!==void 0&&(this.options[n]=t[n]);var i=["points","pointsExclude"];for(var n in i){var c=this.options[i[n]];typeof c=="string"?c=c.length>0?c.split(/\s*,\s*/i):[]:typeof c=="boolean"&&i[n]==="points"&&(c=c?a:[]),this.options[i[n]]=c}this.options.points=[a,this.options.points].reduce(function(f,g){return f.filter(function(x){return g.indexOf(x)>-1})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(f,g){return f.filter(function(x){return g.indexOf(x)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(r.x,r.y)),this.options.deepSelect&&["line","polyline","polygon"].indexOf(this.el.type)!==-1?this.selectPoints(e):this.selectRect(e),this.observe(),this.cleanup()},W.prototype.selectPoints=function(e){return this.pointSelection.isSelected=e,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},W.prototype.getPointArray=function(){var e=this.el.bbox();return this.el.array().valueOf().map(function(t){return[t[0]-e.x,t[1]-e.y]})},W.prototype.drawPoints=function(){for(var e=this,t=this.getPointArray(),r=0,a=t.length;r<a;++r){var n=function(c){return function(f){(f=f||window.event).preventDefault?f.preventDefault():f.returnValue=!1,f.stopPropagation();var g=f.pageX||f.touches[0].pageX,x=f.pageY||f.touches[0].pageY;e.el.fire("point",{x:g,y:x,i:c,event:f})}}(r),i=this.drawPoint(t[r][0],t[r][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",n).on("mousedown",n);this.pointSelection.set.add(i)}},W.prototype.drawPoint=function(e,t){var r=this.options.pointType;switch(r){case"circle":return this.drawCircle(e,t);case"rect":return this.drawRect(e,t);default:if(typeof r=="function")return r.call(this,e,t);throw new Error("Unknown "+r+" point type!")}},W.prototype.drawCircle=function(e,t){return this.nested.circle(this.options.pointSize).center(e,t)},W.prototype.drawRect=function(e,t){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(e,t)},W.prototype.updatePointSelection=function(){var e=this.getPointArray();this.pointSelection.set.each(function(t){this.cx()===e[t][0]&&this.cy()===e[t][1]||this.center(e[t][0],e[t][1])})},W.prototype.updateRectSelection=function(){var e=this,t=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:t.width,height:t.height}),this.options.points.length&&this.options.points.map(function(a,n){var i=e.pointCoords(a,t);e.rectSelection.set.get(n+1).center(i.x,i.y)}),this.options.rotationPoint){var r=this.rectSelection.set.length();this.rectSelection.set.get(r-1).center(t.width/2,20)}},W.prototype.selectRect=function(e){var t=this,r=this.el.bbox();function a(c){return function(f){(f=f||window.event).preventDefault?f.preventDefault():f.returnValue=!1,f.stopPropagation();var g=f.pageX||f.touches[0].pageX,x=f.pageY||f.touches[0].pageY;t.el.fire(c,{x:g,y:x,event:f})}}if(this.rectSelection.isSelected=e,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(r.width,r.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(c,f){var g=t.pointCoords(c,r),x=t.drawPoint(g.x,g.y).attr("class",t.options.classPoints+"_"+c).on("mousedown",a(c)).on("touchstart",a(c));t.rectSelection.set.add(x)}),this.rectSelection.set.each(function(){this.addClass(t.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var n=function(c){(c=c||window.event).preventDefault?c.preventDefault():c.returnValue=!1,c.stopPropagation();var f=c.pageX||c.touches[0].pageX,g=c.pageY||c.touches[0].pageY;t.el.fire("rot",{x:f,y:g,event:c})},i=this.drawPoint(r.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",n).on("mousedown",n);this.rectSelection.set.add(i)}},W.prototype.handler=function(){var e=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(e.x,e.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},W.prototype.observe=function(){var e=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){e.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch{}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){e.handler()})},W.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(e,t){return typeof e=="object"&&(t=e,e=!0),(this.remember("_selectHandler")||new W(this)).init(e===void 0||e,t||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function W(e){e.remember("_resizeHandler",this),this.el=e,this.parameters={},this.lastUpdateCall=null,this.p=e.doc().node.createSVGPoint()}W.prototype.transformPoint=function(e,t,r){return this.p.x=e-(this.offset.x-window.pageXOffset),this.p.y=t-(this.offset.y-window.pageYOffset),this.p.matrixTransform(r||this.m)},W.prototype._extractPosition=function(e){return{x:e.clientX!=null?e.clientX:e.touches[0].clientX,y:e.clientY!=null?e.clientY:e.touches[0].clientY}},W.prototype.init=function(e){var t=this;if(this.stop(),e!=="stop"){for(var r in this.options={},this.el.resize.defaults)this.options[r]=this.el.resize.defaults[r],e[r]!==void 0&&(this.options[r]=e[r]);this.el.on("lt.resize",function(a){t.resize(a||window.event)}),this.el.on("rt.resize",function(a){t.resize(a||window.event)}),this.el.on("rb.resize",function(a){t.resize(a||window.event)}),this.el.on("lb.resize",function(a){t.resize(a||window.event)}),this.el.on("t.resize",function(a){t.resize(a||window.event)}),this.el.on("r.resize",function(a){t.resize(a||window.event)}),this.el.on("b.resize",function(a){t.resize(a||window.event)}),this.el.on("l.resize",function(a){t.resize(a||window.event)}),this.el.on("rot.resize",function(a){t.resize(a||window.event)}),this.el.on("point.resize",function(a){t.resize(a||window.event)}),this.update()}},W.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},W.prototype.resize=function(e){var t=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var r=this._extractPosition(e.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(r.x,r.y),x:e.detail.x,y:e.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},this.el.type==="text"&&(this.parameters.fontSize=this.el.attr()["font-size"]),e.detail.i!==void 0){var a=this.el.array().valueOf();this.parameters.i=e.detail.i,this.parameters.pointCoords=[a[e.detail.i][0],a[e.detail.i][1]]}switch(e.type){case"lt":this.calc=function(n,i){var c=this.snapToGrid(n,i);if(this.parameters.box.width-c[0]>0&&this.parameters.box.height-c[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x+c[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-c[0]);c=this.checkAspectRatio(c),this.el.move(this.parameters.box.x+c[0],this.parameters.box.y+c[1]).size(this.parameters.box.width-c[0],this.parameters.box.height-c[1])}};break;case"rt":this.calc=function(n,i){var c=this.snapToGrid(n,i,2);if(this.parameters.box.width+c[0]>0&&this.parameters.box.height-c[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x-c[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+c[0]);c=this.checkAspectRatio(c,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+c[1]).size(this.parameters.box.width+c[0],this.parameters.box.height-c[1])}};break;case"rb":this.calc=function(n,i){var c=this.snapToGrid(n,i,0);if(this.parameters.box.width+c[0]>0&&this.parameters.box.height+c[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x-c[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+c[0]);c=this.checkAspectRatio(c),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+c[0],this.parameters.box.height+c[1])}};break;case"lb":this.calc=function(n,i){var c=this.snapToGrid(n,i,1);if(this.parameters.box.width-c[0]>0&&this.parameters.box.height+c[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x+c[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-c[0]);c=this.checkAspectRatio(c,!0),this.el.move(this.parameters.box.x+c[0],this.parameters.box.y).size(this.parameters.box.width-c[0],this.parameters.box.height+c[1])}};break;case"t":this.calc=function(n,i){var c=this.snapToGrid(n,i,2);if(this.parameters.box.height-c[1]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y+c[1]).height(this.parameters.box.height-c[1])}};break;case"r":this.calc=function(n,i){var c=this.snapToGrid(n,i,0);if(this.parameters.box.width+c[0]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+c[0])}};break;case"b":this.calc=function(n,i){var c=this.snapToGrid(n,i,0);if(this.parameters.box.height+c[1]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+c[1])}};break;case"l":this.calc=function(n,i){var c=this.snapToGrid(n,i,1);if(this.parameters.box.width-c[0]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x+c[0],this.parameters.box.y).width(this.parameters.box.width-c[0])}};break;case"rot":this.calc=function(n,i){var c=n+this.parameters.p.x,f=i+this.parameters.p.y,g=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),x=Math.atan2(f-this.parameters.box.y-this.parameters.box.height/2,c-this.parameters.box.x-this.parameters.box.width/2),b=this.parameters.rotation+180*(x-g)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(b-b%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(n,i){var c=this.snapToGrid(n,i,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),f=this.el.array().valueOf();f[this.parameters.i][0]=this.parameters.pointCoords[0]+c[0],f[this.parameters.i][1]=this.parameters.pointCoords[1]+c[1],this.el.plot(f)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:e}),SVG.on(window,"touchmove.resize",function(n){t.update(n||window.event)}),SVG.on(window,"touchend.resize",function(){t.done()}),SVG.on(window,"mousemove.resize",function(n){t.update(n||window.event)}),SVG.on(window,"mouseup.resize",function(){t.done()})},W.prototype.update=function(e){if(e){var t=this._extractPosition(e),r=this.transformPoint(t.x,t.y),a=r.x-this.parameters.p.x,n=r.y-this.parameters.p.y;this.lastUpdateCall=[a,n],this.calc(a,n),this.el.fire("resizing",{dx:a,dy:n,event:e})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},W.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},W.prototype.snapToGrid=function(e,t,r,a){var n;return a!==void 0?n=[(r+e)%this.options.snapToGrid,(a+t)%this.options.snapToGrid]:(r=r??3,n=[(this.parameters.box.x+e+(1&r?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+t+(2&r?0:this.parameters.box.height))%this.options.snapToGrid]),e<0&&(n[0]-=this.options.snapToGrid),t<0&&(n[1]-=this.options.snapToGrid),e-=Math.abs(n[0])<this.options.snapToGrid/2?n[0]:n[0]-(e<0?-this.options.snapToGrid:this.options.snapToGrid),t-=Math.abs(n[1])<this.options.snapToGrid/2?n[1]:n[1]-(t<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(e,t,r,a)},W.prototype.constraintToBox=function(e,t,r,a){var n,i,c=this.options.constraint||{};return a!==void 0?(n=r,i=a):(n=this.parameters.box.x+(1&r?0:this.parameters.box.width),i=this.parameters.box.y+(2&r?0:this.parameters.box.height)),c.minX!==void 0&&n+e<c.minX&&(e=c.minX-n),c.maxX!==void 0&&n+e>c.maxX&&(e=c.maxX-n),c.minY!==void 0&&i+t<c.minY&&(t=c.minY-i),c.maxY!==void 0&&i+t>c.maxY&&(t=c.maxY-i),[e,t]},W.prototype.checkAspectRatio=function(e,t){if(!this.options.saveAspectRatio)return e;var r=e.slice(),a=this.parameters.box.width/this.parameters.box.height,n=this.parameters.box.width+e[0],i=this.parameters.box.height-e[1],c=n/i;return c<a?(r[1]=n/a-this.parameters.box.height,t&&(r[1]=-r[1])):c>a&&(r[0]=this.parameters.box.width-i*a,t&&(r[0]=-r[0])),r},SVG.extend(SVG.Element,{resize:function(e){return(this.remember("_resizeHandler")||new W(this)).init(e||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),window.Apex===void 0&&(window.Apex={});var jr=function(){function W(e){h(this,W),this.ctx=e,this.w=e.w}return m(W,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","highlightSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new K(this.ctx),this.ctx.axes=new tt(this.ctx),this.ctx.core=new dr(this.ctx.el,this.ctx),this.ctx.config=new Re({}),this.ctx.data=new ye(this.ctx),this.ctx.grid=new oe(this.ctx),this.ctx.graphics=new B(this.ctx),this.ctx.coreUtils=new te(this.ctx),this.ctx.crosshairs=new Qe(this.ctx),this.ctx.events=new rt(this.ctx),this.ctx.exports=new ne(this.ctx),this.ctx.fill=new Pe(this.ctx),this.ctx.localization=new et(this.ctx),this.ctx.options=new Je,this.ctx.responsive=new Ct(this.ctx),this.ctx.series=new ie(this.ctx),this.ctx.theme=new at(this.ctx),this.ctx.formatters=new Ie(this.ctx),this.ctx.titleSubtitle=new vt(this.ctx),this.ctx.legend=new Pt(this.ctx),this.ctx.toolbar=new ks(this.ctx),this.ctx.tooltip=new At(this.ctx),this.ctx.dimensions=new ss(this.ctx),this.ctx.updateHelpers=new Mr(this.ctx),this.ctx.zoomPanSelection=new We(this.ctx),this.ctx.w.globals.tooltip=new At(this.ctx)}}]),W}(),Xr=function(){function W(e){h(this,W),this.ctx=e,this.w=e.w}return m(W,[{key:"clear",value:function(e){var t=e.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:t})}},{key:"killSVG",value:function(e){e.each(function(){this.removeClass("*"),this.off(),this.stop()},!0),e.ungroup(),e.clear()}},{key:"clearDomElements",value:function(e){var t=this,r=e.isUpdating,a=this.w.globals.dom.Paper.node;a.parentNode&&a.parentNode.parentNode&&!r&&(a.parentNode.parentNode.style.minHeight="unset");var n=this.w.globals.dom.baseEl;n&&this.ctx.eventList.forEach(function(c){n.removeEventListener(c,t.ctx.events.documentEvent)});var i=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(i.Paper),i.Paper.remove(),i.elWrap=null,i.elGraphical=null,i.elLegendWrap=null,i.elLegendForeign=null,i.baseEl=null,i.elGridRect=null,i.elGridRectMask=null,i.elGridRectBarMask=null,i.elGridRectMarkerMask=null,i.elForecastMask=null,i.elNonForecastMask=null,i.elDefs=null}}]),W}(),Tr=new WeakMap,ua=function(){function W(e,t){h(this,W),this.opts=t,this.ctx=this,this.w=new ot(t).init(),this.el=e,this.w.globals.cuid=S.randomId(),this.w.globals.chartID=this.w.config.chart.id?S.escapeString(this.w.config.chart.id):this.w.globals.cuid,new jr(this).initModules(),this.create=S.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return m(W,[{key:"render",value:function(){var e=this;return new Promise(function(t,r){if(e.el!==null){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),e.w.config.chart.id&&Apex._chartInstances.push({id:e.w.globals.chartID,group:e.w.config.chart.group,chart:e}),e.setLocale(e.w.config.chart.defaultLocale);var a=e.w.config.chart.events.beforeMount;typeof a=="function"&&a(e,e.w),e.events.fireEvent("beforeMount",[e,e.w]),window.addEventListener("resize",e.windowResizeHandler),function(w,_){var T=!1;if(w.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var M=w.getBoundingClientRect();w.style.display!=="none"&&M.width!==0||(T=!0)}var V=new ResizeObserver(function(X){T&&_.call(w,X),T=!0});w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(w.children).forEach(function(X){return V.observe(X)}):V.observe(w),Tr.set(_,V)}(e.el.parentNode,e.parentResizeHandler);var n=e.el.getRootNode&&e.el.getRootNode(),i=S.is("ShadowRoot",n),c=e.el.ownerDocument,f=i?n.getElementById("apexcharts-css"):c.getElementById("apexcharts-css");if(!f){var g;(f=document.createElement("style")).id="apexcharts-css",f.textContent=`@keyframes opaque {
  0% {
    opacity: 0
  }

  to {
    opacity: 1
  }
}

@keyframes resizeanim {

  0%,
  to {
    opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  direction: ltr !important;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0, 0, 0, .5);
  box-shadow: 0 0 1px rgba(255, 255, 255, .5);
  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

rect.legend-mouseover-inactive,
.legend-mouseover-inactive rect,
.legend-mouseover-inactive path,
.legend-mouseover-inactive circle,
.legend-mouseover-inactive line,
.legend-mouseover-inactive text.apexcharts-yaxis-title-text,
.legend-mouseover-inactive text.apexcharts-yaxis-label {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255, 255, 255, .96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30, 30, 30, .8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0, 0, 0, .7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,
.apexcharts-tooltip-text-y-value,
.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,
.apexcharts-tooltip-text-goals-value:empty,
.apexcharts-tooltip-text-y-label:empty,
.apexcharts-tooltip-text-y-value:empty,
.apexcharts-tooltip-text-z-value:empty,
.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,
.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),
.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  width: 12px;
  height: 12px;
  position: relative;
  top: 0;
  margin-right: 10px;
  border-radius: 50%
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,
.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,
.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,
.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-xaxistooltip:after,
.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,
.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,
.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-yaxistooltip:after,
.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,
.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,
.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,
.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,
.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_boundingRect,
.svg_select_points_rot {
  pointer-events: none;
  opacity: 0;
  visibility: hidden
}

.apexcharts-selection-rect+g .svg_select_boundingRect,
.apexcharts-selection-rect+g .svg_select_points_rot {
  opacity: 0;
  visibility: hidden
}

.apexcharts-selection-rect+g .svg_select_points_l,
.apexcharts-selection-rect+g .svg_select_points_r {
  cursor: ew-resize;
  opacity: 1;
  visibility: visible
}

.svg_select_points {
  fill: #efefef;
  stroke: #333;
  rx: 2
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,
.apexcharts-pan-icon,
.apexcharts-reset-icon,
.apexcharts-selection-icon,
.apexcharts-toolbar-custom-icon,
.apexcharts-zoom-icon,
.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,
.apexcharts-reset-icon svg,
.apexcharts-zoom-icon svg,
.apexcharts-zoomin-icon svg,
.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,
.apexcharts-theme-dark .apexcharts-pan-icon svg,
.apexcharts-theme-dark .apexcharts-reset-icon svg,
.apexcharts-theme-dark .apexcharts-selection-icon svg,
.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,
.apexcharts-theme-dark .apexcharts-zoom-icon svg,
.apexcharts-theme-dark .apexcharts-zoomin-icon svg,
.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,
.apexcharts-theme-light .apexcharts-reset-icon:hover svg,
.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,
.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,
.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,
.apexcharts-reset-icon,
.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0, 0, 0, .7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
    opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,
.apexcharts-datalabel.apexcharts-element-hidden,
.apexcharts-hide .apexcharts-series-points {
  opacity: 0;
}

.apexcharts-hidden-element-shown {
  opacity: 1;
  transition: 0.25s ease all;
}

.apexcharts-datalabel,
.apexcharts-datalabel-label,
.apexcharts-datalabel-value,
.apexcharts-datalabels,
.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-radialbar-label {
  cursor: pointer;
}

.apexcharts-annotation-rect,
.apexcharts-area-series .apexcharts-area,
.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,
.apexcharts-gridline,
.apexcharts-line,
.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,
.apexcharts-point-annotation-label,
.apexcharts-radar-series path:not(.apexcharts-marker),
.apexcharts-radar-series polygon,
.apexcharts-toolbar svg,
.apexcharts-tooltip .apexcharts-marker,
.apexcharts-xaxis-annotation-label,
.apexcharts-yaxis-annotation-label,
.apexcharts-zoom-rect {
  pointer-events: none
}

.apexcharts-tooltip-active .apexcharts-marker {
  transition: .15s ease all
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,
.resize-triggers,
.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}

.apexcharts-bar-goals-markers {
  pointer-events: none
}

.apexcharts-bar-shadows {
  pointer-events: none
}

.apexcharts-rangebar-goals-markers {
  pointer-events: none
}
`;var x=((g=e.opts.chart)===null||g===void 0?void 0:g.nonce)||e.w.config.chart.nonce;x&&f.setAttribute("nonce",x),i?n.prepend(f):c.head.appendChild(f)}var b=e.create(e.w.config.series,{});if(!b)return t(e);e.mount(b).then(function(){typeof e.w.config.chart.events.mounted=="function"&&e.w.config.chart.events.mounted(e,e.w),e.events.fireEvent("mounted",[e,e.w]),t(b)}).catch(function(w){r(w)})}else r(new Error("Element not found"))})}},{key:"create",value:function(e,t){var r=this,a=this.w;new jr(this).initModules();var n=this.w.globals;if(n.noData=!1,n.animationEnded=!1,this.responsive.checkResponsiveConfig(t),a.config.xaxis.convertedCatToNumeric&&new ue(a.config).convertCatToNumericXaxis(a.config,this.ctx),this.el===null||(this.core.setupElements(),a.config.chart.type==="treemap"&&(a.config.grid.show=!1,a.config.yaxis[0].show=!1),n.svgWidth===0))return n.animationEnded=!0,null;var i=e;e.forEach(function(w,_){w.hidden&&(i=r.legend.legendHelpers.getSeriesAfterCollapsing({realIndex:_}))});var c=te.checkComboSeries(i,a.config.chart.type);n.comboCharts=c.comboCharts,n.comboBarCount=c.comboBarCount;var f=i.every(function(w){return w.data&&w.data.length===0});(i.length===0||f&&n.collapsedSeries.length<1)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(i),this.theme.init(),new ge(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),n.noData&&n.collapsedSeries.length!==n.series.length&&!a.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),n.axisCharts&&(this.core.coreCalculations(),a.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=a.globals.minX,this.ctx.toolbar.maxX=a.globals.maxX),this.formatters.heatmapLabelFormatters(),new te(this).getLargestMarkerSize(),this.dimensions.plotCoords();var g=this.core.xySettings();this.grid.createGridMask();var x=this.core.plotChartType(i,g),b=new ke(this);return b.bringForward(),a.config.dataLabels.background.enabled&&b.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:x,xyRatios:g,dimensions:{plot:{left:a.globals.translateX,top:a.globals.translateY,width:a.globals.gridWidth,height:a.globals.gridHeight}}}}},{key:"mount",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=this,a=r.w;return new Promise(function(n,i){if(r.el===null)return i(new Error("Not enough data to display or target element not found"));(t===null||a.globals.allSeriesCollapsed)&&r.series.handleNoData(),r.grid=new oe(r);var c,f,g=r.grid.drawGrid();if(r.annotations=new Ye(r),r.annotations.drawImageAnnos(),r.annotations.drawTextAnnos(),a.config.grid.position==="back"&&(g&&a.globals.dom.elGraphical.add(g.el),g!=null&&(c=g.elGridBorders)!==null&&c!==void 0&&c.node&&a.globals.dom.elGraphical.add(g.elGridBorders)),Array.isArray(t.elGraph))for(var x=0;x<t.elGraph.length;x++)a.globals.dom.elGraphical.add(t.elGraph[x]);else a.globals.dom.elGraphical.add(t.elGraph);a.config.grid.position==="front"&&(g&&a.globals.dom.elGraphical.add(g.el),g!=null&&(f=g.elGridBorders)!==null&&f!==void 0&&f.node&&a.globals.dom.elGraphical.add(g.elGridBorders)),a.config.xaxis.crosshairs.position==="front"&&r.crosshairs.drawXCrosshairs(),a.config.yaxis[0].crosshairs.position==="front"&&r.crosshairs.drawYCrosshairs(),a.config.chart.type!=="treemap"&&r.axes.drawAxis(a.config.chart.type,g);var b=new le(e.ctx,g),w=new _e(e.ctx,g);if(g!==null&&(b.xAxisLabelCorrections(g.xAxisTickWidth),w.setYAxisTextAlignments(),a.config.yaxis.map(function(T,M){a.globals.ignoreYAxisIndexes.indexOf(M)===-1&&w.yAxisTitleRotate(M,T.opposite)})),r.annotations.drawAxesAnnotations(),!a.globals.noData){if(a.config.tooltip.enabled&&!a.globals.noData&&r.w.globals.tooltip.drawTooltip(t.xyRatios),a.globals.axisCharts&&(a.globals.isXNumeric||a.config.xaxis.convertedCatToNumeric||a.globals.isRangeBar))(a.config.chart.zoom.enabled||a.config.chart.selection&&a.config.chart.selection.enabled||a.config.chart.pan&&a.config.chart.pan.enabled)&&r.zoomPanSelection.init({xyRatios:t.xyRatios});else{var _=a.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(T){_[T]=!1})}a.config.chart.toolbar.show&&!a.globals.allSeriesCollapsed&&r.toolbar.createToolbar()}a.globals.memory.methodsToExec.length>0&&a.globals.memory.methodsToExec.forEach(function(T){T.method(T.params,!1,T.context)}),a.globals.axisCharts||a.globals.noData||r.core.resizeNonAxisCharts(),n(r)})}},{key:"destroy",value:function(){var e,t;window.removeEventListener("resize",this.windowResizeHandler),this.el.parentNode,e=this.parentResizeHandler,(t=Tr.get(e))&&(t.disconnect(),Tr.delete(e));var r=this.w.config.chart.id;r&&Apex._chartInstances.forEach(function(a,n){a.id===S.escapeString(r)&&Apex._chartInstances.splice(n,1)}),new Xr(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(e){var t=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1],a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],n=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],i=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],c=this.w;return c.globals.selection=void 0,e.series&&(this.series.resetSeries(!1,!0,!1),e.series.length&&e.series[0].data&&(e.series=e.series.map(function(f,g){return t.updateHelpers._extendSeries(f,g)})),this.updateHelpers.revertDefaultAxisMinMax()),e.xaxis&&(e=this.updateHelpers.forceXAxisUpdate(e)),e.yaxis&&(e=this.updateHelpers.forceYAxisUpdate(e)),c.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),e.theme&&(e=this.theme.updateThemeOptions(e)),this.updateHelpers._updateOptions(e,r,a,n,i)}},{key:"updateSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(e,t,r)}},{key:"appendSeries",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],a=this.w.config.series.slice();return a.push(e),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(a,t,r)}},{key:"appendData",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this;r.w.globals.dataChanged=!0,r.series.getPreviousPaths();for(var a=r.w.config.series.slice(),n=0;n<a.length;n++)if(e[n]!==null&&e[n]!==void 0)for(var i=0;i<e[n].data.length;i++)a[n].data.push(e[n].data[i]);return r.w.config.series=a,t&&(r.w.globals.initialSeries=S.clone(r.w.config.series)),this.update()}},{key:"update",value:function(e){var t=this;return new Promise(function(r,a){new Xr(t.ctx).clear({isUpdating:!0});var n=t.create(t.w.config.series,e);if(!n)return r(t);t.mount(n).then(function(){typeof t.w.config.chart.events.updated=="function"&&t.w.config.chart.events.updated(t,t.w),t.events.fireEvent("updated",[t,t.w]),t.w.globals.isDirty=!0,r(t)}).catch(function(i){a(i)})})}},{key:"getSyncedCharts",value:function(){var e=this.getGroupedCharts(),t=[this];return e.length&&(t=[],e.forEach(function(r){t.push(r)})),t}},{key:"getGroupedCharts",value:function(){var e=this;return Apex._chartInstances.filter(function(t){if(t.group)return!0}).map(function(t){return e.w.config.chart.group===t.group?t.chart:e})}},{key:"toggleSeries",value:function(e){return this.series.toggleSeries(e)}},{key:"highlightSeriesOnLegendHover",value:function(e,t){return this.series.toggleSeriesOnHover(e,t)}},{key:"showSeries",value:function(e){this.series.showSeries(e)}},{key:"hideSeries",value:function(e){this.series.hideSeries(e)}},{key:"highlightSeries",value:function(e){this.series.highlightSeries(e)}},{key:"isSeriesHidden",value:function(e){this.series.isSeriesHidden(e)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(e,t)}},{key:"addEventListener",value:function(e,t){this.events.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){this.events.removeEventListener(e,t)}},{key:"addXaxisAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,a=this;r&&(a=r),a.annotations.addXaxisAnnotationExternal(e,t,a)}},{key:"addYaxisAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,a=this;r&&(a=r),a.annotations.addYaxisAnnotationExternal(e,t,a)}},{key:"addPointAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,a=this;r&&(a=r),a.annotations.addPointAnnotationExternal(e,t,a)}},{key:"clearAnnotations",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,t=this;e&&(t=e),t.annotations.clearAnnotations(t)}},{key:"removeAnnotation",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,r=this;t&&(r=t),r.annotations.removeAnnotation(r,e)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(e,t){return this.coreUtils.getSeriesTotalsXRange(e,t)}},{key:"getHighestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new Le(this.ctx).getMinYMaxY(e).highestY}},{key:"getLowestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new Le(this.ctx).getMinYMaxY(e).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(e,t){return this.updateHelpers.toggleDataPointSelection(e,t)}},{key:"zoomX",value:function(e,t){this.ctx.toolbar.zoomUpdateOptions(e,t)}},{key:"setLocale",value:function(e){this.localization.setCurrentLocaleValues(e)}},{key:"dataURI",value:function(e){return new ne(this.ctx).dataURI(e)}},{key:"exportToCSV",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new ne(this.ctx).exportToCSV(e)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var e=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){e.w.globals.resized=!0,e.w.globals.dataChanged=!1,e.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var e=this.w.config.chart.redrawOnWindowResize;typeof e=="function"&&(e=e()),e&&this._windowResize()}}],[{key:"getChartByID",value:function(e){var t=S.escapeString(e);if(Apex._chartInstances){var r=Apex._chartInstances.filter(function(a){return a.id===t})[0];return r&&r.chart}}},{key:"initOnLoad",value:function(){for(var e=document.querySelectorAll("[data-apexcharts]"),t=0;t<e.length;t++)new W(e[t],JSON.parse(e[t].getAttribute("data-options"))).render()}},{key:"exec",value:function(e,t){var r=this.getChartByID(e);if(r){r.w.globals.isExecCalled=!0;var a=null;if(r.publicMethods.indexOf(t)!==-1){for(var n=arguments.length,i=new Array(n>2?n-2:0),c=2;c<n;c++)i[c-2]=arguments[c];a=r[t].apply(r,i)}return a}}},{key:"merge",value:function(e,t){return S.extend(e,t)}}]),W}();s.exports=ua}(_i,_i.exports)),_i.exports}var yb=xb();const Xi=bb(yb),wb={class:"h-full p-4 pb-8 md:px-6 items-center text-dark dark:text-gray-950 bg-white/30 rounded-3xl dark:bg-gray-950/20"},kb={__name:"LineGraph",props:{dateRange:Object,isLoading:Boolean,transactionHistory:Array},emits:["periodChange"],setup(s,{emit:o}){const d=s,u=o,h=qt(),v=G(null);let m=null;const y=Ve(()=>{if(!d.transactionHistory)return{borrowed:[],returned:[],categories:[]};const L=new Date(d.dateRange.start),E=new Date(d.dateRange.end);E.setHours(23),E.setMinutes(59),E.setSeconds(59),E.setMilliseconds(999);const P=L;P.setHours(L.getHours()+8);const $=[],D=[],N=[],R=d.transactionHistory.filter(Q=>{const Y=new Date(Q.borrow_date),q=new Date(Q.return_date),S=h.transactionItems.some(K=>K.transaction_id===Q.id);return Y>=L&&Y<=E&&S||q>=L&&q<=E&&S}),H=Q=>{const Y=new Date(Q);return new Date(Y.getTime()+8*60*60*1e3).toISOString().split("T")[0]};for(;P<=E;){const Q=L.toISOString().split("T")[0];$.push(Q);const Y=R.filter(S=>S.borrow_date&&H(S.borrow_date)===Q).length,q=R.filter(S=>S.return_date&&H(S.return_date)===Q).length;D.push(Y),N.push(q),L.setDate(L.getDate()+1)}return{borrowed:D,returned:N,categories:$}}),k=G({chart:{height:"95%",maxWidth:"100%",type:"area",fontFamily:"Inter, sans-serif",dropShadow:{enabled:!1},toolbar:{show:!0}},tooltip:{enabled:!0,x:{show:!1}},dataLabels:{enabled:!1},stroke:{width:6,curve:"smooth"},grid:{show:!1,strokeDashArray:1,padding:{left:2,right:2,top:-26}},series:[],legend:{show:!1},xaxis:{categories:[],labels:{show:!0,style:{fontFamily:"Inter, sans-serif",cssClass:"text-md font-normal fill-gray-900 dark:fill-gray-200"}},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{show:!0,labels:{style:{cssClass:"text-md font-normal fill-gray-900 dark:fill-gray-200"}}}}),I=()=>{const L=y.value;k.value.series=[{name:"Borrowed",data:L.borrowed,color:"#bf1029"},{name:"Returned",data:L.returned,color:"#3f8f29"}],k.value.xaxis.categories=L.categories,u("periodChange",d.dateRange),m&&m.updateOptions(k.value)};return it([()=>d.dateRange,()=>d.transactionHistory,()=>d.isLoading],()=>{!d.transactionHistory||d.isLoading||I()},{deep:!0,immediate:!0}),gt(()=>{v.value&&(m=new Xi(v.value,k.value),m.render())}),Nt(()=>{m&&m.destroy()}),(L,E)=>(F(),se("div",wb,[E[0]||(E[0]=l("label",{class:"text-start text-lg 2xl:text-xl tracking-tight font-medium text-black dark:text-gray-200"}," Transactions Made vs Returned Daily: ",-1)),l("div",{class:"mt-3",ref_key:"lineChart",ref:v,id:"line-chart"},null,512)]))}},Cb={class:"p-4 pb-8 md:px-8 items-center text-dark dark:text-gray-950 bg-white/30 rounded-3xl dark:bg-gray-950/20 z-10"},_b={__name:"BarGraph",props:{dateRange:Object,isLoading:Boolean,transactionHistory:Array},emits:["periodChange"],setup(s,{emit:o}){const d=s,u=o,h=qt(),v=G(null);let m=null;const y=Ve(()=>{if(!d.transactionHistory)return{borrowed:[],returned:[],categories:[]};const E=new Date(d.dateRange.start),P=new Date(d.dateRange.end);P.setHours(23),P.setMinutes(59),P.setSeconds(59),P.setMilliseconds(999);const $=E;$.setHours(E.getHours()+8);const D=[],N=[],R=[],H=d.transactionHistory.filter(Y=>{const q=new Date(Y.borrow_date),S=h.transactionItems.some(K=>K.transaction_id===Y.id);return q>=E&&q<=P&&S}),Q=Y=>{const q=new Date(Y);return new Date(q.getTime()+8*60*60*1e3).toISOString().split("T")[0]};for(;$<=P;){const Y=E.toISOString().split("T")[0];D.push(Y);const q=H.filter(K=>K.borrow_date&&Q(K.borrow_date)===Y).length,S=H.filter(K=>K.return_date&&Q(K.borrow_date)===Y).length;N.push(q),R.push(S),E.setDate(E.getDate()+1)}return{borrowed:N,returned:R,categories:D}}),k=G({colors:["#3f8f29","#bf1029"],series:[{name:"Returned",color:"#3f8f29",data:[]},{name:"Unreturned",color:"#bf1029",data:[]}],chart:{type:"bar",height:"98%",stacked:!0,fontFamily:"Inter, sans-serif",toolbar:{show:!0}},plotOptions:{bar:{horizontal:!1,columnWidth:"70%",borderRadius:8}},tooltip:{shared:!0,intersect:!1},stroke:{show:!0,width:0,colors:["transparent"]},grid:{show:!1,strokeDashArray:4},dataLabels:{enabled:!1},legend:{show:!0},xaxis:{categories:[],labels:{show:!0,style:{cssClass:"text-md font-normal fill-gray-900 dark:fill-gray-200"}},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{show:!0,labels:{style:{cssClass:"text-md font-normal fill-gray-900 dark:fill-gray-200"}}},fill:{opacity:1}}),I=()=>{const E=y.value,P=E.borrowed,$=E.returned,D=P.map((R,H)=>Math.max(R-$[H],0)),N=$.map((R,H)=>Math.min(R,P[H]));k.value.series=[{name:"Returned",color:"#3f8f29",data:N},{name:"Unreturned",color:"#bf1029",data:D}],k.value.xaxis.categories=E.categories,u("periodChange",d.dateRange),m&&m.updateOptions(k.value)},L=G(!1);return it([()=>d.dateRange,()=>d.transactionHistory,()=>d.isLoading],()=>{!d.transactionHistory||d.isLoading||(I(),!L.value&&v.value&&(console.log("Initializing chart inside watcher..."),m=new Xi(v.value,k.value),m.render(),L.value=!0))},{deep:!0,immediate:!0}),gt(()=>{!L.value&&v.value&&(m=new Xi(v.value,k.value),m.render(),L.value=!0)}),Nt(()=>{m&&m.destroy()}),(E,P)=>(F(),se("div",Cb,[P[0]||(P[0]=l("label",{class:"text-start text-lg 2xl:text-xl tracking-tight font-medium text-black dark:text-gray-200"}," Returned vs Unreturned Transactions by Day: ",-1)),l("div",{ref_key:"barChart",ref:v},null,512)]))}},Sb={key:0,class:"fixed left-0 top-0 flex h-full w-full items-center justify-center bg-black/60 px-4 py-5"},Ab={class:"flex flex-col items-center justify-center"},Lb={class:"dark:text-gray-200 max-h-[65vh] overflow-auto"},Eb={class:"text-start rounded-2xl py-4 px-8 mb-3 dark:bg-gray-800"},Pb={class:"text-xl mb-1 font-semibold text-white"},Ib={class:"text-gray-300 mb-3"},Mb={class:"flex flex-row text-center items-center"},Tb={key:0,class:"text-sm mb-1 flex flex-row bg-green-200 text-green-800 font-bold py-1 px-2 rounded-xl"},Ob={key:1,class:"text-sm mb-1 flex flex-row bg-red-200 text-red-800 font-bold py-1 px-2 rounded-xl"},$b={key:0,class:"text-gray-300 mb-3 h-full"},Rb={key:1,class:"flex flex-row text-center items-center"},Db={class:""},Nb={class:"text-start mb-3 rounded-2xl py-4 px-8 dark:bg-gray-800 grid grid-cols-2 dark:text-gray-300"},zb={class:""},Bb={class:"font-bold"},Fb={class:""},Hb={class:""},Vb={class:""},Ub={class:"font-bold"},qb={class:""},jb={class:"text-start rounded-2xl mb-3 py-4 px-8 dark:bg-gray-800 dark:text-gray-300"},Xb={key:0,class:"text-xl font-bold mb-1 dark:text-white"},Yb={key:1,class:"text-sm mb-1 flex flex-row bg-red-200 text-red-800 font-bold py-5 px-5 rounded-xl"},Wb={key:2,class:"text-lg font-semibold mb-1 dark:text-white"},Gb={key:3,class:"w-full border-2 rounded-xl border-gray-300"},Qb={class:"border bg-gray-900"},Zb={class:"py-2 px-1"},Kb={class:"flex items-center cursor-pointer select-none text-dark dark:text-white"},Jb={class:"relative"},ex=["checked"],tx={key:0},sx={key:1},rx={key:0,colspan:"2",class:"p-1"},ax={class:"items-center cursor-pointer select-none text-dark dark:text-white flex flex-row gap-10"},ix={class:"relative max-w-fit"},ox=["checked","onChange"],nx={class:""},lx={key:0},cx={key:1},dx={class:"text-start w-full"},ux={key:1,class:"text-center"},hx={key:2,class:"text-center"},fx={key:4,class:"mt-3"},px={key:5,class:"text-lg font-semibold mb-1 dark:text-white"},gx={key:6,class:"w-full border-2 rounded-xl border-gray-300"},mx={class:"border bg-gray-900"},vx={class:"py-2 px-1"},bx={class:"flex items-center cursor-pointer select-none text-dark dark:text-white"},xx={class:"relative"},yx=["checked"],wx={key:0},kx={key:1},Cx={key:0,colspan:"2",class:"p-1"},_x={class:"items-center cursor-pointer select-none text-dark dark:text-white flex flex-row gap-10"},Sx={class:"relative max-w-fit"},Ax=["checked","onChange"],Lx={class:""},Ex={key:0},Px={key:1},Ix={class:"text-start w-full"},Mx={key:1,class:"text-center"},Tx={__name:"UpdateTransactionModal",props:{modelValue:Boolean,transactionName:String,transaction:Object,transactionItems:Array,officeEquipments:Array,officeSupplies:Array,equipmentCopies:Array,officeList:Array,categoryList:Array,borrowers:Array,users:Array},emits:["update:modelValue","confirmDelete"],setup(s,{emit:o}){const d=G(!1),u=qt(),h=s,v=G([]),m=o,y=G(null),k=()=>{m("update:modelValue",!1)},I=async()=>{var B;d.value=!0;try{for(const te of v.value)if(te.item_type==="Equipment Copy")if(te.isChecked&&te.returned_date===null){E(!0,te);const Te=new Date(new Date().toLocaleString("en-US",{timeZone:"Asia/Manila"}));$(Te,!0,te)}else!te.isChecked&&te.returned_date!==null&&(E(!1,te),$(null,!1,te));else if(te.item_type==="Office Supply"){const fe=(B=h.officeSupplies)==null?void 0:B.find(Te=>Te.id===te.item_copy_id);if(te.isChecked&&te.returned_date===null){const Te=fe.supply_quantity+te.quantity;L(Te,te);const Ae=new Date(new Date().toLocaleString("en-US",{timeZone:"Asia/Manila"}));$(Ae,!0,te)}else if(!te.isChecked&&te.returned_date!==null){const Te=fe.supply_quantity-te.quantity;L(Te,te),$(null,!1,te)}}}catch(te){console.error("Error updating items:",te)}finally{const te=v.value.every(fe=>fe.isChecked);P(te?new Date:null)}},L=async(B,te)=>{var fe;try{const Te={id:te.item_copy_id,supply_quantity:B};u.updateOfficeSupply(Te),await new Promise(Ae=>setTimeout(Ae,500)),console.log("Updated Office Supply successfully:",Te)}catch(Te){console.error("Error updating office supply:",Te),console.error("Error details:",(fe=Te.response)==null?void 0:fe.data)}},E=async(B,te)=>{var fe;try{const Te={id:te.item_copy_id,is_available:B};u.updateEquipmentCopy(Te),await new Promise(Ae=>setTimeout(Ae,500)),console.log("Updated Equipment Copy successfully:",Te)}catch(Te){console.error("Error updating item copy:",Te),console.error("Error details:",(fe=Te.response)==null?void 0:fe.data)}},P=async B=>{var te;try{d.value=!0;const fe=B instanceof Date?new Date(B).toLocaleString("en-US",{timeZone:"Asia/Manila",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(/(\d+)\/(\d+)\/(\d+),\s/,"$3-$1-$2 "):B;for(const Ae of N.value)await $(fe,!0,Ae);const Te={id:h.transaction.id,return_date:fe};await u.updateTransactionHistory(Te),await new Promise(Ae=>setTimeout(Ae,500)),console.log("Updated Transaction successfully:",Te)}catch(fe){console.error("Error updating transaction item:",fe),console.error("Error details:",(te=fe.response)==null?void 0:te.data)}finally{d.value=!1,pt.emit("show-toast",{message:"Transaction updated successfully!",type:"success"}),k()}},$=async(B,te,fe)=>{var Te,Ae,Ie,Ee;try{const Ne=B instanceof Date?new Date(B).toLocaleString("en-US",{timeZone:"Asia/Manila",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(/(\d+)\/(\d+)\/(\d+),\s/,"$3-$1-$2 "):B,Me={id:fe.id,returned:te,return_date:Ne};u.updateTransactionItem(Me),await new Promise(ze=>setTimeout(ze,500)),console.log("Updated Transaction Item successfully:",Me)}catch(Ne){console.error("Error details:",{message:Ne.message,response:(Te=Ne.response)==null?void 0:Te.data,status:(Ae=Ne.response)==null?void 0:Ae.status}),pt.emit("show-toast",{message:`Error updating transaction: ${((Ee=(Ie=Ne.response)==null?void 0:Ie.data)==null?void 0:Ee.message)||Ne.message}`,type:"error"})}finally{}},D=B=>{y.value&&!y.value.contains(B.target)&&k()},N=G([]);gt(()=>{console.log("PROPS TRANSACTION ITEMS",h.transactionItems),console.log("PROPS TRANSACTION ID",h.transaction.id),N.value=h.transactionItems.filter(B=>h.transaction.id===B.transaction_id).map(B=>({...B,isChecked:!!B.returned_date})),console.log("🚀 ~ onMounted ~ selectedTransactionItems:",N.value),N.value.length&&(v.value=N.value.map(B=>({...B,isChecked:!!B.returned_date}))),document.addEventListener("click",D)}),console.log("transaction items: ",v);const R=Ve(()=>v.value.filter(B=>B.item_type==="Equipment Copy").every(B=>B.isChecked)),H=Ve(()=>v.value.filter(B=>B.item_type==="Office Supply").every(B=>B.isChecked)),Q=()=>{const B=!R.value;v.value.filter(te=>te.item_type==="Equipment Copy").forEach(te=>te.isChecked=B)},Y=()=>{const B=!H.value;v.value.filter(te=>te.item_type==="Office Supply").forEach(te=>te.isChecked=B)},q=B=>{B.isChecked=!B.isChecked};Nt(()=>{document.removeEventListener("click",D)});const S=Ve(()=>v.value.filter(B=>B.item_type==="Equipment Copy").length),K=Ve(()=>v.value.filter(B=>B.item_type==="Office Supply").length),ae=B=>B?new Date(B).toLocaleString("en-US",{month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):"N/A";return(B,te)=>{var fe,Te,Ae,Ie,Ee,Ne;return s.modelValue?(F(),se("div",Sb,[d.value?(F(),se("div",{key:0,ref_key:"modalContainer",ref:y},[l("div",Ab,[he(Ht)])],512)):(F(),se("div",{key:1,ref_key:"modalContainer",ref:y,class:"w-full max-w-[900px] max-h-[87vh] rounded-[20px] mt-13 bg-white px-8 py-8 text-center border-4 dark:bg-gray-950 dark:border-gray-100"},[te[12]||(te[12]=l("h3",{class:"text-3xl mb-3 mt-1 font-semibold text-dark dark:text-white"}," Update Transaction ",-1)),l("div",Lb,[l("div",Eb,[l("p",Pb,"Transaction #"+pe(s.transaction.id),1),l("p",Ib,pe(ae(s.transaction.borrow_date)),1),l("div",Mb,[te[2]||(te[2]=l("p",{class:"mr-2 text-lg"},"Status:",-1)),s.transaction.return_date?(F(),se("p",Tb,[he(de(Yp),{class:"text-lg mr-1 font-bold"}),te[0]||(te[0]=xt("Returned "))])):(F(),se("p",Ob,[he(de(Tl),{class:"text-xl mr-1 font-bold"}),te[1]||(te[1]=xt("Items Not Yet Returned "))]))]),s.transaction.return_date?(F(),se("p",$b,"Return Date: "+pe(ae(s.transaction.return_date)),1)):we("",!0),s.transaction.remarks?(F(),se("div",Rb,[te[3]||(te[3]=l("p",{class:"mr-2 text-lg"},"Remarks:",-1)),l("p",Db,pe(s.transaction.remarks),1)])):we("",!0)]),l("div",Nb,[l("div",zb,[te[4]||(te[4]=l("p",{class:"text-lg font-bold mb-1 dark:text-white"},"Borrower Information:",-1)),l("p",Bb,pe(((fe=h.borrowers.find(Me=>Number(Me.id)===Number(s.transaction.borrower_id)))==null?void 0:fe.borrowers_name)||"Unknown First Name"),1),l("p",Fb,pe(((Te=h.borrowers.find(Me=>Number(Me.id)===Number(s.transaction.borrower_id)))==null?void 0:Te.borrowers_contact)||"Unknown Contact"),1),l("p",Hb,pe(((Ae=h.officeList.find(Me=>{var ze;return Number(Me.id)===Number((ze=h.borrowers.find(Je=>Number(Je.id)===Number(s.transaction.borrower_id)))==null?void 0:ze.office_id)}))==null?void 0:Ae.office_name)||"Unknown Office"),1)]),l("div",Vb,[te[5]||(te[5]=l("p",{class:"text-lg font-bold mb-1 dark:text-white"},"Lender Information:",-1)),l("p",Ub,pe(((Ie=h.users.find(Me=>Number(Me.id)===Number(s.transaction.lender_id)))==null?void 0:Ie.firstName)||"Unknown First Name")+" "+pe(((Ee=h.users.find(Me=>Number(Me.id)===Number(s.transaction.lender_id)))==null?void 0:Ee.lastName)||"Unknown Last Name"),1),l("p",qb,pe(((Ne=h.users.find(Me=>Number(Me.id)===Number(s.transaction.lender_id)))==null?void 0:Ne.email)||"Unknown Email"),1)])]),l("div",jb,[K.value>0?(F(),se("p",Xb,"Borrowed Items")):we("",!0),v.value.length===0?(F(),se("p",Yb,[he(de(Tl),{class:"text-xl mr-1 font-bold"}),te[6]||(te[6]=xt("NO ITEMS FOUND "))])):we("",!0),K.value>0?(F(),se("p",Wb,"Office Supplies:")):we("",!0),K.value>0?(F(),se("table",Gb,[l("thead",null,[l("tr",Qb,[l("th",Zb,[l("label",Kb,[l("div",Jb,[l("input",{type:"checkbox",class:"sr-only",checked:H.value,onChange:Y},null,40,ex),H.value?(F(),se("span",tx,[he(de(qa),{class:"h-7 w-7"})])):(F(),se("span",sx,[he(de(ja),{class:"h-7 w-7"})]))])])]),te[7]||(te[7]=l("th",{class:"text-start"},"Office Supply",-1)),te[8]||(te[8]=l("th",null,"Quantity",-1)),te[9]||(te[9]=l("th",null,"Serial Number",-1))])]),(F(!0),se(ft,null,yt(v.value,Me=>{var ze,Je;return F(),se("tr",{key:Me.id},[Me.item_type==="Office Supply"?(F(),se("td",rx,[l("label",ax,[l("div",ix,[l("input",{type:"checkbox",class:"sr-only",checked:Me.isChecked,onChange:Ye=>q(Me)},null,40,ox),l("div",nx,[Me.isChecked?(F(),se("span",lx,[he(de(qa),{class:"h-7 w-7"})])):we("",!0),Me.isChecked?we("",!0):(F(),se("span",cx,[he(de(ja),{class:"h-7 w-7"})]))])]),l("div",dx,pe(((ze=s.officeSupplies.find(Ye=>Number(Ye.id)===Number(Me.item_copy_id)))==null?void 0:ze.supply_name)||"Unknown Supply"),1)])])):we("",!0),Me.item_type==="Office Supply"?(F(),se("td",ux,pe(Me.quantity),1)):we("",!0),Me.item_type==="Office Supply"?(F(),se("td",hx,pe(((Je=s.officeSupplies.find(Ye=>Number(Ye.id)===Number(Me.item_copy_id)))==null?void 0:Je.serial_number)||"Unknown Supply"),1)):we("",!0)])}),128))])):we("",!0),S.value>0&&K.value>0?(F(),se("div",fx)):we("",!0),S.value>0?(F(),se("p",px,"Office Equipments:")):we("",!0),S.value>0?(F(),se("table",gx,[l("thead",null,[l("tr",mx,[l("th",vx,[l("label",bx,[l("div",xx,[l("input",{type:"checkbox",class:"sr-only",checked:R.value,onChange:Q},null,40,yx),R.value?(F(),se("span",wx,[he(de(qa),{class:"h-7 w-7"})])):(F(),se("span",kx,[he(de(ja),{class:"h-7 w-7"})]))])])]),te[10]||(te[10]=l("th",{class:"text-start"},"Office Equipments",-1)),te[11]||(te[11]=l("th",null,"Category",-1))])]),(F(!0),se(ft,null,yt(v.value,Me=>{var ze,Je,Ye;return F(),se("tr",{key:Me.id},[Me.item_type==="Equipment Copy"?(F(),se("td",Cx,[l("label",_x,[l("div",Sx,[l("input",{type:"checkbox",class:"sr-only",checked:Me.isChecked,onChange:st=>q(Me)},null,40,Ax),l("div",Lx,[Me.isChecked?(F(),se("span",Ex,[he(de(qa),{class:"h-7 w-7"})])):we("",!0),Me.isChecked?we("",!0):(F(),se("span",Px,[he(de(ja),{class:"h-7 w-7"})]))])]),l("div",Ix,pe(((ze=s.officeEquipments.find(st=>{var xe;return Number(st.id)===Number((xe=s.equipmentCopies.find(ue=>Number(ue.id)===Number(Me.item_copy_id)))==null?void 0:xe.item_id)}))==null?void 0:ze.equipment_name)||"Unknown Equipment")+" #"+pe(((Je=s.equipmentCopies.find(st=>Number(st.id)===Number(Me.item_copy_id)))==null?void 0:Je.copy_num)||"Unknown Equipment"),1)])])):we("",!0),Me.item_type==="Equipment Copy"?(F(),se("td",Mx,pe(((Ye=h.categoryList.find(st=>{var xe;return Number(st.id)===((xe=s.officeEquipments.find(ue=>{var Re;return Number(ue.id)===Number((Re=s.equipmentCopies.find(bt=>Number(bt.id)===Number(Me.item_copy_id)))==null?void 0:Re.item_id)}))==null?void 0:xe.category_id)}))==null?void 0:Ye.category_name)||"Unknown Category"),1)):we("",!0)])}),128))])):we("",!0)])]),l("div",{class:"mt-1 -mx-3 flex flex-wrap"},[l("div",{class:"w-1/2 px-3"},[l("button",{onClick:k,class:"block w-full rounded-md border border-stroke p-3 text-center text-base font-medium text-dark transition bg-gray-200 hover:border-red-800 hover:bg-red-800 hover:text-white dark:text-black"}," Cancel ")]),l("div",{class:"w-1/2 px-3"},[l("button",{onClick:I,class:"block w-full rounded-md border bg-primary p-3 text-center text-base font-medium text-white transition bg-green-700 hover:border-green-600 hover:bg-green-600 hover:text-white dark:text-white"}," Mark Selected Items as Returned ")])])],512))])):we("",!0)}}},Ox={key:0,class:"fixed left-0 top-0 flex h-full w-full items-center justify-center c px-4 py-5"},$x={class:"flex flex-col items-center justify-center"},Rx={class:"flex justify-center text-center"},Dx={class:"flex items-center justify-center w-16 h-16 rounded-full bg-red-100"},Nx={class:"grid grid-cols-2 mb-5 text-md pl-25 pr-15"},zx={class:"grid-cols-1 text-start"},Bx={__name:"DeleteTransactionModal",props:{modelValue:Boolean,transactionName:String,transaction:Object,officeSupplies:Object,transactionItems:Array,borrowers:Array},emits:["update:modelValue","confirmDelete"],setup(s,{emit:o}){const d=qt(),u=G(!1),h=s;console.log("Transaction Items",h.transactionItems),console.log("Office Supplies",h.officeSupplies);const v=async()=>{var E;try{for(const P of h.transactionItems)if(P.item_type==="Equipment Copy"&&P.transaction_id===h.transaction.id){const $={id:P.item_copy_id,is_available:!0};d.updateEquipmentCopy($),await new Promise(D=>setTimeout(D,500)),console.log("Updating Equipment Copy:",P.item_copy_id)}else if(P.item_type==="Office Supply"&&P.transaction_id===h.transaction.id){const D=((E=h.officeSupplies)==null?void 0:E.find(R=>R.id===P.item_copy_id)).supply_quantity+P.quantity,N={id:P.item_copy_id,supply_quantity:D};d.updateOfficeSupply(N),await new Promise(R=>setTimeout(R,500)),console.log("Updating Office Supply:",P.item_copy_id)}}catch(P){console.error("Error updating items:",P)}finally{u.value=!1}},m=o,y=G(null),k=()=>{m("update:modelValue",!1)},I=async()=>{try{u.value=!0;const E={borrow_date:h.transaction.borrow_date,return_date:h.transaction.return_date,lender_id:h.transaction.lender_id,borrowers_id:h.borrowers.id,remarks:h.transaction.remarks,is_deleted:!0};d.updateTransactionHistory({id:h.transaction.id,...E}),await new Promise(P=>setTimeout(P,500)),console.log("Transaction updated successfully:",E)}catch(E){console.error("Error deleting transaction:",E),pt.emit("show-toast",{message:"Error deleting transaction. Please try again.",type:"error"})}finally{v(),u.value=!1,pt.emit("show-toast",{message:"Transaction deleted successfully!",type:"success"}),k()}},L=E=>{y.value&&!y.value.contains(E.target)&&k()};return gt(()=>{document.addEventListener("click",L)}),Nt(()=>{document.removeEventListener("click",L)}),(E,P)=>{var $;return s.modelValue?(F(),se("div",Ox,[u.value?(F(),se("div",{key:0,ref_key:"modalContainer",ref:y},[l("div",$x,[he(Ht)])],512)):(F(),se("div",{key:1,ref_key:"modalContainer",ref:y,class:"w-full max-w-[570px] rounded-[20px] bg-white px-8 py-8 text-center dark:bg-dark-2 border dark:bg-gray-700"},[l("div",Rx,[l("span",Dx,[he(de(bg),{class:"text-4xl text-red-600"})])]),P[1]||(P[1]=l("h3",{class:"text-3xl mb-5 mt-1 font-semibold text-dark dark:text-white"}," Delete Transaction ",-1)),P[2]||(P[2]=l("p",{class:"text-base mb-2 leading-relaxed text-body-color dark:text-dark-6"}," Are you sure you want to delete this Transaction? ",-1)),l("div",Nx,[P[0]||(P[0]=l("div",{class:"grid-cols-1 text-start mr-2 font-bold"},[l("p",null," Borrower: "),l("p",null," Borrow Date:"),l("p",null," Lender: ")],-1)),l("div",zx,[l("p",null,pe(($=s.transaction.borrowers)==null?void 0:$.borrowers_name),1),l("p",null,pe(s.transaction.borrow_date),1),l("p",null,pe(s.transaction.lenderName),1)])]),l("div",{class:"-mx-3 flex flex-wrap"},[l("div",{class:"w-1/2 px-3"},[l("button",{onClick:k,class:"block w-full rounded-md border border-stroke p-3 text-center text-base font-medium text-dark transition bg-gray-200 hover:border-green-800 hover:bg-green-800 hover:text-white dark:text-black"}," No, Keep it. ")]),l("div",{class:"w-1/2 px-3"},[l("button",{onClick:I,class:"block w-full rounded-md border bg-primary p-3 text-center text-base font-medium text-white transition bg-red-700 hover:border-red-600 hover:bg-red-600 hover:text-white dark:text-white"}," Yes, Delete! ")])])],512))])):we("",!0)}}},Fx={key:0,class:"fixed left-0 top-0 flex h-full w-full items-center justify-center bg-black/55"},Hx={class:"w-full max-w-[600px] max-h-[90vh] rounded-3xl p-8 text-center border-4 bg-sky-100 dark:bg-gray-950"},Vx={class:"flex flex-row justify-between items-center border-b border-blue-900 dark:border-gray-400"},Ux={class:"text-start text-3xl pb-2"},qx={class:"text-start mt-5 mb-4"},jx={class:"flex justify-center"},Xx={class:"text-wrap text-start mb-6 px-12 rounded-2xl w-[420px] min-h-20 max-h-[50vh] overflow-y-auto [scrollbar-width:thin] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden bg-slate-400 dark:bg-gray-800"},Yx={class:"flex flex-wrap"},Wx={class:"w-1/2 px-3"},Gx={class:"w-1/2 px-3"},rs={__name:"ConfirmationModal",props:{title:String,message:String,cancelText:{type:String,default:"Cancel"},confirmText:{type:String,default:"Confirm"},modelValue:Boolean,messageData:String},emits:["update:modelValue","confirm"],setup(s,{emit:o}){const d=o,u=()=>{d("update:modelValue",!1)},h=()=>{d("confirm",1),u()};return(v,m)=>s.modelValue?(F(),se("div",Fx,[l("div",Hx,[l("div",Vx,[l("h3",Ux,pe(s.title),1),l("button",{onClick:u,class:"bg-red-600 dark:bg-gray-200 text-gray-300 dark:text-gray-700 w-10 h-10 -mr-5 -mt-8 rounded-full hover:bg-orange-600 dark:hover:bg-gray-300 hover:scale-105 transition"},[he(de(ra),{class:"w-8 h-8 m-auto"})])]),l("p",qx,pe(s.message),1),l("div",jx,[l("pre",Xx,"          "+pe(s.messageData)+`
        `,1)]),l("div",Yx,[l("div",Wx,[l("button",{onClick:u,class:"block w-full rounded-md border border-stroke p-3 text-center text-base font-medium text-white dark:text-dark transition hover:scale-105 hover:bg-orange-600 bg-red-600 border-red-950 hover:border-red-700 dark:hover:bg-red-700 dark:bg-red-800 dark:border-red-950 dark:hover:border-red-700"},pe(s.cancelText),1)]),l("div",Gx,[l("button",{onClick:h,class:"block w-full rounded-md border bg-primary p-3 text-center text-base font-medium text-white transition hover:scale-105 hover:bg-green-900 bg-green-700 border-green-950 hover:border-green-700 dark:hover:bg-green-700 dark:bg-green-800 dark:border-green-950 dark:hover:border-green-700"},pe(s.confirmText),1)])])])])):we("",!0)}},Qx={key:0,class:"fixed left-0 top-0 flex h-full w-full items-center justify-center bg-black/55 px-4 py-5 z-50"},Zx={class:"text-3xl font-semibold mb-4"},Kx={key:0,class:"px-5 text-start max-h-[69vh] overflow-y-auto"},Jx={class:"block mt-4 mb-2 text font-medium text-gray-900 dark:text-gray-200"},ey={class:"relative ml-2"},ty={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},sy={key:1,class:"px-5 text-start max-h-[69vh] overflow-y-auto"},ry={class:"mx-10 my-1 pb-1 border-1 rounded-lg dark:border-gray-700"},ay={class:"w-full"},iy={class:"text-center dark:bg-gray-800"},oy={class:"pl-3 pt-2 py-1"},ny={class:"flex items-center cursor-pointer select-none text-dark dark:text-white"},ly={class:"relative"},cy={class:"w-full"},dy={class:"pl-3 pt-1 w-10"},uy={class:"flex items-center cursor-pointer select-none text-dark dark:text-white"},hy={class:"relative"},fy=["onChange"],py={class:"text-center"},gy={key:2,class:"px-5 text-start max-h-[69vh] overflow-y-auto"},my={class:"-mx-3 flex flex-wrap mt-4"},vy={class:"w-1/2 px-3"},by={class:"w-1/2 px-3"},xy={__name:"IncludeItemPressedModal",props:{modelValue:Boolean,selectedItem:Object,currentlySelectedItems:Array,equipmentCopies:Array},emits:["update:modelValue","confirmAdd"],setup(s,{emit:o}){const d=G(!1),u=s,h=G([]),v=G([]),m=G(null),y=o,k=()=>{u.selectedItem.type==="Office Equipment"?(h.value=N.value.filter(Y=>Y.is_selected),v.value=h.value.map(Y=>({item_name:`${u.selectedItem.equipment_name} #${Y.copy_num??"N/A"}`,item_copy_id:Y.id,item_type:"Equipment Copy",basis_type:"Office Equipment",basis_id:u.selectedItem.id,returned:!1,quantity:1}))):u.selectedItem.type==="Office Supply"&&(v.value=[{item_name:u.selectedItem.supply_name,item_copy_id:u.selectedItem.id,item_type:"Office Supply",basis_type:"Office Supply",basis_id:u.selectedItem.id,returned:!1,quantity:m.value??1}]),console.log(v.value),y("confirmAdd",v.value),E()},I=G(!1),L=G(null),E=()=>{y("update:modelValue",!1)},P=Y=>{L.value&&!L.value.contains(Y.target)&&E()};gt(()=>{document.addEventListener("click",P)}),Nt(()=>{document.removeEventListener("click",P)});const $=G([]),D=G([]),N=G([]);gt(()=>{var Y;H.value=!1,!(!u.equipmentCopies||!u.selectedItem)&&($.value=u.equipmentCopies.filter(q=>q.item_id===u.selectedItem.id),D.value=$.value.filter(q=>q.is_available===1),N.value=D.value.map(q=>({...q,is_selected:u.currentlySelectedItems.some(S=>S.item_copy_id===q.id)})),u.selectedItem.type==="Office Supply"&&(m.value=((Y=u.currentlySelectedItems.find(q=>q.item_copy_id===u.selectedItem.id))==null?void 0:Y.quantity)??null))});const R=Y=>{N.value=N.value.map(S=>({...S,is_selected:S.id===Y?!S.is_selected:S.is_selected}));const q=N.value.every(S=>S.is_selected);H.value=q},H=G(!1),Q=()=>{H.value?(H.value=!1,N.value=N.value.map(Y=>({...Y,is_selected:!1}))):(H.value=!0,N.value=N.value.map(Y=>({...Y,is_selected:!0})))};return(Y,q)=>s.modelValue?(F(),se("div",Qx,[d.value?(F(),Ze(Ht,{key:0})):(F(),se("div",{key:1,ref_key:"modalContainer",ref:L,class:"w-full max-w-[650px] max-h-[90vh] rounded-[20px] bg-white px-8 py-8 text-center border-4 dark:bg-gray-950 dark:border-gray-100"},[l("h3",Zx," Select "+pe(u.selectedItem.supply_name||u.selectedItem.equipment_name),1),u.selectedItem.type==="Office Supply"?(F(),se("div",Kx,[l("label",Jx,"Quantity to Borrow: (max "+pe(u.selectedItem.supply_quantity)+")",1),l("div",ey,[l("div",ty,[he(de(fs))]),Xe(l("input",{type:"number","onUpdate:modelValue":q[0]||(q[0]=S=>m.value=S),class:"bg-gray-50 mb-2 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Enter quantity"},null,512),[[ht,m.value]])])])):we("",!0),u.selectedItem.type==="Office Equipment"&&N.value.length>0?(F(),se("div",sy,[q[8]||(q[8]=l("label",{class:"block mt-4 mb-2 text font-medium text-gray-900 dark:text-gray-200"},"Select Copy to Add:",-1)),l("div",ry,[l("table",ay,[l("thead",null,[l("tr",iy,[l("th",oy,[l("label",ny,[l("div",ly,[l("input",{type:"checkbox",class:"sr-only",onChange:q[1]||(q[1]=S=>Q())},null,32),H.value?(F(),Ze(de(rr),{key:0,class:"w-7 h-7"})):(F(),Ze(de(sr),{key:1,class:"w-7 h-7"}))])])]),q[7]||(q[7]=l("th",null,"Copy Number",-1))])]),l("tbody",cy,[(F(!0),se(ft,null,yt(N.value,S=>(F(),se(ft,null,[S.item_id===u.selectedItem.id?(F(),se("tr",{key:S.id,class:"w-full text-center items-center justify-center border-t"},[l("td",dy,[l("label",uy,[l("div",hy,[l("input",{type:"checkbox",class:"sr-only",onChange:K=>R(S.id)},null,40,fy),S.is_selected?(F(),Ze(de(rr),{key:0,class:"w-7 h-7"})):(F(),Ze(de(sr),{key:1,class:"w-7 h-7"}))])])]),l("td",py,"#"+pe(S.copy_num),1)])):we("",!0)],64))),256))])])])])):we("",!0),!N.value.length&&u.selectedItem.type==="Office Equipment"?(F(),se("div",gy,q[9]||(q[9]=[l("p",{class:"text-gray-500 dark:text-gray-400"},"No available copies for this item.",-1)]))):we("",!0),l("div",my,[l("div",vy,[l("button",{onClick:q[2]||(q[2]=S=>E()),class:"block w-full rounded-md border border-stroke p-3 text-center text-base font-medium text-dark transition bg-gray-300 hover:border-red-800 hover:bg-red-800 hover:text-white dark:text-black"}," Cancel ")]),l("div",by,[u.selectedItem.type==="Office Equipment"?(F(),se("button",{key:0,onClick:q[3]||(q[3]=S=>k()),class:"block w-full rounded-md border bg-primary p-3 text-center text-base font-medium text-white transition bg-green-700 hover:border-green-600 hover:bg-green-600 hover:text-white dark:text-white dark:border-green-700 dark:hover:border-green-400"}," Add Selected Copies ")):(F(),se("button",{key:1,onClick:q[4]||(q[4]=S=>k()),class:"block w-full rounded-md border bg-primary p-3 text-center text-base font-medium text-white transition bg-green-700 hover:border-green-600 hover:bg-green-600 hover:text-white dark:text-white dark:border-green-700 dark:hover:border-green-400"}," Add Selected Supply "))])]),he(rs,{modelValue:I.value,"onUpdate:modelValue":q[5]||(q[5]=S=>I.value=S),title:"Confirm Addition",message:"The Message Here.",messageData:`
Equipment Name: hehehehe
Copy to add: hehehhe`,cancelText:"Cancel",confirmText:"Confirm Adding",onConfirm:q[6]||(q[6]=S=>k())},null,8,["modelValue"])],512))])):we("",!0)}},yy={key:0,class:"fixed left-0 top-0 flex h-full w-full items-center justify-center bg-black/55 px-4 py-5 z-50"},wy={class:"grid grid-cols-3 gap-4 h-[87vh]"},ky={class:"col-span-2 rounded-2xl max-h-[89vh] border-2 p-4 text-start dark:bg-black dark:border-gray-600"},Cy={class:"w-full"},_y={class:"relative w-full"},Sy={class:"w-full rounded-xl px-4 py-2 mt-4 grid grid-cols-5 gap-4 items-center justify-center max-h-[71vh] overflow-auto [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden"},Ay=["onClick"],Ly=["src"],Ey={class:"text-center mt-2 font-medium"},Py={class:"rounded-2xl max-h-[89vh] border-2 p-4 text-start dark:bg-black dark:border-gray-600"},Iy={class:"border-2 h-[30vh] rounded-xl overflow-y-auto bg-gray-100 dark:bg-gray-950 dark:border-gray-600"},My={class:"w-full text-center"},Ty={class:"py-2"},Oy={class:"flex py-2 justify-center items-center"},$y={class:"mt-2 overflow-y-auto max-h-[36vh] xl:max-h-[38vh] 2xl:max-h-[39vh] [scrollbar-width:thin] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden"},Ry={class:"flex flex-row mb-2"},Dy={class:"block text font-medium text-gray-900 dark:text-gray-200"},Ny={class:"text-red-700 ml-2 font-semibold italic"},zy={class:"relative ml-2"},By={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},Fy={key:0,class:"absolute ml-5 w-[92%] border rounded-lg shadow-lg mt-1 z-10 max-h-37 overflow-y-auto bg-white border-gray-300 dark:bg-gray-800"},Hy=["onMousedown"],Vy={class:"flex flex-row mt-2 mb-2"},Uy={class:"text-red-700 ml-2 font-semibold italic"},qy={class:"relative ml-2"},jy={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},Xy=["disabled"],Yy={class:"flex flex-row mt-2 mb-2"},Wy={class:"text-red-700 ml-2 font-semibold italic"},Gy={class:"relative ml-2"},Qy={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},Zy=["disabled"],Ky={key:0,class:"absolute ml-5 w-[92%] border rounded-lg shadow-lg mt-1 z-10 max-h-37 overflow-y-auto bg-white border-gray-300 dark:bg-gray-800"},Jy=["onMousedown"],e1={class:"flex flex-row mt-2 mb-2"},t1={class:"text-red-700 ml-2 font-semibold italic"},s1={class:"relative ml-2"},r1={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},a1={key:0,class:"absolute ml-5 w-[92%] border rounded-lg shadow-lg mt-1 z-10 max-h-37 overflow-y-auto bg-white border-gray-300 dark:bg-gray-800"},i1=["onMousedown"],o1={class:"flex flex-row mt-2 mb-2"},n1={class:"text-red-700 ml-2 font-semibold italic"},l1={class:"relative ml-2"},c1={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},wu={__name:"CreateTransactionModal",props:{modelValue:Boolean},emits:["update:modelValue","confirmDelete"],setup(s,{emit:o}){const d="http://localhost:8000",u=G(""),h=G(""),v=G(""),m=G(""),y=G(""),k=G(""),I=js(),L=Ve(()=>I.user);h.value=L.value.id;const E=qt();gt(()=>{E.fetchData()});const P={transactionItems:"transactionItems",transactionHistory:"transactionHistory",officeEquipments:"officeEquipments",officeSupplies:"officeSupplies",officeList:"officeList",users:"users",borrowers:"borrowers",equipmentCopies:"equipmentCopies",categoryList:"categoryList"},{transactionItems:$,transactionHistory:D,officeEquipments:N,officeSupplies:R,officeList:H,users:Q,borrowers:Y,equipmentCopies:q,categoryList:S}=Object.fromEntries(Object.entries(P).map(([We,He])=>[We,Ve(()=>E[He])])),K=We=>Ve(()=>Object.values(We.value));K($);const ae=K(D),B=K(N),te=K(R),fe=K(H);K(Q);const Te=K(Y),Ae=K(q);K(S);const Ie=G(!1),Ee=G(!1),Ne=G(null),Me=o,ze=()=>{Me("update:modelValue",!1)},Je=We=>{Ne.value&&!Ne.value.contains(We.target)&&ze()};gt(()=>{document.addEventListener("click",Je)}),Nt(()=>{document.removeEventListener("click",Je)});const Ye=Ve(()=>[...B.value,...te.value].filter(We=>We.type==="Office Supply"?We.supply_quantity>0:We.type==="Office Equipment"?Ae.value.some(He=>He.item_id===We.id&&He.is_available===1):!1).map((We,He)=>({...We,newId:`INV-${He+1}`}))),st=G(""),xe=Ve(()=>{if(!st.value)return Ye.value;const We=st.value.toLowerCase();return Ye.value.filter(He=>{var us,Et,Lt,Xt,It,xs,ms;const Ke=((us=He.equipment_name)==null?void 0:us.toLowerCase())||"",St=((Et=He.equipment_description)==null?void 0:Et.toLowerCase())||"",Ge=((Lt=He.serial_number)==null?void 0:Lt.toString().toLowerCase())||"",Oe=((Xt=He.supply_name)==null?void 0:Xt.toLowerCase())||"",Be=((It=He.supply_description)==null?void 0:It.toLowerCase())||"",At=((xs=He.id)==null?void 0:xs.toString().toLowerCase())||"",as=((ms=He.newId)==null?void 0:ms.toLowerCase())||"";return Ke.includes(We)||St.includes(We)||Ge.includes(We)||Oe.includes(We)||Be.includes(We)||At.includes(We)||as.includes(We)})}),ue=G(!1),Re=G(null),bt=We=>{Re.value=We,ue.value=!0},ot=G([]),Pe=We=>{We.forEach(He=>{ot.value.some(St=>St.item_copy_id===He.item_copy_id&&St.item_type===He.item_type)?He.item_type==="Office Supply"&&(ot.value=ot.value.filter(St=>St.item_copy_id!==He.item_copy_id),ot.value.push(He)):ot.value.push(He)})},ge=We=>{ot.value=ot.value.filter(He=>He.item_copy_id!==We.item_copy_id)},je=G(!1),ke=Ve(()=>u.value?Te.value.filter(We=>We.borrowers_name.toLowerCase().includes(u.value.toLowerCase())):Te.value),ie=We=>{u.value=We,je.value=!1},ye=()=>{setTimeout(()=>{je.value=!1},200)},ne=G(!1),le=Ve(()=>v.value?ae.value.filter(We=>{var He;return(He=We.isc)==null?void 0:He.toLowerCase().includes(v.value.toLowerCase())}):ae.value),oe=We=>{v.value=We,ne.value=!1},Ce=()=>{setTimeout(()=>{ne.value=!1},0)},Le=G(!1),_e=Ve(()=>k.value?fe.value.filter(We=>We.office_name.toLowerCase().includes(k.value.toLowerCase())):fe.value),rt=We=>{k.value=We,Le.value=!1},et=()=>{setTimeout(()=>{Le.value=!1},0)},tt=()=>{if(ks())ot.value.length?Ee.value=!0:pt.emit("show-toast",{message:"Please select at least one item to proceed.",type:"error"});else{console.log("Validation failed");return}},Qe=Ve(()=>ot.value.length?ot.value.map((We,He)=>`
${He+1}. Equipment Name: ${We.item_name||"N/A"}
   Copy to add: ${We.quantity||We.copy||"N/A"}`).join(`
`):"No items selected."),Ct=()=>{ns()},at=G(0),vt=G(null),lt=G(!0);it(u,()=>{var We,He,Ke,St;k.value="",y.value="",lt.value=!0,at.value=((We=Te.value.find(Ge=>Ge.borrowers_name.toLowerCase()===u.value.toLowerCase()))==null?void 0:We.id)||0,at.value===0?console.log("Borrower ID not found:"):(vt.value=((He=Te.value.find(Ge=>Ge.id===at.value))==null?void 0:He.office_id)||0,k.value=((Ke=fe.value.find(Ge=>Ge.id===vt.value))==null?void 0:Ke.office_name)||"",y.value=((St=Te.value.find(Ge=>Ge.id===at.value))==null?void 0:St.borrowers_contact)||"",console.log("Borrower ID already exists:",at.value),lt.value=!1)});const Dt=async()=>{try{for(const We of ot.value)if(We.item_type==="Equipment Copy")Ut(!1,We);else if(We.item_type==="Office Supply"){const Ke=R.value.find(St=>St.id===We.item_copy_id).supply_quantity-We.quantity;jt(Ke,We)}}catch(We){console.error("Error updating items:",We)}},jt=async(We,He)=>{var Ke;try{const St={id:He.item_copy_id,supply_quantity:We};E.updateOfficeSupply(St),await new Promise(Ge=>setTimeout(Ge,500)),console.log("Updated Office Supply successfully:",St)}catch(St){console.error("Error updating office supply:",St),console.error("Error details:",(Ke=St.response)==null?void 0:Ke.data)}},Ut=async(We,He)=>{var Ke;try{const St={id:He.item_copy_id,is_available:We};E.updateEquipmentCopy(St),await new Promise(Ge=>setTimeout(Ge,500)),console.log("Updated Equipment Copy successfully:",St)}catch(St){console.error("Error updating item copy:",St),console.error("Error details:",(Ke=St.response)==null?void 0:Ke.data)}},ss=We=>We instanceof Date?new Date(We).toLocaleString("en-US",{timeZone:"Asia/Manila",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(/(\d+)\/(\d+)\/(\d+),\s/,"$3-$1-$2 "):We,ns=async()=>{var We,He,Ke;try{Ie.value=!0;let St=((We=Te.value.find(Et=>Et.borrowers_name.toLowerCase()===u.value.toLowerCase()))==null?void 0:We.id)||0;if(St===0){const Et=(He=fe.value.find(It=>It.office_name.toLowerCase()===k.value.toLowerCase()))==null?void 0:He.id,Lt=Math.max(0,...Te.value.map(It=>It.id||0))+1,Xt={id:Lt,borrowers_name:u.value,borrowers_contact:y.value,office_id:Et,is_deleted:0,deleted_by:null};E.addBorrower(Xt),St=Lt}const Oe=ss(new Date),Be=Math.max(0,...E.transactionHistory.map(Et=>Et.id||0))+1,At={id:Be,borrower_id:St,lender_id:h.value,isc:v.value,remarks:m.value,borrow_date:Oe};E.addTransactionHistory(At);const as=Be;ot.value.map(Et=>({item_copy_id:Et.item_copy_id,returned:!1,returned_date:null,item_type:Et.item_type,quantity:Et.quantity||Et.copy||1})).forEach(Et=>{const Xt={id:Math.max(0,...E.transactionItems.map(It=>It.id||0))+1,transaction_id:as,...Et};E.addTransactionItem(Xt)})}catch(St){let Ge="Error creating transaction. Please try again.";(Ke=St.response)!=null&&Ke.data&&(Ge=Object.values(St.response.data)[0]||Ge)}finally{await Dt(),Ie.value=!1,pt.emit("show-toast",{message:"Transaction created successfully!",type:"success"}),ze()}},Pt=G({borrowerInput:[],iscInput:[],remarksInput:[],selectedBorrowerId:[],borrowerOfficeInput:[],borrowerContactInput:[]}),ks=()=>{Object.keys(Pt.value).forEach(Ke=>{Pt.value[Ke]=[]});let We=!1;u.value||(Pt.value.borrowerInput=["Borrower is required"],We=!0),y.value?/^(09|\+63)[0-9]{9}$/.test(y.value)||(Pt.value.borrowerContactInput=["Contact number must start with 09 or +63 followed by 9 digits"],We=!0):(Pt.value.borrowerContactInput=["Contact number is required"],We=!0),v.value||(Pt.value.iscInput=["ISC is required"],We=!0),m.value||(Pt.value.remarksInput=["Remarks is required"],We=!0);const He=fe.value.find(Ke=>Ke.office_name===k.value);return k.value?He||(Pt.value.borrowerOfficeInput=["Select a valid Borrower Office"],We=!0):(Pt.value.borrowerOfficeInput=["Borrower Office is required"],We=!0),!We};return it(()=>u.value,We=>{We?Pt.value.borrowerInput=[]:Pt.value.borrowerInput=["Borrower is required"]}),it(()=>v.value,We=>{We?Pt.value.iscInput=[]:Pt.value.iscInput=["ISC is required"]}),it(()=>m.value,We=>{We?Pt.value.remarksInput=[]:Pt.value.remarksInput=["Remarks is required"]}),it(()=>at.value,We=>{We?Pt.value.selectedBorrowerId=[]:Pt.value.selectedBorrowerId=["Borrower is required"]}),it(()=>y.value,We=>{We?/^(09|\+63)[0-9]{9}$/.test(We)?Pt.value.borrowerContactInput=[]:Pt.value.borrowerContactInput=["Contact number must start with 09 or +63 followed by 9 digits"]:Pt.value.borrowerContactInput=["Contact number is required"]}),it(()=>k.value,We=>{const He=fe.value.find(Ke=>Ke.office_name===k.value);We?He?Pt.value.borrowerOfficeInput=[]:Pt.value.borrowerOfficeInput=["Select a valid Borrower Office"]:Pt.value.borrowerOfficeInput=["Borrower Office is required"]}),(We,He)=>s.modelValue?(F(),se("div",yy,[Ie.value?(F(),Ze(Ht,{key:0})):(F(),se("div",{key:1,ref_key:"modalContainer",ref:Ne,class:"w-full h-[95vh] rounded-[20px] bg-white px-8 py-6 text-center border-4 dark:bg-gray-950 dark:border-gray-100"},[l("div",wy,[l("button",{onClick:He[0]||(He[0]=Ke=>ze()),class:"absolute top-10 right-8 justify-end bg-gray-200 ml-4 text-gray-700 px-1 py-1 rounded-full hover:bg-gray-300 transition dark:bg-gray-300"},[he(de(ra),{class:"w-10 h-10"})]),l("div",ky,[He[20]||(He[20]=l("p",{class:"text-2xl font-bold pl-2 mb-2"},"Choose Item/s:",-1)),l("div",Cy,[l("form",{class:"flex items-center",onSubmit:He[2]||(He[2]=nt(()=>{},["prevent"]))},[He[19]||(He[19]=l("label",{for:"simple-search",class:"sr-only"},"Search",-1)),l("div",_y,[He[18]||(He[18]=l("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[l("svg",{"aria-hidden":"true",class:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),Xe(l("input",{type:"text","onUpdate:modelValue":He[1]||(He[1]=Ke=>st.value=Ke),id:"simple-search",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full pl-10 p-2 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Search items..."},null,512),[[ht,st.value]])])],32)]),l("div",Sy,[(F(!0),se(ft,null,yt(xe.value,Ke=>(F(),se("div",{key:Ke.newId,class:"w-full h-full"},[l("button",{onClick:nt(St=>bt(Ke),["stop"]),class:ct(["w-full h-full cursor-pointer p-2 border rounded-lg hover:shadow-lg transition duration-300 ease-in-out dark:font-bold",{"bg-gradient-to-b bg-green-500 dark:from-green-600 dark:via-green-950 dark:to-black dark:border-green-800 text-white dark:hover:from-emerald-400 dark:hover:via-emerald-900 dark:hover:to-black ":ot.value.some(St=>St.basis_id===Ke.id&&St.basis_type===Ke.type),"bg-gray-300 dark:bg-gray-950 dark:border-gray-600 dark:hover:bg-green-800 dark:hover:text-white dark:hover:border-green-800":!ot.value.some(St=>St.basis_id===Ke.id&&St.basis_type===Ke.type)}])},[l("img",{src:Ke.image_path?`${de(d)}/storage/${Ke.image_path}`:de(gs),class:"w-full h-28 object-cover rounded-lg"},null,8,Ly),l("p",Ey,pe(Ke.equipment_name||Ke.supply_name),1)],10,Ay)]))),128)),ue.value?(F(),Ze(xy,{key:0,modelValue:ue.value,"onUpdate:modelValue":He[3]||(He[3]=Ke=>ue.value=Ke),selectedItem:Re.value,equipmentCopies:de(Ae),currentlySelectedItems:ot.value,onConfirmAdd:Pe,onClick:He[4]||(He[4]=nt(()=>{},["stop"]))},null,8,["modelValue","selectedItem","equipmentCopies","currentlySelectedItems"])):we("",!0)])]),l("div",Py,[He[26]||(He[26]=l("p",{class:"text-2xl font-bold pl-2 mb-2"},"Selected Item/s:",-1)),l("div",Iy,[l("table",My,[He[21]||(He[21]=l("thead",{class:"bg-gray-50 dark:bg-gray-900"},[l("tr",null,[l("th",{class:"py-2"},"Item"),l("th",null,"Quantity"),l("th",null,"Remove")])],-1)),l("tbody",null,[(F(!0),se(ft,null,yt(ot.value,Ke=>(F(),se("tr",{key:Ke.id,class:"items-center border-b dark:border-gray-600"},[l("td",Ty,pe(Ke.item_name),1),l("td",null,pe(Ke.quantity||Ke.copy),1),l("td",Oy,[l("button",null,[he(de(Id),{class:"w-7 h-7 text-red-500 hover:text-red-400",onClick:St=>ge(Ke)},null,8,["onClick"])])])]))),128))])])]),l("div",$y,[l("div",Ry,[l("label",Dy," Type Borrower: "+pe(u.value),1),l("p",Ny,pe(Pt.value.borrowerInput?Pt.value.borrowerInput[0]:""),1)]),l("div",zy,[l("div",By,[he(de(Mo))]),Xe(l("input",{type:"text","onUpdate:modelValue":He[5]||(He[5]=Ke=>u.value=Ke),onFocus:He[6]||(He[6]=Ke=>je.value=!0),onBlur:ye,onKeydown:He[7]||(He[7]=Eo(nt(Ke=>ie(u.value),["prevent"]),["enter"])),placeholder:"Search or enter new borrower...",class:"bg-gray-50 mb-2 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,544),[[ht,u.value]]),je.value&&ke.value.length?(F(),se("ul",Fy,[(F(!0),se(ft,null,yt(ke.value,Ke=>(F(),se("li",{key:Ke.id,onMousedown:St=>ie(Ke.borrowers_name),class:"p-2 hover:bg-blue-100 cursor-pointer"},pe(Ke.borrowers_name),41,Hy))),128))])):we("",!0)]),l("div",Vy,[He[22]||(He[22]=l("label",{class:"block text font-medium text-gray-900 dark:text-gray-200"},"Type Borrower Contact:",-1)),l("p",Uy,pe(Pt.value.borrowerContactInput?Pt.value.borrowerContactInput[0]:""),1)]),l("div",qy,[l("div",jy,[he(de(Al))]),Xe(l("input",{type:"tel","onUpdate:modelValue":He[8]||(He[8]=Ke=>y.value=Ke),pattern:"(09|\\+63)[0-9]{9}",maxlength:"13",oninput:"this.value = this.value.replace(/[^0-9+]/g, '')",class:ct(["bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:focus:ring-blue-500 dark:focus:border-blue-500",lt.value?" dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white ":" dark:bg-gray-900 dark:border-gray-700 dark:placeholder-gray-400 dark:text-gray-500"]),placeholder:"Ex. Printer, Chair, Stairs",disabled:!lt.value},null,10,Xy),[[ht,y.value]])]),l("div",Yy,[He[23]||(He[23]=l("label",{class:"block text font-medium text-gray-900 dark:text-gray-200"},"Type Borrower Office:",-1)),l("p",Wy,pe(Pt.value.borrowerOfficeInput?Pt.value.borrowerOfficeInput[0]:""),1)]),l("div",Gy,[l("div",Qy,[he(de(Mo))]),Xe(l("input",{type:"text","onUpdate:modelValue":He[9]||(He[9]=Ke=>k.value=Ke),onFocus:He[10]||(He[10]=Ke=>Le.value=!0),onBlur:et,onKeydown:He[11]||(He[11]=Eo(nt(Ke=>rt(k.value),["prevent"]),["enter"])),placeholder:"Search or enter new Borrower Office...",class:ct(["bg-gray-50 mb-2 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:focus:ring-blue-500 dark:focus:border-blue-500",lt.value?" dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white ":" dark:bg-gray-900 dark:border-gray-700 dark:placeholder-gray-400 dark:text-gray-500"]),disabled:!lt.value},null,42,Zy),[[ht,k.value]]),Le.value&&_e.value.length?(F(),se("ul",Ky,[(F(!0),se(ft,null,yt(_e.value,Ke=>(F(),se("li",{key:Ke.id,onMousedown:St=>rt(Ke.office_name),class:"p-2 hover:bg-blue-100 cursor-pointer"},pe(Ke.office_name),41,Jy))),128))])):we("",!0)]),l("div",e1,[He[24]||(He[24]=l("label",{class:"block text font-medium text-gray-900 dark:text-gray-200"},"Type ISC/AREE:",-1)),l("p",t1,pe(Pt.value.iscInput?Pt.value.iscInput[0]:""),1)]),l("div",s1,[l("div",r1,[he(de(Mo))]),Xe(l("input",{type:"text","onUpdate:modelValue":He[12]||(He[12]=Ke=>v.value=Ke),onFocus:He[13]||(He[13]=Ke=>ne.value=!0),onBlur:Ce,onKeydown:He[14]||(He[14]=Eo(nt(Ke=>oe(v.value),["prevent"]),["enter"])),placeholder:"Search or enter new ICS/AREE...",class:"bg-gray-50 mb-2 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,544),[[ht,v.value]]),ne.value&&le.value.length?(F(),se("ul",a1,[(F(!0),se(ft,null,yt(le.value,Ke=>(F(),se("li",{key:Ke.id,onMousedown:St=>oe(Ke.isc),class:"p-2 hover:bg-blue-100 cursor-pointer"},pe(Ke.isc),41,i1))),128))])):we("",!0)]),l("div",o1,[He[25]||(He[25]=l("label",{class:"block text font-medium text-gray-900 dark:text-gray-200"},"Type Remarks:",-1)),l("p",n1,pe(Pt.value.remarksInput?Pt.value.remarksInput[0]:""),1)]),l("div",l1,[l("div",c1,[he(de(Al))]),Xe(l("input",{type:"text","onUpdate:modelValue":He[15]||(He[15]=Ke=>m.value=Ke),class:"min-h-11 max-h-11 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Enter Remarks"},null,512),[[ht,m.value]])])]),l("div",{class:"-mx-3 flex flex-wrap mt-4"},[l("div",{class:"w-1/2 px-3"},[l("button",{onClick:ze,class:"block w-full rounded-md border border-stroke p-3 text-center text-base font-medium text-dark transition bg-gray-300 hover:border-red-800 hover:bg-red-800 hover:text-white dark:text-black"}," Cancel ")]),l("div",{class:"w-1/2 px-3"},[l("button",{onClick:tt,class:"block w-full rounded-md border bg-primary p-3 text-center text-base font-medium text-white transition bg-green-700 hover:border-green-600 hover:bg-green-600 hover:text-white dark:text-white dark:border-green-700 dark:hover:border-green-400"}," Create Transaction ")])])])]),he(rs,{modelValue:Ee.value,"onUpdate:modelValue":He[16]||(He[16]=Ke=>Ee.value=Ke),title:"Confirm Create Transaction",message:"You are about to make a transaction with this items.",messageData:Qe.value,cancelText:"Cancel",confirmText:"Create Transaction",onConfirm:He[17]||(He[17]=Ke=>Ct())},null,8,["modelValue","messageData"])],512))])):we("",!0)}},d1={key:0},u1={key:1,class:"text-gray-400"},hs={__name:"TableHeaderFormat",props:{label:String,field:String,sortBy:String,sortDirection:String},setup(s){return(o,d)=>(F(),se("span",{class:ct(["inline-flex items-center space-x-1",s.sortBy===s.field?"text-green-600 dark:text-lime-500":""])},[l("span",null,pe(s.label),1),s.sortBy===s.field?(F(),se("span",d1,pe(s.sortDirection==="asc"?"▲":"▼"),1)):(F(),se("span",u1,[he(de(dg))]))],2))}},h1={class:"w-full"},f1={class:"w-full"},p1={class:"shadow-lg rounded-lg"},g1={class:"relative shadow-md sm:rounded-lg overflow-hidden"},m1={class:"grid grid-cols-2 lg:grid-cols-5 gap-2 items-center justify-between md:space-y-0 md:space-x-4 py-2"},v1={class:"col-span-2 lg:col-span-3 w-full"},b1={class:"flex items-center"},x1={class:"relative w-full"},y1={class:"grid grid-cols-6 lg:grid-cols-5 w-full justify-evenly gap-2 mb-2"},w1={class:"col-span-2 lg:col-span-1 relative w-full h-full text-left"},k1={class:"relative mb-2"},C1={class:"max-h-60 overflow-auto"},_1={class:"relative"},S1=["checked","onChange"],A1={class:"box mr-4 flex h-5 w-5 items-center justify-center rounded border border-stroke dark:border-dark-3"},L1={class:"col-span-2 lg:col-span-1 relative w-full h-full text-left"},E1={class:"relative mb-2"},P1={class:"max-h-60 overflow-auto"},I1={class:"relative"},M1=["checked","onChange"],T1={class:"box mr-4 flex h-5 w-5 items-center justify-center rounded border border-stroke dark:border-dark-3"},O1={class:"col-span-2 lg:col-span-1 relative w-full h-full text-left"},$1={class:"relative mb-2"},R1={class:"max-h-60 overflow-auto"},D1={class:"relative"},N1=["checked","onChange"],z1={class:"box mr-4 flex h-5 w-5 items-center justify-center rounded border border-stroke dark:border-dark-3"},B1={class:"col-start-2 col-span-2 lg:col-span-1 relative w-full h-full text-left"},F1={class:"relative mb-2"},H1={class:"max-h-60 overflow-auto"},V1={class:"relative"},U1=["checked","onChange"],q1={class:"box mr-4 flex h-5 w-5 items-center justify-center rounded border border-stroke dark:border-dark-3"},j1={class:"col-span-2 lg:col-span-1 relative w-full h-full text-left"},X1={class:"relative mb-2"},Y1={class:"max-h-60 overflow-auto"},W1={class:"relative"},G1=["checked","onChange"],Q1={class:"box mr-4 flex h-5 w-5 items-center justify-center rounded border border-stroke dark:border-dark-3"},Z1={class:"rounded-lg min-h-[49vh] max-h-[50vh] md:max-h-[53vh] xl:min-h-[57vh] xl:max-h-[58vh] 2xl:xl:max-h-[70vh] overflow-auto [scrollbar-width:thin] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden bg-gray-200 dark:bg-gray-900"},K1={class:"w-full text-sm text-center text-gray-500 dark:text-gray-400"},J1={class:"sticky top-0 z-10"},ew={class:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-200 uppercase text-center text-xs rounded-lg"},tw={class:""},sw={scope:"row",class:"px-4 py-3 whitespace-nowrap"},rw={class:"px-4 py-3"},aw={class:"px-4 py-3"},iw={class:"px-4 py-3"},ow={class:"px-4 py-3"},nw={key:0},lw={class:"flex flex-row justify-start items-center"},cw={key:2},dw={key:3},uw={class:"px-4 py-3"},hw={class:"px-4 py-3"},fw=["onClick"],pw={class:"py-2 text-sm text-gray-700 dark:text-gray-200"},gw={class:"block hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},mw=["onClick"],vw={class:"block hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},bw=["onClick"],xw={key:1},yw={key:0,class:"flex flex-col md:flex-row justify-between items-start md:items-center space-y-3 md:space-y-0 p-4","aria-label":"Table navigation"},ww={class:"text-sm font-normal text-gray-500 dark:text-gray-400"},kw={class:"font-semibold text-gray-900 dark:text-white"},Cw={class:"font-semibold text-gray-900 dark:text-white"},_w={class:"inline-flex items-stretch -space-x-px"},Sw=["disabled"],Aw=["onClick"],Lw=["disabled"],Ew={__name:"TransactionHistoryTable",props:{transactionItems:Array,transactionHistory:Array,officeEquipments:Array,officeSupplies:Array,officeList:Array,users:Array,borrowers:Array,equipmentCopies:Array,categoryList:Array,selectedDateRange:Object,filterBorrowerId:String,filterLenderId:String,filterOfficeId:String},setup(s){G([]);const o=G(""),d=G(null),u=G(!1),h=s;it(()=>h.selectedDateRange,()=>{console.log("🚀 ~ watch ~ props.transactionHistory:",h.transactionHistory),console.log("🚀 ~ watch ~ props.selectedDateRange.start:",h.selectedDateRange.start),console.log("🚀 ~ watch ~ props.selectedDateRange.end:",h.selectedDateRange.end)});const v=Ge=>{var Be,At;console.log("🚀 ~ openUpdateModal ~ transaction:",Ge);const Oe=((At=(Be=h.users)==null?void 0:Be.find(as=>as.id===Ge.lender_id))==null?void 0:At.firstName)||"Unknown";d.value={...Ge,lenderName:Oe},u.value=!0},m=G(!1),y=Ge=>{var Be,At;const Oe=((At=(Be=h.users)==null?void 0:Be.find(as=>as.id===Ge.lender_id))==null?void 0:At.firstName)||"Unknown";d.value={...Ge,lenderName:Oe},m.value=!0,console.log("🚀 ~ openDeleteModal ~ isDeleteModalOpen:",m.value)},k=Ve(()=>{if(!h.transactionHistory)return[];const Ge=h.selectedDateRange.start?new Date(h.selectedDateRange.start):null,Oe=h.selectedDateRange.end?new Date(h.selectedDateRange.end):null;Ge&&Ge.setHours(0,0,0,0),Oe&&Oe.setHours(23,59,59,999);const Be=Je.value.filter(Lt=>Lt.isActive).map(Lt=>Lt.id),At=ue.value.filter(Lt=>Lt.isActive).map(Lt=>Lt.id),as=ke.value.filter(Lt=>Lt.isActive).map(Lt=>Lt.id),us=Le.value.filter(Lt=>Lt.isActive).map(Lt=>Lt.id),Et=at.value.filter(Lt=>Lt.isActive).map(Lt=>Lt.id);return h.transactionHistory.filter(Lt=>{var la,ca,da,Er,Pr,Qs,cr,Zs,qr;if(Ge&&Oe){const vs=new Date(Lt.borrow_date);if(vs<Ge||vs>Oe)return!1}if(Lt.is_deleted||Be.length>0&&!Be.includes(Lt.office_id)||At.length>0&&!At.includes(Lt.borrower_id)||as.length>0&&!as.includes(Lt.lender_id)||Et.length>0&&!Et.includes(Lt.id))return!1;if(us.length>0){const vs=!!Lt.return_date,Ir=us.includes("returned")&&vs,dr=us.includes("not_returned")&&!vs;if(!Ir&&!dr)return!1}const Xt=o.value.toLowerCase(),It=(la=h.borrowers)==null?void 0:la.find(vs=>vs.id===Lt.borrower_id),xs=((ca=It==null?void 0:It.borrowers_name)==null?void 0:ca.toLowerCase())||"",ms=((da=Lt.id)==null?void 0:da.toString().toLowerCase())||"",$s=((Qs=(Pr=(Er=h.users)==null?void 0:Er.find(vs=>vs.id===Lt.lender_id))==null?void 0:Pr.firstName)==null?void 0:Qs.toLowerCase())||"",Ps=((cr=Lt.return_date)==null?void 0:cr.toLowerCase())||"",Rs=((Zs=Lt.borrow_date)==null?void 0:Zs.toLowerCase())||"",na=(((qr=h.transactionItems)==null?void 0:qr.filter(vs=>vs.transaction_id===Lt.id))||[]).some(vs=>{var Ir,dr,Mr,jr,Xr,Tr,ua;if(vs.item_type==="Office Supply")return(((dr=(Ir=h.officeSupplies.find(e=>Number(e.id)===Number(vs.item_copy_id)))==null?void 0:Ir.supply_name)==null?void 0:dr.toLowerCase())||"").includes(Xt);if(vs.item_type==="Equipment Copy"){const W=((jr=(Mr=h.officeEquipments.find(t=>{var r;return Number(t.id)===Number((r=h.equipmentCopies.find(a=>Number(a.id)===Number(vs.item_copy_id)))==null?void 0:r.item_id)}))==null?void 0:Mr.equipment_name)==null?void 0:jr.toLowerCase())||"",e=((ua=(Tr=(Xr=h.equipmentCopies.find(t=>Number(t.id)===Number(vs.item_copy_id)))==null?void 0:Xr.item_id)==null?void 0:Tr.toString())==null?void 0:ua.toLowerCase())||"";return W.includes(Xt)||e.includes(Xt)}return!1});return xs.includes(Xt)||ms.includes(Xt)||$s.includes(Xt)||Ps.includes(Xt)||Rs.includes(Xt)||na})}),I=G(""),L=G(""),E=G(""),P=G(""),$=G(""),D=Ve(()=>{if(!I.value)return ue.value;const Ge=I.value.toLowerCase();return ue.value.filter(Oe=>Oe.type.toLowerCase().includes(Ge))}),N=Ve(()=>{if(!L.value)return Je.value;const Ge=L.value.toLowerCase();return Je.value.filter(Oe=>Oe.type.toLowerCase().includes(Ge))}),R=Ve(()=>{if(!E.value)return ke.value;const Ge=E.value.toLowerCase();return ke.value.filter(Oe=>Oe.type.toLowerCase().includes(Ge))}),H=Ve(()=>{if(!P.value)return at.value;const Ge=P.value.toLowerCase();return at.value.filter(Oe=>Oe.type.toLowerCase().includes(Ge))}),Q=Ve(()=>{if(!$.value)return Le.value;const Ge=$.value.toLowerCase();return Le.value.filter(Oe=>Oe.type.toLowerCase().includes(Ge))}),Y=G(1),q=G(5),S=Ve(()=>Math.ceil(k.value.length/q.value)),K=Ve(()=>[...k.value].sort((Oe,Be)=>{const At=(Et,Lt)=>{var Xt,It,xs,ms,$s,Ps;switch(Lt){case"id":return Et.id;case"borrower":return((It=(Xt=h.borrowers.find(Fs=>Fs.id===Et.borrower_id))==null?void 0:Xt.borrowers_name)==null?void 0:It.toLowerCase())||"";case"borrow_date":return new Date(Et.borrow_date);case"return_date":return Et.return_date?new Date(Et.return_date):new Date(0);case"lender":return((ms=(xs=h.users.find(Fs=>Fs.id===Et.lender_id))==null?void 0:xs.firstName)==null?void 0:ms.toLowerCase())||"";case"isc":return Et.isc;case"office":const Rs=h.borrowers.find(Fs=>Fs.id===Et.borrower_id);return((Ps=($s=h.officeList.find(Fs=>Fs.id===(Rs==null?void 0:Rs.office_id)))==null?void 0:$s.office_name)==null?void 0:Ps.toLowerCase())||"";default:return""}},as=At(Oe,We.value),us=At(Be,We.value);return as<us?He.value==="asc"?-1:1:as>us?He.value==="asc"?1:-1:0})),ae=Ve(()=>{const Ge=(Y.value-1)*q.value,Oe=Ge+q.value;return K.value.slice(Ge,Oe)}),B=()=>{Y.value<S.value&&Y.value++},te=()=>{Y.value>1&&Y.value--},fe=Ge=>{Ge>=1&&Ge<=S.value&&(Y.value=Ge)},Te=Ve(()=>{const Oe=[];Oe.push(1);let Be=Math.max(2,Y.value-2),At=Math.min(S.value-1,Y.value+2);Y.value-2>2&&Oe.push("...");for(let as=Be;as<=At;as++)Oe.push(as);return Y.value+2<S.value-1&&Oe.push("..."),S.value>1&&Oe.push(S.value),Oe});it(o,()=>{Y.value=1});const Ae=G(null),Ie=G([]);gt(()=>{Je.value=h.officeList.map(Ge=>({id:Ge.id,type:Ge.office_name,isActive:Number(h.filterOfficeId)===Number(Ge.id)})),ue.value=h.borrowers.map(Ge=>({id:Ge.id,type:Ge.borrowers_name,isActive:Number(h.filterBorrowerId)===Number(Ge.id)})),at.value=h.transactionHistory.map(Ge=>({id:Ge.id,type:Ge.isc,isActive:!1}))});const Ee=Ge=>{Ae.value=Ae.value===Ge?null:Ge},Ne=G(!1),Me=G(null),ze=G(null),Je=G([]),Ye=()=>{Ne.value=!Ne.value},st=(Ge,Oe)=>{Oe.stopPropagation();const Be=Je.value.find(At=>At.id===Ge);Be&&(Be.isActive=!Be.isActive)},xe=Ge=>{Me.value&&!Me.value.contains(Ge.target)&&ze.value&&!ze.value.contains(Ge.target)&&(Ne.value=!1),Ae.value=null},ue=G([]),Re=G(!1),bt=G(null),ot=G(null),Pe=()=>{Re.value=!Re.value},ge=(Ge,Oe)=>{Oe.stopPropagation();const Be=ue.value.find(At=>At.id===Ge);Be&&(Be.isActive=!Be.isActive)},je=Ge=>{bt.value&&!bt.value.contains(Ge.target)&&ot.value&&!ot.value.contains(Ge.target)&&(Re.value=!1),Ae.value=null},ke=G([]),ie=G(!1),ye=G(null),ne=G(null);gt(()=>{ke.value=h.users.map(Ge=>({id:Ge.id,type:`${Ge.firstName} ${Ge.lastName||""}`.trim(),isActive:Number(h.filterLenderId)===Number(Ge.id)}))});const le=()=>{ie.value=!ie.value},oe=(Ge,Oe)=>{Oe.stopPropagation();const Be=ke.value.find(At=>At.id===Ge);Be&&(Be.isActive=!Be.isActive)},Ce=Ge=>{ye.value&&!ye.value.contains(Ge.target)&&ne.value&&!ne.value.contains(Ge.target)&&(ie.value=!1),Ae.value=null},Le=G([{id:"returned",type:"Returned",isActive:!1},{id:"not_returned",type:"Not Returned",isActive:!1}]),_e=G(!1),rt=G(null),et=G(null),tt=()=>{_e.value=!_e.value},Qe=(Ge,Oe)=>{Oe.stopPropagation();const Be=Le.value.find(At=>At.id===Ge);Be&&(Be.isActive=!Be.isActive)},Ct=Ge=>{rt.value&&!rt.value.contains(Ge.target)&&et.value&&!et.value.contains(Ge.target)&&(_e.value=!1),Ae.value=null},at=G([]),vt=G(!1),lt=G(null),Dt=G(null),jt=()=>{vt.value=!vt.value},Ut=(Ge,Oe)=>{Oe.stopPropagation();const Be=at.value.find(At=>At.id===Ge);Be&&(Be.isActive=!Be.isActive)},ss=Ge=>{lt.value&&!lt.value.contains(Ge.target)&&Dt.value&&!Dt.value.contains(Ge.target)&&(vt.value=!1),Ae.value=null},ns=Ge=>Ge?new Date(Ge).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):"N/A";gt(()=>{document.addEventListener("click",xe),document.addEventListener("click",je),document.addEventListener("click",Ce),document.addEventListener("click",ss),document.addEventListener("click",Ct)}),Nt(()=>{document.removeEventListener("click",xe),document.removeEventListener("click",je),document.removeEventListener("click",Ce),document.removeEventListener("click",ss),document.removeEventListener("click",Ct)});const Pt=G(!1),ks=()=>{Pt.value=!0},We=G("id"),He=G("asc"),Ke=Ge=>{Y.value=1,We.value===Ge?He.value=He.value==="asc"?"desc":"asc":(We.value=Ge,He.value="asc")},St=async()=>{const Ge=window.open("","_blank","width=800,height=600");await new Promise(Oe=>{const Be=new Image;Be.src=gs,Be.onload=Oe,Be.onerror=Oe}),await new Promise(Oe=>{setTimeout(Oe,100)}),Ge.document.write(`
    <html>
        <head>
            <title>Printed Transactions Reports</title>
            <style>
                body { font-family: Arial, sans-serif; }
                table { 
                    width: 100%; 
                    border-collapse: collapse; 
                    margin-bottom: 20px; 
                }
                th, td { 
                    border: 1px solid #ddd; 
                    padding: 8px; 
                    text-align: left; 
                }
                th { 
                    background-color: #f2f2f2; 
                    font-weight: bold; 
                }
                .print-header {
                    text-align: center;
                    margin-bottom: 20px;
                }
            </style>
        </head>
        <body>
            <div class="print-header">
                <img src="${gs}" alt="Logo" style="width: 100px; height: auto; display: block; margin: 20px auto;">
                <h1>Transaction Management - Printed Report</h1>
                <p>Printed on: ${new Date().toLocaleString()}</p>
            </div>
            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Borrower</th>
                        <th>Office</th>
                        <th>Lender</th>
                        <th>ISC/AREE</th>
                        <th>Item</th>
                        <th>Return Date</th>
                        <th>Borrow Date</th>
                    </tr>
                </thead>
                <tbody>
    ${k.value.map(Oe=>{var Be,At,as,us;return`
        <tr>
            <td>${Oe.id}</td>
            <td>${((Be=h.borrowers.find(Et=>Et.id===Oe.borrower_id))==null?void 0:Be.borrowers_name)||"Unknown"}</td>
            <td>${((At=h.officeList.find(Et=>{var Lt;return Et.id===((Lt=h.borrowers.find(Xt=>Xt.id===Oe.borrower_id))==null?void 0:Lt.office_id)}))==null?void 0:At.office_name)||"Unknown"}</td>
            <td>${(((as=h.users.find(Et=>Et.id===Oe.lender_id))==null?void 0:as.firstName)||"")+" "+(((us=h.users.find(Et=>Et.id===Oe.lender_id))==null?void 0:us.lastName)||"Unknown")}</td>
            <td>${Oe.isc||"No data found"}</td>
            <td>${h.transactionItems.filter(Et=>Et.transaction_id===Oe.id).map(Et=>{var Lt,Xt;if(Et.item_type==="Office Supply")return((Lt=h.officeSupplies.find(It=>It.id===Et.item_copy_id))==null?void 0:Lt.supply_name)||"Unknown Supply";if(Et.item_type==="Equipment Copy"){const It=h.officeEquipments.find(ms=>{var $s;return ms.id===(($s=h.equipmentCopies.find(Ps=>Ps.id===Et.item_copy_id))==null?void 0:$s.item_id)}),xs=(Xt=h.equipmentCopies.find(ms=>ms.id===Et.item_copy_id))==null?void 0:Xt.copy_num;return`${(It==null?void 0:It.equipment_name)||"Unknown Equipment"} #${xs||""}`}return""}).join(", ")}</td>
            <td>${Oe.return_date?new Date(Oe.return_date).toLocaleString():"Not yet returned"}</td>
            <td>${new Date(Oe.borrow_date).toLocaleString()}</td>
        </tr>
    `}).join("")}
</tbody>
            </table>
            <div class="print-footer">
                <p>Total Transactions: ${k.value.length}</p>
            </div>
        </body>
    </html>
`),Ge.document.close(),await new Promise(Oe=>setTimeout(Oe,500)),Ge.print(),Ge.onafterprint=()=>{Ge.close()}};return(Ge,Oe)=>(F(),se("div",h1,[l("section",f1,[l("div",p1,[l("div",g1,[l("div",m1,[l("div",v1,[l("form",b1,[Oe[21]||(Oe[21]=l("label",{for:"simple-search",class:"sr-only"},"Search",-1)),l("div",x1,[Oe[20]||(Oe[20]=l("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[l("svg",{"aria-hidden":"true",class:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),Xe(l("input",{"onUpdate:modelValue":Oe[0]||(Oe[0]=Be=>o.value=Be),type:"text",id:"simple-search",class:"bg-gray-50 border border-gray-500 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full pl-10 p-2 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Search transactions..."},null,512),[[ht,o.value]])])])]),l("button",{onClick:Oe[1]||(Oe[1]=nt(Be=>ks(),["stop"])),class:"col-span-1 w-full h-full flex items-center justify-center border px-2 py-1 rounded-lg button-default-green"},[he(de(ir),{class:"w-5 h-5 md:w-8 md:h-8"}),Oe[22]||(Oe[22]=l("p",{class:"ml-1 text-xs md:text-base"},"New Transaction",-1))]),l("button",{onClick:St,class:"col-span-1 lg:col-span-1 w-full h-full flex items-center justify-center border px-2 py-1 rounded-lg button-default-green"},[he(de(Pa),{class:"w-5 h-5 md:w-8 md:h-8"}),Oe[23]||(Oe[23]=l("p",{class:"ml-1 text-xs md:text-base"},"Print Transaction",-1))])]),l("div",y1,[l("div",w1,[l("button",{onClick:Pe,ref_key:"borrowerDropDownButtonRef",ref:bt,class:"flex justify-center border w-full h-full items-center rounded-lg p-1 font-medium text-xs sm:text-sm md:text-base border-gray-400 bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-white dark:border-gray-600"},[he(de(Ba),{class:"w-5 h-5 mr-1"}),Oe[24]||(Oe[24]=xt(" Borrower Filter ")),he(de(Fa),{class:"w-5 h-5"})],512),Xe(l("div",{ref_key:"borrowerDropDownMenuRef",ref:ot,class:"shadow-1 dark:shadow-box-dark absolute border border-gray-500 w-full right-0 z-40 mt-2 rounded-md bg-gray-200 dark:bg-gray-900 px-4 pt-2 transition-all"},[l("div",k1,[Xe(l("input",{type:"text","onUpdate:modelValue":Oe[2]||(Oe[2]=Be=>I.value=Be),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg w-full p-2 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Search borrowers..."},null,512),[[ht,I.value]])]),l("div",C1,[(F(!0),se(ft,null,yt(D.value,Be=>(F(),se("label",{class:"flex items-center cursor-pointer select-none text-dark dark:text-white mb-2",key:Be.id},[l("div",_1,[l("input",{type:"checkbox",class:"sr-only",checked:Be.isActive,onChange:At=>ge(Be.id,At)},null,40,S1),l("div",A1,[l("span",{class:ct({"opacity-100":Be.isActive,"opacity-0":!Be.isActive})},Oe[25]||(Oe[25]=[l("svg",{width:"11",height:"8",viewBox:"0 0 11 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[l("path",{d:"M10.0915 0.951972L10.0867 0.946075L10.0813 0.940568C9.90076 0.753564 9.61034 0.753146 9.42927 0.939309L4.16201 6.22962L1.58507 3.63469C1.40401 3.44841 1.11351 3.44879 0.932892 3.63584C0.755703 3.81933 0.755703 4.10875 0.932892 4.29224L0.932878 4.29225L0.934851 4.29424L3.58046 6.95832C3.73676 7.11955 3.94983 7.2 4.1473 7.2C4.36196 7.2 4.55963 7.11773 4.71406 6.9584L10.0468 1.60234C10.2436 1.4199 10.2421 1.1339 10.0915 0.951972ZM4.2327 6.30081L4.2317 6.2998C4.23206 6.30015 4.23237 6.30049 4.23269 6.30082L4.2327 6.30081Z",fill:"#3056D3",stroke:"#3056D3",strokeWidth:"0.4"})],-1)]),2)])]),xt(" "+pe(Be.type),1)]))),128))])],512),[[Vs,Re.value]])]),l("div",L1,[l("button",{onClick:Ye,ref_key:"officeDropDownButtonRef",ref:Me,class:"flex justify-center border w-full h-full items-center rounded-lg p-1 font-medium text-xs sm:text-sm md:text-base border-gray-400 bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-white dark:border-gray-600"},[he(de(Ba),{class:"w-5 h-5 mr-1"}),Oe[26]||(Oe[26]=xt(" Office Filter ")),he(de(Fa),{class:"w-5 h-5"})],512),Xe(l("div",{ref_key:"officeDropDownMenuRef",ref:ze,class:"shadow-1 dark:shadow-box-dark absolute border border-gray-500 w-full right-0 z-40 mt-2 rounded-md bg-gray-200 dark:bg-gray-900 px-4 pt-2 transition-all"},[l("div",E1,[Xe(l("input",{type:"text","onUpdate:modelValue":Oe[3]||(Oe[3]=Be=>L.value=Be),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg w-full p-2 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Search offices..."},null,512),[[ht,L.value]])]),l("div",P1,[(F(!0),se(ft,null,yt(N.value,Be=>(F(),se("label",{class:"flex items-center cursor-pointer select-none text-dark dark:text-white mb-2",key:Be.id},[l("div",I1,[l("input",{type:"checkbox",class:"sr-only",checked:Be.isActive,onChange:At=>st(Be.id,At)},null,40,M1),l("div",T1,[l("span",{class:ct({"opacity-100":Be.isActive,"opacity-0":!Be.isActive})},Oe[27]||(Oe[27]=[l("svg",{width:"11",height:"8",viewBox:"0 0 11 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[l("path",{d:"M10.0915 0.951972L10.0867 0.946075L10.0813 0.940568C9.90076 0.753564 9.61034 0.753146 9.42927 0.939309L4.16201 6.22962L1.58507 3.63469C1.40401 3.44841 1.11351 3.44879 0.932892 3.63584C0.755703 3.81933 0.755703 4.10875 0.932892 4.29224L0.932878 4.29225L0.934851 4.29424L3.58046 6.95832C3.73676 7.11955 3.94983 7.2 4.1473 7.2C4.36196 7.2 4.55963 7.11773 4.71406 6.9584L10.0468 1.60234C10.2436 1.4199 10.2421 1.1339 10.0915 0.951972ZM4.2327 6.30081L4.2317 6.2998C4.23206 6.30015 4.23237 6.30049 4.23269 6.30082L4.2327 6.30081Z",fill:"#3056D3",stroke:"#3056D3",strokeWidth:"0.4"})],-1)]),2)])]),xt(" "+pe(Be.type),1)]))),128))])],512),[[Vs,Ne.value]])]),l("div",O1,[l("button",{onClick:le,ref_key:"userDropDownButtonRef",ref:ye,class:"flex justify-center border w-full h-full items-center rounded-lg p-1 font-medium text-xs sm:text-sm md:text-base border-gray-400 bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-white dark:border-gray-600"},[he(de(Ba),{class:"w-5 h-5 mr-1"}),Oe[28]||(Oe[28]=xt(" Lender Filter ")),he(de(Fa),{class:"w-5 h-5"})],512),Xe(l("div",{ref_key:"userDropDownMenuRef",ref:ne,class:"shadow-1 dark:shadow-box-dark absolute border border-gray-500 w-full right-0 z-40 mt-2 rounded-md bg-gray-200 dark:bg-gray-900 px-4 pt-2 transition-all"},[l("div",$1,[Xe(l("input",{type:"text","onUpdate:modelValue":Oe[4]||(Oe[4]=Be=>E.value=Be),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg w-full p-2 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Search lenders..."},null,512),[[ht,E.value]])]),l("div",R1,[(F(!0),se(ft,null,yt(R.value,Be=>(F(),se("label",{class:"flex items-center cursor-pointer select-none text-dark dark:text-white mb-2",key:Be.id},[l("div",D1,[l("input",{type:"checkbox",class:"sr-only",checked:Be.isActive,onChange:At=>oe(Be.id,At)},null,40,N1),l("div",z1,[l("span",{class:ct({"opacity-100":Be.isActive,"opacity-0":!Be.isActive})},Oe[29]||(Oe[29]=[l("svg",{width:"11",height:"8",viewBox:"0 0 11 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[l("path",{d:"M10.0915 0.951972L10.0867 0.946075L10.0813 0.940568C9.90076 0.753564 9.61034 0.753146 9.42927 0.939309L4.16201 6.22962L1.58507 3.63469C1.40401 3.44841 1.11351 3.44879 0.932892 3.63584C0.755703 3.81933 0.755703 4.10875 0.932892 4.29224L0.932878 4.29225L0.934851 4.29424L3.58046 6.95832C3.73676 7.11955 3.94983 7.2 4.1473 7.2C4.36196 7.2 4.55963 7.11773 4.71406 6.9584L10.0468 1.60234C10.2436 1.4199 10.2421 1.1339 10.0915 0.951972ZM4.2327 6.30081L4.2317 6.2998C4.23206 6.30015 4.23237 6.30049 4.23269 6.30082L4.2327 6.30081Z",fill:"#3056D3",stroke:"#3056D3",strokeWidth:"0.4"})],-1)]),2)])]),xt(" "+pe(Be.type),1)]))),128))])],512),[[Vs,ie.value]])]),l("div",B1,[l("button",{onClick:jt,ref_key:"icsDropDownButtonRef",ref:lt,class:"flex justify-center border w-full h-full items-center rounded-lg p-1 font-medium text-xs sm:text-sm md:text-base border-gray-400 bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-white dark:border-gray-600"},[he(de(Ba),{class:"w-5 h-5 mr-1"}),Oe[30]||(Oe[30]=xt(" ICS Filter ")),he(de(Fa),{class:"w-5 h-5"})],512),Xe(l("div",{ref_key:"icsDropDownMenuRef",ref:Dt,class:"shadow-1 dark:shadow-box-dark absolute border border-gray-500 w-full right-0 z-40 mt-2 rounded-md bg-gray-200 dark:bg-gray-900 px-4 pt-2 transition-all"},[l("div",F1,[Xe(l("input",{type:"text","onUpdate:modelValue":Oe[5]||(Oe[5]=Be=>P.value=Be),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg w-full p-2 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Search ics..."},null,512),[[ht,P.value]])]),l("div",H1,[(F(!0),se(ft,null,yt(H.value,Be=>(F(),se("label",{class:"flex items-center cursor-pointer select-none text-dark dark:text-white mb-2",key:Be.id},[l("div",V1,[l("input",{type:"checkbox",class:"sr-only",checked:Be.isActive,onChange:At=>Ut(Be.id,At)},null,40,U1),l("div",q1,[l("span",{class:ct({"opacity-100":Be.isActive,"opacity-0":!Be.isActive})},Oe[31]||(Oe[31]=[l("svg",{width:"11",height:"8",viewBox:"0 0 11 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[l("path",{d:"M10.0915 0.951972L10.0867 0.946075L10.0813 0.940568C9.90076 0.753564 9.61034 0.753146 9.42927 0.939309L4.16201 6.22962L1.58507 3.63469C1.40401 3.44841 1.11351 3.44879 0.932892 3.63584C0.755703 3.81933 0.755703 4.10875 0.932892 4.29224L0.932878 4.29225L0.934851 4.29424L3.58046 6.95832C3.73676 7.11955 3.94983 7.2 4.1473 7.2C4.36196 7.2 4.55963 7.11773 4.71406 6.9584L10.0468 1.60234C10.2436 1.4199 10.2421 1.1339 10.0915 0.951972ZM4.2327 6.30081L4.2317 6.2998C4.23206 6.30015 4.23237 6.30049 4.23269 6.30082L4.2327 6.30081Z",fill:"#3056D3",stroke:"#3056D3",strokeWidth:"0.4"})],-1)]),2)])]),xt(" "+pe(Be.type),1)]))),128))])],512),[[Vs,vt.value]])]),l("div",j1,[l("button",{onClick:tt,ref_key:"returnStatusDropDownButtonRef",ref:rt,class:"flex justify-center border w-full h-full items-center rounded-lg p-1 font-medium text-xs sm:text-sm md:text-base border-gray-400 bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-white dark:border-gray-600"},[he(de(Ba),{class:"w-5 h-5 mr-1"}),Oe[32]||(Oe[32]=xt(" Return Status ")),he(de(Fa),{class:"w-5 h-5"})],512),Xe(l("div",{ref_key:"returnStatusDropDownMenuRef",ref:et,class:"shadow-1 dark:shadow-box-dark absolute border border-gray-500 w-full right-0 z-40 mt-2 rounded-md bg-gray-200 dark:bg-gray-900 px-4 pt-2 transition-all"},[l("div",X1,[Xe(l("input",{type:"text","onUpdate:modelValue":Oe[6]||(Oe[6]=Be=>$.value=Be),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg w-full p-2 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Search return status..."},null,512),[[ht,$.value]])]),l("div",Y1,[(F(!0),se(ft,null,yt(Q.value,Be=>(F(),se("label",{class:"flex items-center cursor-pointer select-none text-dark dark:text-white mb-2",key:Be.id},[l("div",W1,[l("input",{type:"checkbox",class:"sr-only",checked:Be.isActive,onChange:At=>Qe(Be.id,At)},null,40,G1),l("div",Q1,[l("span",{class:ct({"opacity-100":Be.isActive,"opacity-0":!Be.isActive})},Oe[33]||(Oe[33]=[l("svg",{width:"11",height:"8",viewBox:"0 0 11 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[l("path",{d:"M10.0915 0.951972L10.0867 0.946075L10.0813 0.940568C9.90076 0.753564 9.61034 0.753146 9.42927 0.939309L4.16201 6.22962L1.58507 3.63469C1.40401 3.44841 1.11351 3.44879 0.932892 3.63584C0.755703 3.81933 0.755703 4.10875 0.932892 4.29224L0.932878 4.29225L0.934851 4.29424L3.58046 6.95832C3.73676 7.11955 3.94983 7.2 4.1473 7.2C4.36196 7.2 4.55963 7.11773 4.71406 6.9584L10.0468 1.60234C10.2436 1.4199 10.2421 1.1339 10.0915 0.951972ZM4.2327 6.30081L4.2317 6.2998C4.23206 6.30015 4.23237 6.30049 4.23269 6.30082L4.2327 6.30081Z",fill:"#3056D3",stroke:"#3056D3",strokeWidth:"0.4"})],-1)]),2)])]),xt(" "+pe(Be.type),1)]))),128))])],512),[[Vs,_e.value]])])]),l("div",Z1,[l("table",K1,[l("thead",J1,[l("tr",ew,[l("th",{class:"py-3 px-2 cursor-pointer",onClick:Oe[7]||(Oe[7]=Be=>Ke("id"))},[he(hs,{label:"ID",field:"id",sortBy:We.value,sortDirection:He.value},null,8,["sortBy","sortDirection"])]),l("th",{class:"py-3 px-2 min-w-40 cursor-pointer",onClick:Oe[8]||(Oe[8]=Be=>Ke("borrower"))},[he(hs,{label:"Borrower",field:"borrower",sortBy:We.value,sortDirection:He.value},null,8,["sortBy","sortDirection"])]),l("th",{class:"py-3 px-2 min-w-50 cursor-pointer",onClick:Oe[9]||(Oe[9]=Be=>Ke("office"))},[he(hs,{label:"Office",field:"office",sortBy:We.value,sortDirection:He.value},null,8,["sortBy","sortDirection"])]),l("th",{class:"py-3 px-2 min-w-40 cursor-pointer",onClick:Oe[10]||(Oe[10]=Be=>Ke("lender"))},[he(hs,{label:"Lender",field:"lender",sortBy:We.value,sortDirection:He.value},null,8,["sortBy","sortDirection"])]),l("th",{class:"py-3 px-2 min-w-40 cursor-pointer",onClick:Oe[11]||(Oe[11]=Be=>Ke("isc"))},[he(hs,{label:"ICS/ARE",field:"isc",sortBy:We.value,sortDirection:He.value},null,8,["sortBy","sortDirection"])]),Oe[34]||(Oe[34]=l("th",{class:"py-3 px-2 min-w-50"},"Item/s",-1)),l("th",{class:"py-3 px-2 min-w-30 cursor-pointer",onClick:Oe[12]||(Oe[12]=Be=>Ke("return_date"))},[he(hs,{label:"Return Date",field:"return_date",sortBy:We.value,sortDirection:He.value},null,8,["sortBy","sortDirection"])]),l("th",{class:"py-3 px-2 min-w-30 cursor-pointer",onClick:Oe[13]||(Oe[13]=Be=>Ke("borrow_date"))},[he(hs,{label:"Borrow Date",field:"borrow_date",sortBy:We.value,sortDirection:He.value},null,8,["sortBy","sortDirection"])]),Oe[35]||(Oe[35]=l("th",{class:"py-3 px-2 min-w-20"},"Actions",-1))])]),l("tbody",tw,[ae.value.length?(F(!0),se(ft,{key:0},yt(ae.value,Be=>{var At,as,us,Et,Lt,Xt;return F(),se("tr",{class:"border-b font-medium text-xs md:text-sm text-gray-700 dark:border-gray-700 dark:text-gray-300 odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 dark:hover:bg-gray-700 dark:hover:text-white",key:Be.id},[l("th",sw,pe(Be.id),1),l("td",rw,pe(((At=h.borrowers.find(It=>Number(It.id)===Number(Be.borrower_id)))==null?void 0:At.borrowers_name)||"Unknown First Name"),1),l("td",aw,pe(((as=h.officeList.find(It=>{var xs;return Number(It.id)===Number((xs=h.borrowers.find(ms=>Number(ms.id)===Number(Be.borrower_id)))==null?void 0:xs.office_id)}))==null?void 0:as.office_name)||"Unknown Office"),1),l("td",iw,pe((((Et=(us=h.users)==null?void 0:us.find(It=>It.id===Be.lender_id))==null?void 0:Et.firstName)||"")+" "+(((Xt=(Lt=h.users)==null?void 0:Lt.find(It=>It.id===Be.lender_id))==null?void 0:Xt.lastName)||"No data found")),1),l("td",ow,pe(Be.isc||"No data found"),1),l("td",null,[l("ul",null,[(F(!0),se(ft,null,yt(h.transactionItems,It=>{var xs,ms,$s;return F(),se("li",{key:It.id,class:"flex flex-row pl-2 justify-start items-center font-bold dark:font-semibold"},[It.transaction_id===Be.id?(F(),se("div",nw,[It.item_type==="Office Supply"?(F(),se("span",{key:0,class:ct(["flex flex-row justify-center items-center",It.returned?"text-green-700 dark:text-green-600":"text-red-700 dark:text-red-600"])},[It.returned?(F(),Ze(de(Po),{key:0,class:"w-7 h-7"})):(F(),Ze(de(Io),{key:1,class:"w-7 h-7"})),xt(" "+pe(((xs=h.officeSupplies.find(Ps=>Number(Ps.id)===Number(It.item_copy_id)))==null?void 0:xs.supply_name)||"Unknown Supply"),1)],2)):we("",!0),It.item_type==="Equipment Copy"?(F(),se("span",{key:1,class:ct(["flex flex-row justify-center items-center",It.returned?"text-green-700 dark:text-green-600":"text-red-700 dark:text-red-600"])},[It.returned?(F(),Ze(de(Po),{key:0,class:"w-7 h-7"})):(F(),Ze(de(Io),{key:1,class:"w-7 h-7"})),xt(" "+pe(((ms=h.officeEquipments.find(Ps=>{var Rs;return Number(Ps.id)===Number((Rs=h.equipmentCopies.find(Fs=>Number(Fs.id)===Number(It.item_copy_id)))==null?void 0:Rs.item_id)}))==null?void 0:ms.equipment_name)||"Unknown Equipment")+" #"+pe((($s=h.equipmentCopies.find(Ps=>Number(Ps.id)===Number(It.item_copy_id)))==null?void 0:$s.copy_num)||"Unknown Equipment"),1)],2)):we("",!0)])):we("",!0)])}),128))])]),l("td",{class:ct(["max-w-min",Be.return_date?"text-green-700 dark:text-green-600":"text-red-700 dark:text-red-600"])},[l("div",lw,[Be.return_date?(F(),Ze(de(Po),{key:0,class:"w-7 h-7"})):(F(),Ze(de(Io),{key:1,class:"w-7 h-7"})),Be.return_date?(F(),se("span",cw,pe(ns(Be.return_date)),1)):(F(),se("span",dw," Not yet returned "))])],2),l("td",uw,pe(ns(Be.borrow_date)),1),l("td",hw,[l("button",{onClick:nt(It=>Ee(Be.id),["stop"]),class:"inline-flex items-center p-0.5 text-sm font-medium text-gray-500 hover:text-gray-800 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100",type:"button"},[he(de(Ia),{class:"w-5 h-5"})],8,fw),Ae.value===Be.id?(F(),se("div",{key:0,ref_for:!0,ref_key:"dropdownRefs",ref:Ie,class:"absolute z-[10] bg-white divide-gray-100 rounded-lg shadow-sm w-44 dark:bg-gray-700 right-12 -mt-15"},[l("ul",pw,[l("li",gw,[l("button",{onClick:nt(It=>v(Be),["stop"]),class:"w-full text-start px-4 py-2"}," Update ",8,mw),u.value?(F(),Ze(Tx,{key:0,modelValue:u.value,"onUpdate:modelValue":Oe[14]||(Oe[14]=It=>u.value=It),transaction:d.value,officeEquipments:h.officeEquipments,officeSupplies:h.officeSupplies,equipmentCopies:h.equipmentCopies,officeList:h.officeList,categoryList:h.categoryList,transactionItems:h.transactionItems,borrowers:h.borrowers,users:h.users,onClick:Oe[15]||(Oe[15]=nt(()=>{},["stop"]))},null,8,["modelValue","transaction","officeEquipments","officeSupplies","equipmentCopies","officeList","categoryList","transactionItems","borrowers","users"])):we("",!0)]),l("li",vw,[l("button",{onClick:nt(It=>y(Be),["stop"]),class:"w-full text-start px-4 py-2"}," Delete ",8,bw),m.value?(F(),Ze(Bx,{key:0,modelValue:m.value,"onUpdate:modelValue":Oe[16]||(Oe[16]=It=>m.value=It),transaction:d.value,officeSupplies:h.officeSupplies,transactionItems:h.transactionItems,borrowers:h.borrowers,onClick:Oe[17]||(Oe[17]=nt(()=>{},["stop"]))},null,8,["modelValue","transaction","officeSupplies","transactionItems","borrowers"])):we("",!0)])])],512)):we("",!0)])])}),128)):(F(),se("tr",xw,Oe[36]||(Oe[36]=[l("td",{colspan:"9",class:"text-center py-4 text-gray-500 dark:text-gray-400"}," No Transaction found ",-1)])))])])]),ae.value.length>0?(F(),se("nav",yw,[l("span",ww,[Oe[37]||(Oe[37]=xt(" Showing ")),l("span",kw,pe((Y.value-1)*q.value+1)+" - "+pe(Math.min(Y.value*q.value,k.value.length)),1),Oe[38]||(Oe[38]=xt(" of ")),l("span",Cw,pe(k.value.length),1)]),l("ul",_w,[l("li",null,[l("button",{onClick:te,disabled:Y.value===1,class:"flex items-center justify-center h-full py-1.5 px-3 ml-0 text-gray-500 bg-white rounded-l-lg border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white disabled:opacity-50 disabled:cursor-not-allowed"},Oe[39]||(Oe[39]=[l("span",{class:"sr-only"},"Previous",-1),l("svg",{class:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]),8,Sw)]),(F(!0),se(ft,null,yt(Te.value,Be=>(F(),se("li",{key:Be},[l("button",{onClick:At=>fe(Be),class:ct(["flex items-center justify-center text-sm py-2 px-3 leading-tight border",Be===Y.value?"text-primary-600 bg-primary-50 border-primary-300 hover:bg-primary-100 hover:text-primary-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white":"text-gray-500 bg-white border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"])},pe(Be),11,Aw)]))),128)),l("li",null,[l("button",{onClick:B,disabled:Y.value===S.value,class:"flex items-center justify-center h-full py-1.5 px-3 leading-tight text-gray-500 bg-white rounded-r-lg border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white disabled:opacity-50 disabled:cursor-not-allowed"},Oe[40]||(Oe[40]=[l("span",{class:"sr-only"},"Next",-1),l("svg",{class:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)]),8,Lw)])])])):we("",!0)])])]),Pt.value?(F(),Ze(wu,{key:0,modelValue:Pt.value,"onUpdate:modelValue":Oe[18]||(Oe[18]=Be=>Pt.value=Be),onClick:Oe[19]||(Oe[19]=nt(()=>{},["stop"]))},null,8,["modelValue"])):we("",!0)]))}},Pw={class:""},Iw={class:"relative flex items-center text-sm 2xl:text-md"},Mw={class:"absolute left-0 pl-5 text-dark-5"},Tw=["value"],Ow={key:0,id:"datepicker-container",class:"shadow-datepicker absolute z-30 mt-2 rounded-xl border-2 border-stroke bg-white pt-5 border-gray-400 dark:bg-gray-950 dark:border-gray-600"},$w={class:"flex items-center justify-between px-5"},Rw={id:"currentMonth",class:"text-lg font-medium text-dark-3 dark:text-white"},Dw=["disabled"],Nw={class:"grid grid-cols-7 px-5"},zw=["data-date","onClick"],Bw={__name:"DateRangePicker",emits:["dateRangeSelected"],setup(s,{emit:o}){const d=G(new Date),u=q=>q.toLocaleDateString("en-US"),h=G(u(d.value)),v=G(u(new Date(d.value.setDate(d.value.getDate()-6)))),m=G(!1),y=G(null),k=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],I=o,L=()=>{const q=d.value.getFullYear(),S=d.value.getMonth(),K=new Date,ae=new Date(q,S,1).getDay(),B=new Date(q,S+1,0).getDate(),te=[];for(let fe=0;fe<ae;fe++)te.push({day:"",className:"",dayString:""});for(let fe=1;fe<=B;fe++){const Te=new Date(q,S,fe),Ae=Te.toLocaleDateString("en-US");let Ie="flex items-center justify-center cursor-pointer w-[46px] h-[46px] rounded-full text-dark-3 dark:text-dark-6 my-0.5 hover:bg-blue-700 hover:text-white";v.value&&Ae===v.value&&(Ie+=" bg-blue-700 text-white dark:text-white rounded-r-none"),h.value&&Ae===h.value&&(Ie+=" bg-blue-700 text-white dark:text-white rounded-l-none"),v.value&&h.value&&new Date(Te)>new Date(v.value)&&new Date(Te)<new Date(h.value)&&(Ie+=" bg-blue-400 text-white rounded-none dark:bg-blue-500"),Te>K?Ie+=" text-gray-400 cursor-not-allowed":te.push({day:fe,className:Ie,dayString:Ae})}return te},E=q=>{new Date(q)>new Date||(!v.value||v.value&&h.value?(v.value=q,h.value=null):new Date(q)<new Date(v.value)?(h.value=v.value,v.value=q):h.value=q)},P=()=>v.value&&h.value?`${v.value}  to  ${h.value}`:v.value?v.value:"",$=()=>{m.value=!m.value},D=()=>{v.value&&h.value&&(I("dateRangeSelected",{start:v.value,end:h.value}),console.log("Applied:",v.value,h.value),m.value=!1)},N=()=>{m.value=!1},R=q=>{y.value&&!y.value.contains(q.target)&&(m.value=!1)},H=Ve(()=>d.value.toLocaleString("default",{month:"long",year:"numeric"})),Q=()=>{const q=new Date;return d.value.getMonth()===q.getMonth()&&d.value.getFullYear()===q.getFullYear()},Y=q=>{d.value=new Date(d.value.setMonth(d.value.getMonth()+q))};return gt(()=>{document.addEventListener("click",R)}),Nt(()=>{document.removeEventListener("click",R)}),gt(()=>{h.value=u(new Date),v.value=u(new Date(new Date().setDate(new Date().getDate()-6)))}),(q,S)=>(F(),se("div",Pw,[S[2]||(S[2]=l("label",{class:"mb-2 block text-sm 2xl:text-md font-medium text-dark dark:text-gray-200"}," Select Date Range: ",-1)),l("div",{class:"relative",ref_key:"datepickerRef",ref:y},[l("div",Iw,[l("span",Mw,[he(de(mg),{class:"w-6 h-6 2xl:w-7 2xl:h-7"})]),l("input",{id:"datepicker",type:"text",placeholder:"Pick a date",class:"w-full shadow-lg rounded-lg border-2 border-stroke bg-white border-gray-300 dark:bg-gray-950 dark:border-gray-700 py-2.5 pl-[50px] pr-8 text-dark-2 outline-none transition focus:border-primary dark:border-dark-3 dark:focus:border-primary",value:P(),onClick:$,readonly:""},null,8,Tw),l("span",{class:"absolute right-0 cursor-pointer pr-4 text-dark-5",onClick:$},[he(de(Wp),{class:"w-6 h-6 2xl:w-7 2xl:h-7"})])]),m.value?(F(),se("div",Ow,[l("div",$w,[l("button",{id:"prevMonth",class:"rounded-md px-2 py-2 text-dark hover:bg-gray-200 dark:text-white dark:hover:bg-gray-200",onClick:S[0]||(S[0]=K=>Y(-1))},[he(de(Gp),{class:"w-6 h-6 2xl:w-7 2xl:h-7"})]),l("div",Rw,pe(H.value),1),l("button",{id:"nextMonth",disabled:Q(),class:ct(["rounded-md px-2 py-2 text-dark dark:text-white",Q()?"opacity-40 cursor-not-allowed":"hover:bg-gray-200 dark:hover:bg-gray-200"]),onClick:S[1]||(S[1]=K=>Y(1))},[he(de(Qp),{class:"w-6 h-6 2xl:w-7 2xl:h-7"})],10,Dw)]),l("div",Nw,[(F(),se(ft,null,yt(k,K=>l("div",{key:K,class:"mb-2 mt-6 text-center text-sm font-medium text-secondary-color"},pe(K),1)),64)),(F(!0),se(ft,null,yt(L(),(K,ae)=>(F(),se("div",{key:ae,class:ct(K.className),"data-date":K.dayString,onClick:B=>E(K.dayString)},pe(K.day),11,zw))),128))]),l("div",{class:"mt-5 flex justify-end space-x-2.5 border-t border-stroke p-5 dark:border-dark-3"},[l("button",{id:"cancelButton",class:"rounded-lg border border-primary px-5 py-2.5 text-base font-medium text-primary hover:bg-blue-light-5",onClick:N},"Cancel"),l("button",{id:"applyButton",class:"rounded-lg bg-blue-700 px-5 py-2.5 text-base font-medium text-white hover:bg-blue-900",onClick:D},"Apply")])])):we("",!0)],512)]))}},Fw={class:"w-full h-full"},Hw={__name:"PieGraph",props:{dateRange:Object,isLoading:Boolean,transactionHistory:Array},setup(s){const o=s,d=qt(),u=G(null);let h=null;const v=Ve(()=>{if(!o.transactionHistory)return{returned:0,unreturned:0};const k=new Date(o.dateRange.start),I=new Date(o.dateRange.end);I.setHours(23,59,59,999);const L=o.transactionHistory.filter(D=>{const N=new Date(D.borrow_date),R=d.transactionItems.some(H=>H.transaction_id===D.id);return N>=k&&N<=I&&R});let E=0,P=0;L.forEach(D=>{D.borrow_date&&P++,D.return_date&&E++});const $=P-E;return{returned:E,unreturned:$<0?0:$}}),m=G({chart:{type:"donut",height:350},labels:["Returned","Unreturned"],colors:["#3f8f29","#bf1029"],legend:{position:"bottom",fontSize:"14px",fontWeight:"bold",labels:{useSeriesColors:!0}},dataLabels:{enabled:!0,style:{cssClass:"text-md font-normal fill-gray-900 dark:fill-gray-200"}},stroke:{show:!0,width:1,colors:["#bcc4c4"]},responsive:[{breakpoint:480,options:{chart:{width:300},legend:{position:"bottom"}}}]}),y=()=>{const k=v.value;h?h.updateOptions({...m.value,series:[k.returned,k.unreturned]}):u.value&&(h=new Xi(u.value,{...m.value,series:[k.returned,k.unreturned]}),h.render())};return it([()=>o.dateRange,()=>o.transactionHistory,()=>o.isLoading],()=>{!o.transactionHistory||o.isLoading||y()},{immediate:!0,deep:!0}),gt(()=>{u.value&&!h&&y()}),Nt(()=>{h&&h.destroy()}),(k,I)=>(F(),se("div",Fw,[I[0]||(I[0]=l("label",{class:"text-start text-lg 2xl:text-xl tracking-tight font-medium text-black dark:text-gray-200"}," Total Transactions: ",-1)),I[1]||(I[1]=l("div",{class:"mb-4"},null,-1)),l("div",{ref_key:"donutChart",ref:u},null,512)]))}},Vw={class:"w-full h-full"},Uw={class:"grid grid-cols-2 lg:grid-cols-1 gap-2 lg:gap-3 pt-2 lg:pt-4 lg:h-[90%]"},fc={__name:"ButtonShortcuts",emits:["open-add-item-modal","open-create-transaction-modal","open-generate-qr-code-modal"],setup(s,{emit:o}){const d=o,u=()=>{d("open-add-item-modal")},h=()=>{d("open-create-transaction-modal")},v=()=>{d("open-generate-qr-code-modal")};return(m,y)=>(F(),se("div",Vw,[y[6]||(y[6]=l("label",{class:"text-start text-lg 2xl:text-xl tracking-tight font-medium text-black dark:text-gray-200"}," Shortcuts: ",-1)),l("div",Uw,[l("button",{onClick:y[0]||(y[0]=nt(k=>h(),["stop"])),class:"dashboard-button-shortcut-format dashboard-button-shortcut-colors"},[he(de(Ed),{class:"w-6 h-6 lg:w-10 lg:h-10 2xl:w-12 2xl:h-12 lg:mb-1 2xl:mb-2 mr-1 lg:mr-0"}),y[3]||(y[3]=l("span",{class:"font-semibold tracking-tight leading-4 text-md 2xl:text-lg"},"Create Transaction",-1))]),l("button",{onClick:y[1]||(y[1]=nt(k=>u(),["stop"])),class:"dashboard-button-shortcut-format dashboard-button-shortcut-colors"},[he(de(Md),{class:"w-6 h-6 lg:w-10 lg:h-10 2xl:w-12 2xl:h-12 lg:mb-1 2xl:mb-2 mr-1 lg:mr-0"}),y[4]||(y[4]=l("span",{class:"font-semibold tracking-tight leading-4 text-md 2xl:text-lg"},"Add Item",-1))]),l("button",{onClick:y[2]||(y[2]=nt(k=>v(),["stop"])),class:"dashboard-button-shortcut-format dashboard-button-shortcut-colors"},[he(de(Td),{class:"w-6 h-6 lg:w-10 lg:h-10 2xl:w-12 2xl:h-12 lg:mb-1 2xl:mb-2 mr-1 lg:mr-0"}),y[5]||(y[5]=l("span",{class:"font-semibold tracking-tight leading-4 text-md 2xl:text-lg"},"Generate QR Codes",-1))])])]))}},qw={class:"w-full h-full"},jw={class:"flex flex-row justify-between items-center mb-4"},Xw={class:"relative ml-2 flex justify-end"},Yw={class:"relative"},Ww=["checked","onChange"],Gw={class:"box mr-4 flex h-5 w-5 items-center justify-center rounded border border-stroke dark:border-dark-3"},Qw={class:"max-h-[85%] flex flex-col border-4 rounded-xl bg-sky-100/40 dark:bg-slate-950/60 border-slate-400/50 dark:border-blue-900/10"},Zw={class:"max-h-[90%] overflow-y-auto border-t [scrollbar-width:thin] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden rounded-b-xl border-slate-500/50 dark:border-slate-700/50"},Kw={class:"w-full text-md text-center"},Jw={class:"py-4 w-3/5"},e2={key:0,class:"py-3"},t2={key:1,class:"py-3"},s2={key:2,class:"py-3"},r2={__name:"UsersUnreturned",props:{dateRange:Object,isLoading:Boolean,transactionHistory:Array},setup(s){const o=qt(),d=G([]),u=G([]),h=()=>{const N=new Map;o.transactionHistory.forEach(R=>{if(R.return_date!==null)return;const H=o.borrowers.find(S=>S.id===R.borrower_id),Q=(H==null?void 0:H.borrowers_name)??"Unknown",Y=o.transactionItems.filter(S=>S.transaction_id===R.id&&S.returned_date===null);if(Y.length===0)return;const q=N.get(Q)||{borrowerName:Q,totalUnreturnedItems:0,totalUnreturnedTransactions:0,totalUnreturnedEquipment:0,totalUnreturnedSupply:0};q.totalUnreturnedTransactions+=1,Y.forEach(S=>{q.totalUnreturnedItems+=S.quantity,S.item_type==="Equipment Copy"?q.totalUnreturnedEquipment+=S.quantity:S.item_type==="Office Supply"&&(q.totalUnreturnedSupply+=S.quantity)}),N.set(Q,q)}),u.value=Array.from(N.values()),L.value==="All Items"?d.value=u.value:L.value==="Equipments"?d.value=u.value.filter(R=>R.totalUnreturnedEquipment>0):L.value==="Supplies"&&(d.value=u.value.filter(R=>R.totalUnreturnedSupply>0)),v()},v=()=>{L.value==="All Items"?d.value=[...u.value].sort((N,R)=>R.totalUnreturnedItems-N.totalUnreturnedItems):L.value==="Equipments"?d.value=[...u.value].sort((N,R)=>R.totalUnreturnedEquipment-N.totalUnreturnedEquipment):L.value==="Supplies"&&(d.value=[...u.value].sort((N,R)=>R.totalUnreturnedSupply-N.totalUnreturnedSupply))};gt(()=>{h()});const m=()=>{y.value=!y.value},y=G(!1),k=G(null),I=G(null),L=G("All Items"),E=G([{id:1,type:"Equipments",isActive:!0},{id:2,type:"Supplies",isActive:!0}]),P=(N,R)=>{R.stopPropagation();const H=E.value.find(Q=>Q.id===N);H&&(H.isActive=!H.isActive),E.value[0].isActive&&E.value[1].isActive?L.value="All Items":E.value[0].isActive?L.value="Equipments":E.value[1].isActive?L.value="Supplies":L.value="None",h()},$=Ve(()=>d.value.filter(N=>{const R=E.value[0].isActive,H=E.value[1].isActive,Q=N.totalUnreturnedEquipment||0,Y=N.totalUnreturnedSupply||0;return R&&H?Q>0||Y>0:R?Q>0:H?Y>0:!1})),D=N=>{var R,H;y.value&&!((R=k.value)!=null&&R.contains(N.target))&&!((H=I.value)!=null&&H.contains(N.target))&&(y.value=!1)};return gt(()=>{document.addEventListener("click",D)}),Nt(()=>{document.removeEventListener("click",D)}),(N,R)=>(F(),se("div",qw,[l("div",jw,[R[3]||(R[3]=l("label",{class:"text-start text-lg 2xl:text-xl tracking-tight font-medium text-black dark:text-gray-200"}," Top Users with Unreturned Items: ",-1)),l("div",Xw,[l("button",{onClick:m,ref_key:"officeButtonRef",ref:k,class:"flex items-center rounded-lg px-4 py-1 2xl:px-6 2xl:py-2 bg-dark dark:bg-dark-2 text-base font-medium text-white border dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600"},[R[0]||(R[0]=l("span",{class:"material-icons"},"filter_alt",-1)),xt(" "+pe(L.value)+" ",1),R[1]||(R[1]=l("span",{class:"material-icons ml-1"},"arrow_drop_down",-1))],512),Xe(l("div",{ref:"itemTypeMenuRef",class:ct(["absolute shadow-1 dark:shadow-box-dark right-0 border border-gray-500 w-48 z-40 mt-2 rounded-md bg-gray-200 dark:bg-gray-900 px-4 pt-2 transition-all",{"top-full visible":y.value,"top-[110%] invisible":!y.value}])},[(F(!0),se(ft,null,yt(E.value,H=>(F(),se("label",{class:"flex items-center cursor-pointer select-none text-dark dark:text-white mb-2",key:H.id},[l("div",Yw,[l("input",{type:"checkbox",class:"sr-only",checked:H.isActive,onChange:Q=>P(H.id,Q)},null,40,Ww),l("div",Gw,[l("span",{class:ct({"opacity-100":H.isActive,"opacity-0":!H.isActive})},R[2]||(R[2]=[l("svg",{width:"11",height:"8",viewBox:"0 0 11 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[l("path",{d:"M10.0915 0.951972L10.0867 0.946075L10.0813 0.940568C9.90076 0.753564 9.61034 0.753146 9.42927 0.939309L4.16201 6.22962L1.58507 3.63469C1.40401 3.44841 1.11351 3.44879 0.932892 3.63584C0.755703 3.81933 0.755703 4.10875 0.932892 4.29224L0.932878 4.29225L0.934851 4.29424L3.58046 6.95832C3.73676 7.11955 3.94983 7.2 4.1473 7.2C4.36196 7.2 4.55963 7.11773 4.71406 6.9584L10.0468 1.60234C10.2436 1.4199 10.2421 1.1339 10.0915 0.951972ZM4.2327 6.30081L4.2317 6.2998C4.23206 6.30015 4.23237 6.30049 4.23269 6.30082L4.2327 6.30081Z",fill:"#3056D3",stroke:"#3056D3",strokeWidth:"0.4"})],-1)]),2)])]),xt(" "+pe(H.type),1)]))),128))],2),[[Vs,y.value]])])]),l("div",Qw,[R[4]||(R[4]=l("table",{class:"w-full text-sm text-center text-slate-800 dark:text-slate-300"},[l("thead",null,[l("tr",{class:"uppercase text-center 2xl:text-lg"},[l("th",{class:"py-4 text-center w-3/5"},"User"),l("th",{class:"py-4 text-center pr-4"},"Unreturned Items")])])],-1)),l("div",Zw,[l("table",Kw,[l("tbody",null,[(F(!0),se(ft,null,yt($.value,H=>(F(),se("tr",{key:H.id,class:"odd:bg-slate-400/20 even:bg-gray-200/40 even:dark:bg-slate-950/40 odd:dark:bg-slate-900/30 hover:bg-blue-800/30 dark:hover:bg-blue-700/20"},[l("td",Jw,pe(H.borrowerName),1),E.value[0].isActive&&E.value[1].isActive?(F(),se("td",e2,pe(H.totalUnreturnedItems),1)):we("",!0),E.value[0].isActive&&!E.value[1].isActive?(F(),se("td",t2,pe(H.totalUnreturnedEquipment||0),1)):we("",!0),!E.value[0].isActive&&E.value[1].isActive?(F(),se("td",s2,pe(H.totalUnreturnedSupply),1)):we("",!0)]))),128))])])])])]))}},a2={class:"w-full h-full"},i2={class:"flex flex-row justify-between items-center mb-4"},o2={class:"relative ml-2 flex justify-end"},n2={class:"relative"},l2=["checked","onChange"],c2={class:"box mr-4 flex h-5 w-5 items-center justify-center rounded border border-stroke dark:border-dark-3"},d2={class:"max-h-[85%] flex flex-col border-4 rounded-xl bg-sky-100/40 dark:bg-slate-950/60 border-slate-400/50 dark:border-blue-900/10"},u2={class:"max-h-[90%] overflow-y-auto border-t [scrollbar-width:thin] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden rounded-b-xl border-slate-500/50 dark:border-slate-700/50"},h2={class:"w-full text-md text-center"},f2={class:"py-4 w-3/5"},p2={key:0,class:"py-3"},g2={key:1,class:"py-3"},m2={key:2,class:"py-3"},v2={__name:"OfficesUnreturned",props:{dateRange:Object,isLoading:Boolean,transactionHistory:Array},setup(s){const o=qt(),d=G([]),u=G([]),h=()=>{const N=new Map;o.transactionHistory.forEach(R=>{if(R.return_date!==null)return;const H=o.borrowers.find(S=>S.id===R.borrower_id);if(!H||H.is_deleted)return;const Q=o.officeList.find(S=>S.id===H.office_id&&!S.is_deleted);if(!Q)return;const Y=o.transactionItems.filter(S=>S.transaction_id===R.id&&S.returned_date===null);if(Y.length===0)return;const q=N.get(Q.office_name)||{officeName:Q.office_name,totalUnreturnedItems:0,totalUnreturnedTransactions:0,totalUnreturnedEquipment:0,totalUnreturnedSupply:0};q.totalUnreturnedTransactions+=1,Y.forEach(S=>{q.totalUnreturnedItems+=S.quantity,S.item_type==="Equipment Copy"?q.totalUnreturnedEquipment+=S.quantity:S.item_type==="Office Supply"&&(q.totalUnreturnedSupply+=S.quantity)}),N.set(Q.office_name,q)}),u.value=Array.from(N.values()),v()},v=()=>{L.value==="All Items"?d.value=[...u.value].sort((N,R)=>R.totalUnreturnedItems-N.totalUnreturnedItems):L.value==="Equipments"?d.value=[...u.value].sort((N,R)=>R.totalUnreturnedEquipment-N.totalUnreturnedEquipment):L.value==="Supplies"&&(d.value=[...u.value].sort((N,R)=>R.totalUnreturnedSupply-N.totalUnreturnedSupply))};gt(()=>{h()});const m=()=>{y.value=!y.value},y=G(!1),k=G(null),I=G(null),L=G("All Items"),E=G([{id:1,type:"Equipments",isActive:!0},{id:2,type:"Supplies",isActive:!0}]),P=(N,R)=>{R.stopPropagation();const H=E.value.find(Q=>Q.id===N);H&&(H.isActive=!H.isActive),E.value[0].isActive&&E.value[1].isActive?L.value="All Items":E.value[0].isActive?L.value="Equipments":E.value[1].isActive&&(L.value="Supplies"),h()},$=Ve(()=>d.value.filter(N=>{const R=E.value[0].isActive,H=E.value[1].isActive,Q=N.totalUnreturnedEquipment||0,Y=N.totalUnreturnedSupply||0;return R&&H?Q>0||Y>0:R?Q>0:H?Y>0:!1})),D=N=>{var R,H;y.value&&!((R=k.value)!=null&&R.contains(N.target))&&!((H=I.value)!=null&&H.contains(N.target))&&(y.value=!1)};return gt(()=>{document.addEventListener("click",D)}),Nt(()=>{document.removeEventListener("click",D)}),(N,R)=>(F(),se("div",a2,[l("div",i2,[R[3]||(R[3]=l("label",{class:"text-start text-lg 2xl:text-xl tracking-tight font-medium text-black dark:text-gray-200"}," Top Offices with Unreturned Items: ",-1)),l("div",o2,[l("button",{onClick:m,ref_key:"officeButtonRef",ref:k,class:"flex items-center rounded-lg px-4 py-1 2xl:px-6 2xl:py-2 bg-dark dark:bg-dark-2 text-base font-medium text-white border dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600"},[R[0]||(R[0]=l("span",{class:"material-icons"},"filter_alt",-1)),xt(" "+pe(L.value)+" ",1),R[1]||(R[1]=l("span",{class:"material-icons ml-1"},"arrow_drop_down",-1))],512),Xe(l("div",{ref:"itemTypeMenuRef",class:ct(["absolute shadow-1 dark:shadow-box-dark right-0 border border-gray-500 w-48 z-40 mt-2 rounded-md bg-gray-200 dark:bg-gray-900 px-4 pt-2 transition-all",{"top-full visible":y.value,"top-[110%] invisible":!y.value}])},[(F(!0),se(ft,null,yt(E.value,H=>(F(),se("label",{class:"flex items-center cursor-pointer select-none text-dark dark:text-white mb-2",key:H.id},[l("div",n2,[l("input",{type:"checkbox",class:"sr-only",checked:H.isActive,onChange:Q=>P(H.id,Q)},null,40,l2),l("div",c2,[l("span",{class:ct({"opacity-100":H.isActive,"opacity-0":!H.isActive})},R[2]||(R[2]=[l("svg",{width:"11",height:"8",viewBox:"0 0 11 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[l("path",{d:"M10.0915 0.951972L10.0867 0.946075L10.0813 0.940568C9.90076 0.753564 9.61034 0.753146 9.42927 0.939309L4.16201 6.22962L1.58507 3.63469C1.40401 3.44841 1.11351 3.44879 0.932892 3.63584C0.755703 3.81933 0.755703 4.10875 0.932892 4.29224L0.932878 4.29225L0.934851 4.29424L3.58046 6.95832C3.73676 7.11955 3.94983 7.2 4.1473 7.2C4.36196 7.2 4.55963 7.11773 4.71406 6.9584L10.0468 1.60234C10.2436 1.4199 10.2421 1.1339 10.0915 0.951972ZM4.2327 6.30081L4.2317 6.2998C4.23206 6.30015 4.23237 6.30049 4.23269 6.30082L4.2327 6.30081Z",fill:"#3056D3",stroke:"#3056D3",strokeWidth:"0.4"})],-1)]),2)])]),xt(" "+pe(H.type),1)]))),128))],2),[[Vs,y.value]])])]),l("div",d2,[R[4]||(R[4]=l("table",{class:"w-full text-sm text-center text-slate-800 dark:text-slate-300"},[l("thead",null,[l("tr",{class:"uppercase text-center 2xl:text-lg"},[l("th",{class:"py-4 text-center w-3/5"},"Office"),l("th",{class:"py-4 text-center pr-4"},"Unreturned Items")])])],-1)),l("div",u2,[l("table",h2,[l("tbody",null,[(F(!0),se(ft,null,yt($.value,H=>(F(),se("tr",{key:H.officeName,class:"odd:bg-slate-400/20 even:bg-gray-200/40 even:dark:bg-slate-950/40 odd:dark:bg-slate-900/30 hover:bg-blue-800/30 dark:hover:bg-blue-700/20"},[l("td",f2,pe(H.officeName),1),E.value[0].isActive&&E.value[1].isActive?(F(),se("td",p2,pe(H.totalUnreturnedItems),1)):we("",!0),E.value[0].isActive&&!E.value[1].isActive?(F(),se("td",g2,pe(H.totalUnreturnedEquipment||0),1)):we("",!0),!E.value[0].isActive&&E.value[1].isActive?(F(),se("td",m2,pe(H.totalUnreturnedSupply),1)):we("",!0)]))),128))])])])])]))}},b2={class:"w-full h-full"},x2={class:"flex flex-row justify-between items-center mb-4"},y2={class:"relative ml-2 flex justify-end"},w2=["onClick"],k2={class:"max-h-[85%] flex flex-col border-4 rounded-xl bg-sky-100/40 dark:bg-slate-950/60 border-slate-400/50 dark:border-blue-900/10"},C2={class:"max-h-[90%] overflow-y-auto border-t [scrollbar-width:thin] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden rounded-b-xl border-slate-500/50 dark:border-slate-700/50"},_2={class:"w-full text-md text-center"},S2={class:"py-4 w-3/5"},A2={__name:"OutOfStockSupplies",props:{dateRange:Object,isLoading:Boolean,transactionHistory:Array},setup(s){const o=qt(),d=[{label:"0 - 20",max:20},{label:"0 - 50",max:50},{label:"0 - 100",max:100},{label:"0 - 250",max:250},{label:"0 - 500",max:500}],u=G(d[0]),h=Ve(()=>o.officeSupplies.filter(L=>L.supply_quantity<=u.value.max).sort((L,E)=>L.supply_quantity-E.supply_quantity)),v=G(!1),m=G(null),y=G(null),k=()=>{v.value=!v.value},I=L=>{var E,P;v.value&&!((E=m.value)!=null&&E.contains(L.target))&&!((P=y.value)!=null&&P.contains(L.target))&&(v.value=!1)};return gt(()=>{document.addEventListener("click",I)}),Nt(()=>{document.removeEventListener("click",I)}),(L,E)=>(F(),se("div",b2,[l("div",x2,[E[2]||(E[2]=l("label",{class:"text-start text-lg 2xl:text-xl tracking-tight font-medium text-black dark:text-gray-200"}," Low Stock Supplies: ",-1)),l("div",y2,[l("button",{onClick:k,ref_key:"officeButtonRef",ref:m,class:"flex items-center rounded-lg px-4 py-1 2xl:px-6 2xl:py-2 bg-dark dark:bg-dark-2 text-base font-medium text-white border dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600"},[E[0]||(E[0]=l("span",{class:"material-icons"},"filter_alt",-1)),xt(" "+pe(u.value.label)+" ",1),E[1]||(E[1]=l("span",{class:"material-icons ml-1"},"arrow_drop_down",-1))],512),Xe(l("div",{ref_key:"itemTypeMenuRef",ref:y,class:ct(["absolute shadow-1 dark:shadow-box-dark right-0 border border-gray-500 w-48 z-40 mt-2 rounded-md bg-gray-200 dark:bg-gray-900 px-4 pt-2 transition-all",{"top-full visible":v.value,"top-[110%] invisible":!v.value}])},[(F(),se(ft,null,yt(d,P=>l("button",{key:P.max,onClick:$=>{u.value=P,v.value=!1},class:ct(["w-full text-left mb-2 px-3 py-1 rounded text-dark dark:text-white hover:bg-blue-200 dark:hover:bg-blue-800",{"bg-blue-500 text-white dark:bg-blue-600":P.max===u.value.max,"bg-transparent":P.max!==u.value.max}])},pe(P.label),11,w2)),64))],2),[[Vs,v.value]])])]),l("div",k2,[E[3]||(E[3]=wd('<table class="w-full text-sm text-center text-slate-800 dark:text-slate-300"><thead><tr class="uppercase text-center font-extrabold 2xl:text-lg"><th class="py-4 text-center w-3/5">Supply</th><th class="py-4 text-center pr-4 2xl:hidden">Qty</th><th class="py-4 text-center pr-4 hidden 2xl:block">Remaining Qty</th></tr></thead></table>',1)),l("div",C2,[l("table",_2,[l("tbody",null,[(F(!0),se(ft,null,yt(h.value,P=>(F(),se("tr",{key:P.officeName,class:"odd:bg-slate-400/20 even:bg-gray-200/40 even:dark:bg-slate-950/40 odd:dark:bg-slate-900/30 hover:bg-blue-800/30 dark:hover:bg-blue-700/20"},[l("td",S2,pe(P.supply_name),1),l("td",null,pe(P.supply_quantity),1)]))),128))])])])])]))}};/*!
 * qrcode.vue v3.6.0
 * A Vue.js component to generate QRCode. Both support Vue 2 and Vue 3
 * © 2017-PRESENT @scopewu(https://github.com/scopewu)
 * MIT License.
 */var gr=function(){return gr=Object.assign||function(o){for(var d,u=1,h=arguments.length;u<h;u++){d=arguments[u];for(var v in d)Object.prototype.hasOwnProperty.call(d,v)&&(o[v]=d[v])}return o},gr.apply(this,arguments)};var ia;(function(s){var o=function(){function m(y,k,I,L){if(this.version=y,this.errorCorrectionLevel=k,this.modules=[],this.isFunction=[],y<m.MIN_VERSION||y>m.MAX_VERSION)throw new RangeError("Version value out of range");if(L<-1||L>7)throw new RangeError("Mask value out of range");this.size=y*4+17;for(var E=[],P=0;P<this.size;P++)E.push(!1);for(var P=0;P<this.size;P++)this.modules.push(E.slice()),this.isFunction.push(E.slice());this.drawFunctionPatterns();var $=this.addEccAndInterleave(I);if(this.drawCodewords($),L==-1)for(var D=1e9,P=0;P<8;P++){this.applyMask(P),this.drawFormatBits(P);var N=this.getPenaltyScore();N<D&&(L=P,D=N),this.applyMask(P)}h(0<=L&&L<=7),this.mask=L,this.applyMask(L),this.drawFormatBits(L),this.isFunction=[]}return m.encodeText=function(y,k){var I=s.QrSegment.makeSegments(y);return m.encodeSegments(I,k)},m.encodeBinary=function(y,k){var I=s.QrSegment.makeBytes(y);return m.encodeSegments([I],k)},m.encodeSegments=function(y,k,I,L,E,P){if(I===void 0&&(I=1),L===void 0&&(L=40),E===void 0&&(E=-1),P===void 0&&(P=!0),!(m.MIN_VERSION<=I&&I<=L&&L<=m.MAX_VERSION)||E<-1||E>7)throw new RangeError("Invalid value");var $,D;for($=I;;$++){var N=m.getNumDataCodewords($,k)*8,R=v.getTotalBits(y,$);if(R<=N){D=R;break}if($>=L)throw new RangeError("Data too long")}for(var H=0,Q=[m.Ecc.MEDIUM,m.Ecc.QUARTILE,m.Ecc.HIGH];H<Q.length;H++){var Y=Q[H];P&&D<=m.getNumDataCodewords($,Y)*8&&(k=Y)}for(var q=[],S=0,K=y;S<K.length;S++){var ae=K[S];d(ae.mode.modeBits,4,q),d(ae.numChars,ae.mode.numCharCountBits($),q);for(var B=0,te=ae.getData();B<te.length;B++){var fe=te[B];q.push(fe)}}h(q.length==D);var Te=m.getNumDataCodewords($,k)*8;h(q.length<=Te),d(0,Math.min(4,Te-q.length),q),d(0,(8-q.length%8)%8,q),h(q.length%8==0);for(var Ae=236;q.length<Te;Ae^=253)d(Ae,8,q);for(var Ie=[];Ie.length*8<q.length;)Ie.push(0);return q.forEach(function(Ee,Ne){return Ie[Ne>>>3]|=Ee<<7-(Ne&7)}),new m($,k,Ie,E)},m.prototype.getModule=function(y,k){return 0<=y&&y<this.size&&0<=k&&k<this.size&&this.modules[k][y]},m.prototype.getModules=function(){return this.modules},m.prototype.drawFunctionPatterns=function(){for(var y=0;y<this.size;y++)this.setFunctionModule(6,y,y%2==0),this.setFunctionModule(y,6,y%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var k=this.getAlignmentPatternPositions(),I=k.length,y=0;y<I;y++)for(var L=0;L<I;L++)y==0&&L==0||y==0&&L==I-1||y==I-1&&L==0||this.drawAlignmentPattern(k[y],k[L]);this.drawFormatBits(0),this.drawVersion()},m.prototype.drawFormatBits=function(y){for(var k=this.errorCorrectionLevel.formatBits<<3|y,I=k,L=0;L<10;L++)I=I<<1^(I>>>9)*1335;var E=(k<<10|I)^21522;h(E>>>15==0);for(var L=0;L<=5;L++)this.setFunctionModule(8,L,u(E,L));this.setFunctionModule(8,7,u(E,6)),this.setFunctionModule(8,8,u(E,7)),this.setFunctionModule(7,8,u(E,8));for(var L=9;L<15;L++)this.setFunctionModule(14-L,8,u(E,L));for(var L=0;L<8;L++)this.setFunctionModule(this.size-1-L,8,u(E,L));for(var L=8;L<15;L++)this.setFunctionModule(8,this.size-15+L,u(E,L));this.setFunctionModule(8,this.size-8,!0)},m.prototype.drawVersion=function(){if(!(this.version<7)){for(var y=this.version,k=0;k<12;k++)y=y<<1^(y>>>11)*7973;var I=this.version<<12|y;h(I>>>18==0);for(var k=0;k<18;k++){var L=u(I,k),E=this.size-11+k%3,P=Math.floor(k/3);this.setFunctionModule(E,P,L),this.setFunctionModule(P,E,L)}}},m.prototype.drawFinderPattern=function(y,k){for(var I=-4;I<=4;I++)for(var L=-4;L<=4;L++){var E=Math.max(Math.abs(L),Math.abs(I)),P=y+L,$=k+I;0<=P&&P<this.size&&0<=$&&$<this.size&&this.setFunctionModule(P,$,E!=2&&E!=4)}},m.prototype.drawAlignmentPattern=function(y,k){for(var I=-2;I<=2;I++)for(var L=-2;L<=2;L++)this.setFunctionModule(y+L,k+I,Math.max(Math.abs(L),Math.abs(I))!=1)},m.prototype.setFunctionModule=function(y,k,I){this.modules[k][y]=I,this.isFunction[k][y]=!0},m.prototype.addEccAndInterleave=function(y){var k=this.version,I=this.errorCorrectionLevel;if(y.length!=m.getNumDataCodewords(k,I))throw new RangeError("Invalid argument");for(var L=m.NUM_ERROR_CORRECTION_BLOCKS[I.ordinal][k],E=m.ECC_CODEWORDS_PER_BLOCK[I.ordinal][k],P=Math.floor(m.getNumRawDataModules(k)/8),$=L-P%L,D=Math.floor(P/L),N=[],R=m.reedSolomonComputeDivisor(E),H=0,Q=0;H<L;H++){var Y=y.slice(Q,Q+D-E+(H<$?0:1));Q+=Y.length;var q=m.reedSolomonComputeRemainder(Y,R);H<$&&Y.push(0),N.push(Y.concat(q))}for(var S=[],K=function(ae){N.forEach(function(B,te){(ae!=D-E||te>=$)&&S.push(B[ae])})},H=0;H<N[0].length;H++)K(H);return h(S.length==P),S},m.prototype.drawCodewords=function(y){if(y.length!=Math.floor(m.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var k=0,I=this.size-1;I>=1;I-=2){I==6&&(I=5);for(var L=0;L<this.size;L++)for(var E=0;E<2;E++){var P=I-E,$=(I+1&2)==0,D=$?this.size-1-L:L;!this.isFunction[D][P]&&k<y.length*8&&(this.modules[D][P]=u(y[k>>>3],7-(k&7)),k++)}}h(k==y.length*8)},m.prototype.applyMask=function(y){if(y<0||y>7)throw new RangeError("Mask value out of range");for(var k=0;k<this.size;k++)for(var I=0;I<this.size;I++){var L=void 0;switch(y){case 0:L=(I+k)%2==0;break;case 1:L=k%2==0;break;case 2:L=I%3==0;break;case 3:L=(I+k)%3==0;break;case 4:L=(Math.floor(I/3)+Math.floor(k/2))%2==0;break;case 5:L=I*k%2+I*k%3==0;break;case 6:L=(I*k%2+I*k%3)%2==0;break;case 7:L=((I+k)%2+I*k%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[k][I]&&L&&(this.modules[k][I]=!this.modules[k][I])}},m.prototype.getPenaltyScore=function(){for(var y=0,k=0;k<this.size;k++){for(var I=!1,L=0,E=[0,0,0,0,0,0,0],P=0;P<this.size;P++)this.modules[k][P]==I?(L++,L==5?y+=m.PENALTY_N1:L>5&&y++):(this.finderPenaltyAddHistory(L,E),I||(y+=this.finderPenaltyCountPatterns(E)*m.PENALTY_N3),I=this.modules[k][P],L=1);y+=this.finderPenaltyTerminateAndCount(I,L,E)*m.PENALTY_N3}for(var P=0;P<this.size;P++){for(var I=!1,$=0,E=[0,0,0,0,0,0,0],k=0;k<this.size;k++)this.modules[k][P]==I?($++,$==5?y+=m.PENALTY_N1:$>5&&y++):(this.finderPenaltyAddHistory($,E),I||(y+=this.finderPenaltyCountPatterns(E)*m.PENALTY_N3),I=this.modules[k][P],$=1);y+=this.finderPenaltyTerminateAndCount(I,$,E)*m.PENALTY_N3}for(var k=0;k<this.size-1;k++)for(var P=0;P<this.size-1;P++){var D=this.modules[k][P];D==this.modules[k][P+1]&&D==this.modules[k+1][P]&&D==this.modules[k+1][P+1]&&(y+=m.PENALTY_N2)}for(var N=0,R=0,H=this.modules;R<H.length;R++){var Q=H[R];N=Q.reduce(function(S,K){return S+(K?1:0)},N)}var Y=this.size*this.size,q=Math.ceil(Math.abs(N*20-Y*10)/Y)-1;return h(0<=q&&q<=9),y+=q*m.PENALTY_N4,h(0<=y&&y<=2568888),y},m.prototype.getAlignmentPatternPositions=function(){if(this.version==1)return[];for(var y=Math.floor(this.version/7)+2,k=Math.floor((this.version*8+y*3+5)/(y*4-4))*2,I=[6],L=this.size-7;I.length<y;L-=k)I.splice(1,0,L);return I},m.getNumRawDataModules=function(y){if(y<m.MIN_VERSION||y>m.MAX_VERSION)throw new RangeError("Version number out of range");var k=(16*y+128)*y+64;if(y>=2){var I=Math.floor(y/7)+2;k-=(25*I-10)*I-55,y>=7&&(k-=36)}return h(208<=k&&k<=29648),k},m.getNumDataCodewords=function(y,k){return Math.floor(m.getNumRawDataModules(y)/8)-m.ECC_CODEWORDS_PER_BLOCK[k.ordinal][y]*m.NUM_ERROR_CORRECTION_BLOCKS[k.ordinal][y]},m.reedSolomonComputeDivisor=function(y){if(y<1||y>255)throw new RangeError("Degree out of range");for(var k=[],I=0;I<y-1;I++)k.push(0);k.push(1);for(var L=1,I=0;I<y;I++){for(var E=0;E<k.length;E++)k[E]=m.reedSolomonMultiply(k[E],L),E+1<k.length&&(k[E]^=k[E+1]);L=m.reedSolomonMultiply(L,2)}return k},m.reedSolomonComputeRemainder=function(y,k){for(var I=k.map(function(D){return 0}),L=function(D){var N=D^I.shift();I.push(0),k.forEach(function(R,H){return I[H]^=m.reedSolomonMultiply(R,N)})},E=0,P=y;E<P.length;E++){var $=P[E];L($)}return I},m.reedSolomonMultiply=function(y,k){if(y>>>8||k>>>8)throw new RangeError("Byte out of range");for(var I=0,L=7;L>=0;L--)I=I<<1^(I>>>7)*285,I^=(k>>>L&1)*y;return h(I>>>8==0),I},m.prototype.finderPenaltyCountPatterns=function(y){var k=y[1];h(k<=this.size*3);var I=k>0&&y[2]==k&&y[3]==k*3&&y[4]==k&&y[5]==k;return(I&&y[0]>=k*4&&y[6]>=k?1:0)+(I&&y[6]>=k*4&&y[0]>=k?1:0)},m.prototype.finderPenaltyTerminateAndCount=function(y,k,I){return y&&(this.finderPenaltyAddHistory(k,I),k=0),k+=this.size,this.finderPenaltyAddHistory(k,I),this.finderPenaltyCountPatterns(I)},m.prototype.finderPenaltyAddHistory=function(y,k){k[0]==0&&(y+=this.size),k.pop(),k.unshift(y)},m.MIN_VERSION=1,m.MAX_VERSION=40,m.PENALTY_N1=3,m.PENALTY_N2=3,m.PENALTY_N3=40,m.PENALTY_N4=10,m.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],m.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],m}();s.QrCode=o;function d(m,y,k){if(y<0||y>31||m>>>y)throw new RangeError("Value out of range");for(var I=y-1;I>=0;I--)k.push(m>>>I&1)}function u(m,y){return(m>>>y&1)!=0}function h(m){if(!m)throw new Error("Assertion error")}var v=function(){function m(y,k,I){if(this.mode=y,this.numChars=k,this.bitData=I,k<0)throw new RangeError("Invalid argument");this.bitData=I.slice()}return m.makeBytes=function(y){for(var k=[],I=0,L=y;I<L.length;I++){var E=L[I];d(E,8,k)}return new m(m.Mode.BYTE,y.length,k)},m.makeNumeric=function(y){if(!m.isNumeric(y))throw new RangeError("String contains non-numeric characters");for(var k=[],I=0;I<y.length;){var L=Math.min(y.length-I,3);d(parseInt(y.substring(I,I+L),10),L*3+1,k),I+=L}return new m(m.Mode.NUMERIC,y.length,k)},m.makeAlphanumeric=function(y){if(!m.isAlphanumeric(y))throw new RangeError("String contains unencodable characters in alphanumeric mode");var k=[],I;for(I=0;I+2<=y.length;I+=2){var L=m.ALPHANUMERIC_CHARSET.indexOf(y.charAt(I))*45;L+=m.ALPHANUMERIC_CHARSET.indexOf(y.charAt(I+1)),d(L,11,k)}return I<y.length&&d(m.ALPHANUMERIC_CHARSET.indexOf(y.charAt(I)),6,k),new m(m.Mode.ALPHANUMERIC,y.length,k)},m.makeSegments=function(y){return y==""?[]:m.isNumeric(y)?[m.makeNumeric(y)]:m.isAlphanumeric(y)?[m.makeAlphanumeric(y)]:[m.makeBytes(m.toUtf8ByteArray(y))]},m.makeEci=function(y){var k=[];if(y<0)throw new RangeError("ECI assignment value out of range");if(y<128)d(y,8,k);else if(y<16384)d(2,2,k),d(y,14,k);else if(y<1e6)d(6,3,k),d(y,21,k);else throw new RangeError("ECI assignment value out of range");return new m(m.Mode.ECI,0,k)},m.isNumeric=function(y){return m.NUMERIC_REGEX.test(y)},m.isAlphanumeric=function(y){return m.ALPHANUMERIC_REGEX.test(y)},m.prototype.getData=function(){return this.bitData.slice()},m.getTotalBits=function(y,k){for(var I=0,L=0,E=y;L<E.length;L++){var P=E[L],$=P.mode.numCharCountBits(k);if(P.numChars>=1<<$)return 1/0;I+=4+$+P.bitData.length}return I},m.toUtf8ByteArray=function(y){y=encodeURI(y);for(var k=[],I=0;I<y.length;I++)y.charAt(I)!="%"?k.push(y.charCodeAt(I)):(k.push(parseInt(y.substring(I+1,I+3),16)),I+=2);return k},m.NUMERIC_REGEX=/^[0-9]*$/,m.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,m.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",m}();s.QrSegment=v})(ia||(ia={}));(function(s){(function(o){var d=function(){function u(h,v){this.ordinal=h,this.formatBits=v}return u.LOW=new u(0,1),u.MEDIUM=new u(1,0),u.QUARTILE=new u(2,3),u.HIGH=new u(3,2),u}();o.Ecc=d})(s.QrCode||(s.QrCode={}))})(ia||(ia={}));(function(s){(function(o){var d=function(){function u(h,v){this.modeBits=h,this.numBitsCharCount=v}return u.prototype.numCharCountBits=function(h){return this.numBitsCharCount[Math.floor((h+7)/17)]},u.NUMERIC=new u(1,[10,12,14]),u.ALPHANUMERIC=new u(2,[9,11,13]),u.BYTE=new u(4,[8,16,16]),u.KANJI=new u(8,[8,10,12]),u.ECI=new u(7,[0,0,0]),u}();o.Mode=d})(s.QrSegment||(s.QrSegment={}))})(ia||(ia={}));var ma=ia,$n="L",Rn={L:ma.QrCode.Ecc.LOW,M:ma.QrCode.Ecc.MEDIUM,Q:ma.QrCode.Ecc.QUARTILE,H:ma.QrCode.Ecc.HIGH},L2=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function Dn(s){return s in Rn}function ku(s,o){o===void 0&&(o=0);var d=[];return s.forEach(function(u,h){var v=null;u.forEach(function(m,y){if(!m&&v!==null){d.push("M".concat(v+o," ").concat(h+o,"h").concat(y-v,"v1H").concat(v+o,"z")),v=null;return}if(y===u.length-1){if(!m)return;v===null?d.push("M".concat(y+o,",").concat(h+o," h1v1H").concat(y+o,"z")):d.push("M".concat(v+o,",").concat(h+o," h").concat(y+1-v,"v1H").concat(v+o,"z"));return}m&&v===null&&(v=y)})}),d.join("")}function Cu(s,o,d,u){var h=u.width,v=u.height,m=u.x,y=u.y,k=s.length+d*2,I=Math.floor(o*.1),L=k/o,E=(h||I)*L,P=(v||I)*L,$=m==null?s.length/2-E/2:m*L,D=y==null?s.length/2-P/2:y*L,N=null;if(u.excavate){var R=Math.floor($),H=Math.floor(D),Q=Math.ceil(E+$-R),Y=Math.ceil(P+D-H);N={x:R,y:H,w:Q,h:Y}}return{x:$,y:D,h:P,w:E,excavation:N}}function _u(s,o){return s.slice().map(function(d,u){return u<o.y||u>=o.y+o.h?d:d.map(function(h,v){return v<o.x||v>=o.x+o.w?h:!1})})}var Nn={value:{type:String,required:!0,default:""},size:{type:Number,default:100},level:{type:String,default:$n,validator:function(s){return Dn(s)}},background:{type:String,default:"#fff"},foreground:{type:String,default:"#000"},margin:{type:Number,required:!1,default:0},imageSettings:{type:Object,required:!1,default:function(){return{}}},gradient:{type:Boolean,required:!1,default:!1},gradientType:{type:String,required:!1,default:"linear",validator:function(s){return["linear","radial"].indexOf(s)>-1}},gradientStartColor:{type:String,required:!1,default:"#000"},gradientEndColor:{type:String,required:!1,default:"#fff"}},E2=gr(gr({},Nn),{renderAs:{type:String,required:!1,default:"canvas",validator:function(s){return["canvas","svg"].indexOf(s)>-1}}}),P2=gi({name:"QRCodeSvg",props:Nn,setup:function(s){var o=G(0),d=G(""),u,h=function(){var m=s.value,y=s.level,k=s.margin,I=k>>>0,L=Dn(y)?y:$n,E=ma.QrCode.encodeText(m,Rn[L]).getModules();if(o.value=E.length+I*2,s.imageSettings.src){var P=Cu(E,s.size,I,s.imageSettings);u={x:P.x+I,y:P.y+I,width:P.w,height:P.h},P.excavation&&(E=_u(E,P.excavation))}d.value=ku(E,I)},v=function(){if(!s.gradient)return null;var m=s.gradientType==="linear"?{x1:"0%",y1:"0%",x2:"100%",y2:"100%"}:{cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"};return Ls(s.gradientType==="linear"?"linearGradient":"radialGradient",gr({id:"qr-gradient"},m),[Ls("stop",{offset:"0%",style:{stopColor:s.gradientStartColor}}),Ls("stop",{offset:"100%",style:{stopColor:s.gradientEndColor}})])};return h(),Sn(h),function(){return Ls("svg",{width:s.size,height:s.size,"shape-rendering":"crispEdges",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(o.value," ").concat(o.value)},[Ls("defs",{},[v()]),Ls("rect",{width:"100%",height:"100%",fill:s.background}),Ls("path",{fill:s.gradient?"url(#qr-gradient)":s.foreground,d:d.value}),s.imageSettings.src&&Ls("image",gr({href:s.imageSettings.src},u))])}}}),I2=gi({name:"QRCodeCanvas",props:Nn,setup:function(s,o){var d=G(null),u=G(null),h=function(){var m=s.value,y=s.level,k=s.size,I=s.margin,L=s.background,E=s.foreground,P=s.gradient,$=s.gradientType,D=s.gradientStartColor,N=s.gradientEndColor,R=I>>>0,H=Dn(y)?y:$n,Q=d.value;if(Q){var Y=Q.getContext("2d");if(Y){var q=ma.QrCode.encodeText(m,Rn[H]).getModules(),S=q.length+R*2,K=u.value,ae={x:0,y:0,width:0,height:0},B=s.imageSettings.src&&K!=null&&K.naturalWidth!==0&&K.naturalHeight!==0;if(B){var te=Cu(q,s.size,R,s.imageSettings);ae={x:te.x+R,y:te.y+R,width:te.w,height:te.h},te.excavation&&(q=_u(q,te.excavation))}var fe=window.devicePixelRatio||1,Te=k/S*fe;if(Q.height=Q.width=k*fe,Y.scale(Te,Te),Y.fillStyle=L,Y.fillRect(0,0,S,S),P){var Ae=void 0;$==="linear"?Ae=Y.createLinearGradient(0,0,S,S):Ae=Y.createRadialGradient(S/2,S/2,0,S/2,S/2,S/2),Ae.addColorStop(0,D),Ae.addColorStop(1,N),Y.fillStyle=Ae}else Y.fillStyle=E;L2?Y.fill(new Path2D(ku(q,R))):q.forEach(function(Ie,Ee){Ie.forEach(function(Ne,Me){Ne&&Y.fillRect(Me+R,Ee+R,1,1)})}),B&&Y.drawImage(K,ae.x,ae.y,ae.width,ae.height)}}};gt(h),Sn(h);var v=o.attrs.style;return function(){return Ls(ft,[Ls("canvas",gr(gr({},o.attrs),{ref:d,style:gr(gr({},v),{width:"".concat(s.size,"px"),height:"".concat(s.size,"px")})})),s.imageSettings.src&&Ls("img",{ref:u,src:s.imageSettings.src,style:{display:"none"},onLoad:h})])}}}),M2=gi({name:"Qrcode",render:function(){var s=this.$props,o=s.renderAs,d=s.value,u=s.size,h=s.margin,v=s.level,m=s.background,y=s.foreground,k=s.imageSettings,I=s.gradient,L=s.gradientType,E=s.gradientStartColor,P=s.gradientEndColor;return Ls(o==="svg"?P2:I2,{value:d,size:u,margin:h,level:v,background:m,foreground:y,imageSettings:k,gradient:I,gradientType:L,gradientStartColor:E,gradientEndColor:P})},props:E2});const T2={class:"flex flex-col items-center mt-2"},O2={class:"w-full p-4 pl-2 rounded-xl dark:bg-gray-800"},$2={class:"grid grid-cols-2 md:grid-cols-3 gap-4 p-2 w-full max-h-[60vh] overflow-auto"},R2={class:"relative"},D2=["src"],N2={class:"mt-2 text-lg"},z2={key:0},B2={key:1},F2={key:2,class:"text-gray-600 text-lg"},H2={class:"mt-4 flex gap-2 justify-center"},Oa={__name:"QRCodeDisplay",props:{qrCodes:{type:Array,required:!0},onPrint:{type:Function,required:!0},onClose:{type:Function,required:!0}},setup(s){const o=s,d=()=>{const v=window.open("","_blank"),m=gs;v.document.write(`
    <html>
      <head>
        <title>SCCC - MITD Inventory QR Codes</title>
        <style>
          .qr-container {
            display: inline-block;
            margin: 10px;
            padding: 15px;
            border: 1px solid #ccc;
            text-align: center;
            page-break-inside: avoid;
            width: 25%;
          }
          .qr-details {
            margin-top: 10px;
            font-size: 12px;
          }
            .qr-image-container {
            position: relative;
            display: inline-block;
          }
          .qr-logo {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 40px;
            height: 40px;
            background: white;
            border-radius: 50%;
          }
          #qr-codes {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
          }
          img {
            width: 180px;
            height: 180px;
          }
          @media print {
            .no-print {
              display: none;
            }
          }
        </style>
      </head>
      <body>
        <div id="qr-codes">
          ${o.qrCodes.map((y,k)=>`
            <div class="qr-container">
              <div class="qr-image-container">
                <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${encodeURIComponent(JSON.stringify(y))}" />
                <img src="${m}" class="qr-logo" />
              </div>
              <div class="qr-details">
                <p style="font-size: 16px; font-weight: bold;">SCCC - MITD Inventory</p>
                ${y.type==="supply"?`<p style="font-size: 20px; font-weight: bold;">${y.name}</p>`:`<p style="font-size: 20px; font-weight: bold;">${y.name} #${y.copyNumber}</p>`}
                ${y.serialNumber?`<p class="serial-number">SN: ${y.serialNumber}</p>`:""}
              </div>
            </div>
          `).join("")}
        </div>
      </body>
    </html>
  `),v.document.close(),v.onload=function(){v.focus(),v.print(),setTimeout(()=>{v.close()},1e3)}},u=G(window.innerWidth>=1024?250:window.innerWidth>=768?225:200),h=()=>{u.value=window.innerWidth>=1024?250:window.innerWidth>=768?225:200};return gt(()=>{window.addEventListener("resize",h)}),Nt(()=>{window.removeEventListener("resize",h)}),(v,m)=>(F(),se("div",T2,[m[3]||(m[3]=l("p",{class:"text-3xl mb-8 text-start"},"Generated QR Codes",-1)),l("div",O2,[l("div",$2,[(F(!0),se(ft,null,yt(s.qrCodes,(y,k)=>(F(),se("div",{key:k,class:"border p-4 rounded-lg dark:bg-gray-950"},[l("div",R2,[he(M2,{value:JSON.stringify(y),size:u.value,level:"H",class:"m-auto border-8","render-as":"svg"},null,8,["value","size"]),l("img",{src:de(gs),style:xr({width:`${u.value*.3}px`,height:`${u.value*.3}px`}),class:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white p-1 rounded-full"},null,12,D2)]),l("div",N2,[m[1]||(m[1]=l("p",{class:"font-bold"},"SCCC - MITD Inventory",-1)),y.type==="supply"?(F(),se("p",z2,pe(y.name),1)):(F(),se("p",B2,pe(`${y.name} #${y.copyNumber}`),1)),y.serialNumber?(F(),se("p",F2," SN: "+pe(y.serialNumber),1)):we("",!0)])]))),128))])]),l("div",H2,[l("button",{onClick:d,class:"flex flex-row justify-center items-center px-4 py-2 rounded-md bg-blue-500 text-white hover:bg-blue-600 dark:bg-green-900 dark:text-gray-100 dark:hover:bg-green-700"},[he(de(tg),{class:"w-5 h-5 mr-1"}),m[2]||(m[2]=xt(" Print QR Codes "))]),l("button",{onClick:m[0]||(m[0]=(...y)=>s.onClose&&s.onClose(...y)),class:"px-4 py-2 bg-gray-200 rounded-md hover:bg-gray-300 border dark:border-gray-700 dark:bg-gray-900 dark:text-gray-100 dark:hover:bg-red-800"}," Close ")])]))}},V2={key:0,class:"fixed left-0 top-0 flex h-full w-full items-center justify-center px-4 py-5 z-50 bg-black/70"},U2={class:"flex flex-row"},q2={class:"flex px-5 py-1 w-[95%] text-gray-700 border border-gray-200 rounded-lg bg-gray-50 dark:bg-gray-800 dark:border-gray-700","aria-label":"Breadcrumb"},j2={class:"inline-flex items-center space-x-1 md:space-x-2 rtl:space-x-reverse"},X2={class:"inline-flex items-center"},Y2={key:0},W2={class:"flex items-center"},G2={key:1,"aria-current":"page"},Q2={class:"flex items-center"},Z2={key:0,class:"flex flex-col items-center mt-15"},K2={class:"grid grid-cols-2 gap-5 sm:gap-10 md:gap-20 item-center justify-center"},J2={class:""},ek={key:1},tk={key:0},sk={class:"text-start"},rk={className:"grid grid-cols-2 grid-rows-1 gap-12 w-full"},ak={class:"flex flex-col mt-4 mb-2"},ik={class:"mb-1 relative group cursor-pointer"},ok={for:"imageUpload",class:"cursor-pointer"},nk=["src"],lk=["src"],ck={class:"relative ml-2 mt-4"},dk={class:"flex flex-row mt-4 mb-2"},uk={class:"text-red-700 ml-2 font-semibold italic"},hk={class:"relative ml-2"},fk={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},pk={class:"flex flex-row mt-4 mb-2"},gk={class:"text-red-700 ml-2 font-semibold italic"},mk={class:"relative ml-2"},vk={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},bk={class:"flex flex-row mt-4 mb-2"},xk={class:"text-red-700 ml-2 font-semibold italic"},yk={class:"relative ml-2"},wk={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},kk={class:"flex flex-row mt-4 mb-2"},Ck={class:"text-red-700 ml-2 font-semibold italic"},_k={class:"relative ml-2"},Sk={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},Ak={class:"flex flex-row mt-4 mb-2"},Lk={class:"text-red-700 ml-2 font-semibold italic"},Ek={class:"relative"},Pk={class:"absolute inset-y-0 start-2 flex items-center ps-3.5 pointer-events-none"},Ik={class:"pr-2"},Mk=["value"],Tk={class:"flex flex-row mt-4 mb-2"},Ok={class:"text-red-700 ml-2 font-semibold italic"},$k={class:"relative ml-2"},Rk={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},Dk={key:1},Nk={class:"text-start"},zk={class:"grid grid-cols-2 grid-rows-1 gap-12 w-full"},Bk={class:"flex flex-col mt-4 mb-2"},Fk={class:"mb-1 relative group cursor-pointer"},Hk={for:"imageUpload",class:"cursor-pointer"},Vk=["src"],Uk=["src"],qk={class:"relative ml-2 mt-4"},jk={class:"flex flex-row mt-4 mb-2"},Xk={class:"text-red-700 ml-2 font-semibold italic"},Yk={class:"relative ml-2"},Wk={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},Gk={class:"flex flex-row mt-4 mb-2"},Qk={class:"text-red-700 ml-2 font-semibold italic"},Zk={class:"relative ml-2"},Kk={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},Jk={class:"flex flex-row mt-4 mb-2"},eC={class:"text-red-700 ml-2 font-semibold italic"},tC={class:"relative ml-2"},sC={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},rC={class:"flex flex-row mt-4 mb-2"},aC={class:"text-red-700 ml-2 font-semibold italic"},iC={class:"relative"},oC={class:"absolute inset-y-0 start-2 flex items-center ps-3.5 pointer-events-none"},nC={class:"pr-2"},lC=["value"],cC={class:"flex flex-row mt-4 mb-2"},dC={class:"text-red-700 ml-2 font-semibold italic"},uC={class:"relative ml-2"},hC={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},fC={class:"flex flex-wrap ml-1 px-5 sm:px-20 md:px-45 lg:px-55 xl:px-60 2xl:px-70 mt-6"},pC={class:"w-full pl-1"},gC={key:2,class:"mt-8"},mC={key:0,class:"mt-4"},Su={__name:"AddItemModal",props:{modelValue:Boolean,categories:Object},emits:["update:modelValue","confirmDelete"],setup(s,{emit:o}){const d=qt(),u=G(!1),h=s,v=o,m=G(null),y=()=>{v("update:modelValue",!1)},k=Pe=>{m.value&&!m.value.contains(Pe.target)&&y()};gt(()=>{document.addEventListener("click",k)}),Nt(()=>{document.removeEventListener("click",k)});const I=G(!1),L=G([]),E=G(null),P=G(null),$=G(null),D=G(""),N=G(""),R=G(""),H=G(""),Q=G(""),Y=G(""),q=G(""),S=G(""),K=G(""),ae=G(null),B=G(null),te=Pe=>{const ge=Pe.target.files[0];E.value=ge,ge?(ae.value=URL.createObjectURL(ge),B.value=ge.name):B.value=null};it(E,Pe=>{Pe||(B.value=null)}),Nt(()=>{document.removeEventListener("click",k),ae.value&&URL.revokeObjectURL(ae.value)});const fe=G({selectedOffice:[],selectedCategory:[],equipmentName:[],equipmentDescription:[],supplyName:[],supplyDescription:[],supplyQuantity:[],equipmentQuantity:[],equipmentIcs:[],supplyIcs:[],equipmentCopySerialNumber:[]});it(()=>K.value,Pe=>{Pe?fe.value.equipmentCopySerialNumber=[]:fe.value.equipmentCopySerialNumber=["Serial Number is required"]}),it(()=>P.value,Pe=>{Pe?fe.value.selectedOffice=[]:fe.value.selectedOffice=["Office is required"]}),it(()=>$.value,Pe=>{Pe?fe.value.selectedCategory=[]:fe.value.selectedCategory=["Category is required"]}),it(()=>D.value,Pe=>{Pe?fe.value.equipmentName=[]:fe.value.equipmentName=["Equipment name is required"]}),it(()=>N.value,Pe=>{Pe?fe.value.equipmentDescription=[]:fe.value.equipmentDescription=["Equipment description is required"]}),it(()=>Q.value,Pe=>{Pe?fe.value.supplyName=[]:fe.value.supplyName=["Supply name is required"]}),it(()=>Y.value,Pe=>{Pe?fe.value.supplyDescription=[]:fe.value.supplyDescription=["Supply description is required"]}),it(()=>q.value,Pe=>{Pe?fe.value.supplyQuantity=[]:fe.value.supplyQuantity=["Supply quantity is required"]}),it(()=>S.value,Pe=>{Pe?fe.value.equipmentQuantity=[]:fe.value.equipmentQuantity=["Equipment Quantity is required"]}),it(()=>R.value,Pe=>{Pe?fe.value.equipmentIcs=[]:fe.value.equipmentIcs=["Equipment ICS/ARE is required"]}),it(()=>H.value,Pe=>{Pe?fe.value.supplyIcs=[]:fe.value.supplyIcs=["Supply ICS/ARE is required"]});const Te=()=>{Object.keys(fe.value).forEach(ge=>{fe.value[ge]=[]});let Pe=!1;return K.value||(fe.value.equipmentCopySerialNumber=["Serial Number is required"],Pe=!0),P.value||(fe.value.selectedOffice=["Office is required"],Pe=!0),$.value||(fe.value.selectedCategory=["Category is required"],Pe=!0),D.value||(fe.value.equipmentName=["Equipment name is required"],Pe=!0),N.value||(fe.value.equipmentDescription=["Equipment description is required"],Pe=!0),S.value||(fe.value.equipmentQuantity=["Equipment quantity is required"],Pe=!0),R.value||(fe.value.equipmentIcs=["Equipment ICS/ARE is required"],Pe=!0),!Pe},Ae=()=>{Object.keys(fe.value).forEach(ge=>{fe.value[ge]=[]});let Pe=!1;return P.value||(fe.value.selectedOffice=["Office is required"],Pe=!0),$.value||(fe.value.selectedCategory=["Category is required"],Pe=!0),Q.value||(fe.value.supplyName=["Supply name is required"],Pe=!0),Y.value||(fe.value.supplyDescription=["Supply description is required"],Pe=!0),q.value||(fe.value.supplyQuantity=["Supply quantity is required"],Pe=!0),H.value||(fe.value.supplyIcs=["Supply ICS/ARE is required"],Pe=!0),!Pe},Ie=()=>{if(Te())ue.value=!0;else return},Ee=()=>{if(Ae())bt.value=!0;else return},Ne=async Pe=>{try{const ge=parseInt(S.value);for(let je=1;je<=ge;je++){const ke={item_id:Pe,is_available:!0,copy_num:je,serial_number:K.value};console.log("🚀 ~ addEquipmentCopies ~ copyData:",ke),d.addEquipmentCopy(ke),await new Promise(ie=>setTimeout(ie,500)),console.log("Equipment copy added successfully:",ke)}}catch(ge){throw console.error("Error adding equipment copies:",ge),ge}},Me=async()=>{var Pe;try{if(console.log("🚀 ~ ADDING ITEM ~ isLoading:",u),u.value=!0,P.value===1)try{const je=(d.officeEquipments.length?Math.max(...d.officeEquipments.map(ie=>ie.id)):0)+1,ke={id:je,type:"Office Equipment",equipment_name:D.value,equipment_description:N.value,category_id:$.value,isc:R.value};d.addOfficeEquipment(ke),await Ne(je),L.value=Array.from({length:parseInt(S.value)},(ie,ye)=>({id:je,item_id:ke.id,is_available:!0,copy_num:ye+1,serial_number:K.value})),I.value=!0,console.log("Equipment added to store:",ke),Ye.value=3}catch(ge){console.error("Error adding equipment:",ge),pt.emit("show-toast",{message:"Error adding equipment. Please try again.",type:"error"}),Ye.value=2,u.value=!1}finally{u.value=!1,pt.emit("show-toast",{message:"Equipment Added Successfully!",type:"success"})}else if(P.value===2)try{const je=(d.officeSupplies.length?Math.max(...d.officeSupplies.map(ie=>ie.id)):0)+1,ke={id:je,supply_name:Q.value,supply_description:Y.value,category_id:$.value,supply_quantity:q.value,type:"Office Supply"};console.log("newSupply:",ke),d.addOfficeSupply(ke),L.value=[{id:je,name:Q.value,type:"supply"}],I.value=!0,console.log("Supply added to store:",ke),Ye.value=3}catch(ge){console.error("Error adding supply:",ge),pt.emit("show-toast",{message:"Error adding supply. Please try again.",type:"error"}),Ye.value=2,u.value=!1}finally{u.value=!1,pt.emit("show-toast",{message:"Supply Added Successfully!",type:"success"})}}catch(ge){console.error("Error adding item:",ge),console.error("Error details:",(Pe=ge.response)==null?void 0:Pe.data)}},ze=()=>{window.print()},Je=()=>{I.value=!1,y()},Ye=G(1),st=G(null),xe=(Pe,ge,je)=>{console.log("🚀 ~ changeSelectedBreadCrumbCategory ~ changeSelectedBreadCrumbCategory:",xe),st.value=Pe,Ye.value=ge,P.value=je},ue=G(!1),Re=Pe=>{Pe&&Me()},bt=G(!1),ot=Pe=>{Pe&&Me()};return(Pe,ge)=>{var je,ke;return s.modelValue?(F(),se("div",V2,[u.value?(F(),Ze(Ht,{key:0})):(F(),se("div",{key:1,ref_key:"modalContainer",ref:m,class:"w-full lg:max-w-[1100px] 2xl:max-w-[1200px] 3xl:max-w-[1350px] h-[90vh] rounded-[20px] bg-white p-4 text-center border border-3 dark:border-gray-300 dark:bg-gray-950"},[l("div",U2,[l("nav",q2,[l("ol",j2,[l("li",X2,[l("button",{onClick:ge[0]||(ge[0]=ie=>xe(null,1,null)),class:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-blue-600 dark:text-gray-400 dark:hover:text-white"},[he(de(fg),{class:"w-5 h-5 ml-1 mr-2"}),ge[21]||(ge[21]=xt(" Select Category "))])]),Ye.value>1?(F(),se("li",Y2,[l("div",W2,[he(de(Ml),{class:"w-7 h-7 ml-1 text-gray-400"}),st.value==="equipment"?(F(),se("button",{key:0,onClick:ge[1]||(ge[1]=ie=>xe("equipment",2,1)),class:"ms-1 text-sm font-medium text-gray-700 hover:text-blue-600 md:ms-2 dark:text-gray-400 dark:hover:text-white"}," Office Equipment Details ")):we("",!0),st.value==="supply"?(F(),se("button",{key:1,onClick:ge[2]||(ge[2]=ie=>xe("supply",2,2)),class:"ms-1 text-sm font-medium text-gray-700 hover:text-blue-600 md:ms-2 dark:text-gray-400 dark:hover:text-white"}," Office Supply Details ")):we("",!0)])])):we("",!0),Ye.value>2?(F(),se("li",G2,[l("div",Q2,[he(de(Ml),{class:"w-7 h-7 ml-1 text-gray-400"}),ge[22]||(ge[22]=l("span",{class:"ms-1 text-sm font-medium text-gray-500 md:ms-2 dark:text-gray-400"},"Print QR Code",-1))])])):we("",!0)])]),l("button",{onClick:ge[3]||(ge[3]=ie=>y()),class:"justify-end bg-gray-200 ml-4 text-gray-700 px-1 py-1 rounded-full hover:bg-gray-300 transition"},[he(de(ra),{class:"w-8 h-8"})])]),l("div",null,[Ye.value===1?(F(),se("div",Z2,[ge[27]||(ge[27]=l("p",{class:"text-3xl mb-4"},"Create a New Item",-1)),ge[28]||(ge[28]=l("p",{class:"mb-8"},"Choose the type of item that you want to create",-1)),l("div",K2,[l("div",J2,[l("button",{onClick:ge[4]||(ge[4]=ie=>xe("equipment",2,1)),class:"p-4 border border-dashed border-2 rounded-3xl w-65 sm:w-75 md:w-80 h-80 justify-center dark:border-gray-300 dark:hover:bg-black dark:hover:border-solid dark:hover:border-blue-500 dark:hover:text-blue-200"},[he(de(Jp),{class:"mb-3 w-23 h-23 w-full items-center justify-center"}),ge[23]||(ge[23]=l("p",{class:"font-bold text-xl mb-3"},"Office Equipment",-1)),ge[24]||(ge[24]=l("p",{class:"text-sm"},"Track fixed assets like printers and chairs",-1))])]),l("div",null,[l("button",{onClick:ge[5]||(ge[5]=ie=>xe("supply",2,2)),class:"border border-dashed border-2 rounded-3xl w-65 sm:w-75 md:w-80 h-80 justify-center dark:border-gray-300 dark:hover:bg-black dark:hover:border-solid dark:hover:border-blue-500 dark:hover:text-blue-200"},[he(de(cg),{class:"mb-5 w-20 h-20 w-full items-center justify-center"}),ge[25]||(ge[25]=l("p",{class:"font-bold text-xl mb-3"},"Office Supply",-1)),ge[26]||(ge[26]=l("p",{class:"text-sm"},"Manage consumables like paper and pens.",-1))])])])])):we("",!0),Ye.value===2?(F(),se("div",ek,[st.value==="equipment"?(F(),se("div",tk,[l("div",sk,[ge[36]||(ge[36]=l("p",{class:"text-3xl mb-8 text-center mt-8"},"Input Equipment Details",-1)),l("div",rk,[l("div",null,[l("div",ak,[l("div",ik,[l("input",{type:"file",onChange:te,class:"hidden",id:"imageUpload",accept:"image/*"},null,32),l("label",ok,[ae.value?(F(),se("img",{key:0,src:ae.value,class:"w-full h-[500px] object-cover rounded-lg mb-2 transition-all duration-300 group-hover:opacity-75",alt:"Preview Image"},null,8,nk)):Pe.currentImagePath&&!E.value?(F(),se("img",{key:1,src:`${Pe.API_BASE_URL}/storage/${Pe.currentImagePath}`,class:"w-full h-100 object-cover rounded-lg mb-2 transition-all duration-300 group-hover:opacity-75",alt:"Current Image"},null,8,lk)):we("",!0),ge[29]||(ge[29]=l("div",{class:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity"},[l("span",{class:"bg-black bg-opacity-50 text-white px-3 py-1 rounded-lg"},"Update Image")],-1))])]),l("div",ck,[l("input",{type:"file",onChange:te,accept:"image/*",class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-gray-800 file:text-white hover:file:bg-gray-700 dark:file:bg-gray-600 dark:file:hover:bg-gray-500 file:cursor-pointer"},null,32)])])]),l("div",null,[l("div",dk,[ge[30]||(ge[30]=l("label",{class:"block mb-2 text font-medium text-gray-900 dark:text-gray-200"},"Equipment Name:",-1)),l("p",uk,pe(fe.value.equipmentName?fe.value.equipmentName[0]:""),1)]),l("div",hk,[l("div",fk,[he(de(fs))]),Xe(l("input",{type:"text","onUpdate:modelValue":ge[6]||(ge[6]=ie=>D.value=ie),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Ex. Printer, Chair, Stairs"},null,512),[[ht,D.value]])]),l("div",pk,[ge[31]||(ge[31]=l("label",{class:"block text font-medium text-gray-900 dark:text-gray-200"},"Equipment Description:",-1)),l("p",gk,pe(fe.value.equipmentDescription?fe.value.equipmentDescription[0]:""),1)]),l("div",mk,[l("div",vk,[he(de(Ui))]),Xe(l("textarea",{type:"text","onUpdate:modelValue":ge[7]||(ge[7]=ie=>N.value=ie),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Ex. Printer, Chair, Stairs"},null,512),[[ht,N.value]])]),l("div",bk,[ge[32]||(ge[32]=l("label",{class:"block mb-2 text font-medium text-gray-900 dark:text-gray-200"},"ICS/ARE: ",-1)),l("p",xk,pe(fe.value.equipmentIcs?fe.value.equipmentIcs[0]:""),1)]),l("div",yk,[l("div",wk,[he(de(Ll))]),Xe(l("input",{type:"text","onUpdate:modelValue":ge[8]||(ge[8]=ie=>R.value=ie),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Ex. John Doe"},null,512),[[ht,R.value]])]),l("div",kk,[ge[33]||(ge[33]=l("label",{class:"block mb-2 text font-medium text-gray-900 dark:text-gray-200"},"Serial Number: ",-1)),l("p",Ck,pe(fe.value.equipmentCopySerialNumber?fe.value.equipmentCopySerialNumber[0]:""),1)]),l("div",_k,[l("div",Sk,[he(de(fs))]),Xe(l("input",{type:"text","onUpdate:modelValue":ge[9]||(ge[9]=ie=>K.value=ie),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Ex. QWER1234"},null,512),[[ht,K.value]])]),l("div",Ak,[ge[34]||(ge[34]=l("label",{class:"block text font-medium text-gray-900 dark:text-gray-200"},"Equipment Category:",-1)),l("p",Lk,pe(fe.value.selectedCategory?fe.value.selectedCategory[0]:""),1)]),l("div",Ek,[l("div",Pk,[he(de(_a))]),l("div",Ik,[Xe(l("select",{"onUpdate:modelValue":ge[10]||(ge[10]=ie=>$.value=ie),class:"border rounded-lg ml-2 w-full text-sm pl-9 dark:text-gray-100 h-10 dark:bg-gray-700 dark:border-gray-600 pl-4"},[(F(!0),se(ft,null,yt(h.categories,ie=>(F(),se("option",{key:ie.id,value:ie.id},pe(ie.category_name),9,Mk))),128))],512),[[ka,$.value]])])]),l("div",Tk,[ge[35]||(ge[35]=l("label",{class:"block text font-medium text-gray-900 dark:text-gray-200"},"Equipment Quantity:",-1)),l("p",Ok,pe(fe.value.equipmentQuantity?fe.value.equipmentQuantity[0]:""),1)]),l("div",$k,[l("div",Rk,[he(de(Ca))]),Xe(l("input",{type:"number","onUpdate:modelValue":ge[11]||(ge[11]=ie=>S.value=ie),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[ht,S.value]])])])])])])):we("",!0),st.value==="supply"?(F(),se("div",Dk,[l("div",Nk,[ge[43]||(ge[43]=l("p",{class:"text-3xl mb-8 text-center mt-8"},"Input Supply Details",-1)),l("div",zk,[l("div",null,[l("div",Bk,[l("div",Fk,[l("input",{type:"file",onChange:te,class:"hidden",id:"imageUpload",accept:"image/*"},null,32),l("label",Hk,[ae.value?(F(),se("img",{key:0,src:ae.value,class:"w-full h-[400px] object-cover rounded-lg mb-2 transition-all duration-300 group-hover:opacity-75",alt:"Preview Image"},null,8,Vk)):Pe.currentImagePath&&!E.value?(F(),se("img",{key:1,src:`${Pe.API_BASE_URL}/storage/${Pe.currentImagePath}`,class:"w-full h-100 object-cover rounded-lg mb-2 transition-all duration-300 group-hover:opacity-75",alt:"Current Image"},null,8,Uk)):we("",!0),ge[37]||(ge[37]=l("div",{class:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity"},[l("span",{class:"bg-black bg-opacity-50 text-white px-3 py-1 rounded-lg"},"Update Image")],-1))])]),l("div",qk,[l("input",{type:"file",onChange:te,accept:"image/*",class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-gray-800 file:text-white hover:file:bg-gray-700 dark:file:bg-gray-600 dark:file:hover:bg-gray-500 file:cursor-pointer"},null,32)])])]),l("div",null,[l("div",jk,[ge[38]||(ge[38]=l("label",{class:"block mb-2 text font-medium text-gray-900 dark:text-gray-200"},"Supply Name:",-1)),l("p",Xk,pe(fe.value.supplyName?fe.value.supplyName[0]:""),1)]),l("div",Yk,[l("div",Wk,[he(de(fs))]),Xe(l("input",{type:"text","onUpdate:modelValue":ge[12]||(ge[12]=ie=>Q.value=ie),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Ex. Printer, Chair, Stairs"},null,512),[[ht,Q.value]])]),l("div",Gk,[ge[39]||(ge[39]=l("label",{class:"block text font-medium text-gray-900 dark:text-gray-200"},"Supply Description:",-1)),l("p",Qk,pe(fe.value.supplyDescription?fe.value.supplyDescription[0]:""),1)]),l("div",Zk,[l("div",Kk,[he(de(Ui))]),Xe(l("textarea",{type:"text","onUpdate:modelValue":ge[13]||(ge[13]=ie=>Y.value=ie),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Ex. Printer, Chair, Stairs"},null,512),[[ht,Y.value]])]),l("div",Jk,[ge[40]||(ge[40]=l("label",{class:"block mb-2 text font-medium text-gray-900 dark:text-gray-200"},"ICS/ARE: ",-1)),l("p",eC,pe(fe.value.supplyIcs?fe.value.supplyIcs[0]:""),1)]),l("div",tC,[l("div",sC,[he(de(Ll))]),Xe(l("input",{type:"text","onUpdate:modelValue":ge[14]||(ge[14]=ie=>H.value=ie),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Ex. John Doe"},null,512),[[ht,H.value]])]),l("div",rC,[ge[41]||(ge[41]=l("label",{class:"block text font-medium text-gray-900 dark:text-gray-200"},"Supply Category:",-1)),l("p",aC,pe(fe.value.selectedCategory?fe.value.selectedCategory[0]:""),1)]),l("div",iC,[l("div",oC,[he(de(_a))]),l("div",nC,[Xe(l("select",{"onUpdate:modelValue":ge[15]||(ge[15]=ie=>$.value=ie),class:"border rounded-lg ml-2 w-full text-sm pl-9 dark:text-gray-100 h-10 dark:bg-gray-700 dark:border-gray-600 pl-4"},[(F(!0),se(ft,null,yt(h.categories,ie=>(F(),se("option",{key:ie.id,value:ie.id},pe(ie.category_name),9,lC))),128))],512),[[ka,$.value]])])]),l("div",cC,[ge[42]||(ge[42]=l("label",{class:"block text font-medium text-gray-900 dark:text-gray-200"},"Supply Quantity:",-1)),l("p",dC,pe(fe.value.supplyQuantity?fe.value.supplyQuantity[0]:""),1)]),l("div",uC,[l("div",hC,[he(de(Ca))]),Xe(l("input",{type:"number","onUpdate:modelValue":ge[16]||(ge[16]=ie=>q.value=ie),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[ht,q.value]])])])])])])):we("",!0),l("div",fC,[l("div",pC,[st.value==="equipment"?(F(),se("button",{key:0,onClick:ge[17]||(ge[17]=ie=>Ie()),class:"mt-3 block w-full rounded-md border p-2 text-center text-base font-medium text-white transition bg-emerald-700 border-emerald-600 hover:border-emerald-500 hover:bg-emerald-600 hover:text-white dark:text-white"}," Add Equipment ")):we("",!0),st.value==="supply"?(F(),se("button",{key:1,onClick:ge[18]||(ge[18]=ie=>Ee()),class:"block w-full rounded-md border p-2 text-center text-base font-medium text-white transition bg-emerald-700 border-emerald-600 hover:border-emerald-500 hover:bg-emerald-600 hover:text-white dark:text-white mt-4"}," Add Supply ")):we("",!0)])])])):we("",!0),Ye.value===3?(F(),se("div",gC,[he(Oa,{"qr-codes":L.value,"on-print":ze,"on-close":Je},null,8,["qr-codes"])])):we("",!0)]),I.value?(F(),se("div",mC)):we("",!0)],512)),he(rs,{modelValue:ue.value,"onUpdate:modelValue":ge[19]||(ge[19]=ie=>ue.value=ie),title:"Confirm Addition",message:"You are about to add this Equipment.",messageData:`
Equipment Name: ${D.value}
Description: ${N.value}
Category: ${((je=s.categories.find(ie=>ie.id===$.value))==null?void 0:je.category_name)||"Unknown Category"}
Cop${S.value===1?"y":"ies"}: ${S.value}`,cancelText:"Cancel",confirmText:"Confirm Adding",onConfirm:Re},null,8,["modelValue","messageData"]),he(rs,{modelValue:bt.value,"onUpdate:modelValue":ge[20]||(ge[20]=ie=>bt.value=ie),title:"Confirm Addition",message:"You are about to add this Supply.",messageData:`
Supply Name: ${Q.value}
Description: ${Y.value}
Category: ${((ke=s.categories.find(ie=>ie.id===$.value))==null?void 0:ke.category_name)||"Unknown Category"}
Quantity: ${q.value}`,cancelText:"Cancel",confirmText:"Confirm Adding",onConfirm:ot},null,8,["modelValue","messageData"])])):we("",!0)}}},vC={key:0,class:"fixed left-0 top-0 flex h-full w-full items-center justify-center bg-black/55 px-4 py-5 z-50"},bC={class:"text-3xl font-semibold mb-4"},xC={key:0,class:"px-5 text-start max-h-[69vh] overflow-y-auto"},yC={class:"relative ml-2"},wC={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},kC={key:1,class:"px-5 text-start max-h-[69vh] overflow-y-auto"},CC={class:"mx-10 my-1 pb-1 border-1 rounded-lg dark:border-gray-700"},_C={class:"w-full"},SC={class:"text-center dark:bg-gray-800"},AC={class:"pl-3 pt-2 py-1"},LC={class:"flex items-center cursor-pointer select-none text-dark dark:text-white"},EC={class:"relative"},PC={class:"w-full"},IC={class:"pl-3 pt-1 w-10"},MC={class:"flex items-center cursor-pointer select-none text-dark dark:text-white"},TC={class:"relative"},OC=["onChange"],$C={class:"text-center"},RC={key:2,class:"px-5 text-start max-h-[69vh] overflow-y-auto"},DC={class:"-mx-3 flex flex-wrap mt-4"},NC={class:"w-1/2 px-3"},zC={class:"w-1/2 px-3"},BC={__name:"IncludeItemPressedModal",props:{modelValue:Boolean,selectedItem:Object,currentlySelectedItems:Array,equipmentCopies:Array},emits:["update:modelValue","confirmAdd"],setup(s,{emit:o}){const d=G(!1),u=s,h=G([]),v=G([]),m=G(null),y=o,k=()=>{u.selectedItem.type==="Office Equipment"?(h.value=D.value.filter(Q=>Q.is_selected),v.value=h.value.map(Q=>({item_name:`${u.selectedItem.equipment_name} #${Q.copy_num??"N/A"}`,item_copy_id:Q.id,item_type:"Equipment Copy",basis_type:"Office Equipment",basis_id:u.selectedItem.id,returned:!1,quantity:1}))):u.selectedItem.type==="Office Supply"&&(v.value=[{item_name:u.selectedItem.supply_name,item_copy_id:u.selectedItem.id,item_type:"Office Supply",basis_type:"Office Supply",basis_id:u.selectedItem.id,returned:!1,quantity:m.value??1}]),console.log(v.value),y("confirmAdd",v.value),E()},I=G(!1),L=G(null),E=()=>{y("update:modelValue",!1)},P=Q=>{L.value&&!L.value.contains(Q.target)&&E()};gt(()=>{document.addEventListener("click",P)}),Nt(()=>{document.removeEventListener("click",P)});const $=G([]);G([]);const D=G([]);gt(()=>{var Q;R.value=!1,!(!u.equipmentCopies||!u.selectedItem)&&($.value=u.equipmentCopies.filter(Y=>Y.item_id===u.selectedItem.id),D.value=$.value.map(Y=>({...Y,is_selected:u.currentlySelectedItems.some(q=>q.item_copy_id===Y.id&&q.item_type==="Equipment Copy")})),u.selectedItem.type==="Office Supply"&&(m.value=((Q=u.currentlySelectedItems.find(Y=>Y.item_copy_id===u.selectedItem.id))==null?void 0:Q.quantity)??null))});const N=Q=>{D.value=D.value.map(q=>({...q,is_selected:q.id===Q?!q.is_selected:q.is_selected}));const Y=D.value.every(q=>q.is_selected);R.value=Y},R=G(!1),H=()=>{R.value?(R.value=!1,D.value=D.value.map(Q=>({...Q,is_selected:!1}))):(R.value=!0,D.value=D.value.map(Q=>({...Q,is_selected:!0})))};return(Q,Y)=>s.modelValue?(F(),se("div",vC,[d.value?(F(),Ze(Ht,{key:0})):(F(),se("div",{key:1,ref_key:"modalContainer",ref:L,class:"w-full max-w-[650px] max-h-[90vh] rounded-[20px] bg-white px-8 py-8 text-center border-4 dark:bg-gray-950 dark:border-gray-100"},[l("h3",bC,pe(u.selectedItem.supply_name||u.selectedItem.equipment_name),1),u.selectedItem.type==="Office Supply"?(F(),se("div",xC,[Y[7]||(Y[7]=l("label",{class:"block mt-4 mb-2 text font-medium text-gray-900 dark:text-gray-200"},"Quantity to Borrow: ",-1)),l("div",yC,[l("div",wC,[he(de(fs))]),Xe(l("input",{type:"number","onUpdate:modelValue":Y[0]||(Y[0]=q=>m.value=q),class:"bg-gray-50 mb-2 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Enter quantity"},null,512),[[ht,m.value]])])])):we("",!0),u.selectedItem.type==="Office Equipment"&&D.value.length>0?(F(),se("div",kC,[Y[9]||(Y[9]=l("label",{class:"block mt-4 mb-2 text font-medium text-gray-900 dark:text-gray-200"},"Select Copy/ies:",-1)),l("div",CC,[l("table",_C,[l("thead",null,[l("tr",SC,[l("th",AC,[l("label",LC,[l("div",EC,[l("input",{type:"checkbox",class:"sr-only",onChange:Y[1]||(Y[1]=q=>H())},null,32),R.value?(F(),Ze(de(rr),{key:0,class:"w-7 h-7"})):(F(),Ze(de(sr),{key:1,class:"w-7 h-7"}))])])]),Y[8]||(Y[8]=l("th",null,"Copy Number",-1))])]),l("tbody",PC,[(F(!0),se(ft,null,yt(D.value,q=>(F(),se(ft,null,[q.item_id===u.selectedItem.id?(F(),se("tr",{key:q.id,class:"w-full text-center items-center justify-center border-t"},[l("td",IC,[l("label",MC,[l("div",TC,[l("input",{type:"checkbox",class:"sr-only",onChange:S=>N(q.id)},null,40,OC),q.is_selected?(F(),Ze(de(rr),{key:0,class:"w-7 h-7"})):(F(),Ze(de(sr),{key:1,class:"w-7 h-7"}))])])]),l("td",$C,"#"+pe(q.copy_num),1)])):we("",!0)],64))),256))])])])])):we("",!0),!D.value.length&&u.selectedItem.type==="Office Equipment"?(F(),se("div",RC,Y[10]||(Y[10]=[l("p",{class:"text-gray-500 dark:text-gray-400"},"No available copies for this item.",-1)]))):we("",!0),l("div",DC,[l("div",NC,[l("button",{onClick:Y[2]||(Y[2]=q=>E()),class:"block w-full rounded-md border border-stroke p-3 text-center text-base font-medium text-dark transition bg-gray-300 hover:border-red-800 hover:bg-red-800 hover:text-white dark:text-black"}," Cancel ")]),l("div",zC,[u.selectedItem.type==="Office Equipment"?(F(),se("button",{key:0,onClick:Y[3]||(Y[3]=q=>k()),class:"block w-full rounded-md border bg-primary p-3 text-center text-base font-medium text-white transition bg-green-700 hover:border-green-600 hover:bg-green-600 hover:text-white dark:text-white dark:border-green-700 dark:hover:border-green-400"}," Add Selected Copies ")):(F(),se("button",{key:1,onClick:Y[4]||(Y[4]=q=>k()),class:"block w-full rounded-md border bg-primary p-3 text-center text-base font-medium text-white transition bg-green-700 hover:border-green-600 hover:bg-green-600 hover:text-white dark:text-white dark:border-green-700 dark:hover:border-green-400"}," Add Selected Supply "))])]),he(rs,{modelValue:I.value,"onUpdate:modelValue":Y[5]||(Y[5]=q=>I.value=q),title:"Confirm Addition",message:"The Message Here.",messageData:`
Equipment Name: hehehehe
Copy to add: hehehhe`,cancelText:"Cancel",confirmText:"Confirm Adding",onConfirm:Y[6]||(Y[6]=q=>k())},null,8,["modelValue"])],512))])):we("",!0)}},FC={key:0,class:"fixed left-0 top-0 flex h-full w-full items-center justify-center bg-black/55 px-4 py-5 z-50"},HC={key:0,class:"grid grid-cols-3 gap-4 h-[90vh]"},VC={class:"col-span-3 rounded-2xl max-h-[90vh] border-2 p-4 text-start dark:bg-black dark:border-gray-600"},UC={class:"w-full text-center rounded-xl px-4 py-2 mt-4 items-center justify-center max-h-[89vh] overflow-auto [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden"},qC={key:1,class:"grid grid-cols-3 w-full gap-4 h-[87vh]"},jC={class:"col-span-2 rounded-2xl max-h-[89vh] border-2 p-4 text-start dark:bg-black dark:border-gray-600"},XC={class:"w-full"},YC={class:"relative w-full"},WC={class:"w-full rounded-xl px-4 py-2 mt-4 grid grid-cols-5 gap-4 items-center justify-center max-h-[71vh] overflow-auto [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden"},GC=["onClick"],QC=["src"],ZC={class:"text-center mt-2 font-medium"},KC={class:"rounded-2xl max-h-[89vh] border-2 p-4 text-start dark:bg-black dark:border-gray-600"},JC={class:"border-2 h-[70vh] rounded-xl overflow-y-auto bg-gray-100 dark:bg-gray-950 dark:border-gray-600"},e_={class:"w-full text-center"},t_={class:"py-2"},s_={class:"flex justify-center items-center h-full py-2"},r_=["onClick"],a_={class:"px-2 py-1 min-w-[20px] text-center text-lg"},i_=["onClick"],o_={class:"py-2 justify-center items-center"},Au={__name:"GenerateQRCodeModal",props:{modelValue:Boolean},emits:["update:modelValue","confirmDelete"],setup(s,{emit:o}){const d="http://localhost:8000";G("");const u=G("");G(""),G(""),G(""),G("");const h=js(),v=Ve(()=>h.user);u.value=v.value.id;const m=qt();gt(()=>{m.fetchData()});const y={transactionItems:"transactionItems",transactionHistory:"transactionHistory",officeEquipments:"officeEquipments",officeSupplies:"officeSupplies",officeList:"officeList",users:"users",borrowers:"borrowers",equipmentCopies:"equipmentCopies",categoryList:"categoryList"},{transactionItems:k,transactionHistory:I,officeEquipments:L,officeSupplies:E,officeList:P,users:$,borrowers:D,equipmentCopies:N,categoryList:R}=Object.fromEntries(Object.entries(y).map(([ie,ye])=>[ie,Ve(()=>m[ye])])),H=ie=>Ve(()=>Object.values(ie.value));H(k),H(I);const Q=H(L),Y=H(E);H(P),H($),H(D);const q=H(N);H(R);const S=G(!1),K=G(!1),ae=G(!1),B=G(null),te=o,fe=()=>{te("update:modelValue",!1)},Te=ie=>{B.value&&!B.value.contains(ie.target)&&fe()};gt(()=>{document.addEventListener("click",Te)}),Nt(()=>{document.removeEventListener("click",Te)});const Ae=Ve(()=>[...Q.value,...Y.value].filter(ie=>ie.type==="Office Supply"?ie.supply_quantity>0:ie.type==="Office Equipment"?q.value.some(ye=>ye.item_id===ie.id&&ye.is_available===1):!1).map((ie,ye)=>({...ie,newId:`INV-${ye+1}`}))),Ie=G(""),Ee=Ve(()=>{if(!Ie.value)return Ae.value;const ie=Ie.value.toLowerCase();return Ae.value.filter(ye=>{var et,tt,Qe,Ct,at,vt,lt;const ne=((et=ye.equipment_name)==null?void 0:et.toLowerCase())||"",le=((tt=ye.equipment_description)==null?void 0:tt.toLowerCase())||"",oe=((Qe=ye.serial_number)==null?void 0:Qe.toString().toLowerCase())||"",Ce=((Ct=ye.supply_name)==null?void 0:Ct.toLowerCase())||"",Le=((at=ye.supply_description)==null?void 0:at.toLowerCase())||"",_e=((vt=ye.id)==null?void 0:vt.toString().toLowerCase())||"",rt=((lt=ye.newId)==null?void 0:lt.toLowerCase())||"";return ne.includes(ie)||le.includes(ie)||oe.includes(ie)||Ce.includes(ie)||Le.includes(ie)||_e.includes(ie)||rt.includes(ie)})}),Ne=G(!1),Me=G(null),ze=ie=>{Me.value=ie,ie.type==="Office Equipment"?Ne.value=!0:(Je.value=[{item_name:ie.supply_name,item_copy_id:ie.id,item_type:"Office Supply",basis_type:"Office Supply",basis_id:ie.id,returned:!1,quantity:1}],st(Je.value))},Je=G([]),Ye=G([]),st=ie=>{ie.forEach(ye=>{Ye.value.some(le=>le.item_copy_id===ye.item_copy_id&&le.item_type===ye.item_type)||Ye.value.push(ye)})},xe=ie=>{Ye.value=Ye.value.filter(ye=>!(ye.item_copy_id===ie.item_copy_id&&ye.item_type===ie.item_type))},ue=()=>{Ye.value.length?ae.value=!0:pt.emit("show-toast",{message:"Please select at least one item to proceed.",type:"error"})},Re=Ve(()=>Ye.value.length?Ye.value.map((ie,ye)=>`
${ye+1}. Name: ${ie.item_name||"N/A"}
   QR Codes: ${ie.quantity||ie.copy||"N/A"}`).join(`
`):"No items selected."),bt=ie=>{ie.quantity=ie.quantity||1,ie.quantity++},ot=ie=>{ie.quantity&&ie.quantity>1&&ie.quantity--},Pe=()=>{K.value=!0,Ye.value.forEach(ie=>{if(console.log("🚀 ~ generateQRCode ~ item:",ie),ie.basis_type==="Office Equipment"){const ye=m.equipmentCopies.find(le=>le.id===ie.item_copy_id),ne=m.officeEquipments.find(le=>le.id===ye.item_id);for(let le=0;le<ie.quantity;le++)ge.value.push({id:ne.id||null,name:ne.equipment_name||null,description:ne.equipment_description||null,categoryId:ne.category_id||null,copyNumber:ye.copy_num||null,serialNumber:ye.serial_number||null,type:"equipment"})}else{const ye=m.officeSupplies.find(ne=>ne.id===ie.item_copy_id);for(let ne=0;ne<ie.quantity;ne++)ge.value.push({id:ye.id||null,name:ye.supply_name||null,description:ye.supply_description||null,categoryId:ye.category_id||null,type:"supply"})}})},ge=G([]),je=()=>{ge.value=[],K.value=!1},ke=()=>{window.print()};return(ie,ye)=>s.modelValue?(F(),se("div",FC,[S.value?(F(),Ze(Ht,{key:0})):(F(),se("div",{key:1,ref_key:"modalContainer",ref:B,class:"w-full h-[95vh] rounded-[20px] bg-white px-8 py-6 text-center border-4 dark:bg-gray-950 dark:border-gray-100"},[K.value?(F(),se("div",HC,[l("button",{onClick:ye[0]||(ye[0]=ne=>fe()),class:"absolute top-10 right-8 justify-end bg-gray-200 ml-4 text-gray-700 px-1 py-1 rounded-full hover:bg-gray-300 transition dark:bg-gray-300"},[he(de(ra),{class:"w-10 h-10"})]),l("div",VC,[l("div",UC,[he(Oa,{"qr-codes":ge.value,"on-print":ke,"on-close":je},null,8,["qr-codes"])])])])):(F(),se("div",qC,[l("button",{onClick:ye[1]||(ye[1]=ne=>fe()),class:"absolute top-10 right-8 justify-end bg-gray-200 ml-4 text-gray-700 px-1 py-1 rounded-full hover:bg-gray-300 transition dark:bg-gray-300"},[he(de(ra),{class:"w-10 h-10"})]),l("div",jC,[ye[10]||(ye[10]=l("p",{class:"text-2xl font-bold pl-2 mb-2"},"Choose Item/s:",-1)),l("div",XC,[l("form",{class:"flex items-center",onSubmit:ye[3]||(ye[3]=nt(()=>{},["prevent"]))},[ye[9]||(ye[9]=l("label",{for:"simple-search",class:"sr-only"},"Search",-1)),l("div",YC,[ye[8]||(ye[8]=l("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[l("svg",{"aria-hidden":"true",class:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),Xe(l("input",{type:"text","onUpdate:modelValue":ye[2]||(ye[2]=ne=>Ie.value=ne),id:"simple-search",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full pl-10 p-2 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Search items..."},null,512),[[ht,Ie.value]])])],32)]),l("div",WC,[(F(!0),se(ft,null,yt(Ee.value,ne=>(F(),se("div",{key:ne.newId,class:"w-full h-full"},[l("button",{onClick:nt(le=>ze(ne),["stop"]),class:ct(["w-full h-full cursor-pointer p-2 border rounded-lg hover:shadow-lg transition duration-300 ease-in-out dark:font-bold",{"bg-gradient-to-b bg-green-500 dark:from-green-600 dark:via-green-950 dark:to-black dark:border-green-800 text-white dark:hover:from-emerald-400 dark:hover:via-emerald-900 dark:hover:to-black ":Ye.value.some(le=>le.basis_id===ne.id&&le.basis_type===ne.type),"bg-gray-300 dark:bg-gray-950 dark:border-gray-600 dark:hover:bg-green-800 dark:hover:text-white dark:hover:border-green-800":!Ye.value.some(le=>le.basis_id===ne.id&&le.basis_type===ne.type)}])},[l("img",{src:ne.image_path?`${de(d)}/storage/${ne.image_path}`:de(gs),class:"w-full h-28 object-cover rounded-lg"},null,8,QC),l("p",ZC,pe(ne.equipment_name||ne.supply_name),1)],10,GC)]))),128)),Ne.value?(F(),Ze(BC,{key:0,modelValue:Ne.value,"onUpdate:modelValue":ye[4]||(ye[4]=ne=>Ne.value=ne),selectedItem:Me.value,equipmentCopies:de(q),currentlySelectedItems:Ye.value,onConfirmAdd:st,onClick:ye[5]||(ye[5]=nt(()=>{},["stop"]))},null,8,["modelValue","selectedItem","equipmentCopies","currentlySelectedItems"])):we("",!0)])]),l("div",KC,[ye[12]||(ye[12]=l("p",{class:"text-2xl font-bold pl-2 mb-2"},"Selected Item/s:",-1)),l("div",JC,[l("table",e_,[ye[11]||(ye[11]=l("thead",{class:"border-b bg-gray-50 dark:bg-gray-900 dark:border-gray-600"},[l("tr",null,[l("th",{class:"py-2"},"Item"),l("th",null,"QR Code Qty"),l("th",null,"Remove")])],-1)),l("tbody",null,[(F(!0),se(ft,null,yt(Ye.value,ne=>(F(),se("tr",{key:ne.id,class:"items-center border-b dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-900"},[l("td",t_,pe(ne.item_name),1),l("td",s_,[l("button",{onClick:le=>ot(ne),class:"px-2 py-1 mr-2 bg-gray-300 dark:bg-gray-700 hover:bg-gray-400 dark:hover:bg-red-700 rounded group hover:scale-110 transition hover:cursor-pointer"},[he(de(ag),{class:"w-5 h-5"})],8,r_),l("span",a_,pe(ne.quantity||1),1),l("button",{onClick:le=>bt(ne),class:"px-2 py-1 ml-2 bg-gray-300 dark:bg-gray-700 hover:bg-gray-400 dark:hover:bg-green-700 rounded group hover:scale-110 transition hover:cursor-pointer"},[he(de(ir),{class:"w-5 h-5"})],8,i_)]),l("td",o_,[l("button",null,[he(de(Id),{class:"w-7 h-7 text-red-500 hover:text-red-400",onClick:le=>xe(ne)},null,8,["onClick"])])])]))),128))])])]),l("div",{class:"-mx-3 flex flex-wrap mt-4"},[l("div",{class:"w-1/2 px-3"},[l("button",{onClick:fe,class:"block w-full rounded-md border border-stroke p-3 text-center text-base font-medium text-dark transition bg-gray-300 hover:border-red-800 hover:bg-red-800 hover:text-white dark:text-black"}," Cancel ")]),l("div",{class:"w-1/2 px-3"},[l("button",{onClick:ue,class:"block w-full rounded-md border bg-primary p-3 text-center text-base font-medium text-white transition bg-green-700 hover:border-green-600 hover:bg-green-600 hover:text-white dark:text-white dark:border-green-700 dark:hover:border-green-400"}," Generate QR Code ")])])])])),he(rs,{modelValue:ae.value,"onUpdate:modelValue":ye[6]||(ye[6]=ne=>ae.value=ne),title:"Confirm Generate QR Code",message:"You are about to generate QR code with this items.",messageData:Re.value,cancelText:"Cancel",confirmText:"Generate QR Codes",onConfirm:ye[7]||(ye[7]=ne=>Pe())},null,8,["modelValue","messageData"])],512))])):we("",!0)}},n_={class:"pb-5"},l_={class:"sticky flex flex-row md:gap-25 items-center justify-stretch top-2 z-20 backdrop-blur-sm px-6 py-4 border-2 rounded-2xl bg-gray-200/45 border-blue-500/85 dark:bg-gray-800/45 dark:border-gray-300/85"},c_={class:"w-full grid grid-cols-1 lg:grid-cols-6 lg:gap-1 2xl:gap-2 items-center text-center"},d_={class:"hidden min-h-full lg:flex lg:flex-col lg:justify-center lg:items-center border-2 shadow-lg px-1 py-2 2xl:p-2 2xl:pb-5 rounded-lg mx-1 bg-white border-gray-300 dark:bg-gray-950 dark:border-gray-700"},u_={class:"text-gray-900 dark:text-white text-2xl leading-none font-bold"},h_={class:"hidden min-h-full lg:flex lg:flex-col lg:justify-center lg:items-center border-2 shadow-lg px-1 py-2 2xl:p-2 2xl:pb-5 rounded-lg mx-1 bg-white border-gray-300 dark:bg-gray-950 dark:border-gray-700"},f_={class:"text-gray-900 dark:text-white text-2xl leading-none font-bold"},p_={class:"hidden min-h-full lg:flex lg:flex-col lg:justify-center lg:items-center border-2 shadow-lg px-1 py-2 2xl:p-2 2xl:pb-5 rounded-lg mx-1 bg-white border-gray-300 dark:bg-gray-950 dark:border-gray-700"},g_={class:"text-gray-900 dark:text-white text-2xl leading-none font-bold"},m_={key:0,class:"h-[72vh] flex flex-col items-center justify-center"},v_={key:1},b_={class:"grid grid-cols-3 md:grid-cols-5 lg:hidden gap-3 p-2 pt-6 pb-0 dark:text-gray-800"},x_={class:"group col-span-3 w-full h-fit rounded-3xl p-1 dashboard-div-main-colors"},y_={class:"w-full h-full rounded-3xl p-4 lg:p-6 flex flex-col items-center justify-center dashboard-div-inside-colors"},w_={class:"col-span-3 md:col-span-2 grid grid-cols-3 text-center gap-3"},k_={class:"flex flex-col h-full justify-center items-center border-2 rounded-lg shadow-lg p-3 bg-white border-gray-300 dark:bg-gray-950 dark:border-gray-700"},C_={class:"text-gray-900 dark:text-white text-2xl leading-none font-bold"},__={class:"flex flex-col h-full justify-center items-center border-2 rounded-lg shadow-lg p-3 bg-white border-gray-300 dark:bg-gray-950 dark:border-gray-700"},S_={class:"text-gray-900 dark:text-white text-2xl leading-none font-bold"},A_={class:"flex flex-col h-full justify-center items-center border-2 rounded-lg shadow-lg p-3 bg-white border-gray-300 dark:bg-gray-950 dark:border-gray-700"},L_={class:"text-gray-900 dark:text-white text-2xl leading-none font-bold"},E_={class:"grid grid-cols-1 md:grid-cols-4 lg:grid-cols-5 gap-1 md:gap-5 p-1 md:p-4 pt-4 md:pt-6 pb-0 h-255 md:h-130 dark:text-gray-800"},P_={class:"group w-full h-124 md:col-span-2 rounded-3xl p-1 dashboard-div-main-colors"},I_={class:"w-full h-full rounded-3xl p-6 flex flex-col items-center justify-center dashboard-div-inside-colors"},M_={class:"group w-full h-124 md:col-span-2 rounded-3xl p-1 dashboard-div-main-colors"},T_={class:"w-full h-full rounded-3xl p-6 flex flex-col items-center justify-center dashboard-div-inside-colors"},O_={class:"hidden lg:block group w-full md:h-124 rounded-3xl p-1 dashboard-div-main-colors"},$_={class:"w-full h-full rounded-3xl p-6 flex flex-col items-center justify-center dashboard-div-inside-colors"},R_={class:"grid grid-cols-1 p-4 pb-0 hh-255 md:h-130 md:grid-cols-2 gap-2 md:gap-5 dark:text-gray-800"},D_={class:"group w-full h-124 rounded-3xl p-1 dashboard-div-main-colors"},N_={class:"w-full h-full rounded-3xl shadow-sm flex justify-between dashboard-div-inside-colors"},z_={class:"group w-full h-124 rounded-3xl p-1 dashboard-div-main-colors"},B_={class:"w-full h-full px-6 py-4 rounded-3xl shadow-sm flex justify-between dashboard-div-inside-colors"},F_={class:"grid grid-cols-1 p-4 pb-0 h-255 md:h-130 md:grid-cols-2 md:gap-3 dark:text-gray-800"},H_={class:"group w-full h-124 rounded-3xl p-1 dashboard-div-main-colors"},V_={class:"w-full h-full rounded-3xl shadow-sm flex justify-between dashboard-div-inside-colors"},U_={class:"group w-full h-124 rounded-3xl p-1 dashboard-div-main-colors"},q_={class:"w-full h-full px-6 py-4 rounded-3xl shadow-sm flex justify-between dashboard-div-inside-colors"},j_={__name:"Dashboard",setup(s){const o=qt();gt(()=>{o.fetchData()});const d={transactionItems:"transactionItems",transactionHistory:"transactionHistory",officeEquipments:"officeEquipments",officeSupplies:"officeSupplies",officeList:"officeList",users:"users",borrowers:"borrowers",equipmentCopies:"equipmentCopies",categoryList:"categoryList"},{transactionItems:u,transactionHistory:h,officeEquipments:v,officeSupplies:m,officeList:y,users:k,borrowers:I,equipmentCopies:L,categoryList:E}=Object.fromEntries(Object.entries(d).map(([Je,Ye])=>[Je,Ve(()=>o[Ye])])),P=Je=>Ve(()=>Object.values(Je.value)),$=P(u),D=P(h),N=P(v),R=P(m),H=P(y),Q=P(k),Y=P(I),q=P(L),S=P(E),K=Je=>Je.toISOString().split("T")[0],ae=G(K(new Date)),B=G(K(new Date(new Date().setDate(new Date().getDate()-6)))),te=G({start:B.value,end:ae.value}),fe=Je=>{te.value=Je};gt(()=>{fe({start:B.value,end:ae.value})});const Te=Ve(()=>{if(!D.value)return 0;const Je=new Date(te.value.start),Ye=new Date(te.value.end);return Ye.setHours(23,59,59,999),D.value.filter(st=>{const xe=new Date(st.borrow_date);return xe>=Je&&xe<=Ye}).length}),Ae=Ve(()=>{if(!D.value)return 0;const Je=new Date(te.value.start),Ye=new Date(te.value.end);return Ye.setHours(23,59,59,999),D.value.filter(st=>{if(!st.return_date)return!1;const xe=new Date(st.return_date);return new Date(st.borrow_date)>=Je&&xe<=Ye}).length}),Ie=Ve(()=>Te.value-Ae.value),Ee=Ve(()=>$.value.length===0||D.value.length===0||N.value.length===0||R.value.length===0||H.value.length===0||Q.value.length===0||Y.value.length===0||q.value.length===0||S.value.length===0||o.inventoryAccesses.length===0),Ne=G(!1),Me=G(!1),ze=G(!1);return(Je,Ye)=>(F(),se("div",n_,[l("div",l_,[Ye[15]||(Ye[15]=l("h1",{class:"text-3xl ml-10 xl:ml-0 font-bold tracking-tight text-gray-950 dark:text-gray-100"},"Dashboard",-1)),l("div",c_,[he(Bw,{onDateRangeSelected:fe,class:"hidden sm:block col-span-1 lg:col-span-3 px-4 w-full dark:text-gray-200"}),l("div",d_,[Ye[12]||(Ye[12]=l("h5",{class:"inline-flex text-sm 2xl:text-md items-center text-gray-900 dark:text-gray-400 leading-none font-normal mb-2"},"Total Transactions",-1)),l("p",u_,pe(Te.value),1)]),l("div",h_,[Ye[13]||(Ye[13]=l("h5",{class:"inline-flex text-sm 2xl:text-md items-center text-gray-900 dark:text-gray-400 leading-none font-normal mb-2"},"Total Unreturned",-1)),l("p",f_,pe(Ie.value),1)]),l("div",p_,[Ye[14]||(Ye[14]=l("h5",{class:"inline-flex text-sm 2xl:text-md items-center text-gray-900 dark:text-gray-400 leading-none font-normal mb-2"},"Total Returned",-1)),l("p",g_,pe(Ae.value),1)])])]),Ee.value?(F(),se("div",m_,[he(Ht),Ye[16]||(Ye[16]=l("p",{class:"text-gray-500 dark:text-gray-400"},"Fetching data...",-1))])):(F(),se("div",v_,[l("div",b_,[l("div",x_,[l("div",y_,[he(fc,{onOpenAddItemModal:Ye[0]||(Ye[0]=st=>Ne.value=!0),onOpenCreateTransactionModal:Ye[1]||(Ye[1]=st=>Me.value=!0),onOpenGenerateQrCodeModal:Ye[2]||(Ye[2]=st=>ze.value=!0)})])]),l("div",w_,[l("div",k_,[Ye[17]||(Ye[17]=l("p",{class:"inline-flex items-center text-gray-900 dark:text-gray-400 leading-none font-semibold mb-2"},"Total Transactions",-1)),l("p",C_,pe(Te.value),1)]),l("div",__,[Ye[18]||(Ye[18]=l("p",{class:"inline-flex items-center text-gray-900 dark:text-gray-400 leading-none font-semibold mb-2"},"Total Unreturned",-1)),l("p",S_,pe(Ie.value),1)]),l("div",A_,[Ye[19]||(Ye[19]=l("p",{class:"inline-flex items-center text-gray-900 dark:text-gray-400 leading-none font-semibold mb-2"},"Total Returned",-1)),l("p",L_,pe(Ae.value),1)])])]),l("div",E_,[l("div",P_,[l("div",I_,[he(A2)])]),l("div",M_,[l("div",T_,[he(Hw,{dateRange:te.value,isLoading:Ee.value,transactionHistory:de(D)},null,8,["dateRange","isLoading","transactionHistory"])])]),l("div",O_,[l("div",$_,[he(fc,{onOpenAddItemModal:Ye[3]||(Ye[3]=st=>Ne.value=!0),onOpenCreateTransactionModal:Ye[4]||(Ye[4]=st=>Me.value=!0),onOpenGenerateQrCodeModal:Ye[5]||(Ye[5]=st=>ze.value=!0)})])])]),l("div",R_,[l("div",D_,[l("div",N_,[he(_b,{dateRange:te.value,isLoading:Ee.value,transactionHistory:de(D),class:"w-full"},null,8,["dateRange","isLoading","transactionHistory"])])]),l("div",z_,[l("div",B_,[he(r2)])])]),l("div",F_,[l("div",H_,[l("div",V_,[he(kb,{dateRange:te.value,isLoading:Ee.value,transactionHistory:de(D),class:"w-full"},null,8,["dateRange","isLoading","transactionHistory"])])]),l("div",U_,[l("div",q_,[he(v2)])])])])),Ne.value?(F(),Ze(Su,{key:2,modelValue:Ne.value,"onUpdate:modelValue":Ye[6]||(Ye[6]=st=>Ne.value=st),categories:de(o).categoryList,onClick:Ye[7]||(Ye[7]=nt(()=>{},["stop"]))},null,8,["modelValue","categories"])):we("",!0),Me.value?(F(),Ze(wu,{key:3,modelValue:Me.value,"onUpdate:modelValue":Ye[8]||(Ye[8]=st=>Me.value=st),onClick:Ye[9]||(Ye[9]=nt(()=>{},["stop"]))},null,8,["modelValue"])):we("",!0),ze.value?(F(),Ze(Au,{key:4,modelValue:ze.value,"onUpdate:modelValue":Ye[10]||(Ye[10]=st=>ze.value=st),onClick:Ye[11]||(Ye[11]=nt(()=>{},["stop"]))},null,8,["modelValue"])):we("",!0)]))}},X_=oa(j_,[["__scopeId","data-v-3e27649c"]]),Y_={key:0,class:"fixed left-0 top-0 flex h-full w-full items-center justify-center bg-black/55 px-4 py-5"},W_={class:"text-start"},G_={class:"relative ml-2"},Q_={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},Z_={class:"-mx-3 flex flex-wrap mt-4"},K_={class:"w-1/2 px-3"},J_={key:2,class:"w-full max-w-[1000px] bg-white rounded-[20px] p-8 dark:bg-gray-950 border border-4 dark:border-white"},Lu={__name:"IncreaseSupplyQty",props:{modelValue:Boolean,selectedItems:Object},emits:["update:modelValue","confirmDelete"],setup(s,{emit:o}){const d=qt(),u=G(!1),h=G([]),v=G(!1),m=s,y=G(!1),k=H=>{H&&D()};console.log("Selected Items: ",m.selectedItems);const I=o,L=G(null),E=()=>{I("update:modelValue",!1)},P=H=>{L.value&&!L.value.contains(H.target)&&E()};gt(()=>{document.addEventListener("click",P)}),Nt(()=>{document.removeEventListener("click",P)});const $=G(""),D=async()=>{try{v.value=!0;const H={id:m.selectedItems.id,supply_quantity:m.selectedItems.supply_quantity+$.value};console.log("Update supply quantity data sent: ",H),d.updateOfficeSupply(H),await new Promise(Q=>setTimeout(Q,500)),console.log("Supply quantity updated successfully:",H),h.value=[{id:m.selectedItems.id,name:m.selectedItems.supply_name,description:m.selectedItems.supply_description,serialNumber:m.selectedItems.serial_number,categoryId:m.selectedItems.category_id,type:"supply"}],u.value=!0,console.log("Generated QR Codes: ",h.value)}catch(H){console.error("Error updating office quantity:",H),pt.emit("show-toast",{message:"Error updating office quantity. Please try again.",type:"error"})}finally{v.value=!1,pt.emit("show-toast",{message:"Office Quantity updated successfully!",type:"success"})}},N=()=>{window.print()},R=()=>{u.value=!1,E()};return(H,Q)=>s.modelValue?(F(),se("div",Y_,[v.value?(F(),Ze(Ht,{key:0})):we("",!0),!u.value&&!v.value?(F(),se("div",{key:1,ref_key:"modalContainer",ref:L,class:"w-full max-w-[650px] rounded-[20px] bg-white px-8 py-8 text-center border border-4 dark:bg-gray-950 dark:border-gray-100"},[Q[4]||(Q[4]=l("h3",{class:"text-3xl font-semibold mb-4"}," Increase Supply Quantity ",-1)),l("div",W_,[Q[3]||(Q[3]=l("label",{class:"block mt-4 mb-2 text font-medium text-gray-900 dark:text-gray-200"},"Copy Quantity to be Added:",-1)),l("div",G_,[l("div",Q_,[he(de(Ca))]),Xe(l("input",{type:"number","onUpdate:modelValue":Q[0]||(Q[0]=Y=>$.value=Y),placeholder:"Enter quantity...",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[ht,$.value]])])]),l("div",Z_,[l("div",{class:"w-1/2 px-3"},[l("button",{onClick:E,class:"block w-full rounded-md border border-stroke p-3 text-center text-base font-medium text-dark transition bg-gray-300 hover:border-red-800 hover:bg-red-800 hover:text-white dark:text-black"}," Cancel ")]),l("div",K_,[l("button",{onClick:Q[1]||(Q[1]=Y=>y.value=!0),class:"block w-full rounded-md border bg-primary p-3 text-center text-base font-medium text-white transition bg-green-700 hover:border-green-600 hover:bg-green-600 hover:text-white dark:text-white dark:border-green-700 dark:hover:border-green-400"}," Add Copy ")])])],512)):we("",!0),u.value&&!v.value?(F(),se("div",J_,[he(Oa,{"qr-codes":h.value,"on-print":N,"on-close":R},null,8,["qr-codes"])])):we("",!0),he(rs,{modelValue:y.value,"onUpdate:modelValue":Q[2]||(Q[2]=Y=>y.value=Y),title:"Confirm Addition",message:"You are about to add a copy to this Supply.",messageData:`
Supply Name: ${s.selectedItems.supply_name}
Quantit${$.value===1?"y":"ies"} to add: ${$.value}`,cancelText:"Cancel",confirmText:"Confirm Adding",onConfirm:k},null,8,["modelValue","messageData"])])):we("",!0)}},e5={key:0,class:"fixed left-0 top-0 z-20 flex h-full w-full items-center justify-center bg-black/70 px-4 py-5"},t5={class:"flex flex-col text-start"},s5={class:"grid grid-cols-2 grid-rows-1 gap-12 w-full"},r5={class:"flex flex-col mb-2"},a5={class:"mb-1 relative group cursor-pointer"},i5={for:"imageUpload",class:"cursor-pointer"},o5=["src"],n5=["src"],l5={class:"relative ml-2"},c5={class:"flex flex-row"},d5={class:"text-red-700 ml-2 font-semibold italic"},u5={class:"relative ml-2"},h5={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},f5={class:"flex flex-row mt-4 mb-2"},p5={class:"text-red-700 ml-2 font-semibold italic"},g5={class:"relative ml-2"},m5={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},v5={class:"flex flex-row"},b5={class:"text-red-700 ml-2 font-semibold italic"},x5={class:"relative ml-2"},y5={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},w5={class:"flex flex-row mt-4 mb-2"},k5={class:"text-red-700 ml-2 font-semibold italic"},C5={class:"relative"},_5={class:"absolute inset-y-0 start-2 flex items-center ps-3.5 pointer-events-none"},S5={class:"pr-2"},A5=["value"],L5={class:"flex flex-row mt-4 mb-2"},E5={class:"text-red-700 ml-2 font-semibold italic"},P5={class:"relative ml-2"},I5={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},M5={class:"-mx-3 flex flex-wrap mt-4"},T5={class:"w-1/2 px-3"},O5={key:2,class:"w-full max-w-[1000px] bg-white rounded-[20px] p-8 dark:bg-gray-950 border border-4 dark:border-white"},pc={__name:"UpdateSelectedSupply",props:{modelValue:Boolean,selectedItems:Object,categories:Object},emits:["update:modelValue","confirmDelete"],setup(s,{emit:o}){const d=qt(),u="http://localhost:8000",h=G(!1),v=G(!1),m=G([]),y=s;console.log("Selected Items: ",y.selectedItems);const k=o,I=G(null),L=()=>{k("update:modelValue",!1)},E=Ee=>{I.value&&!I.value.contains(Ee.target)&&L()};gt(()=>{document.addEventListener("click",E)}),Nt(()=>{document.removeEventListener("click",E)});const P=G(""),$=G(""),D=G(""),N=G(null),R=G(""),H=G(""),Q=G(null),Y=G(null),q=G(null),S=Ee=>{const Ne=Ee.target.files[0];Q.value=Ne,Ne?(Y.value=URL.createObjectURL(Ne),q.value=Ne.name):q.value=null};it(Q,Ee=>{Ee||(q.value=null)}),Nt(()=>{document.removeEventListener("click",E),Y.value&&URL.revokeObjectURL(Y.value)}),it(()=>y.selectedItems,Ee=>{Ee&&($.value=Ee.supply_name,D.value=Ee.supply_description,R.value=Ee.isc,N.value=Ee.category_id,H.value=Ee.supply_quantity,P.value=Ee.image_path)},{immediate:!0});const K=async()=>{try{h.value=!0;const Ee={id:y.selectedItems.id,supply_name:$.value,supply_description:D.value,category_id:N.value,supply_quantity:H.value,isc:R.value,image_path:Q.value?Q.value:P.value};console.log("Update supply data sent: ",Ee),d.updateOfficeSupply(Ee),await new Promise(Ne=>setTimeout(Ne,500)),console.log("Supply updated successfully:",Ee),m.value=[{id:y.selectedItems.id,name:$.value,description:D.value,categoryId:N.value,type:"supply"}],v.value=!0,console.log("Generated QR Codes: ",m.value)}catch(Ee){console.error("Error updating supplies:",Ee),pt.emit("show-toast",{message:"Error updating supplies. Please try again.",type:"error"})}finally{h.value=!1,pt.emit("show-toast",{message:"Supply Updated successfully!",type:"success"})}},ae=()=>{window.print()},B=()=>{v.value=!1,L()},te=G({supplyName:[],supplyDescription:[],selectedCategory:[],supplyQuantity:[],selectedImage:[],ics:[]}),fe=()=>{Object.keys(te.value).forEach(Ne=>{te.value[Ne]=[]});let Ee=!1;return $.value||(te.value.supplyName=["Supply Name is required"],Ee=!0),R.value||(te.value.ics=["ISC/ARE is required"],Ee=!0),D.value||(te.value.supplyDescription=["Supply Description is required"],Ee=!0),N.value||(te.value.selectedCategory=["Category is required"],Ee=!0),H.value||(te.value.supplyQuantity=["Supply Quantity is required"],Ee=!0),!Ee};it(()=>$.value,Ee=>{Ee?te.value.supplyName=[]:te.value.supplyName=["Supply Name is required"]}),it(()=>D.value,Ee=>{Ee?te.value.supplyDescription=[]:te.value.supplyDescription=["Supply Description is required"]}),it(()=>N.value,Ee=>{Ee?te.value.selectedCategory=[]:te.value.selectedCategory=["Category is required"]}),it(()=>H.value,Ee=>{Ee?te.value.supplyQuantity=[]:te.value.supplyQuantity=["Supply Quantity is required"]}),it(()=>R.value,Ee=>{Ee?te.value.ics=[]:te.value.ics=["ISC/ARE is required"]});const Te=G(!1),Ae=Ee=>{Ee&&K()},Ie=()=>{if(fe())Te.value=!0;else return};return(Ee,Ne)=>{var Me;return s.modelValue?(F(),se("div",e5,[h.value?(F(),Ze(Ht,{key:0})):we("",!0),!v.value&&!h.value?(F(),se("div",{key:1,ref_key:"modalContainer",ref:I,class:"w-full max-w-[650px] rounded-[20px] bg-white px-8 py-8 text-center border-4 dark:bg-gray-950 dark:border-gray-100"},[Ne[13]||(Ne[13]=l("h3",{class:"text-3xl font-semibold mb-4"}," Update Supply ",-1)),l("div",t5,[l("div",s5,[l("div",null,[l("div",r5,[l("div",a5,[l("input",{type:"file",onChange:S,class:"hidden",id:"imageUpload",accept:"image/*"},null,32),l("label",i5,[Y.value?(F(),se("img",{key:0,src:Y.value,class:"w-100 h-60 object-cover rounded-lg mb-2 transition-all duration-300 group-hover:opacity-75",alt:"Preview Image"},null,8,o5)):P.value&&!Q.value?(F(),se("img",{key:1,src:`${de(u)}/storage/${P.value}`,class:"w-100 h-60 object-cover rounded-lg mb-2 transition-all duration-300 group-hover:opacity-75",alt:"Current Image"},null,8,n5)):we("",!0),Ne[7]||(Ne[7]=l("div",{class:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity"},[l("span",{class:"bg-black bg-opacity-50 text-white px-3 py-1 rounded-lg"},"Update Image")],-1))])]),l("div",l5,[l("input",{type:"file",onChange:S,accept:"image/*",class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-gray-800 file:text-white hover:file:bg-gray-700 dark:file:bg-gray-600 dark:file:hover:bg-gray-500 file:cursor-pointer"},null,32)])])]),l("div",null,[l("div",c5,[Ne[8]||(Ne[8]=l("label",{class:"block mb-2 text font-medium text-gray-900 dark:text-gray-200"},"Supply Name:",-1)),l("p",d5,pe(te.value.supplyName?te.value.supplyName[0]:""),1)]),l("div",u5,[l("div",h5,[he(de(fs))]),Xe(l("input",{type:"text","onUpdate:modelValue":Ne[0]||(Ne[0]=ze=>$.value=ze),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Ex. Printer, Chair, Stairs"},null,512),[[ht,$.value]])]),l("div",f5,[Ne[9]||(Ne[9]=l("label",{class:"block text font-medium text-gray-900 dark:text-gray-200"},"Supply Description:",-1)),l("p",p5,pe(te.value.supplyDescription?te.value.supplyDescription[0]:""),1)]),l("div",g5,[l("div",m5,[he(de(Ui))]),Xe(l("textarea",{type:"text","onUpdate:modelValue":Ne[1]||(Ne[1]=ze=>D.value=ze),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Ex. Printer, Chair, Stairs"},null,512),[[ht,D.value]])]),l("div",v5,[Ne[10]||(Ne[10]=l("label",{class:"block mb-2 text font-medium text-gray-900 dark:text-gray-200"},"ISC/ARE:",-1)),l("p",b5,pe(te.value.ics?te.value.ics[0]:""),1)]),l("div",x5,[l("div",y5,[he(de(fs))]),Xe(l("input",{type:"text","onUpdate:modelValue":Ne[2]||(Ne[2]=ze=>R.value=ze),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Ex. John Doe"},null,512),[[ht,R.value]])]),l("div",w5,[Ne[11]||(Ne[11]=l("label",{class:"block text font-medium text-gray-900 dark:text-gray-200"},"Supply Category:",-1)),l("p",k5,pe(te.value.selectedCategory?te.value.selectedCategory[0]:""),1)]),l("div",C5,[l("div",_5,[he(de(_a))]),l("div",S5,[Xe(l("select",{"onUpdate:modelValue":Ne[3]||(Ne[3]=ze=>N.value=ze),class:"border rounded-lg ml-2 w-full text-sm pl-9 dark:text-gray-100 h-10 dark:bg-gray-700 dark:border-gray-600 pl-4"},[(F(!0),se(ft,null,yt(y.categories,ze=>(F(),se("option",{key:ze.id,value:ze.id},pe(ze.category_name),9,A5))),128))],512),[[ka,N.value]])])]),l("div",L5,[Ne[12]||(Ne[12]=l("label",{class:"block text font-medium text-gray-900 dark:text-gray-200"},"Supply Quantity:",-1)),l("p",E5,pe(te.value.supplyQuantity?te.value.supplyQuantity[0]:""),1)]),l("div",P5,[l("div",I5,[he(de(Ca))]),Xe(l("input",{type:"number","onUpdate:modelValue":Ne[4]||(Ne[4]=ze=>H.value=ze),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[ht,H.value]])])])])]),l("div",M5,[l("div",{class:"w-1/2 px-3"},[l("button",{onClick:L,class:"block w-full rounded-md border border-stroke p-3 text-center text-base font-medium text-dark transition bg-gray-300 hover:border-red-800 hover:bg-red-800 hover:text-white dark:text-black"}," Cancel ")]),l("div",T5,[l("button",{onClick:Ne[5]||(Ne[5]=ze=>Ie()),class:"block w-full rounded-md border bg-primary p-3 text-center text-base font-medium text-white transition bg-green-700 hover:border-green-600 hover:bg-green-600 hover:text-white dark:text-white dark:border-green-700 dark:hover:border-green-400"}," Update ")])])],512)):we("",!0),v.value&&!h.value?(F(),se("div",O5,[he(Oa,{"qr-codes":m.value,"on-print":ae,"on-close":B},null,8,["qr-codes"])])):we("",!0),he(rs,{modelValue:Te.value,"onUpdate:modelValue":Ne[6]||(Ne[6]=ze=>Te.value=ze),title:"Confirm Update",message:"You are about to update this supply with the updated information:",messageData:`
Name: ${$.value}
Description: ${D.value} 
ISC/ARE: ${R.value} 
Category: ${((Me=s.categories.find(ze=>ze.id===N.value))==null?void 0:Me.category_name)||"Unknown"}
Quantity: ${H.value}`,cancelText:"Cancel",confirmText:"Confirm Update",onConfirm:Ae},null,8,["modelValue","messageData"])])):we("",!0)}}},$5={class:"overflow-x-auto"},R5={class:"flex flex-row items-center p-4"},D5={class:"w-4/5"},N5={class:"relative w-full"},z5={class:"relative ml-2 flex justify-end w-full md:w-1/5"},B5={class:"relative mb-2"},F5={class:"max-h-60 overflow-auto"},H5={class:"relative"},V5=["checked","onChange"],U5={class:"box mr-4 flex h-5 w-5 items-center justify-center rounded border border-stroke dark:border-dark-3"},q5={class:"w-full border-collapse text-sm text-gray-300"},j5={key:0,class:"border-b dark:border-gray-700"},X5={class:"px-4 py-3 border-b border-gray-700"},Y5={class:"px-4 py-3 border-b border-gray-700"},W5={class:"px-4 py-3 border-b border-gray-700"},G5={class:"px-4 py-3 border-b border-gray-700"},Q5={class:"px-4 py-3 border-b border-gray-700"},Z5={class:"px-4 py-3 border-b border-gray-700"},K5={key:0,class:"flex flex-col md:flex-row justify-between items-start md:items-center space-y-3 md:space-y-0 p-4","aria-label":"Table navigation"},J5={class:"text-sm font-normal text-gray-500 dark:text-gray-400"},e4={class:"font-semibold text-gray-900 dark:text-white"},t4={class:"font-semibold text-gray-900 dark:text-white"},s4={class:"inline-flex items-stretch -space-x-px"},r4=["disabled"],a4=["onClick"],i4=["disabled"],o4={__name:"OfficeSupplyTransactionHistoryTable",props:{selectedItem:Object,transactionItems:Object,transactionHistory:Object,users:Object,officeList:Object,borrowers:Object},setup(s){const o=s,d=G(!1),u=G(""),h=G(""),v=G(!1),m=G(null),y=G(null),k=G([]);gt(()=>{document.addEventListener("click",P),k.value=o.officeList.map(ae=>({id:ae.id,type:ae.office_name,isActive:!0}))});const I=Ve(()=>{if(!h.value)return k.value;const ae=h.value.toLowerCase();return k.value.filter(B=>B.type.toLowerCase().includes(ae))}),L=()=>{v.value=!v.value},E=(ae,B)=>{B.stopPropagation();const te=k.value.find(fe=>fe.id===ae);te&&(te.isActive=!te.isActive)},P=ae=>{var B,te;v.value&&!((B=m.value)!=null&&B.contains(ae.target))&&!((te=y.value)!=null&&te.contains(ae.target))&&(v.value=!1)},$=Ve(()=>{const ae=u.value.toLowerCase(),B=k.value.filter(te=>te.isActive).map(te=>te.id);return o.transactionItems.filter(te=>te.item_type==="Equipment Copy"&&te.item_copy_id===o.selectedItem.id).filter(te=>{const fe=o.transactionHistory.find(Je=>Je.id===te.transaction_id);if(!fe)return!1;const Te=o.borrowers.find(Je=>Je.id===fe.borrower_id),Ae=o.officeList.find(Je=>Je.id===(Te==null?void 0:Te.office_id));if(!B.includes(Ae==null?void 0:Ae.id))return!1;const Ie=te.id.toString(),Ee=(Te==null?void 0:Te.borrowers_name)||"",Ne=(Ae==null?void 0:Ae.office_name)||"",Me=o.users.find(Je=>Je.id===fe.lender_id),ze=(Me==null?void 0:Me.firstName)||"";return Ie.includes(ae)||Ee.toLowerCase().includes(ae)||Ne.toLowerCase().includes(ae)||ze.toLowerCase().includes(ae)}).reverse()});it(u,()=>{N.value=1});const D=ae=>ae?new Date(ae).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):"N/A",N=G(1),R=G(5),H=Ve(()=>Math.ceil($.value.length/R.value)),Q=Ve(()=>{const ae=(N.value-1)*R.value,B=ae+R.value;return $.value.slice(ae,B)}),Y=()=>{N.value<H.value&&N.value++},q=()=>{N.value>1&&N.value--},S=ae=>{ae>=1&&ae<=H.value&&(N.value=ae)},K=Ve(()=>{const B=[];B.push(1);let te=Math.max(2,N.value-2),fe=Math.min(H.value-1,N.value+2);N.value-2>2&&B.push("...");for(let Te=te;Te<=fe;Te++)B.push(Te);return N.value+2<H.value-1&&B.push("..."),H.value>1&&B.push(H.value),B});return gt(()=>{document.addEventListener("click",P)}),Nt(()=>{document.removeEventListener("click",P)}),(ae,B)=>(F(),se("div",$5,[l("div",R5,[l("div",D5,[l("form",{class:"flex items-center",onSubmit:B[1]||(B[1]=nt(()=>{},["prevent"]))},[B[6]||(B[6]=l("label",{for:"simple-search",class:"sr-only"},"Search",-1)),l("div",N5,[B[5]||(B[5]=l("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[l("svg",{"aria-hidden":"true",class:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),Xe(l("input",{"onUpdate:modelValue":B[0]||(B[0]=te=>u.value=te),type:"text",id:"simple-search",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full pl-10 p-2 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Search supply transaction..."},null,512),[[ht,u.value]])])],32)]),l("div",z5,[l("button",{onClick:L,ref_key:"officeButtonRef",ref:m,class:"flex justify-between gap-1 border items-center rounded-lg px-6 py-2 text-base font-medium border-gray-400 bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-white dark:border-gray-600"},B[7]||(B[7]=[l("span",{class:"material-icons"},"filter_alt",-1),xt(" Filter Offices "),l("span",{class:"material-icons ml-1"},"arrow_drop_down",-1)]),512),Xe(l("div",{ref_key:"officeMenuRef",ref:y,class:"shadow-1 dark:shadow-box-dark absolute right-0 border border-gray-500 w-48 z-40 mt-2 rounded-md bg-gray-200 dark:bg-gray-900 px-4 pt-2 transition-all"},[l("div",B5,[Xe(l("input",{type:"text","onUpdate:modelValue":B[2]||(B[2]=te=>h.value=te),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg w-full p-2 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Search offices..."},null,512),[[ht,h.value]])]),l("div",F5,[(F(!0),se(ft,null,yt(I.value,te=>(F(),se("label",{class:"flex items-center cursor-pointer select-none text-dark dark:text-white mb-2",key:te.id},[l("div",H5,[l("input",{type:"checkbox",class:"sr-only",checked:te.isActive,onChange:fe=>E(te.id,fe)},null,40,V5),l("div",U5,[l("span",{class:ct({"opacity-100":te.isActive,"opacity-0":!te.isActive})},B[8]||(B[8]=[l("svg",{width:"11",height:"8",viewBox:"0 0 11 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[l("path",{d:"M10.0915 0.951972L10.0867 0.946075L10.0813 0.940568C9.90076 0.753564 9.61034 0.753146 9.42927 0.939309L4.16201 6.22962L1.58507 3.63469C1.40401 3.44841 1.11351 3.44879 0.932892 3.63584C0.755703 3.81933 0.755703 4.10875 0.932892 4.29224L0.932878 4.29225L0.934851 4.29424L3.58046 6.95832C3.73676 7.11955 3.94983 7.2 4.1473 7.2C4.36196 7.2 4.55963 7.11773 4.71406 6.9584L10.0468 1.60234C10.2436 1.4199 10.2421 1.1339 10.0915 0.951972ZM4.2327 6.30081L4.2317 6.2998C4.23206 6.30015 4.23237 6.30049 4.23269 6.30082L4.2327 6.30081Z",fill:"#3056D3",stroke:"#3056D3",strokeWidth:"0.4"})],-1)]),2)])]),xt(" "+pe(te.type),1)]))),128))])],512),[[Vs,v.value]])])]),l("table",q5,[B[11]||(B[11]=l("thead",null,[l("tr",{class:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-200 uppercase text-center text-xs rounded-lg"},[l("th",{class:"px-4 py-2 border-b border-gray-600"},"ID"),l("th",{class:"px-4 py-2 border-b border-gray-600"},"Borrower"),l("th",{class:"px-4 py-2 border-b border-gray-600"},"Office"),l("th",{class:"px-4 py-2 border-b border-gray-600"},"Lender"),l("th",{class:"px-4 py-2 border-b border-gray-600"},"Return Date & Time"),l("th",{class:"px-4 py-2 border-b border-gray-600"},"Borrow Date & Time"),l("th",{class:"px-4 py-2 border-b border-gray-600"},"Actions")])],-1)),l("tbody",null,[Q.value.length===0?(F(),se("tr",j5,B[9]||(B[9]=[l("td",{colspan:"6",class:"px-4 py-6 text-center text-gray-500 dark:text-gray-400"}," No Transaction found ",-1)]))):we("",!0),(F(!0),se(ft,null,yt(Q.value,te=>{var fe,Te,Ae,Ie,Ee;return F(),se("tr",{key:te.id,class:"border-b font-medium border-gray-400 dark:border-gray-700 text-gray-600 dark:text-gray-300 odd:bg-gray-300 odd:dark:bg-gray-900 even:bg-gray-100 even:dark:bg-gray-800 dark:hover:bg-gray-700 dark:hover:text-white"},[l("td",X5,pe(te.id),1),l("td",Y5,pe(((fe=s.borrowers.find(Ne=>{var Me;return Ne.id===((Me=s.transactionHistory.find(ze=>ze.id===te.transaction_id))==null?void 0:Me.borrower_id)}))==null?void 0:fe.borrowers_name)||"N/A"),1),l("td",W5,pe(((Te=s.officeList.find(Ne=>Ne.id===s.borrowers.find(Me=>Me.id===s.transactionHistory.find(ze=>ze.id===te.transaction_id).borrower_id).office_id))==null?void 0:Te.office_name)||"N/A"),1),l("td",G5,pe(((Ae=s.users.find(Ne=>{var Me;return Ne.id===((Me=s.transactionHistory.find(ze=>ze.id===te.transaction_id))==null?void 0:Me.lender_id)}))==null?void 0:Ae.firstName)||"N/A"),1),l("td",Q5,pe(D((Ie=s.transactionHistory)==null?void 0:Ie.returned_date)??"N/A"),1),l("td",Z5,pe(D((Ee=s.transactionHistory.find(Ne=>Ne.id===te.transaction_id))==null?void 0:Ee.borrow_date)||"N/A"),1),B[10]||(B[10]=l("td",{class:"px-4 py-3 border-b border-gray-700"},"...",-1))])}),128))])]),Q.value.length>0?(F(),se("nav",K5,[l("span",J5,[B[12]||(B[12]=xt(" Showing ")),l("span",e4,pe((N.value-1)*R.value+1)+" - "+pe(Math.min(N.value*R.value,$.value.length)),1),B[13]||(B[13]=xt(" of ")),l("span",t4,pe($.value.length),1)]),l("ul",s4,[l("li",null,[l("button",{onClick:q,disabled:N.value===1,class:"flex items-center justify-center h-full py-1.5 px-3 ml-0 text-gray-500 bg-white rounded-l-lg border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white disabled:opacity-50 disabled:cursor-not-allowed"},B[14]||(B[14]=[l("span",{class:"sr-only"},"Previous",-1),l("svg",{class:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]),8,r4)]),(F(!0),se(ft,null,yt(K.value,te=>(F(),se("li",{key:te},[l("button",{onClick:fe=>S(te),class:ct(["flex items-center justify-center text-sm py-2 px-3 leading-tight border",te===N.value?"text-primary-600 bg-primary-50 border-primary-300 hover:bg-primary-100 hover:text-primary-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white":"text-gray-500 bg-white border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"])},pe(te),11,a4)]))),128)),l("li",null,[l("button",{onClick:Y,disabled:N.value===H.value,class:"flex items-center justify-center h-full py-1.5 px-3 leading-tight text-gray-500 bg-white rounded-r-lg border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white disabled:opacity-50 disabled:cursor-not-allowed"},B[15]||(B[15]=[l("span",{class:"sr-only"},"Next",-1),l("svg",{class:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)]),8,i4)])])])):we("",!0),d.value?(F(),Ze(Lu,{key:1,modelValue:d.value,"onUpdate:modelValue":B[3]||(B[3]=te=>d.value=te),selectedItems:s.selectedItem,onClick:B[4]||(B[4]=nt(()=>{},["stop"]))},null,8,["modelValue","selectedItems"])):we("",!0)]))}},n4={class:"overflow-x-auto"},l4={class:"flex flex-col md:flex-row items-center justify-between space-y-3 md:space-y-0 md:space-x-4 p-4"},c4={class:"w-full md:w-4/5"},d4={class:"relative w-full"},u4={class:"relative ml-2 flex justify-end w-full md:w-1/5"},h4={class:"relative mb-2"},f4={class:"max-h-60 overflow-auto"},p4={class:"relative"},g4=["checked","onChange"],m4={class:"box mr-4 flex h-5 w-5 items-center justify-center rounded border border-stroke dark:border-dark-3"},v4={class:"w-full border-collapse text-sm text-gray-300 rounded-lg"},b4={key:0,class:"border-b dark:border-gray-700"},x4={class:"px-4 py-3 border-b border-gray-700"},y4={class:"px-4 py-3 border-b border-gray-700"},w4={class:"px-4 py-3 border-b border-gray-700"},k4={class:"px-4 py-3 border-b border-gray-700"},C4={class:"px-4 py-3 border-b border-gray-700"},_4={class:"px-4 py-3 border-b border-gray-700"},S4={key:0,class:"flex flex-col md:flex-row justify-between items-start md:items-center space-y-3 md:space-y-0 p-4","aria-label":"Table navigation"},A4={class:"text-sm font-normal text-gray-500 dark:text-gray-400"},L4={class:"font-semibold text-gray-900 dark:text-white"},E4={class:"font-semibold text-gray-900 dark:text-white"},P4={class:"inline-flex items-stretch -space-x-px"},I4=["disabled"],M4=["onClick"],T4=["disabled"],O4={__name:"OfficeEquipmentTransactionHistoryTable",props:{selectedItem:Object,transactionItems:Object,transactionHistory:Object,users:Object,officeList:Object,borrowers:Object},setup(s){const o=s,d=G(""),u=G(""),h=G(!1),v=G(null),m=G(null),y=G([]);gt(()=>{document.addEventListener("click",E),y.value=o.officeList.map(K=>({id:K.id,type:K.office_name,isActive:!0}))});const k=Ve(()=>{if(!u.value)return y.value;const K=u.value.toLowerCase();return y.value.filter(ae=>ae.type.toLowerCase().includes(K))}),I=()=>{h.value=!h.value},L=(K,ae)=>{ae.stopPropagation();const B=y.value.find(te=>te.id===K);B&&(B.isActive=!B.isActive)},E=K=>{var ae,B;h.value&&!((ae=v.value)!=null&&ae.contains(K.target))&&!((B=m.value)!=null&&B.contains(K.target))&&(h.value=!1)},P=Ve(()=>{const K=d.value.toLowerCase(),ae=y.value.filter(B=>B.isActive).map(B=>B.id);return o.transactionItems.filter(B=>B.item_type==="Equipment Copy"&&B.item_copy_id===o.selectedItem.id).filter(B=>{const te=o.transactionHistory.find(ze=>ze.id===B.transaction_id);if(!te)return!1;const fe=o.borrowers.find(ze=>ze.id===te.borrower_id),Te=o.officeList.find(ze=>ze.id===(fe==null?void 0:fe.office_id));if(!ae.includes(Te==null?void 0:Te.id))return!1;const Ae=B.id.toString(),Ie=(fe==null?void 0:fe.borrowers_name)||"",Ee=(Te==null?void 0:Te.office_name)||"",Ne=o.users.find(ze=>ze.id===te.lender_id),Me=(Ne==null?void 0:Ne.firstName)||"";return Ae.includes(K)||Ie.toLowerCase().includes(K)||Ee.toLowerCase().includes(K)||Me.toLowerCase().includes(K)}).reverse()});it(d,()=>{$.value=1});const $=G(1),D=G(5),N=Ve(()=>Math.ceil(P.value.length/D.value)),R=Ve(()=>{const K=($.value-1)*D.value,ae=K+D.value;return P.value.slice(K,ae)}),H=()=>{$.value<N.value&&$.value++},Q=()=>{$.value>1&&$.value--},Y=K=>{K>=1&&K<=N.value&&($.value=K)},q=Ve(()=>{const ae=[];ae.push(1);let B=Math.max(2,$.value-2),te=Math.min(N.value-1,$.value+2);$.value-2>2&&ae.push("...");for(let fe=B;fe<=te;fe++)ae.push(fe);return $.value+2<N.value-1&&ae.push("..."),N.value>1&&ae.push(N.value),ae}),S=K=>K?new Date(K).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):"N/A";return gt(()=>{document.addEventListener("click",E)}),Nt(()=>{document.removeEventListener("click",E)}),(K,ae)=>(F(),se("div",n4,[l("div",l4,[l("div",c4,[l("form",{class:"flex items-center",onSubmit:ae[1]||(ae[1]=nt(()=>{},["prevent"]))},[ae[4]||(ae[4]=l("label",{for:"simple-search",class:"sr-only"},"Search",-1)),l("div",d4,[ae[3]||(ae[3]=l("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[l("svg",{"aria-hidden":"true",class:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),Xe(l("input",{"onUpdate:modelValue":ae[0]||(ae[0]=B=>d.value=B),type:"text",id:"simple-search",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full pl-10 p-2 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Search equipment copies..."},null,512),[[ht,d.value]])])],32)]),l("div",u4,[l("button",{onClick:I,ref_key:"officeButtonRef",ref:v,class:"flex justify-between gap-1 border items-center rounded-lg px-6 py-2 text-base font-medium border-gray-400 bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-white dark:border-gray-600"},ae[5]||(ae[5]=[l("span",{class:"material-icons"},"filter_alt",-1),xt(" Filter Offices "),l("span",{class:"material-icons ml-1"},"arrow_drop_down",-1)]),512),Xe(l("div",{ref_key:"officeMenuRef",ref:m,class:"shadow-1 dark:shadow-box-dark absolute right-0 border border-gray-500 w-48 z-40 mt-2 rounded-md bg-gray-200 dark:bg-gray-900 px-4 pt-2 transition-all"},[l("div",h4,[Xe(l("input",{type:"text","onUpdate:modelValue":ae[2]||(ae[2]=B=>u.value=B),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg w-full p-2 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Search offices..."},null,512),[[ht,u.value]])]),l("div",f4,[(F(!0),se(ft,null,yt(k.value,B=>(F(),se("label",{class:"flex items-center cursor-pointer select-none text-dark dark:text-white mb-2",key:B.id},[l("div",p4,[l("input",{type:"checkbox",class:"sr-only",checked:B.isActive,onChange:te=>L(B.id,te)},null,40,g4),l("div",m4,[l("span",{class:ct({"opacity-100":B.isActive,"opacity-0":!B.isActive})},ae[6]||(ae[6]=[l("svg",{width:"11",height:"8",viewBox:"0 0 11 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[l("path",{d:"M10.0915 0.951972L10.0867 0.946075L10.0813 0.940568C9.90076 0.753564 9.61034 0.753146 9.42927 0.939309L4.16201 6.22962L1.58507 3.63469C1.40401 3.44841 1.11351 3.44879 0.932892 3.63584C0.755703 3.81933 0.755703 4.10875 0.932892 4.29224L0.932878 4.29225L0.934851 4.29424L3.58046 6.95832C3.73676 7.11955 3.94983 7.2 4.1473 7.2C4.36196 7.2 4.55963 7.11773 4.71406 6.9584L10.0468 1.60234C10.2436 1.4199 10.2421 1.1339 10.0915 0.951972ZM4.2327 6.30081L4.2317 6.2998C4.23206 6.30015 4.23237 6.30049 4.23269 6.30082L4.2327 6.30081Z",fill:"#3056D3",stroke:"#3056D3",strokeWidth:"0.4"})],-1)]),2)])]),xt(" "+pe(B.type),1)]))),128))])],512),[[Vs,h.value]])])]),l("table",v4,[ae[8]||(ae[8]=l("thead",null,[l("tr",{class:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-200 uppercase text-center text-xs rounded-lg"},[l("th",{class:"px-4 py-2 border-b border-gray-600"},"ID"),l("th",{class:"px-4 py-2 border-b border-gray-600"},"Borrower"),l("th",{class:"px-4 py-2 border-b border-gray-600"},"Office"),l("th",{class:"px-4 py-2 border-b border-gray-600"},"Lender"),l("th",{class:"px-4 py-2 border-b border-gray-600"},"Return Date & Time"),l("th",{class:"px-4 py-2 border-b border-gray-600"},"Borrow Date & Time")])],-1)),l("tbody",null,[R.value.length===0?(F(),se("tr",b4,ae[7]||(ae[7]=[l("td",{colspan:"6",class:"px-4 py-6 text-center text-gray-500 dark:text-gray-400"}," No Transaction found ",-1)]))):we("",!0),(F(!0),se(ft,null,yt(R.value,B=>{var te,fe,Te,Ae,Ie;return F(),se("tr",{key:B.id,class:"border-b font-medium border-gray-400 dark:border-gray-700 text-gray-600 dark:text-gray-300 odd:bg-gray-300 odd:dark:bg-gray-900 even:bg-gray-100 even:dark:bg-gray-800 dark:hover:bg-gray-700 dark:hover:text-white"},[l("td",x4,pe(B.id),1),l("td",y4,pe(((te=s.borrowers.find(Ee=>{var Ne;return Ee.id===((Ne=s.transactionHistory.find(Me=>Me.id===B.transaction_id))==null?void 0:Ne.borrower_id)}))==null?void 0:te.borrowers_name)||"N/A"),1),l("td",w4,pe(((fe=s.officeList.find(Ee=>Ee.id===s.borrowers.find(Ne=>Ne.id===s.transactionHistory.find(Me=>Me.id===B.transaction_id).borrower_id).office_id))==null?void 0:fe.office_name)||"N/A"),1),l("td",k4,pe(((Te=s.users.find(Ee=>{var Ne;return Ee.id===((Ne=s.transactionHistory.find(Me=>Me.id===B.transaction_id))==null?void 0:Ne.lender_id)}))==null?void 0:Te.firstName)||"N/A"),1),l("td",C4,pe(S((Ae=s.transactionHistory)==null?void 0:Ae.returned_date)??"N/A"),1),l("td",_4,pe(S((Ie=s.transactionHistory.find(Ee=>Ee.id===B.transaction_id))==null?void 0:Ie.borrow_date)||"N/A"),1)])}),128))])]),R.value.length>0?(F(),se("nav",S4,[l("span",A4,[ae[9]||(ae[9]=xt(" Showing ")),l("span",L4,pe(($.value-1)*D.value+1)+" - "+pe(Math.min($.value*D.value,P.value.length)),1),ae[10]||(ae[10]=xt(" of ")),l("span",E4,pe(P.value.length),1)]),l("ul",P4,[l("li",null,[l("button",{onClick:Q,disabled:$.value===1,class:"flex items-center justify-center h-full py-1.5 px-3 ml-0 text-gray-500 bg-white rounded-l-lg border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white disabled:opacity-50 disabled:cursor-not-allowed"},ae[11]||(ae[11]=[l("span",{class:"sr-only"},"Previous",-1),l("svg",{class:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]),8,I4)]),(F(!0),se(ft,null,yt(q.value,B=>(F(),se("li",{key:B},[l("button",{onClick:te=>Y(B),class:ct(["flex items-center justify-center text-sm py-2 px-3 leading-tight border",B===$.value?"text-primary-600 bg-primary-50 border-primary-300 hover:bg-primary-100 hover:text-primary-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white":"text-gray-500 bg-white border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"])},pe(B),11,M4)]))),128)),l("li",null,[l("button",{onClick:H,disabled:$.value===N.value,class:"flex items-center justify-center h-full py-1.5 px-3 leading-tight text-gray-500 bg-white rounded-r-lg border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white disabled:opacity-50 disabled:cursor-not-allowed"},ae[12]||(ae[12]=[l("span",{class:"sr-only"},"Next",-1),l("svg",{class:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)]),8,T4)])])])):we("",!0)]))}},$4={key:0,class:"fixed left-0 top-0 flex h-full w-full items-center justify-center bg-black/55 px-4 py-5 z-50"},R4={class:"text-start"},D4={class:"flex flex-row mt-4 mb-2"},N4={class:"text-red-700 ml-2 font-semibold italic"},z4={class:"relative ml-2"},B4={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},F4={class:"text-start"},H4={class:"flex flex-row mt-4 mb-2"},V4={class:"text-red-700 ml-2 font-semibold italic"},U4={class:"relative ml-2"},q4={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},j4={class:"-mx-3 flex flex-wrap mt-4"},X4={class:"w-1/2 px-3"},Y4={key:2,class:"w-full max-w-[60vw] bg-white rounded-[20px] p-8 dark:bg-gray-950 border border-4 dark:border-white"},W4={__name:"AddEquipmentCopy",props:{modelValue:Boolean,selectedItems:Object,equipmentCopies:Object},emits:["update:modelValue","confirmDelete"],setup(s,{emit:o}){const d=qt(),u=G(!1),h=G([]),v=G(!1),m=s;console.log("Equipment Copies: ",m.equipmentCopies);const y=G(!1),k=S=>{S&&N()},I=o,L=G(null),E=()=>{I("update:modelValue",!1)},P=S=>{L.value&&!L.value.contains(S.target)&&E()};gt(()=>{document.addEventListener("click",P)}),Nt(()=>{document.removeEventListener("click",P)});const $=G(""),D=G(""),N=async()=>{try{if(!m.equipmentCopies||m.equipmentCopies.length===0){pt.emit("show-toast",{message:"No equipment copies data available",type:"warning"});return}v.value=!0;const S=parseInt($.value),K=D.value,ae=Math.max(...m.equipmentCopies.map(te=>te.copy_num)),B=[];for(let te=0;te<S;te++){const fe=ae+te+1,Te={item_id:m.equipmentCopies[0].item_id,is_available:1,serial_number:K,copy_num:fe};console.log("Add copy data sent: ",Te),d.addEquipmentCopy(Te),await new Promise(Ae=>setTimeout(Ae,500)),console.log("Copy added successfully:",Te),B.push({id:m.selectedItems.id,name:m.selectedItems.equipment_name,description:m.selectedItems.equipment_description,categoryId:m.selectedItems.category_id,copyNumber:fe,serialNumber:K,type:"equipment"}),console.log("Add Copies API response:",response)}h.value=B,u.value=!0}catch(S){console.error("Error adding copies:",S),pt.emit("show-toast",{message:"Error adding copies. Please try again.",type:"error"})}finally{v.value=!1,pt.emit("show-toast",{message:"Transaction updated successfully!",type:"success"})}},R=()=>{window.print()},H=()=>{u.value=!1,E()},Q=G({copyQuantity:[],serialNumber:[]}),Y=()=>{Object.keys(Q.value).forEach(K=>{Q.value[K]=[]});let S=!1;return $.value?Number($.value)<=0&&(Q.value.copyQuantity=["Copy Quantity must be greater than 0"],S=!0):(Q.value.copyQuantity=["Copy Quantity is required"],S=!0),D.value||(Q.value.serialNumber=["Serial Number is required"],S=!0),!S};it(()=>$.value,S=>{S?Number(S)<=0?Q.value.copyQuantity=["Copy Quantity must be greater than 0"]:Q.value.copyQuantity=[]:Q.value.copyQuantity=["Copy Quantity is required"]}),it(()=>D.value,S=>{S?Q.value.copyQuantity=[]:Q.value.serialNumber=["Serial Number is required"]});const q=()=>{if(Y())y.value=!0;else return};return(S,K)=>{var ae,B;return s.modelValue?(F(),se("div",$4,[v.value?(F(),Ze(Ht,{key:0})):u.value?(F(),se("div",Y4,[he(Oa,{"qr-codes":h.value,"on-print":R,"on-close":H},null,8,["qr-codes"])])):(F(),se("div",{key:1,ref_key:"modalContainer",ref:L,class:"w-full max-w-[650px] rounded-[20px] bg-white px-8 py-8 text-center border-4 dark:bg-gray-950 dark:border-gray-100"},[K[6]||(K[6]=l("h3",{class:"text-3xl font-semibold mb-4"}," Add Copy ",-1)),l("div",R4,[l("div",D4,[K[4]||(K[4]=l("label",{class:"block text font-medium text-gray-900 dark:text-gray-200"}," Copy Quantity to be Added: ",-1)),l("p",N4,pe((ae=Q.value.copyQuantity)!=null&&ae.length?Q.value.copyQuantity[0]:""),1)]),l("div",z4,[l("div",B4,[he(de(Ca))]),Xe(l("input",{type:"number",min:"1","onUpdate:modelValue":K[0]||(K[0]=te=>$.value=te),placeholder:"Enter quantity...",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[ht,$.value]])])]),l("div",F4,[l("div",H4,[K[5]||(K[5]=l("label",{class:"block text font-medium text-gray-900 dark:text-gray-200"}," Serial Number: ",-1)),l("p",V4,pe((B=Q.value.serialNumber)!=null&&B.length?Q.value.serialNumber[0]:""),1)]),l("div",U4,[l("div",q4,[he(de(Ca))]),Xe(l("input",{type:"text",min:"1","onUpdate:modelValue":K[1]||(K[1]=te=>D.value=te),placeholder:"Enter Serial Number...",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[ht,D.value]])])]),l("div",j4,[l("div",{class:"w-1/2 px-3"},[l("button",{onClick:E,class:"block w-full rounded-md border border-stroke p-3 text-center text-base font-medium text-dark transition bg-gray-300 hover:border-red-800 hover:bg-red-800 hover:text-white dark:text-black"}," Cancel ")]),l("div",X4,[l("button",{onClick:K[2]||(K[2]=te=>q()),class:"block w-full rounded-md border bg-primary p-3 text-center text-base font-medium text-white transition bg-green-700 hover:border-green-600 hover:bg-green-600 hover:text-white dark:text-white dark:border-green-700 dark:hover:border-green-400"}," Add Copy ")])]),he(rs,{modelValue:y.value,"onUpdate:modelValue":K[3]||(K[3]=te=>y.value=te),title:"Confirm Addition",message:"You are about to add a copy to this Equipment.",messageData:`
Equipment Name: ${s.selectedItems.equipment_name}
Cop${$.value===1?"y":"ies"} to add: ${$.value}`,cancelText:"Cancel",confirmText:"Confirm Adding",onConfirm:k},null,8,["modelValue","messageData"])],512))])):we("",!0)}}},G4={class:"bg-white dark:bg-black px-6 p-4 rounded-xl"},Q4={class:"items-center"},Z4={class:"ml-2 mb-4 w-full text-xl font-semibold rounded-lg"},K4={class:"rounded-t-lg bg-gray-300 dark:bg-gray-800"},J4={class:"grid grid-cols-5 p-4 gap-4 px-6 justify-center items-center"},e3={class:"w-full col-span-3"},t3={class:"relative w-full"},s3={class:"relative inline-block text-left"},r3={class:"relative mb-2"},a3={class:"max-h-60 overflow-auto"},i3={class:"relative"},o3=["checked","onChange"],n3={class:"box mr-4 flex h-5 w-5 items-center justify-center rounded border border-stroke dark:border-dark-3"},l3={class:"overflow-x-auto"},c3={class:"w-full border-collapse text-sm text-gray-300 rounded-lg dark:bg-gray-900"},d3={class:"px-4 py-3 border-b border-gray-700"},u3={class:"px-4 py-3 border-b border-gray-700"},h3={class:"px-4 py-3 border-b border-gray-700"},f3={class:"flex flex-col md:flex-row justify-between items-start md:items-center space-y-3 md:space-y-0 p-4 bg-gray-300 dark:bg-gray-900 rounded-b-lg","aria-label":"Table navigation"},p3={class:"text-sm font-normal text-gray-500 dark:text-gray-400"},g3={class:"font-semibold text-gray-900 dark:text-white"},m3={class:"font-semibold text-gray-900 dark:text-white"},v3={class:"inline-flex items-stretch -space-x-px"},b3=["disabled"],x3=["onClick"],y3=["disabled"],w3={__name:"EquipmentCopiesTable",props:{selectedItem:Object,equipmentCopies:Object},setup(s){const o=G(!1),d=()=>{o.value=!0},u=s,h=G(""),v=G(!1),m=G(null),y=G(null),k=G(""),I=G([{id:1,type:"Available",isActive:!0},{id:2,type:"Not Available",isActive:!0}]),L=Ve(()=>{if(!k.value)return I.value;const ae=k.value.toLowerCase();return I.value.filter(B=>B.type.toLowerCase().includes(ae))}),E=()=>{v.value=!v.value},P=(ae,B)=>{B.stopPropagation();const te=I.value.find(fe=>fe.id===ae);te&&(te.isActive=!te.isActive)},$=ae=>{var B,te;v.value&&!((B=m.value)!=null&&B.contains(ae.target))&&!((te=y.value)!=null&&te.contains(ae.target))&&(v.value=!1)},D=Ve(()=>{const ae=h.value.toLowerCase(),B=I.value.filter(te=>te.isActive).map(te=>te.type);return u.equipmentCopies.filter(te=>te.item_id===u.selectedItem.id).filter(te=>{const fe=te.is_available?"Available":"Not Available";return B.includes(fe)}).filter(te=>{var Ie;const fe=((Ie=te.copy_num)==null?void 0:Ie.toString().toLowerCase())||"",Te=`${u.selectedItem.equipment_name} #${te.copy_num}`.toLowerCase(),Ae=te.is_available?"available":"not available";return fe.includes(ae)||Te.includes(ae)||Ae.includes(ae)})}),N=G(1),R=G(5),H=Ve(()=>Math.ceil(D.value.length/R.value)),Q=Ve(()=>{const ae=(N.value-1)*R.value,B=ae+R.value;return D.value.slice(ae,B)}),Y=()=>{N.value<H.value&&N.value++},q=()=>{N.value>1&&N.value--},S=ae=>{ae>=1&&ae<=H.value&&(N.value=ae)},K=Ve(()=>{const B=[];B.push(1);let te=Math.max(2,N.value-2),fe=Math.min(H.value-1,N.value+2);N.value-2>2&&B.push("...");for(let Te=te;Te<=fe;Te++)B.push(Te);return N.value+2<H.value-1&&B.push("..."),H.value>1&&B.push(H.value),B});return it(h,()=>{N.value=1}),gt(()=>{document.addEventListener("click",$)}),Nt(()=>{document.removeEventListener("click",$)}),(ae,B)=>(F(),se("div",G4,[l("div",Q4,[l("p",Z4,"Copies of "+pe(s.selectedItem.equipment_name)+": ",1)]),l("div",K4,[l("div",J4,[l("div",e3,[l("form",{class:"flex items-center",onSubmit:B[1]||(B[1]=nt(()=>{},["prevent"]))},[B[7]||(B[7]=l("label",{for:"simple-search",class:"sr-only"},"Search",-1)),l("div",t3,[B[6]||(B[6]=l("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[l("svg",{"aria-hidden":"true",class:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),Xe(l("input",{"onUpdate:modelValue":B[0]||(B[0]=te=>h.value=te),type:"text",id:"simple-search",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full pl-10 p-2 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Search equipment copies..."},null,512),[[ht,h.value]])])],32)]),l("button",{onClick:B[2]||(B[2]=nt(te=>d(),["stop"])),class:"flex items-center justify-center mx-auto px-6 py-2 rounded-lg button-default-green"},[he(de(ir),{class:"w-8 h-6"}),B[8]||(B[8]=l("p",{class:"ml-1"},"Add a Copy",-1))]),l("div",s3,[l("button",{onClick:E,ref_key:"availabilityButtonRef",ref:m,class:"flex justify-between gap-1 border items-center rounded-lg px-6 py-2 text-base font-medium border-gray-400 bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-white dark:border-gray-600"},B[9]||(B[9]=[l("span",{class:"material-icons"},"filter_alt",-1),xt(" Filter Status "),l("span",{class:"material-icons ml-1"},"arrow_drop_down",-1)]),512),Xe(l("div",{ref_key:"availabilityMenuRef",ref:y,class:"shadow-1 dark:shadow-box-dark absolute right-0 border border-gray-500 w-48 z-40 mt-2 rounded-md bg-gray-200 dark:bg-gray-900 px-4 pt-2 transition-all"},[l("div",r3,[Xe(l("input",{type:"text","onUpdate:modelValue":B[3]||(B[3]=te=>k.value=te),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg w-full p-2 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Search status..."},null,512),[[ht,k.value]])]),l("div",a3,[(F(!0),se(ft,null,yt(L.value,te=>(F(),se("label",{class:"flex items-center cursor-pointer select-none text-dark dark:text-white mb-2",key:te.id},[l("div",i3,[l("input",{type:"checkbox",class:"sr-only",checked:te.isActive,onChange:fe=>P(te.id,fe)},null,40,o3),l("div",n3,[l("span",{class:ct({"opacity-100":te.isActive,"opacity-0":!te.isActive})},B[10]||(B[10]=[l("svg",{width:"11",height:"8",viewBox:"0 0 11 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[l("path",{d:"M10.0915 0.951972L10.0867 0.946075L10.0813 0.940568C9.90076 0.753564 9.61034 0.753146 9.42927 0.939309L4.16201 6.22962L1.58507 3.63469C1.40401 3.44841 1.11351 3.44879 0.932892 3.63584C0.755703 3.81933 0.755703 4.10875 0.932892 4.29224L0.932878 4.29225L0.934851 4.29424L3.58046 6.95832C3.73676 7.11955 3.94983 7.2 4.1473 7.2C4.36196 7.2 4.55963 7.11773 4.71406 6.9584L10.0468 1.60234C10.2436 1.4199 10.2421 1.1339 10.0915 0.951972ZM4.2327 6.30081L4.2317 6.2998C4.23206 6.30015 4.23237 6.30049 4.23269 6.30082L4.2327 6.30081Z",fill:"#3056D3",stroke:"#3056D3",strokeWidth:"0.4"})],-1)]),2)])]),xt(" "+pe(te.type),1)]))),128))])],512),[[Vs,v.value]])])])]),l("div",l3,[l("table",c3,[B[11]||(B[11]=l("thead",null,[l("tr",{class:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-200 uppercase text-center text-xs rounded-lg"},[l("th",{class:"px-4 py-2 border-b border-gray-600"},"Copy ID"),l("th",{class:"px-4 py-2 border-b border-gray-600"},"Serial Number"),l("th",{class:"px-4 py-2 border-b border-gray-600"},"Availability")])],-1)),l("tbody",null,[(F(!0),se(ft,null,yt(Q.value,te=>(F(),se("tr",{key:te.id,class:"border-b font-medium border-gray-400 dark:border-gray-700 text-gray-600 dark:text-gray-300 odd:bg-gray-300 odd:dark:bg-gray-900 even:bg-gray-100 even:dark:bg-gray-800 dark:hover:bg-gray-700 dark:hover:text-white"},[l("td",d3,pe(s.selectedItem.equipment_name||s.selectedItem.supply_name)+" #"+pe(te.copy_num),1),l("td",u3,pe(te.serial_number?te.serial_number:"None"),1),l("td",h3,pe(te.is_available?"Available":"Not Available"),1)]))),128))])]),l("nav",f3,[l("span",p3,[B[12]||(B[12]=xt(" Showing ")),l("span",g3,pe((N.value-1)*R.value+1)+" - "+pe(Math.min(N.value*R.value,D.value.length)),1),B[13]||(B[13]=xt(" of ")),l("span",m3,pe(D.value.length),1)]),l("ul",v3,[l("li",null,[l("button",{onClick:q,disabled:N.value===1,class:"flex items-center justify-center h-full py-1.5 px-3 ml-0 text-gray-500 bg-white rounded-l-lg border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white disabled:opacity-50 disabled:cursor-not-allowed"},B[14]||(B[14]=[l("span",{class:"sr-only"},"Previous",-1),l("svg",{class:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]),8,b3)]),(F(!0),se(ft,null,yt(K.value,te=>(F(),se("li",{key:te},[l("button",{onClick:fe=>S(te),class:ct(["flex items-center justify-center text-sm py-2 px-3 leading-tight border",te===N.value?"text-primary-600 bg-primary-50 border-primary-300 hover:bg-primary-100 hover:text-primary-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white":"text-gray-500 bg-white border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"])},pe(te),11,x3)]))),128)),l("li",null,[l("button",{onClick:Y,disabled:N.value===H.value,class:"flex items-center justify-center h-full py-1.5 px-3 leading-tight text-gray-500 bg-white rounded-r-lg border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white disabled:opacity-50 disabled:cursor-not-allowed"},B[15]||(B[15]=[l("span",{class:"sr-only"},"Next",-1),l("svg",{class:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)]),8,y3)])])])]),o.value?(F(),Ze(W4,{key:0,modelValue:o.value,"onUpdate:modelValue":B[4]||(B[4]=te=>o.value=te),selectedItems:s.selectedItem,equipmentCopies:D.value,onClick:B[5]||(B[5]=nt(()=>{},["stop"]))},null,8,["modelValue","selectedItems","equipmentCopies"])):we("",!0)]))}},k3={key:0,class:"fixed left-0 top-0 z-20 flex h-full w-full items-center justify-center bg-black/70 px-4 py-5"},C3={class:"flex flex-col text-start"},_3={class:"grid grid-cols-2 grid-rows-1 gap-12 w-full"},S3={class:"flex flex-col mb-2"},A3={class:"mb-1 relative group cursor-pointer"},L3={for:"imageUpload",class:"cursor-pointer"},E3=["src"],P3=["src"],I3={class:"relative ml-2"},M3={class:"flex flex-row"},T3={class:"text-red-700 ml-2 font-semibold italic"},O3={class:"relative ml-2"},$3={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},R3={class:"flex flex-row mt-4 mb-2"},D3={class:"text-red-700 ml-2 font-semibold italic"},N3={class:"relative ml-2"},z3={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},B3={class:"flex flex-row"},F3={class:"text-red-700 ml-2 font-semibold italic"},H3={class:"relative ml-2"},V3={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},U3={class:"flex flex-row mt-4 mb-2"},q3={class:"text-red-700 ml-2 font-semibold italic"},j3={class:"relative"},X3={class:"absolute inset-y-0 start-2 flex items-center ps-3.5 pointer-events-none"},Y3={class:"pr-2"},W3=["value"],G3={class:"-mx-3 flex flex-wrap mt-4"},Q3={class:"w-1/2 px-3"},Z3={key:2,class:"w-full max-w-[60vw] bg-white rounded-[20px] p-8 dark:bg-gray-950 border border-4 dark:border-white"},gc={__name:"UpdateSelectedEquipment",props:{modelValue:Boolean,selectedItems:Object,categories:Object,selectedCopy:Object},emits:["update:modelValue","confirmDelete"],setup(s,{emit:o}){const d=qt(),u="http://localhost:8000",h=G(!1),v=G(!1),m=G([]),y=s;console.log("Selected Items:",y.selectedItems);const k=o,I=G(null),L=()=>{k("update:modelValue",!1)},E=Ie=>{I.value&&!I.value.contains(Ie.target)&&L()};gt(()=>{document.addEventListener("click",E)}),Nt(()=>{document.removeEventListener("click",E)});const P=G(""),$=G(""),D=G(""),N=G(""),R=G(null),H=G(null),Q=G(null),Y=G(null),q=Ie=>{const Ee=Ie.target.files[0];H.value=Ee,Ee?(Q.value=URL.createObjectURL(Ee),Y.value=Ee.name):Y.value=null};it(H,Ie=>{Ie||(Y.value=null)}),Nt(()=>{document.removeEventListener("click",E),Q.value&&URL.revokeObjectURL(Q.value)}),it(()=>y.selectedItems,Ie=>{Ie&&($.value=Ie.equipment_name,D.value=Ie.equipment_description,N.value=Ie.isc,R.value=Ie.category_id,P.value=Ie.image_path)},{immediate:!0});const S=async()=>{try{h.value=!0;const Ie={id:y.selectedItems.id,equipment_name:$.value,equipment_description:D.value,category_id:R.value,isc:N.value,image_path:H.value?H.value:P.value};d.updateOfficeEquipment(Ie),await new Promise(Ee=>setTimeout(Ee,500)),console.log("Equipment updated successfully:",Ie),m.value=y.selectedCopy.map((Ee,Ne)=>({id:y.selectedItems.id,name:$.value,description:D.value,categoryId:R.value,copyNumber:Ee.copy_num||Ne+1,serialNumber:Ee.serial_number||"",type:"equipment"})),console.log("Generated QR Codes: ",m.value)}catch(Ie){console.error("Error updating equipment:",Ie),pt.emit("show-toast",{message:"Error updating equipment. Please try again.",type:"error"})}finally{h.value=!1,pt.emit("show-toast",{message:"Equipment updated successfully!",type:"success"}),v.value=!0}},K=()=>{window.print()},ae=()=>{v.value=!1,L()},B=G(!1),te=Ie=>{Ie&&S()},fe=G({equipmentName:[],equipmentDescription:[],selectedCategory:[],selectedImage:[],ics:[]}),Te=()=>{Object.keys(fe.value).forEach(Ee=>{fe.value[Ee]=[]});let Ie=!1;return $.value||(fe.value.equipmentName=["Equipment Name is required"],Ie=!0),N.value||(fe.value.ics=["ISC/ARE is required"],Ie=!0),D.value||(fe.value.equipmentDescription=["Equipment Description is required"],Ie=!0),R.value||(fe.value.selectedCategory=["Category is required"],Ie=!0),!Ie};it(()=>$.value,Ie=>{Ie?fe.value.equipmentName=[]:fe.value.equipmentName=["Equipment name is required"]}),it(()=>N.value,Ie=>{Ie?fe.value.ics=[]:fe.value.ics=["ISC/ARE is required"]}),it(()=>D.value,Ie=>{Ie?fe.value.equipmentDescription=[]:fe.value.equipmentDescription=["Equipment description is required"]}),it(()=>R.value,Ie=>{Ie?fe.value.selectedCategory=[]:fe.value.selectedCategory=["Category is required"]});const Ae=()=>{if(Te())B.value=!0;else return};return(Ie,Ee)=>{var Ne;return s.modelValue?(F(),se("div",k3,[h.value?(F(),Ze(Ht,{key:0})):we("",!0),!v.value&&!h.value?(F(),se("div",{key:1,ref_key:"modalContainer",ref:I,class:"w-full max-w-[650px] rounded-[20px] bg-white px-8 py-8 text-center border border-4 dark:bg-gray-950 dark:border-gray-100"},[Ee[12]||(Ee[12]=l("h3",{class:"text-3xl font-semibold mb-4"}," Update Equipment ",-1)),l("div",C3,[l("div",_3,[l("div",null,[l("div",S3,[l("div",A3,[Ee[7]||(Ee[7]=l("label",{class:"block text font-medium text-gray-900 dark:text-gray-200 mb-1"},"Equipment Image:",-1)),l("input",{type:"file",onChange:q,class:"hidden",id:"imageUpload",accept:"image/*"},null,32),l("label",L3,[Q.value?(F(),se("img",{key:0,src:Q.value,class:"w-100 h-60 object-cover rounded-lg mb-2 transition-all duration-300 group-hover:opacity-75",alt:"Preview Image"},null,8,E3)):P.value&&!H.value?(F(),se("img",{key:1,src:`${de(u)}/storage/${P.value}`,class:"w-100 h-60 object-cover rounded-lg mb-2 transition-all duration-300 group-hover:opacity-75",alt:"Current Image"},null,8,P3)):we("",!0),Ee[6]||(Ee[6]=l("div",{class:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity"},[l("span",{class:"bg-black bg-opacity-50 text-white px-3 py-1 rounded-lg"},"Update Image")],-1))])]),l("div",I3,[l("input",{type:"file",onChange:q,accept:"image/*",class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-gray-800 file:text-white hover:file:bg-gray-700 dark:file:bg-gray-600 dark:file:hover:bg-gray-500 file:cursor-pointer"},null,32)])])]),l("div",null,[l("div",M3,[Ee[8]||(Ee[8]=l("label",{class:"block mb-2 text font-medium text-gray-900 dark:text-gray-200"},"Equipment Name:",-1)),l("p",T3,pe(fe.value.equipmentName?fe.value.equipmentName[0]:""),1)]),l("div",O3,[l("div",$3,[he(de(fs))]),Xe(l("input",{type:"text","onUpdate:modelValue":Ee[0]||(Ee[0]=Me=>$.value=Me),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Ex. Printer, Chair, Stairs"},null,512),[[ht,$.value]])]),l("div",R3,[Ee[9]||(Ee[9]=l("label",{class:"block text font-medium text-gray-900 dark:text-gray-200"},"Equipment Description:",-1)),l("p",D3,pe(fe.value.equipmentDescription?fe.value.equipmentDescription[0]:""),1)]),l("div",N3,[l("div",z3,[he(de(Ui))]),Xe(l("textarea",{type:"text","onUpdate:modelValue":Ee[1]||(Ee[1]=Me=>D.value=Me),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Ex. Printer, Chair, Stairs"},null,512),[[ht,D.value]])]),l("div",B3,[Ee[10]||(Ee[10]=l("label",{class:"block mb-2 text font-medium text-gray-900 dark:text-gray-200"},"ISC/ARE:",-1)),l("p",F3,pe(fe.value.ics?fe.value.ics[0]:""),1)]),l("div",H3,[l("div",V3,[he(de(fs))]),Xe(l("input",{type:"text","onUpdate:modelValue":Ee[2]||(Ee[2]=Me=>N.value=Me),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Ex. John Doe"},null,512),[[ht,N.value]])]),l("div",U3,[Ee[11]||(Ee[11]=l("label",{class:"block text font-medium text-gray-900 dark:text-gray-200"},"Equipment Category:",-1)),l("p",q3,pe(fe.value.selectedCategory?fe.value.selectedCategory[0]:""),1)]),l("div",j3,[l("div",X3,[he(de(_a))]),l("div",Y3,[Xe(l("select",{"onUpdate:modelValue":Ee[3]||(Ee[3]=Me=>R.value=Me),class:"border rounded-lg ml-2 w-full text-sm pl-9 dark:text-gray-100 h-10 dark:bg-gray-700 dark:border-gray-600 pl-4"},[(F(!0),se(ft,null,yt(y.categories,Me=>(F(),se("option",{key:Me.id,value:Me.id},pe(Me.category_name),9,W3))),128))],512),[[ka,R.value]])])])])])]),l("div",G3,[l("div",{class:"w-1/2 px-3"},[l("button",{onClick:L,class:"block w-full rounded-md border border-stroke p-3 text-center text-base font-medium text-dark transition bg-gray-300 hover:border-red-800 hover:bg-red-800 hover:text-white dark:text-black"}," Cancel ")]),l("div",Q3,[l("button",{onClick:Ee[4]||(Ee[4]=Me=>Ae()),class:"block w-full rounded-md border bg-primary p-3 text-center text-base font-medium text-white transition bg-green-700 hover:border-green-600 hover:bg-green-600 hover:text-white dark:text-white dark:border-green-700 dark:hover:border-green-400"}," Update ")])])],512)):we("",!0),v.value&&!h.value?(F(),se("div",Z3,[he(Oa,{"qr-codes":m.value,"on-print":K,"on-close":ae},null,8,["qr-codes"])])):we("",!0),he(rs,{modelValue:B.value,"onUpdate:modelValue":Ee[5]||(Ee[5]=Me=>B.value=Me),title:"Confirm Update",message:"You are about to update this equipment with the updated information:",messageData:`
Name: ${$.value}
Description: ${D.value} 
ISC/ARE: ${N.value} 
Category: ${((Ne=s.categories.find(Me=>Me.id===R.value))==null?void 0:Ne.category_name)||"Unknown"}`,cancelText:"Cancel",confirmText:"Confirm Update",onConfirm:te},null,8,["modelValue","messageData"])])):we("",!0)}}},K3={class:""},J3={ref:"tableContainerRef",class:"rounded-lg min-h-[62vh] max-h-[62vh] overflow-y-auto overflow-x-auto dark:bg-gray-950"},eS={class:"w-full text-sm md:text-md text-center text-gray-500 dark:text-gray-400"},tS={class:"sticky top-0 z-10 dark:text-gray-300 dark:bg-gray-600"},sS={class:"md:text-lg"},rS={class:""},aS={class:"px-4 py-3 md:py-4 border-b border-gray-700"},iS=["title"],oS={class:"px-4 py-3 md:py-4 border-b border-gray-700"},nS={key:0,class:"px-4 py-3 md:py-4 border-b border-gray-700"},lS={key:1,class:"px-4 py-3 md:py-4 border-b border-gray-700"},cS={class:"px-4 py-3 flex items-center justify-center relative"},dS=["onClick"],uS={class:"text-sm text-gray-700 dark:text-gray-200"},hS={class:"block hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},fS=["onClick"],pS={class:"block hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},gS=["onClick"],mS={class:"flex flex-row justify-between items-start md:items-center space-y-3 md:space-y-0 p-4","aria-label":"Table navigation"},vS={class:"text-sm font-normal text-gray-500 dark:text-gray-400"},bS={class:"font-semibold text-gray-900 dark:text-white"},xS={class:"font-semibold text-gray-900 dark:text-white"},yS={class:"inline-flex items-stretch -space-x-px"},wS=["disabled"],kS=["onClick"],CS=["disabled"],_S={__name:"FullInventoryTable",props:{filteredInventory:Array,equipmentCopies:Array,categoryList:Array},emits:["open-update-equipment-modal","open-update-supply-modal","open-select-image-modal"],setup(s,{emit:o}){const d=s,u=K=>d.equipmentCopies.filter(ae=>ae.item_id===K).length,h=Ve(()=>{const K={};return d.categoryList.forEach(ae=>{K[ae.id]=ae.category_name}),K}),v=Ve(()=>[...d.filteredInventory].sort((ae,B)=>{const te=(Ae,Ie)=>{switch(Ie){case"itemName":return Ae.equipment_name||Ae.supply_name;case"description":return Ae.equipment_description||Ae.supply_description;case"category":return h.value[Ae.category_id]||"Unknown Category";case"quantity":return Ae.type==="Office Equipment"?u(Ae.id):Ae.supply_quantity||0;default:return""}},fe=te(ae,L.value),Te=te(B,L.value);return fe<Te?E.value==="asc"?-1:1:fe>Te?E.value==="asc"?1:-1:0})),m=Ve(()=>{const K=(y.value-1)*k.value,ae=K+k.value;return v.value.slice(K,ae)}),y=G(1),k=G(9),I=Ve(()=>Math.ceil(v.value.length/k.value)),L=G("itemName"),E=G("asc"),P=K=>{y.value=1,L.value===K?E.value=E.value==="asc"?"desc":"asc":(L.value=K,E.value="asc")},$=()=>{y.value<I.value&&y.value++},D=()=>{y.value>1&&y.value--},N=K=>{K>=1&&K<=I.value&&(y.value=K)};it(()=>d.filteredInventory,()=>{y.value=1});const R=G(null),H=K=>{R.value=R.value===K?null:K};G(!1),G(!1);const Q=G(null);G(null);const Y=(K,ae)=>{Q.value=d.filteredInventory.find(B=>B.id===K&&B.type===ae),ae==="Office Equipment"?S("open-update-equipment-modal",Q.value):ae==="Office Supply"&&S("open-update-supply-modal",Q.value)},q=K=>{S("open-select-image-modal",K)},S=o;return(K,ae)=>(F(),se("div",K3,[l("div",J3,[l("table",eS,[l("thead",tS,[l("tr",sS,[l("th",{class:"py-3 px-2 cursor-pointer",onClick:ae[0]||(ae[0]=B=>P("itemName"))},[he(hs,{label:"Item Name",field:"itemName",sortBy:L.value,sortDirection:E.value},null,8,["sortBy","sortDirection"])]),l("th",{class:"py-3 px-2 cursor-pointer",onClick:ae[1]||(ae[1]=B=>P("description"))},[he(hs,{label:"Description",field:"description",sortBy:L.value,sortDirection:E.value},null,8,["sortBy","sortDirection"])]),l("th",{class:"py-3 px-2 cursor-pointer",onClick:ae[2]||(ae[2]=B=>P("category"))},[he(hs,{label:"Category",field:"category",sortBy:L.value,sortDirection:E.value},null,8,["sortBy","sortDirection"])]),l("th",{class:"py-3 px-2 cursor-pointer",onClick:ae[3]||(ae[3]=B=>P("quantity"))},[he(hs,{label:"Quantity / Copy",field:"quantity",sortBy:L.value,sortDirection:E.value},null,8,["sortBy","sortDirection"])]),ae[4]||(ae[4]=l("th",{class:"px-3 py-2 min-w-30"},"Actions",-1))])]),l("tbody",rS,[(F(!0),se(ft,null,yt(m.value,(B,te)=>(F(),se("tr",{key:te,class:"border-b font-medium text-gray-700 dark:border-gray-700 dark:text-gray-300 odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 dark:hover:bg-gray-700 dark:hover:text-white"},[l("td",aS,pe(B.equipment_name||B.supply_name),1),l("td",{class:"px-4 py-3 min-w-[100px] max-w-[150px] overflow-hidden text-ellipsis whitespace-nowrap",title:B.equipment_description||B.supply_description},pe(B.equipment_description||B.supply_description),9,iS),l("td",oS,pe(h.value[B.category_id]||"Unknown Category"),1),B.type==="Office Equipment"?(F(),se("td",nS,pe(u(B.id)),1)):we("",!0),B.type==="Office Supply"?(F(),se("td",lS,pe(B.supply_quantity||0),1)):we("",!0),l("td",cS,[l("button",{onClick:nt(fe=>H(B.newId),["stop"]),class:"inline-flex items-center p-0.5 text-sm font-medium text-gray-500 hover:text-gray-800 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100",type:"button"},[he(de(Ia),{class:"w-5 h-5"})],8,dS),R.value===B.newId?(F(),se("div",{key:0,ref_for:!0,ref:"dropdownRefs",class:"absolute z-[10] bg-white divide-gray-100 rounded-lg right-42 shadow-sm w-44 border-2 dark:border-gray-600 dark:bg-gray-800"},[l("ul",uS,[l("li",hS,[l("button",{onClick:nt(fe=>Y(B.id,B.type),["stop"]),class:"w-full text-start px-4 py-2"}," Update ",8,fS)]),l("li",pS,[l("button",{onClick:nt(fe=>q(B.newId),["stop"]),class:"w-full text-start px-4 py-2"}," View Details ",8,gS)])])],512)):we("",!0)])]))),128))])])],512),l("nav",mS,[l("span",vS,[ae[5]||(ae[5]=xt(" Showing ")),l("span",bS,pe((y.value-1)*k.value+1)+" - "+pe(Math.min(y.value*k.value,d.filteredInventory.length)),1),ae[6]||(ae[6]=xt(" of ")),l("span",xS,pe(d.filteredInventory.length),1)]),l("ul",yS,[l("li",null,[l("button",{onClick:D,disabled:y.value===1,class:"flex items-center justify-center h-full py-1.5 px-3 ml-0 text-gray-500 bg-white rounded-l-lg border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white disabled:opacity-50 disabled:cursor-not-allowed"},ae[7]||(ae[7]=[l("span",{class:"sr-only"},"Previous",-1),l("svg",{class:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]),8,wS)]),(F(!0),se(ft,null,yt(I.value,B=>(F(),se("li",{key:B},[l("button",{onClick:te=>N(B),class:ct(["flex items-center justify-center text-sm py-2 px-3 leading-tight border",B===y.value?"text-primary-600 bg-primary-50 border-primary-300 hover:bg-primary-100 hover:text-primary-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white":"text-gray-500 bg-white border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"])},pe(B),11,kS)]))),128)),l("li",null,[l("button",{onClick:$,disabled:y.value.value===I.value.value,class:"flex items-center justify-center h-full py-1.5 px-3 leading-tight text-gray-500 bg-white rounded-r-lg border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white disabled:opacity-50 disabled:cursor-not-allowed"},ae[8]||(ae[8]=[l("span",{class:"sr-only"},"Next",-1),l("svg",{class:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)]),8,CS)])])])]))}},SS=En("view",{state:()=>({tableView:JSON.parse(localStorage.getItem("tableView"))||!1}),actions:{toggleTableView(){this.tableView=!this.tableView,localStorage.setItem("tableView",JSON.stringify(this.tableView))}}}),AS={class:""},LS={class:"sticky flex justify-between top-2 z-20 backdrop-blur-sm px-6 py-4 border-2 rounded-2xl bg-gray-200/45 border-blue-500/85 dark:bg-gray-800/45 dark:border-gray-300/85"},ES={class:"justify-end relative inline-flex cursor-pointer select-none items-center"},PS=["checked"],IS={class:"mt-6 grid grid-cols-3 md:grid-cols-7 xl:grid-cols-9 items-center px-1 mb-2"},MS={class:"col-span-2 mb-2 md:mb-0 md:col-span-3 xl:col-span-5 pr-2 md:pr-3"},TS={class:"relative w-full"},OS={class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},$S={class:"relative inline-block rounded-lg text-left dark:bg-slate-700 mr-3 justify-center items-center"},RS={class:"relative"},DS=["checked","onChange"],NS={class:"box mr-4 flex h-5 w-5 items-center justify-center rounded border border-stroke dark:border-dark-3"},zS={class:"mr-2"},BS={class:"mr-2"},FS={class:"mr-2"},HS={class:"border-2 p-4 h-[73vh] md:h-[76vh] xl:h-[79vh] border-gray-300 dark:border-gray-800 dark:bg-black rounded-xl"},VS={key:0,class:"h-[70vh] md:h-[73vh] xl:h-[76vh] flex flex-col items-center justify-center"},US=["onClick"],qS=["src"],jS={class:"text-center mt-2 font-medium"},XS={key:0,class:"relative gap-4 h-[68vh] md:h-[71vh] xl:h-[74vh] overflow-y-auto [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden p-4 border rounded-lg transition duration-300 ease-in-out dark:bg-gray-900 col-span-5 md:col-span-4"},YS={class:""},WS={class:"text-2xl font-semibold mb-4"},GS={class:"grid grid-cols-3 md:grid-cols-12 xl:grid-cols-5 gap-4"},QS=["src"],ZS={class:"col-span-2 md:col-span-8 xl:col-span-4"},KS={class:"mt-4 bg-gray-100 dark:bg-gray-800 px-4 py-2 rounded-lg"},JS={class:"ml-4 text-gray-900 dark:text-gray-400"},eA={key:0,class:"grid grid-cols-2 gap-4"},tA={class:"mt-2 bg-gray-100 dark:bg-gray-800 px-4 py-2 rounded-lg"},sA={class:"text-xl text-center font-semibold text-gray-700 dark:text-gray-200"},rA={class:"mt-2 bg-gray-100 dark:bg-gray-800 px-4 py-2 rounded-lg"},aA={class:"text-xl text-center font-semibold text-gray-70 dark:text-gray-200"},iA={key:1,class:"mt-2 grid grid-cols-4 gap-4"},oA={key:2,class:"grid grid-cols-2 gap-4"},nA={class:"mt-2 bg-gray-100 dark:bg-gray-800 px-4 py-2 rounded-lg"},lA={class:"text-xl text-center font-semibold text-gray-70 dark:text-gray-200"},cA={class:"mt-2 bg-gray-100 dark:bg-gray-800 px-4 py-2 rounded-lg"},dA={class:"text-xl text-center font-semibold text-gray-70 dark:text-gray-200"},uA={key:3,class:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-2"},hA={key:0,class:""},fA={key:1,class:"mt-4 bg-gray-100 dark:bg-black rounded-xl p-4 px-6"},pA={class:"ml-2 mb-4 text-xl font-semibold rounded-lg"},gA={class:"bg-gray-300 dark:bg-gray-800 rounded-lg w-full shadow-md"},mA={key:2,class:"mt-4 bg-gray-100 dark:bg-black rounded-xl p-4 px-6"},vA={class:"ml-2 mb-4 text-xl font-semibold rounded-lg"},bA={class:"bg-gray-300 dark:bg-gray-800 rounded-lg w-full shadow-md"},xA={key:2,class:"h-[67vh] xl:h-[73vh]"},yA={__name:"Inventory",setup(s){const o="http://localhost:8000",d=G(!1),u=()=>{d.value=!0},h=G(!1),v=()=>{h.value=!0},m=G(!1),y=()=>{m.value=!0},k=G(!1),I=()=>{k.value=!0},L=G(!1),E=()=>{L.value=!0},P=qt();gt(()=>{P.fetchData()});const $={transactionItems:"transactionItems",transactionHistory:"transactionHistory",officeEquipments:"officeEquipments",officeSupplies:"officeSupplies",officeList:"officeList",users:"users",borrowers:"borrowers",equipmentCopies:"equipmentCopies",categoryList:"categoryList"},{transactionItems:D,transactionHistory:N,officeEquipments:R,officeSupplies:H,officeList:Q,users:Y,borrowers:q,equipmentCopies:S,categoryList:K}=Object.fromEntries(Object.entries($).map(([le,oe])=>[le,Ve(()=>P[oe])])),ae=G(null),B=G("");G(0);const te=G(!1),fe=G(null),Te=G(null),Ae=G([{id:1,type:"Office Equipment",isActive:!0},{id:2,type:"Office Supply",isActive:!0}]),Ie=()=>{te.value=!te.value},Ee=(le,oe)=>{oe.stopPropagation();const Ce=Ae.value.find(Le=>Le.id===le);Ce&&(Ce.isActive=!Ce.isActive)},Ne=Ve(()=>[...R.value,...H.value].map((le,oe)=>({...le,newId:`INV-${oe+1}`}))),Me=Ve(()=>{const le=Ae.value.filter(Le=>Le.isActive).map(Le=>Le.type);let oe=Ne.value.filter(Le=>le.includes(Le.type));if(!B.value)return oe;const Ce=B.value.toLowerCase();return oe.filter(Le=>{var vt,lt,Dt,jt,Ut,ss,ns;const _e=((vt=Le.equipment_name)==null?void 0:vt.toLowerCase())||"",rt=((lt=Le.equipment_description)==null?void 0:lt.toLowerCase())||"",et=((Dt=Le.serial_number)==null?void 0:Dt.toString().toLowerCase())||"",tt=((jt=Le.supply_name)==null?void 0:jt.toLowerCase())||"",Qe=((Ut=Le.supply_description)==null?void 0:Ut.toLowerCase())||"",Ct=((ss=Le.id)==null?void 0:ss.toString().toLowerCase())||"",at=((ns=Le.newId)==null?void 0:ns.toLowerCase())||"";return _e.includes(Ce)||rt.includes(Ce)||et.includes(Ce)||tt.includes(Ce)||Qe.includes(Ce)||Ct.includes(Ce)||at.includes(Ce)})});it(B,le=>{}),it(Ne,le=>{});const ze=le=>{var oe;ae.value=((oe=ae.value)==null?void 0:oe.newId)===le.newId?null:le,console.log("selected Item:",ae.value)},Je=()=>{ae.value=null},Ye=Ve(()=>ae.value?S.value.filter(le=>le.item_id===ae.value.id).length:0),st=Ve(()=>ae.value?S.value.filter(le=>le.item_id===ae.value.id):[]),xe=SS(),{tableView:ue}=Dg(xe),Re=()=>{xe.toggleTableView()},bt=Ve(()=>P.transactionItems.length===0||P.transactionHistory.length===0||P.officeEquipments.length===0||P.officeSupplies.length===0||P.officeList.length===0||P.users.length===0||P.borrowers.length===0||P.equipmentCopies.length===0||P.categoryList.length===0||P.inventoryAccesses.length===0),ot=async()=>{const le=window.open("","_blank","width=800,height=600");await new Promise(oe=>{const Ce=new Image;Ce.src=gs,Ce.onload=oe,Ce.onerror=oe}),await new Promise(oe=>{setTimeout(oe,100)}),le.document.write(`
    <html>
        <head>
            <title>Printed Items Reports</title>
            <style>
                body { font-family: Arial, sans-serif; }
                table { 
                    width: 100%; 
                    border-collapse: collapse; 
                    margin-bottom: 20px; 
                }
                th, td { 
                    border: 1px solid #ddd; 
                    padding: 8px; 
                    text-align: left; 
                }
                th { 
                    background-color: #f2f2f2; 
                    font-weight: bold; 
                }
                .print-header {
                    text-align: center;
                    margin-bottom: 20px;
                }
            </style>
        </head>
        <body>
            <div class="print-header">
                <img src="${gs}" alt="Logo" style="width: 100px; height: auto; display: block; margin: 20px auto;">
                <h1>Items Management - Printed Report</h1>
                <p>Printed on: ${new Date().toLocaleString()}</p>
            </div>
            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Item Name</th>
                        <th>Description</th>
                        <th>Category</th>
                        <th>Quantity Copy</th>
                    </tr>
                </thead>
                <tbody>
    ${Me.value.map(oe=>{var Ce;return`
    <tr>
        <td>${oe.id}</td>
        <td>${oe.equipment_name||oe.supply_name}</td>
        <td>${oe.equipment_description||oe.supply_description}</td>
        <td>${((Ce=K.value.find(Le=>Le.id===oe.category_id))==null?void 0:Ce.category_name)||"Unknown Category"}</td>
        <td>${oe.type==="Office Equipment"?S.value.filter(Le=>Le.item_id===oe.id).length:oe.supply_quantity||0}</td>
    </tr>
`}).join("")}
</tbody>
            </table>
            <div class="print-footer">
                <p>Total Items: ${Me.value.length}</p>
            </div>
        </body>
    </html>
`),le.document.close(),await new Promise(oe=>setTimeout(oe,500)),le.print(),le.onafterprint=()=>{le.close()}};it([R,H],()=>{if(!ae.value)return;const{id:le,type:oe}=ae.value;let Ce=null;oe==="Office Equipment"?Ce=R.value.find(Le=>Le.id===le):oe==="Office Supply"&&(Ce=H.value.find(Le=>Le.id===le)),Ce?ae.value={...Ce,newId:ae.value.newId}:ae.value=null},{deep:!0});const Pe=G(null),ge=G(null),je=G(!1),ke=G(!1),ie=le=>{ge.value=S.value.filter(oe=>oe.item_id===le.id),Pe.value=le,je.value=!0},ye=le=>{Pe.value=le,ke.value=!0},ne=le=>{var Ce;Re();const oe=Me.value.find(Le=>Le.newId===le);ae.value=((Ce=ae.value)==null?void 0:Ce.newId)===oe.newId?null:oe};return(le,oe)=>{var Ce,Le;return F(),se("div",AS,[l("div",LS,[oe[21]||(oe[21]=l("h1",{class:"text-3xl ml-10 xl:ml-0 font-bold tracking-tight text-gray-950 dark:text-gray-100"}," Inventory ",-1)),l("label",ES,[l("input",{type:"checkbox",class:"sr-only",onClick:Re,checked:de(ue)},null,8,PS),l("label",{class:ct(["text-lg mr-2 font-bold",{"text-blue-600":!de(ue),"text-gray-500 dark:text-gray-500":de(ue)}])},"Grid",2),l("span",{class:ct(["slider flex h-12 w-[75px] p-1 items-center rounded-full bg-gray-700 duration-200 relative overflow-hidden",{"bg-blue-400":de(ue)}])},[l("div",{class:ct(["transition-transform duration-300",{"translate-x-[30px] translate-y-[-13px] opacity-100 text-blue-600":de(ue),"z-10 translate-x-[6px] translate-y-[-13px] opacity-100 text-blue-600":!de(ue)}])},[he(de(og),{class:"absolute w-7 h-7"})],2),l("span",{class:ct(["dot h-10 w-10 rounded-full bg-white duration-200 transform flex items-center justify-center",{"translate-x-[28px]":de(ue),"translate-x-0":!de(ue)}])},[l("div",{class:ct(["transition-transform duration-400",{"opacity-100 text-blue-600":de(ue),"translate-x-[-7px] opacity-0 text-blue-600":!de(ue)}])},[he(de(sg),{class:"w-7 h-7"})],2)],2)],2),l("label",{class:ct(["text-lg ml-2 font-bold",{"text-blue-600":de(ue),"text-gray-500 dark:text-gray-500":!de(ue)}])},"Table",2)])]),l("div",IS,[l("div",MS,[l("form",{class:"flex items-center",onSubmit:oe[1]||(oe[1]=nt(()=>{},["prevent"]))},[oe[22]||(oe[22]=l("label",{for:"simple-search",class:"sr-only"},"Search",-1)),l("div",TS,[l("div",OS,[he(de(lg),{class:"w-5 h-5 text-gray-300"})]),Xe(l("input",{"onUpdate:modelValue":oe[0]||(oe[0]=_e=>B.value=_e),type:"text",id:"simple-search",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full pl-10 p-2 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Search inventory..."},null,512),[[ht,B.value]])])],32)]),l("div",$S,[l("button",{onClick:Ie,ref_key:"filterButtonRef",ref:fe,class:"flex items-center justify-center w-full p-2 bg-dark dark:bg-dark-2 dark:text-gray-200"},oe[23]||(oe[23]=[l("span",{class:"material-icons pr-2"},"filter_alt",-1),xt(" Filter "),l("span",{class:"material-icons pl-4"},"arrow_drop_down",-1)]),512),Xe(l("div",{ref_key:"filterMenuRef",ref:Te,class:ct(["shadow-1 dark:shadow-box-dark absolute border border-gray-500 w-3xs right-0 z-40 mt-2 rounded-md bg-gray-200 dark:bg-gray-900 px-4 pt-2 transition-all",{"top-full visible":te.value,"top-[110%] invisible":!te.value}])},[(F(!0),se(ft,null,yt(Ae.value,_e=>(F(),se("label",{class:"flex items-center cursor-pointer select-none text-dark dark:text-white mb-2",key:_e.id},[l("div",RS,[l("input",{type:"checkbox",class:"sr-only",checked:_e.isActive,onChange:rt=>Ee(_e.id,rt)},null,40,DS),l("div",NS,[l("span",{class:ct({"opacity-100":_e.isActive,"opacity-0":!_e.isActive})},oe[24]||(oe[24]=[l("svg",{width:"11",height:"8",viewBox:"0 0 11 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[l("path",{d:"M10.0915 0.951972L10.0867 0.946075L10.0813 0.940568C9.90076 0.753564 9.61034 0.753146 9.42927 0.939309L4.16201 6.22962L1.58507 3.63469C1.40401 3.44841 1.11351 3.44879 0.932892 3.63584C0.755703 3.81933 0.755703 4.10875 0.932892 4.29224L0.932878 4.29225L0.934851 4.29424L3.58046 6.95832C3.73676 7.11955 3.94983 7.2 4.1473 7.2C4.36196 7.2 4.55963 7.11773 4.71406 6.9584L10.0468 1.60234C10.2436 1.4199 10.2421 1.1339 10.0915 0.951972ZM4.2327 6.30081L4.2317 6.2998C4.23206 6.30015 4.23237 6.30049 4.23269 6.30082L4.2327 6.30081Z",fill:"#3056D3",stroke:"#3056D3",strokeWidth:"0.4"})],-1)]),2)])]),xt(" "+pe(_e.type),1)]))),128))],2),[[Vs,te.value]])]),l("div",zS,[l("button",{onClick:oe[2]||(oe[2]=nt(_e=>u(),["stop"])),class:"flex items-center justify-center border w-full px-2 py-1 rounded-lg button-default-green"},[he(de(ir),{class:"w-8 h-8"}),oe[25]||(oe[25]=l("p",{class:"ml-1"},"Add Item",-1))])]),l("div",BS,[l("button",{onClick:oe[3]||(oe[3]=nt(_e=>v(),["stop"])),class:"flex items-center justify-center border w-full px-2 py-1 rounded-lg button-default-green"},[he(de(Td),{class:"w-8 h-8"}),oe[26]||(oe[26]=l("p",{class:"ml-1"},"Generate QR",-1))])]),l("div",FS,[l("button",{onClick:ot,class:"flex items-center justify-center border w-full px-2 py-1 rounded-lg button-default-green"},[he(de(Pa),{class:"w-8 h-8"}),oe[27]||(oe[27]=l("p",{class:"ml-1 text-sm"},"Print Items",-1))])])]),l("div",HS,[bt.value?(F(),se("div",VS,[he(Ht),oe[28]||(oe[28]=l("p",{class:"text-gray-500 dark:text-gray-400"},"Fetching data...",-1))])):we("",!0),!bt.value&&!de(ue)?(F(),se("div",{key:1,class:ct(["",ae.value?"grid grid-cols-5 gap-4":"grid grid-cols-1"])},[l("div",{class:ct(["grid gap-4 h-[68vh] md:h-[71vh] xl:h-[74vh] overflow-auto [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden col-span-1",ae.value?"hidden md:grid md:grid-cols-1 xl:grid-cols-2":"grid grid-cols-3 md:grid-cols-4 xl:grid-cols-5"])},[(F(!0),se(ft,null,yt(Me.value,_e=>(F(),se("div",{key:_e.newId,onClick:rt=>ze(_e),class:ct(["item-layout",ae.value&&ae.value.newId===_e.newId?"item-selected":" item-not-selected"])},[l("img",{src:_e.image_path?`${de(o)}/storage/${_e.image_path}`:de(gs),class:"w-full h-32 object-cover rounded-lg"},null,8,qS),l("p",jS,pe(_e.equipment_name||_e.supply_name),1)],10,US))),128))],2),ae.value?(F(),se("div",XS,[l("button",{onClick:Je,class:"absolute top-2 right-2 bg-gray-200 text-gray-700 px-1 py-1 rounded-full hover:bg-gray-300 transition"},[he(de(ra),{class:"w-8 h-8"})]),l("div",YS,[l("h2",WS,pe(ae.value.equipment_name||ae.value.supply_name),1),l("div",GS,[l("img",{src:ae.value.image_path?`${de(o)}/storage/${ae.value.image_path}`:de(gs),class:"w-full h-[90%] object-cover rounded-lg md:col-span-4 xl:col-span-1"},null,8,QS),l("div",ZS,[l("div",KS,[oe[29]||(oe[29]=l("p",{class:"text-xl font-semibold"},"Description:",-1)),l("p",JS,pe(ae.value.equipment_description||ae.value.supply_description),1)]),ae.value.type==="Office Supply"?(F(),se("div",eA,[l("div",tA,[oe[30]||(oe[30]=l("p",{class:"text-center text-gray-900 dark:text-gray-400"},"Category",-1)),l("p",sA,pe(((Ce=de(K).find(_e=>Number(_e.id)===Number(ae.value.category_id)))==null?void 0:Ce.category_name)||"Unknown Category"),1)]),l("div",rA,[oe[31]||(oe[31]=l("p",{class:"text-center text-gray-900 dark:text-gray-400"},"Available Quantity",-1)),l("p",aA,pe(ae.value.supply_quantity),1)])])):we("",!0),ae.value.type==="Office Supply"?(F(),se("div",iA,[l("button",{onClick:oe[4]||(oe[4]=nt(_e=>I(),["stop"])),class:"flex col-span-2 text-center items-center justify-center mx-auto w-full px-8 py-1 rounded-lg button-default-green"},[he(de(ir),{class:"w-8 h-6"}),oe[32]||(oe[32]=l("p",{class:"ml-1"},"Update Supply",-1))]),l("button",{onClick:oe[5]||(oe[5]=nt(_e=>E(),["stop"])),class:"flex col-span-2 text-center items-center justify-center mx-auto w-full px-8 py-1 rounded-lg button-default-green"},[he(de(ir),{class:"w-8 h-6"}),oe[33]||(oe[33]=l("p",{class:"ml-1"},"Increase Quantity",-1))])])):we("",!0),ae.value.type==="Office Equipment"?(F(),se("div",oA,[l("div",nA,[oe[34]||(oe[34]=l("p",{class:"text-center text-gray-900 dark:text-gray-400"},"Category",-1)),l("p",lA,pe(((Le=de(K).find(_e=>Number(_e.id)===Number(ae.value.category_id)))==null?void 0:Le.category_name)||"Unknown Category"),1)]),l("div",cA,[oe[35]||(oe[35]=l("p",{class:"text-center text-gray-900 dark:text-gray-400"},"Total Copies",-1)),l("p",dA,pe(Ye.value),1)])])):we("",!0),ae.value.type==="Office Equipment"?(F(),se("div",uA,[oe[37]||(oe[37]=l("div",{class:"rounded-lg hidden md:block"},null,-1)),l("button",{onClick:oe[6]||(oe[6]=nt(_e=>y(),["stop"])),class:"flex col-span-2 mb-4 text-center items-center justify-center mx-auto w-full px-8 py-1 rounded-lg button-default-green"},[he(de(ir),{class:"w-8 h-6"}),oe[36]||(oe[36]=l("p",{class:"ml-1"},"Update Equipment",-1))])])):we("",!0)])]),ae.value.type==="Office Equipment"?(F(),se("div",hA,[he(w3,{selectedItem:ae.value,equipmentCopies:de(S)},null,8,["selectedItem","equipmentCopies"])])):we("",!0),ae.value.type==="Office Supply"?(F(),se("div",fA,[l("p",pA,"Transaction History for "+pe(ae.value.supply_name)+": ",1),l("div",gA,[he(o4,{selectedItem:ae.value,transactionItems:de(D),transactionHistory:de(N),users:de(Y),officeList:de(Q),borrowers:de(q)},null,8,["selectedItem","transactionItems","transactionHistory","users","officeList","borrowers"])])])):we("",!0),ae.value.type==="Office Equipment"?(F(),se("div",mA,[l("p",vA,"Transaction History for "+pe(ae.value.equipment_name)+": ",1),l("div",bA,[he(O4,{selectedItem:ae.value,transactionItems:de(D),transactionHistory:de(N),users:de(Y),officeList:de(Q),borrowers:de(q)},null,8,["selectedItem","transactionItems","transactionHistory","users","officeList","borrowers"])])])):we("",!0)])])):we("",!0)],2)):we("",!0),!bt.value&&de(ue)?(F(),se("div",xA,[he(_S,{filteredInventory:Me.value,equipmentCopies:de(S),categoryList:de(K),onOpenUpdateEquipmentModal:ie,onOpenUpdateSupplyModal:ye,onOpenSelectImageModal:ne},null,8,["filteredInventory","equipmentCopies","categoryList"])])):we("",!0)]),d.value?(F(),Ze(Su,{key:0,modelValue:d.value,"onUpdate:modelValue":oe[7]||(oe[7]=_e=>d.value=_e),categories:de(K),onClick:oe[8]||(oe[8]=nt(()=>{},["stop"]))},null,8,["modelValue","categories"])):we("",!0),k.value?(F(),Ze(pc,{key:1,modelValue:k.value,"onUpdate:modelValue":oe[9]||(oe[9]=_e=>k.value=_e),selectedItems:ae.value,categories:de(K),onClick:oe[10]||(oe[10]=nt(()=>{},["stop"]))},null,8,["modelValue","selectedItems","categories"])):we("",!0),m.value?(F(),Ze(gc,{key:2,modelValue:m.value,"onUpdate:modelValue":oe[11]||(oe[11]=_e=>m.value=_e),selectedItems:ae.value,categories:de(K),selectedCopy:st.value,onClick:oe[12]||(oe[12]=nt(()=>{},["stop"]))},null,8,["modelValue","selectedItems","categories","selectedCopy"])):we("",!0),L.value?(F(),Ze(Lu,{key:3,modelValue:L.value,"onUpdate:modelValue":oe[13]||(oe[13]=_e=>L.value=_e),selectedItems:ae.value,onClick:oe[14]||(oe[14]=nt(()=>{},["stop"]))},null,8,["modelValue","selectedItems"])):we("",!0),h.value?(F(),Ze(Au,{key:4,modelValue:h.value,"onUpdate:modelValue":oe[15]||(oe[15]=_e=>h.value=_e),onClick:oe[16]||(oe[16]=nt(()=>{},["stop"]))},null,8,["modelValue"])):we("",!0),ke.value?(F(),Ze(pc,{key:5,modelValue:ke.value,"onUpdate:modelValue":oe[17]||(oe[17]=_e=>ke.value=_e),selectedItems:Pe.value,categories:de(K),onClick:oe[18]||(oe[18]=nt(()=>{},["stop"]))},null,8,["modelValue","selectedItems","categories"])):we("",!0),je.value?(F(),Ze(gc,{key:6,modelValue:je.value,"onUpdate:modelValue":oe[19]||(oe[19]=_e=>je.value=_e),selectedItems:Pe.value,categories:de(K),selectedCopy:ge.value,onClick:oe[20]||(oe[20]=nt(()=>{},["stop"]))},null,8,["modelValue","selectedItems","categories","selectedCopy"])):we("",!0)])}}},wA=oa(yA,[["__scopeId","data-v-4befe919"]]),kA={key:0,class:"fixed left-0 top-0 flex h-full w-full items-center justify-center bg-black/55 px-4 py-5 z-50"},CA={class:"px-5 text-start max-h-[69vh] overflow-y-auto"},_A={class:"flex flex-row"},SA={class:"text-red-700 ml-2 font-semibold italic"},AA={class:"relative ml-2 mb-2"},LA={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},EA={class:"-mx-3 flex flex-wrap mt-4"},PA={class:"w-1/2 px-3"},Eu={__name:"AddOfficeModal",props:{modelValue:Boolean},emits:["update:modelValue","confirmDelete"],setup(s,{emit:o}){const d=qt(),u=G(!1),h=G(!1),v=N=>{N&&E()},m=o,y=G(null),k=()=>{m("update:modelValue",!1)},I=N=>{y.value&&!y.value.contains(N.target)&&k()};gt(()=>{document.addEventListener("click",I)}),Nt(()=>{document.removeEventListener("click",I)});const L=G(""),E=async()=>{var N;try{u.value=!0;const R={id:d.officeList.length+1,office_name:L.value,is_deleted:0,deleted_by:null};console.log("Add copy data sent: ",R),d.addOffice(R),await new Promise(H=>setTimeout(H,500))}catch(R){console.error("Error adding office:",R),console.error("Error details:",(N=R.response)==null?void 0:N.data),pt.emit("show-toast",{message:"Error adding office. Please try again.",type:"error"})}finally{u.value=!1,pt.emit("show-toast",{message:"Office added successfully!",type:"success"}),k()}},P=G({officeName:[]}),$=()=>{Object.keys(P.value).forEach(R=>{P.value[R]=[]});let N=!1;return L.value||(P.value.officeName=["Office name is required"],N=!0),!N};it(()=>L.value,N=>{N?P.value.officeName=[]:P.value.officeName=["Office name is required"]});const D=()=>{if($())h.value=!0;else return};return(N,R)=>s.modelValue?(F(),se("div",kA,[u.value?(F(),Ze(Ht,{key:0})):(F(),se("div",{key:1,ref_key:"modalContainer",ref:y,class:"w-full max-w-[650px] max-h-[90vh] rounded-[20px] bg-white px-8 py-8 text-center border-4 dark:bg-gray-950 dark:border-gray-100"},[R[4]||(R[4]=l("h3",{class:"text-3xl font-semibold mb-4"}," Add Office ",-1)),l("div",CA,[l("div",_A,[R[3]||(R[3]=l("label",{class:"block mb-2 text font-medium text-gray-900 dark:text-gray-200"},"Office Name:",-1)),l("p",SA,pe(P.value.officeName?P.value.officeName[0]:""),1)]),l("div",AA,[l("div",LA,[he(de(fs))]),Xe(l("input",{type:"text","onUpdate:modelValue":R[0]||(R[0]=H=>L.value=H),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Ex. SC3 Office"},null,512),[[ht,L.value]])])]),l("div",EA,[l("div",{class:"w-1/2 px-3"},[l("button",{onClick:k,class:"block w-full rounded-md border border-stroke p-3 text-center text-base font-medium text-dark transition bg-gray-300 hover:border-red-800 hover:bg-red-800 hover:text-white dark:text-black"}," Cancel ")]),l("div",PA,[l("button",{onClick:R[1]||(R[1]=H=>D()),class:"block w-full rounded-md border bg-primary p-3 text-center text-base font-medium text-white transition bg-green-700 hover:border-green-600 hover:bg-green-600 hover:text-white dark:text-white dark:border-green-700 dark:hover:border-green-400"}," Add Office ")])]),he(rs,{modelValue:h.value,"onUpdate:modelValue":R[2]||(R[2]=H=>h.value=H),title:"Confirm Addition",message:"You are about to add this office.",messageData:`
Office Name: ${L.value}`,cancelText:"Cancel",confirmText:"Confirm Adding",onConfirm:v},null,8,["modelValue","messageData"])],512))])):we("",!0)}},IA={key:0,class:"fixed left-0 top-0 flex h-full w-full items-center justify-center bg-black/55 px-4 py-5 z-50"},MA={class:"w-full px-5 mb-4"},TA={class:"flex items-center"},OA={class:"relative w-full"},$A={key:0,class:"flex items-center justify-center lg:px-5 text-start max-h-[69vh] w-full overflow-y-auto"},RA={class:"border w-fit min-w-full max-w-[600px] lg:max-w-full overflow-y-auto lg:mx-10 my-1 pb-1 rounded-lg dark:border-gray-700"},DA={class:"w-full"},NA={class:"text-center dark:bg-gray-800"},zA={class:"pl-3 pt-2 py-1"},BA={class:"flex items-center cursor-pointer select-none text-dark dark:text-white"},FA={class:"relative"},HA={class:"w-full"},VA={class:"w-full text-center items-center justify-center border-t"},UA={class:"pl-3 pt-1 w-10"},qA={class:"flex items-center cursor-pointer select-none text-dark dark:text-white"},jA={class:"relative"},XA=["onChange"],YA={class:"text-center"},WA={class:"text-center"},GA={key:1,class:"px-5 text-start max-h-[69vh] overflow-y-auto"},QA={class:"-mx-3 flex flex-wrap mt-4"},ZA={class:"w-1/2 px-3"},KA={class:"w-1/2 px-3"},Pu={__name:"RecoverOfficeModal",props:{modelValue:Boolean},emits:["update:modelValue","confirmDelete"],setup(s,{emit:o}){const d=qt(),u=G(!1),h=o,v=()=>{const q=E.value.filter(S=>S.is_selected);console.log("Selected Offices:",q),q.length>0?m.value=!0:console.log("Please select at least one office to recover.")},m=G(!1),y=G(null),k=()=>{h("update:modelValue",!1)},I=q=>{y.value&&!y.value.contains(q.target)&&k()};gt(()=>{document.addEventListener("click",I)}),Nt(()=>{document.removeEventListener("click",I)});const L=G([]),E=G([]);gt(()=>{d.fetchData(),L.value=d.officeList.filter(q=>q.is_deleted===1),E.value=L.value.map(q=>({...q,is_selected:!1})),console.log("Filtered Deleted Offices:",E.value)});const P=async()=>{try{u.value=!0;const q=E.value.filter(S=>S.is_selected);if(q.length===0){pt.emit("show-toast",{message:"Please select borrower to recover.",type:"error"});return}for(const S of q){const K={office_name:S.office_name,is_deleted:0,deleted_by:null};console.log("Update user data sent: ",K),d.restoreOffice(S.id,K),await new Promise(ae=>setTimeout(ae,500))}}catch(q){console.error("Error updating offices:",q),pt.emit("show-toast",{message:"Error recovering offices. Please try again.",type:"error"})}finally{pt.emit("show-toast",{message:"Selected offices recovered successfully!",type:"success"}),k()}},$=q=>{E.value=E.value.map(K=>({...K,is_selected:K.id===q?!K.is_selected:K.is_selected}));const S=E.value.every(K=>K.is_selected);D.value=S},D=G(!1),N=()=>{D.value?(D.value=!1,E.value=E.value.map(q=>({...q,is_selected:!1}))):(D.value=!0,E.value=E.value.map(q=>({...q,is_selected:!0})))},R=G(""),H=Ve(()=>d.officeList.filter(q=>q.is_deleted===1&&q.office_name.toLowerCase().includes(R.value.toLowerCase())));it(H,q=>{E.value=q.map(S=>({...S,is_selected:!1}))});const Q=q=>{P(),m.value=!1},Y=q=>q?new Date(q).toLocaleDateString():"N/A";return(q,S)=>s.modelValue?(F(),se("div",IA,[u.value?(F(),Ze(Ht,{key:0})):(F(),se("div",{key:1,ref_key:"modalContainer",ref:y,class:"w-full max-w-[90vw] max-h-[90vh] rounded-[20px] bg-white px-8 py-8 text-center border-4 dark:bg-gray-950 dark:border-gray-100"},[S[11]||(S[11]=l("h3",{class:"text-3xl font-semibold mb-4"}," Recover Offices ",-1)),l("div",MA,[l("form",TA,[S[7]||(S[7]=l("label",{for:"simple-search",class:"sr-only"},"Search",-1)),l("div",OA,[S[6]||(S[6]=l("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[l("svg",{"aria-hidden":"true",class:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),Xe(l("input",{"onUpdate:modelValue":S[0]||(S[0]=K=>R.value=K),type:"text",id:"simple-search",class:"bg-gray-50 border border-gray-500 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full pl-10 p-2 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Search offices..."},null,512),[[ht,R.value]])])])]),E.value.length>0?(F(),se("div",$A,[l("div",RA,[l("table",DA,[l("thead",null,[l("tr",NA,[l("th",zA,[l("label",BA,[l("div",FA,[l("input",{type:"checkbox",class:"sr-only",onChange:S[1]||(S[1]=K=>N())},null,32),D.value?(F(),Ze(de(rr),{key:0,class:"w-7 h-7"})):(F(),Ze(de(sr),{key:1,class:"w-7 h-7"}))])])]),S[8]||(S[8]=l("th",null,"Office Name",-1)),S[9]||(S[9]=l("th",null,"Date Deleted",-1))])]),l("tbody",HA,[(F(!0),se(ft,null,yt(E.value,K=>(F(),se("tr",VA,[l("td",UA,[l("label",qA,[l("div",jA,[l("input",{type:"checkbox",class:"sr-only",onChange:ae=>$(K.id)},null,40,XA),K.is_selected?(F(),Ze(de(rr),{key:0,class:"w-7 h-7"})):(F(),Ze(de(sr),{key:1,class:"w-7 h-7"}))])])]),l("td",YA,pe(K.office_name),1),l("td",WA,pe(Y(K.updated_at)),1)]))),256))])])])])):(F(),se("div",GA,S[10]||(S[10]=[l("p",{class:"text-gray-500 dark:text-gray-400"},"No available offices to recover.",-1)]))),l("div",QA,[l("div",ZA,[l("button",{onClick:S[2]||(S[2]=K=>k()),class:"block w-full rounded-md border border-stroke p-3 text-center text-base font-medium text-dark transition bg-gray-300 hover:border-red-800 hover:bg-red-800 hover:text-white dark:text-black"}," Cancel ")]),l("div",KA,[l("button",{onClick:S[3]||(S[3]=K=>v()),class:"block w-full rounded-md border bg-primary p-3 text-center text-base font-medium text-white transition bg-green-700 hover:border-green-600 hover:bg-green-600 hover:text-white dark:text-white dark:border-green-700 dark:hover:border-green-400"}," Recover Selected Offices ")])]),he(rs,{modelValue:m.value,"onUpdate:modelValue":S[4]||(S[4]=K=>m.value=K),title:"Confirm Recovery",message:"",messageData:`
Are you sure you want to recover the selected offices?`,confirmText:"Confirm Recovery",onConfirm:S[5]||(S[5]=K=>Q())},null,8,["modelValue"])],512))])):we("",!0)}},JA={key:0,class:"fixed left-0 top-0 flex h-full w-full items-center justify-center bg-black/55 px-4 py-5 z-50"},e6={class:"px-5 text-start max-h-[69vh] overflow-y-auto"},t6={class:"flex flex-row"},s6={class:"text-red-700 ml-2 font-semibold italic"},r6={class:"relative ml-2 mb-2"},a6={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},i6={class:"-mx-3 flex flex-wrap mt-4"},o6={class:"w-1/2 px-3"},n6={__name:"UpdateOfficeModal",props:{modelValue:Boolean,office:Object},emits:["update:modelValue","confirmDelete"],setup(s,{emit:o}){const d=qt(),u=G(!1),h=G(""),v=s,m=G(!1),y=R=>{R&&P()},k=o,I=G(null),L=()=>{k("update:modelValue",!1)},E=R=>{I.value&&!I.value.contains(R.target)&&L()};gt(()=>{document.addEventListener("click",E)}),Nt(()=>{document.removeEventListener("click",E)}),it(()=>v.office,R=>{R&&(h.value=R.office_name)},{immediate:!0});const P=async()=>{var R;try{u.value=!0;const H={id:v.office.id,office_name:h.value};console.log("Add copy data sent: ",H),d.updateOffice(H),await new Promise(Q=>setTimeout(Q,500))}catch(H){console.error("Error updating office:",H),console.error("Error details:",(R=H.response)==null?void 0:R.data),pt.emit("show-toast",{message:"Error updating office. Please try again.",type:"error"})}finally{u.value=!1,pt.emit("show-toast",{message:"Copy updated successfully!",type:"success"}),L()}},$=G({officeName:[]}),D=()=>{Object.keys($.value).forEach(H=>{$.value[H]=[]});let R=!1;return h.value||($.value.officeName=["Office name is required"],R=!0),!R};it(()=>h.value,R=>{R?$.value.officeName=[]:$.value.officeName=["Office name is required"]});const N=()=>{if(D())m.value=!0;else return};return(R,H)=>s.modelValue?(F(),se("div",JA,[u.value?(F(),Ze(Ht,{key:0})):(F(),se("div",{key:1,ref_key:"modalContainer",ref:I,class:"w-full max-w-[650px] max-h-[90vh] rounded-[20px] bg-white px-8 py-8 text-center border-4 dark:bg-gray-950 dark:border-gray-100"},[H[4]||(H[4]=l("h3",{class:"text-3xl font-semibold mb-4"}," Update Office ",-1)),l("div",e6,[l("div",t6,[H[3]||(H[3]=l("label",{class:"block mb-2 text font-medium text-gray-900 dark:text-gray-200"},"Office Name:",-1)),l("p",s6,pe($.value.officeName?$.value.officeName[0]:""),1)]),l("div",r6,[l("div",a6,[he(de(fs))]),Xe(l("input",{type:"text","onUpdate:modelValue":H[0]||(H[0]=Q=>h.value=Q),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Ex. Printer, Chair, Stairs"},null,512),[[ht,h.value]])])]),l("div",i6,[l("div",{class:"w-1/2 px-3"},[l("button",{onClick:L,class:"block w-full rounded-md border border-stroke p-3 text-center text-base font-medium text-dark transition bg-gray-300 hover:border-red-800 hover:bg-red-800 hover:text-white dark:text-black"}," Cancel ")]),l("div",o6,[l("button",{onClick:H[1]||(H[1]=Q=>N()),class:"block w-full rounded-md border bg-primary p-3 text-center text-base font-medium text-white transition bg-green-700 hover:border-green-600 hover:bg-green-600 hover:text-white dark:text-white dark:border-green-700 dark:hover:border-green-400"}," Update ")])]),he(rs,{modelValue:m.value,"onUpdate:modelValue":H[2]||(H[2]=Q=>m.value=Q),title:"Confirm Update",message:"You are about to update this office.",messageData:`Office Name: ${h.value}`,cancelText:"Cancel",confirmText:"Confirm Update",onConfirm:y},null,8,["modelValue","messageData"])],512))])):we("",!0)}},l6={key:0,class:"h-[72vh] flex flex-col items-center justify-center"},c6={key:1,class:"h-[72vh] flex flex-col items-center justify-center bg-black/60"},d6={key:2,class:"overflow-x-auto"},u6={class:"grid grid-cols-3 md:grid-cols-7 gap-2 md:flex-row items-center justify-between md:space-y-0 md:space-x-4 p-4"},h6={class:"col-span-3 md:col-span-4 h-full"},f6={class:"flex items-center h-full"},p6={class:"relative w-full h-full"},g6={class:"rounded-lg min-h-[59vh] max-h-[60vh] md:max-h-[65vh] xl:max-h-[68vh] 2xl:xl:max-h-[70vh] overflow-auto [scrollbar-width:thin] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden bg-gray-200 dark:bg-gray-900"},m6={class:"w-full text-sm text-center text-gray-500 dark:text-gray-400"},v6={class:"sticky top-0 z-10"},b6={class:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-200 uppercase text-center text-xs rounded-lg"},x6={key:0,class:"border-b border-gray-400 dark:border-gray-700"},y6={class:"px-4 py-3"},w6={class:"px-4 py-3"},k6={class:"px-4 py-3"},C6=["onClick"],_6={class:"flex items-center gap-2"},S6={class:"px-4 py-3 flex items-center justify-center relative"},A6=["onClick"],L6={class:"text-sm text-gray-700 dark:text-gray-200"},E6={class:"block hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},P6={class:"block hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},I6={key:0,class:"flex flex-col md:flex-row justify-between items-start md:items-center space-y-3 md:space-y-0 p-4","aria-label":"Table navigation"},M6={class:"text-sm font-normal text-gray-500 dark:text-gray-400"},T6={class:"font-semibold text-gray-900 dark:text-white"},O6={class:"font-semibold text-gray-900 dark:text-white"},$6={class:"inline-flex items-stretch -space-x-px"},R6=["disabled"],D6=["onClick"],N6=["disabled"],z6={__name:"OfficeTable",emits:["open-add-office-modal","open-recover-office-modal"],setup(s,{emit:o}){const d=js(),u=Ve(()=>d.user),h=Ur(),v=G(!1),m=G(!1),y=o,k=()=>{y("open-add-office-modal")},I=()=>{y("open-recover-office-modal")},L=qt();gt(()=>{L.fetchData()});const E=G(""),P=Ve(()=>L.officeList.filter(xe=>(xe.office_name.toLowerCase().includes(E.value.toLowerCase())||xe.id.toString().includes(E.value.toLowerCase()))&&!xe.is_deleted));it(E,()=>{$.value=1});const $=G(1),D=G(8),N=Ve(()=>Math.ceil(P.value.length/D.value)),R=Ve(()=>[...P.value].sort((ue,Re)=>{const bt=(ge,je)=>{var ke;switch(je){case"id":return ge.id;case"office_name":return((ke=ge.office_name)==null?void 0:ke.toLowerCase())||"";default:return""}},ot=bt(ue,Ie.value),Pe=bt(Re,Ie.value);return ot<Pe?Ee.value==="asc"?-1:1:ot>Pe?Ee.value==="asc"?1:-1:0})),H=Ve(()=>{const xe=($.value-1)*D.value,ue=xe+D.value;return R.value.slice(xe,ue)}),Q=()=>{$.value<N.value&&$.value++},Y=()=>{$.value>1&&$.value--},q=xe=>{xe>=1&&xe<=N.value&&($.value=xe)},S=Ve(()=>{const ue=[];ue.push(1);let Re=Math.max(2,$.value-2),bt=Math.min(N.value-1,$.value+2);$.value-2>2&&ue.push("...");for(let ot=Re;ot<=bt;ot++)ue.push(ot);return $.value+2<N.value-1&&ue.push("..."),N.value>1&&ue.push(N.value),ue}),K=G(null),ae=xe=>{K.value=K.value===xe?null:xe},B=G(!1),te=()=>{B.value=!0},fe=G(!1),Te=G(!1),Ae=async(xe,ue)=>{{Te.value=!0;try{L.deleteOffice(ue,u.value.id),await new Promise(Re=>setTimeout(Re,500))}catch(Re){console.error("Error deleting office:",Re),pt.emit("show-toast",{message:"Error deleting office. Please try again.",type:"error"}),Te.value=!1}finally{pt.emit("show-toast",{message:"Office deleted successfully!",type:"success"}),fe.value=!1,Te.value=!1}}},Ie=G("id"),Ee=G("asc"),Ne=xe=>{$.value=1,Ie.value===xe?Ee.value=Ee.value==="asc"?"desc":"asc":(Ie.value=xe,Ee.value="asc")},Me=Ve(()=>L.transactionItems.length===0||L.transactionHistory.length===0||L.officeEquipments.length===0||L.officeSupplies.length===0||L.officeList.length===0||L.users.length===0||L.borrowers.length===0||L.equipmentCopies.length===0||L.categoryList.length===0),ze=async()=>{const xe=window.open("","_blank","width=800,height=600");await new Promise(ue=>{const Re=new Image;Re.src=gs,Re.onload=ue,Re.onerror=ue}),await new Promise(ue=>{setTimeout(ue,100)}),xe.document.write(`
        <html>
            <head>
                <title>Printed Office Reports</title>
                <style>
                    body { font-family: Arial, sans-serif; }
                    table { 
                        width: 100%; 
                        border-collapse: collapse; 
                        margin-bottom: 20px; 
                    }
                    th, td { 
                        border: 1px solid #ddd; 
                        padding: 8px; 
                        text-align: left; 
                    }
                    th { 
                        background-color: #f2f2f2; 
                        font-weight: bold; 
                    }
                    .print-header {
                        text-align: center;
                        margin-bottom: 20px;
                    }
                </style>
            </head>
            <body>
                <div class="print-header">
                    <img src="${gs}" alt="Logo" style="width: 100px; height: auto; display: block; margin: 20px auto;">
                    <h1>Office Management - Printed Report</h1>
                    <p>Printed on: ${new Date().toLocaleString()}</p>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Office Name</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${P.value.map(ue=>`
                            <tr>
                                <td>${ue.id}</td>
                                <td>${ue.office_name}</td>
                            </tr>
                        `).join("")}
                    </tbody>
                </table>
                <div class="print-footer">
                    <p>Total Offices: ${P.value.length}</p>
                </div>
            </body>
        </html>
    `),xe.document.close(),await new Promise(ue=>setTimeout(ue,500)),xe.print(),xe.onafterprint=()=>{xe.close()}};G(!1);const Je=G(null),Ye=xe=>{const ue=L.borrowers.filter(bt=>bt.office_id===xe).map(bt=>bt.id);return L.transactionHistory.filter(bt=>ue.includes(bt.borrower_id)&&bt.return_date===null).length},st=xe=>{Je.value=xe,h.push({name:"Transactions",query:{office_id:Je.value.id}})};return(xe,ue)=>(F(),se("div",null,[Me.value?(F(),se("div",l6,[he(Ht),ue[14]||(ue[14]=l("p",{class:"text-gray-500 dark:text-gray-400"},"Fetching data...",-1))])):Te.value?(F(),se("div",c6,[he(Ht)])):(F(),se("div",d6,[l("div",u6,[l("div",h6,[l("form",f6,[ue[16]||(ue[16]=l("label",{for:"simple-search",class:"sr-only"},"Search",-1)),l("div",p6,[ue[15]||(ue[15]=l("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[l("svg",{"aria-hidden":"true",class:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),Xe(l("input",{"onUpdate:modelValue":ue[0]||(ue[0]=Re=>E.value=Re),type:"text",id:"simple-search",class:"bg-gray-50 h-full border border-gray-500 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full pl-10 p-2 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Search office..."},null,512),[[ht,E.value]])])])]),l("button",{onClick:ue[1]||(ue[1]=nt(Re=>k(),["stop"])),class:"col-span-1 w-full h-full flex items-center justify-center border px-2 py-1 rounded-lg button-default-green"},[he(de(ir),{class:"w-8 h-8"}),ue[17]||(ue[17]=l("p",{class:"ml-1"},"Add Office",-1))]),l("button",{onClick:ze,class:"col-span-1 w-full h-full flex items-center justify-center border px-2 py-1 rounded-lg button-default-green"},[he(de(Pa),{class:"w-8 h-8"}),ue[18]||(ue[18]=l("p",{class:"ml-1 text-sm"},"Print Office",-1))]),l("button",{onClick:ue[2]||(ue[2]=nt(Re=>I(),["stop"])),class:"col-span-1 w-full h-full flex items-center justify-center border px-2 py-1 rounded-lg button-default-green"},[he(de(ao),{class:"w-8 h-8"}),ue[19]||(ue[19]=l("p",{class:"ml-1"},"Recover Offices",-1))])]),l("div",g6,[l("table",m6,[l("thead",v6,[l("tr",b6,[l("th",{class:"py-3 px-2 cursor-pointer",onClick:ue[3]||(ue[3]=Re=>Ne("id"))},[he(hs,{label:"ID",field:"id",sortBy:Ie.value,sortDirection:Ee.value},null,8,["sortBy","sortDirection"])]),l("th",{class:"py-3 px-2 cursor-pointer",onClick:ue[4]||(ue[4]=Re=>Ne("office_name"))},[he(hs,{label:"Office Name",field:"office_name",sortBy:Ie.value,sortDirection:Ee.value},null,8,["sortBy","sortDirection"])]),ue[20]||(ue[20]=l("th",{class:"py-3"},"Transactions",-1)),ue[21]||(ue[21]=l("th",{class:"py-3"},"Actions",-1))])]),l("tbody",null,[H.value.length===0?(F(),se("tr",x6,ue[22]||(ue[22]=[l("td",{colspan:"6",class:"px-4 py-6 text-center text-gray-500 dark:text-gray-400"}," No Office found ",-1)]))):we("",!0),(F(!0),se(ft,null,yt(H.value,Re=>{var bt,ot;return F(),se("tr",{key:Re.id,class:"border-b font-medium border-gray-400 dark:border-gray-700 text-gray-600 dark:text-gray-300 odd:bg-gray-300 odd:dark:bg-gray-900 even:bg-gray-100 even:dark:bg-gray-800 dark:hover:bg-gray-700 dark:hover:text-white"},[l("td",y6,pe(Re.id),1),l("td",w6,pe(Re.office_name),1),l("td",k6,[l("button",{onClick:nt(Pe=>st(Re),["stop"]),class:"items-center justify-center gap-2 mx-auto px-8 py-1.5 rounded-lg border border-gray-300 hover:border-gray-400 dark:border-gray-600 dark:hover:border-gray-400 text-gray-700 dark:text-gray-200 transition duration-150 ease-in-out"},[l("div",_6,[l("span",null,pe(((bt=de(L).transactionHistory.filter(Pe=>{var ge;return Pe.borrower_id===Number(((ge=de(L).borrowers.filter(je=>Number(je.office_id)===Re.id))==null?void 0:ge.length)||0)}))==null?void 0:bt.length)||0),1),ue[23]||(ue[23]=l("span",{class:"text-gray-400"},"transactions",-1)),ue[24]||(ue[24]=l("span",null,null,-1))]),l("div",{class:ct(["flex justify-center items-center gap-2",(((ot=de(L).transactionHistory.filter(Pe=>Pe.office_id===Re.id))==null?void 0:ot.length)||0)>0?"text-gray-400":"text-gray-700"])},[l("span",{class:ct({"text-red-500":Ye(Re.id)>0,"text-green-500":Ye(Re.id)===0})}," ( "+pe(Ye(Re.id))+" Unreturned ) ",3)],2)],8,C6)]),l("td",S6,[l("button",{onClick:nt(Pe=>ae(Re.id),["stop"]),class:"inline-flex items-center p-0.5 text-sm font-medium text-gray-500 hover:text-gray-800 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100",type:"button"},[he(de(Ia),{class:"w-5 h-5"})],8,A6),K.value===Re.id?(F(),se("div",{key:0,ref_for:!0,ref:"dropdownRefs",class:"absolute z-[10] bg-white divide-gray-100 rounded-lg right-42 shadow-sm w-44 border-2 dark:border-gray-600 dark:bg-gray-800"},[l("ul",L6,[l("li",E6,[l("button",{onClick:ue[5]||(ue[5]=nt(Pe=>te(),["stop"])),class:"w-full text-start px-4 py-2"}," Update "),B.value?(F(),Ze(n6,{key:0,modelValue:B.value,"onUpdate:modelValue":ue[6]||(ue[6]=Pe=>B.value=Pe),office:Re,onClick:ue[7]||(ue[7]=nt(()=>{},["stop"]))},null,8,["modelValue","office"])):we("",!0)]),l("li",P6,[l("button",{onClick:ue[8]||(ue[8]=Pe=>fe.value=!0),class:"w-full text-start px-4 py-2"}," Delete "),he(rs,{modelValue:fe.value,"onUpdate:modelValue":ue[9]||(ue[9]=Pe=>fe.value=Pe),title:"Confirm Deletion",message:"You are about to delete this office.",messageData:`
Office Name: ${Re.office_name}`,cancelText:"Cancel",confirmText:"Confirm Deleting",onConfirm:()=>Ae(!0,Re.id)},null,8,["modelValue","messageData","onConfirm"])])])],512)):we("",!0)])])}),128))])])]),H.value.length>0?(F(),se("nav",I6,[l("span",M6,[ue[25]||(ue[25]=xt(" Showing ")),l("span",T6,pe(($.value-1)*D.value+1)+" - "+pe(Math.min($.value*D.value,P.value.length)),1),ue[26]||(ue[26]=xt(" of ")),l("span",O6,pe(P.value.length),1)]),l("ul",$6,[l("li",null,[l("button",{onClick:Y,disabled:$.value===1,class:"flex items-center justify-center h-full py-1.5 px-3 ml-0 text-gray-500 bg-white rounded-l-lg border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white disabled:opacity-50 disabled:cursor-not-allowed"},ue[27]||(ue[27]=[l("span",{class:"sr-only"},"Previous",-1),l("svg",{class:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]),8,R6)]),(F(!0),se(ft,null,yt(S.value,Re=>(F(),se("li",{key:Re},[l("button",{onClick:bt=>q(Re),class:ct(["flex items-center justify-center text-sm py-2 px-3 leading-tight border",Re===$.value?"text-primary-600 bg-primary-50 border-primary-300 hover:bg-primary-100 hover:text-primary-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white":"text-gray-500 bg-white border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"])},pe(Re),11,D6)]))),128)),l("li",null,[l("button",{onClick:Q,disabled:$.value===N.value,class:"flex items-center justify-center h-full py-1.5 px-3 leading-tight text-gray-500 bg-white rounded-r-lg border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white disabled:opacity-50 disabled:cursor-not-allowed"},ue[28]||(ue[28]=[l("span",{class:"sr-only"},"Next",-1),l("svg",{class:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)]),8,N6)])])])):we("",!0),v.value?(F(),Ze(Eu,{key:1,modelValue:v.value,"onUpdate:modelValue":ue[10]||(ue[10]=Re=>v.value=Re),onClick:ue[11]||(ue[11]=()=>{}),stop:""},null,8,["modelValue"])):we("",!0),m.value?(F(),Ze(Pu,{key:2,modelValue:m.value,"onUpdate:modelValue":ue[12]||(ue[12]=Re=>m.value=Re),onClick:ue[13]||(ue[13]=()=>{}),stop:""},null,8,["modelValue"])):we("",!0)]))]))}},B6={class:""},F6={class:"border-2 mt-4 px-4 border-blue-400 dark:border-gray-800 backdrop-blur-lg bg-slate-400/50 dark:bg-black rounded-xl"},H6={class:""},V6={__name:"Offices",setup(s){G(!1);const o=G(!1),d=G(!1);return(u,h)=>(F(),se("div",B6,[h[6]||(h[6]=l("div",{class:"sticky top-2 z-20 backdrop-blur-sm px-6 py-4 border-2 rounded-2xl bg-gray-200/45 border-blue-500/85 dark:bg-gray-800/45 dark:border-gray-300/85"},[l("h1",{class:"text-3xl ml-10 xl:ml-0 font-bold tracking-tight text-gray-950 dark:text-gray-100"}," Offices ")],-1)),l("div",F6,[l("div",H6,[he(z6,{onOpenAddOfficeModal:h[0]||(h[0]=v=>o.value=!0),onOpenRecoverOfficeModal:h[1]||(h[1]=v=>d.value=!0)})])]),o.value?(F(),Ze(Eu,{key:0,modelValue:o.value,"onUpdate:modelValue":h[2]||(h[2]=v=>o.value=v),onClick:h[3]||(h[3]=nt(()=>{},["stop"]))},null,8,["modelValue"])):we("",!0),d.value?(F(),Ze(Pu,{key:1,modelValue:d.value,"onUpdate:modelValue":h[4]||(h[4]=v=>d.value=v),onClick:h[5]||(h[5]=nt(()=>{},["stop"]))},null,8,["modelValue"])):we("",!0)]))}},U6=oa(V6,[["__scopeId","data-v-19f26d0e"]]),q6="/assets/lightBlueBg-CN0inV82.jpg",j6="/assets/darkBlueBg3-DspuoQvj.jpg",X6={class:"h-full px-3 pb-4 overflow-y-auto flex flex-col justify-between"},Y6={class:"font-medium"},W6={key:0,class:"profile-div profile-div-not-active group"},G6={key:0,class:"profile-div profile-div-not-active group"},Q6={key:0,class:"profile-div profile-div-not-active group"},Z6={key:0,class:"profile-div profile-div-not-active group"},K6={key:0,class:"profile-div profile-div-not-active group"},J6={key:0,class:"profile-div profile-div-not-active group"},e8={key:0,class:"profile-div profile-div-not-active group"},t8={class:"w-full font-medium"},s8={class:"profile-div profile-div-not-active group"},r8={class:"profile-button profile-button-not-active"},a8={class:"profile-icon-span profile-icon-span-not-active"},i8={class:"profile-title-span profile-title-span-not-active"},o8={class:"profile-button profile-button-not-active"},n8={class:"profile-icon-span profile-icon-span-not-active"},l8={key:0,class:"profile-title-span profile-title-span-not-active"},c8={key:1,class:"profile-title-span profile-title-span-not-active"},d8={class:"profile-button profile-button-not-active"},u8={class:"profile-icon-span profile-icon-span-not-active"},h8={class:"fixed top-3 w-full z-50"},f8={class:"px-3 py-3 xl:px-5 xl:pl-3"},p8={class:"flex items-center xl:pl-64 justify-between"},g8={class:"flex items-center ml-8 justify-start rtl:justify-end"},m8={class:"min-h-[100vh] max-h-[100vh] overflow-auto px-4 pl-8 xl:pl-4 xl:ml-64 dark:text-gray-200"},v8={class:"fixed inset-0 flex items-center justify-center bg-black/70 z-50"},b8={class:"relative p-4 w-full max-w-md"},x8={class:"relative bg-white rounded-lg shadow-sm border-2 border-gray-700 dark:bg-gray-800 dark:border-gray-500"},y8={class:"p-4 md:p-5 text-center"},w8={class:"flex mb-5 w-full items-center justify-center"},k8={__name:"MainLayout",setup(s){const o=G(localStorage.getItem("theme")||"light"),d=G(!1),u=G(!1),h=()=>{o.value==="light"?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark"),o.value="dark"):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"),o.value="light")},v=()=>{u.value=!u.value},m=()=>{u.value=!1};gt(()=>{localStorage.getItem("theme")==="dark"&&(document.documentElement.classList.add("dark"),o.value="dark"),document.addEventListener("click",N)});const y=js(),k=Ve(()=>y.user),I=Ve(()=>{var Q;return((Q=y.inventoryAccess)==null?void 0:Q.inventoryAccess)||{}});function L(){er.post("/logout").then(()=>{window.location.reload()})}const E=G(!1),P=G(null),$=G(null),D=G(null),N=Q=>{console.log("clicked outside"),P.value&&!P.value.contains(Q.target)&&(E.value=!1),u.value&&D.value&&$.value&&!D.value.contains(Q.target)&&!$.value.contains(Q.target)&&(u.value=!1)};Nt(()=>{document.removeEventListener("click",N)});const R=()=>{d.value=!0},H=()=>{d.value=!1};return(Q,Y)=>{const q=ai("RouterLink"),S=ai("router-view");return F(),se("div",{style:xr({backgroundImage:`url(${o.value==="dark"?de(j6):de(q6)})`}),class:"bg-cover bg-center min-h-screen"},[l("aside",{id:"logo-sidebar",ref_key:"sidebarRef",ref:D,class:ct(["fixed top-0 left-0 w-64 h-screen pt-4 pl-3 xl:pt-4 transition-transform z-100 xl:z-5 backdrop-blur-lg xl:translate-x-0 bg-sky-200/10 dark:bg-gray-900/80 xl:bg-transparent xl:dark:bg-transparent",u.value?"translate-x-0":"-translate-x-full"]),"aria-label":"Sidebar"},[l("div",X6,[l("ul",Y6,[Y[10]||(Y[10]=wd('<div class="mb-6 mt-2"><div class="flex"><img src="'+gs+'" class="h-12 me-1" alt="Smart City Baguio"><span class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">SCCC-Inventory</span></div><div class="h-0.5 bg-gradient-to-r from-blue-100 via-blue-500 to-blue-100 dark:from-blue-950 dark:via-blue-500 dark:to-blue-950"></div></div>',1)),l("li",null,[I.value.for_dashboard===!0?(F(),se("div",W6,[he(q,{to:"/",onClick:Y[0]||(Y[0]=K=>m()),class:ct([Q.$route.name==="Dashboard"?"profile-button-active":"profile-button-not-active","profile-button"])},{default:ar(()=>[l("span",{class:ct([Q.$route.name==="Dashboard"?"profile-icon-span-active":"profile-icon-span-not-active","profile-icon-span"])},[he(de(vg),{class:"icon-6"})],2),l("span",{class:ct([[Q.$route.name==="Dashboard"?"profile-title-span-active":"profile-title-span-not-active"],"profile-title-span"])},"Dashboard",2)]),_:1},8,["class"])])):we("",!0)]),l("li",null,[I.value.for_transactions===!0?(F(),se("div",G6,[he(q,{to:"/transactions",onClick:Y[1]||(Y[1]=K=>m()),class:ct([Q.$route.name==="Transactions"?"profile-button-active":"profile-button-not-active","profile-button"])},{default:ar(()=>[l("span",{class:ct([Q.$route.name==="Transactions"?"profile-icon-span-active":"profile-icon-span-not-active","profile-icon-span"])},[he(de(Ed),{class:"icon-6"})],2),l("span",{class:ct([[Q.$route.name==="Transactions"?"profile-title-span-active":"profile-title-span-not-active"],"profile-title-span"])},"Transactions",2)]),_:1},8,["class"])])):we("",!0)]),l("li",null,[I.value.for_inventory===!0?(F(),se("div",Q6,[he(q,{to:"/inventory",onClick:Y[2]||(Y[2]=K=>m()),class:ct([Q.$route.name==="Inventory"?"profile-button-active":"profile-button-not-active","profile-button"])},{default:ar(()=>[l("span",{class:ct([Q.$route.name==="Inventory"?"profile-icon-span-active":"profile-icon-span-not-active","profile-icon-span"])},[he(de(Md),{class:"icon-6"})],2),l("span",{class:ct([[Q.$route.name==="Inventory"?"profile-title-span-active":"profile-title-span-not-active"],"profile-title-span"])},"Inventory",2)]),_:1},8,["class"])])):we("",!0)]),l("li",null,[I.value.for_categories===!0?(F(),se("div",Z6,[he(q,{to:"/categories",onClick:Y[3]||(Y[3]=K=>m()),class:ct([Q.$route.name==="Categories"?"profile-button-active":"profile-button-not-active","profile-button"])},{default:ar(()=>[l("span",{class:ct([Q.$route.name==="Categories"?"profile-icon-span-active":"profile-icon-span-not-active","profile-icon-span"])},[he(de(_g),{class:"icon-6"})],2),l("span",{class:ct([[Q.$route.name==="Categories"?"profile-title-span-active":"profile-title-span-not-active"],"profile-title-span"])},"Categories",2)]),_:1},8,["class"])])):we("",!0)]),l("li",null,[I.value.for_borrowers===!0?(F(),se("div",K6,[he(q,{to:"/borrowers",onClick:Y[4]||(Y[4]=K=>m()),class:ct([Q.$route.name==="Borrowers"?"profile-button-active":"profile-button-not-active","profile-button"])},{default:ar(()=>[l("span",{class:ct([Q.$route.name==="Borrowers"?"profile-icon-span-active":"profile-icon-span-not-active","profile-icon-span"])},[he(de(ng),{class:"icon-6"})],2),l("span",{class:ct([[Q.$route.name==="Borrowers"?"profile-title-span-active":"profile-title-span-not-active"],"profile-title-span"])},"Borrowers",2)]),_:1},8,["class"])])):we("",!0)]),l("li",null,[I.value.for_users===!0?(F(),se("div",J6,[he(q,{to:"/users",onClick:Y[5]||(Y[5]=K=>m()),class:ct([Q.$route.name==="Users"?"profile-button-active":"profile-button-not-active","profile-button"])},{default:ar(()=>[l("span",{class:ct([Q.$route.name==="Users"?"profile-icon-span-active":"profile-icon-span-not-active","profile-icon-span"])},[he(de(El),{class:"icon-6"})],2),l("span",{class:ct([[Q.$route.name==="Users"?"profile-title-span-active":"profile-title-span-not-active"],"profile-title-span"])},"Users",2)]),_:1},8,["class"])])):we("",!0)]),l("li",null,[I.value.for_offices===!0?(F(),se("div",e8,[he(q,{to:"/offices",onClick:Y[6]||(Y[6]=K=>m()),class:ct([Q.$route.name==="Offices"?"profile-button-active":"profile-button-not-active","profile-button"])},{default:ar(()=>[l("span",{class:ct([Q.$route.name==="Offices"?"profile-icon-span-active":"profile-icon-span-not-active","profile-icon-span"])},[he(de(rg),{class:"icon-6"})],2),l("span",{class:ct([[Q.$route.name==="Offices"?"profile-title-span-active":"profile-title-span-not-active"],"profile-title-span"])},"Offices",2)]),_:1},8,["class"])])):we("",!0)])]),l("div",t8,[l("div",s8,[l("button",r8,[l("span",a8,[he(de(El),{class:"icon-6"})]),l("span",i8,pe(k.value.firstName),1)])]),l("div",{onClick:h,class:"profile-div profile-div-not-active group"},[l("button",o8,[l("span",n8,[o.value==="light"?(F(),Ze(de(kg),{key:0,class:"icon-6"})):(F(),Ze(de(wg),{key:1,class:"icon-6"}))]),o.value==="light"?(F(),se("span",l8,"Light Mode")):(F(),se("span",c8,"Dark Mode"))])]),l("div",{onClick:Y[7]||(Y[7]=K=>R()),class:"profile-div profile-div-not-active group"},[l("button",d8,[l("span",u8,[he(de(Pl),{class:"icon-6"})]),Y[11]||(Y[11]=l("span",{class:"profile-title-span profile-title-span-not-active"}," Sign Out ",-1))])])])])],2),l("nav",h8,[l("div",f8,[l("div",p8,[l("div",g8,[l("button",{onClick:v,"aria-controls":"logo-sidebar",type:"button",ref_key:"toggleButtonRef",ref:$,class:"inline-flex items-center p-2 text-sm text-gray-500 rounded-lg border xl:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600 border-blue-500 dark:border-gray-600"},Y[12]||(Y[12]=[l("span",{class:"sr-only"},"Open sidebar",-1),l("svg",{class:"icon-6","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"clip-rule":"evenodd","fill-rule":"evenodd",d:"M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10z"})],-1)]),512)])])])]),l("div",m8,[he(S,{class:""}),Xe(l("div",v8,[l("div",b8,[l("div",x8,[l("button",{type:"button",class:"absolute top-3 end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:text-gray-200 dark:hover:bg-gray-600 dark:hover:text-white",onClick:Y[8]||(Y[8]=K=>H())},[he(de(ig),{class:"icon-6","aria-hidden":"true"})]),l("div",y8,[l("div",w8,[he(de(Pl),{class:"w-10 h-10"})]),Y[13]||(Y[13]=l("h3",{class:"mb-6 text-lg font-normal text-gray-800 dark:text-gray-200"},"Are you sure you want to sign out?",-1)),l("button",{onClick:L,type:"button",class:"text-white bg-red-700 hover:bg-red-500 focus:ring-4 focus:outline-none focus:ring-red-300 dark:focus:ring-red-800 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center"}," Yes, Sign Out "),l("button",{onClick:Y[9]||(Y[9]=K=>H()),type:"button",class:"py-2.5 px-5 ms-3 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-400 hover:bg-green-500 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-900 dark:text-gray-300 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700"}," No, Cancel ")])])])],512),[[Vs,d.value]])])],4)}}},C8={key:0,class:"fixed left-0 top-0 flex h-full w-full items-center justify-center bg-black/55 px-4 py-5 z-50"},_8={class:"px-5 text-start max-h-[69vh] overflow-y-auto"},S8={class:"flex flex-row"},A8={class:"text-red-700 ml-2 font-semibold italic"},L8={class:"relative ml-2 mb-2"},E8={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},P8={class:"-mx-3 flex flex-wrap mt-4"},I8={class:"w-1/2 px-3"},Iu={__name:"AddCategoryModal",props:{modelValue:Boolean},emits:["update:modelValue","confirmDelete"],setup(s,{emit:o}){const d=qt(),u=G(!1),h=G(!1),v=N=>{N&&E()},m=o,y=G(null),k=()=>{m("update:modelValue",!1)},I=N=>{y.value&&!y.value.contains(N.target)&&k()};gt(()=>{document.addEventListener("click",I)}),Nt(()=>{document.removeEventListener("click",I)});const L=G(""),E=async()=>{var N;try{u.value=!0;const R={id:d.categoryList.length+1,category_name:L.value,is_deleted:0,deleted_by:null};console.log("Add copy data sent: ",R),d.addCategory(R),await new Promise(H=>setTimeout(H,500))}catch(R){console.error("Error adding category:",R),console.error("Error details:",(N=R.response)==null?void 0:N.data),pt.emit("show-toast",{message:"Error adding category. Please try again.",type:"error"})}finally{u.value=!1,pt.emit("show-toast",{message:"Category added successfully!",type:"success"}),k()}},P=G({categoryName:[]}),$=()=>{Object.keys(P.value).forEach(R=>{P.value[R]=[]});let N=!1;return L.value||(P.value.categoryName=["Category name is required"],N=!0),!N};it(()=>L.value,N=>{N?P.value.categoryName=[]:P.value.categoryName=["Category name is required"]});const D=()=>{if($())h.value=!0;else return};return(N,R)=>s.modelValue?(F(),se("div",C8,[u.value?(F(),Ze(Ht,{key:0})):(F(),se("div",{key:1,ref_key:"modalContainer",ref:y,class:"w-full max-w-[650px] max-h-[90vh] rounded-[20px] bg-white px-8 py-8 text-center border-4 dark:bg-gray-950 dark:border-gray-100"},[R[4]||(R[4]=l("h3",{class:"text-3xl font-semibold mb-4"}," Add Category ",-1)),l("div",_8,[l("div",S8,[R[3]||(R[3]=l("label",{class:"block mb-2 text font-medium text-gray-900 dark:text-gray-200"},"Category Name:",-1)),l("p",A8,pe(P.value.categoryName?P.value.categoryName[0]:""),1)]),l("div",L8,[l("div",E8,[he(de(fs))]),Xe(l("input",{type:"text","onUpdate:modelValue":R[0]||(R[0]=H=>L.value=H),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Ex. Printers, Chairs, Stairs"},null,512),[[ht,L.value]])])]),l("div",P8,[l("div",{class:"w-1/2 px-3"},[l("button",{onClick:k,class:"block w-full rounded-md border border-stroke p-3 text-center text-base font-medium text-dark transition bg-gray-300 hover:border-red-800 hover:bg-red-800 hover:text-white dark:text-black"}," Cancel ")]),l("div",I8,[l("button",{onClick:R[1]||(R[1]=H=>D()),class:"block w-full rounded-md border bg-primary p-3 text-center text-base font-medium text-white transition bg-green-700 hover:border-green-600 hover:bg-green-600 hover:text-white dark:text-white dark:border-green-700 dark:hover:border-green-400"}," Add Category ")])]),he(rs,{modelValue:h.value,"onUpdate:modelValue":R[2]||(R[2]=H=>h.value=H),title:"Confirm Addition",message:"You are about to add this category.",messageData:`
Category Name: ${L.value}`,cancelText:"Cancel",confirmText:"Confirm Adding",onConfirm:v},null,8,["modelValue","messageData"])],512))])):we("",!0)}},M8={key:0,class:"fixed left-0 top-0 flex h-full w-full items-center justify-center bg-black/55 px-4 py-5 z-50"},T8={class:"px-5 text-start max-h-[69vh] overflow-y-auto"},O8={class:"flex flex-row"},$8={class:"text-red-700 ml-2 font-semibold italic"},R8={class:"relative ml-2 mb-2"},D8={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},N8={class:"-mx-3 flex flex-wrap mt-4"},z8={class:"w-1/2 px-3"},B8={__name:"UpdateCategoryModal",props:{modelValue:Boolean,category:Object},emits:["update:modelValue","confirmDelete"],setup(s,{emit:o}){const d=qt(),u=G(!1),h=G(""),v=s,m=G(!1),y=R=>{R&&P()},k=o,I=G(null),L=()=>{k("update:modelValue",!1)},E=R=>{I.value&&!I.value.contains(R.target)&&L()};gt(()=>{document.addEventListener("click",E)}),Nt(()=>{document.removeEventListener("click",E)}),it(()=>v.category,R=>{R&&(h.value=R.category_name)},{immediate:!0});const P=async()=>{var R;try{u.value=!0;const H={id:v.category.id,category_name:h.value};console.log("Add copy data sent: ",H),d.updateCategory(H),await new Promise(Q=>setTimeout(Q,500))}catch(H){console.error("Error updating category:",H),console.error("Error details:",(R=H.response)==null?void 0:R.data),pt.emit("show-toast",{message:"Error updating category. Please try again.",type:"error"})}finally{u.value=!1,pt.emit("show-toast",{message:"Copy updated successfully!",type:"success"}),L()}},$=G({categoryName:[]}),D=()=>{Object.keys($.value).forEach(H=>{$.value[H]=[]});let R=!1;return h.value||($.value.categoryName=["Category name is required"],R=!0),!R};it(()=>h.value,R=>{R?$.value.categoryName=[]:$.value.categoryName=["Category name is required"]});const N=()=>{if(D())m.value=!0;else return};return(R,H)=>s.modelValue?(F(),se("div",M8,[u.value?(F(),Ze(Ht,{key:0})):(F(),se("div",{key:1,ref_key:"modalContainer",ref:I,class:"w-full max-w-[650px] max-h-[90vh] rounded-[20px] bg-white px-8 py-8 text-center border-4 dark:bg-gray-950 dark:border-gray-100"},[H[4]||(H[4]=l("h3",{class:"text-3xl font-semibold mb-4"}," Update Category ",-1)),l("div",T8,[l("div",O8,[H[3]||(H[3]=l("label",{class:"block mb-2 text font-medium text-gray-900 dark:text-gray-200"},"Category Name:",-1)),l("p",$8,pe($.value.categoryName?$.value.categoryName[0]:""),1)]),l("div",R8,[l("div",D8,[he(de(fs))]),Xe(l("input",{type:"text","onUpdate:modelValue":H[0]||(H[0]=Q=>h.value=Q),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Ex. Printer, Chair, Stairs"},null,512),[[ht,h.value]])])]),l("div",N8,[l("div",{class:"w-1/2 px-3"},[l("button",{onClick:L,class:"block w-full rounded-md border border-stroke p-3 text-center text-base font-medium text-dark transition bg-gray-300 hover:border-red-800 hover:bg-red-800 hover:text-white dark:text-black"}," Cancel ")]),l("div",z8,[l("button",{onClick:H[1]||(H[1]=Q=>N()),class:"block w-full rounded-md border bg-primary p-3 text-center text-base font-medium text-white transition bg-green-700 hover:border-green-600 hover:bg-green-600 hover:text-white dark:text-white dark:border-green-700 dark:hover:border-green-400"}," Update ")])]),he(rs,{modelValue:m.value,"onUpdate:modelValue":H[2]||(H[2]=Q=>m.value=Q),title:"Confirm Update",message:"You are about to update this category.",messageData:`
Category Name: ${h.value}`,cancelText:"Cancel",confirmText:"Confirm Update",onConfirm:y},null,8,["modelValue","messageData"])],512))])):we("",!0)}},F8={key:0,class:"fixed left-0 top-0 flex h-full w-full items-center justify-center bg-black/55 px-4 py-5 z-50"},H8={class:"w-full px-5 mb-4"},V8={class:"flex items-center"},U8={class:"relative w-full"},q8={key:0,class:"flex items-center justify-center lg:px-5 text-start max-h-[69vh] w-full overflow-y-auto"},j8={class:"border w-fit min-w-full max-w-[600px] lg:max-w-full overflow-y-auto lg:mx-10 my-1 pb-1 rounded-lg dark:border-gray-700"},X8={class:"w-full"},Y8={class:"text-center dark:bg-gray-800"},W8={class:"pl-3 pt-2 py-1"},G8={class:"flex items-center cursor-pointer select-none text-dark dark:text-white"},Q8={class:"relative"},Z8={class:"w-full"},K8={class:"w-full text-center items-center justify-center border-t"},J8={class:"pl-3 pt-1 w-10"},e7={class:"flex items-center cursor-pointer select-none text-dark dark:text-white"},t7={class:"relative"},s7=["onChange"],r7={class:"text-center"},a7={class:"text-center"},i7={key:1,class:"px-5 text-start max-h-[69vh] overflow-y-auto"},o7={class:"-mx-3 flex flex-wrap mt-4"},n7={class:"w-1/2 px-3"},l7={class:"w-1/2 px-3"},Mu={__name:"RecoverCategoryModal",props:{modelValue:Boolean},emits:["update:modelValue","confirmDelete"],setup(s,{emit:o}){const d=qt(),u=G(!1),h=o,v=()=>{const q=E.value.filter(S=>S.is_selected);console.log("Selected Categories:",q),q.length>0?m.value=!0:console.log("Please select at least one category to recover.")},m=G(!1),y=G(null),k=()=>{h("update:modelValue",!1)},I=q=>{y.value&&!y.value.contains(q.target)&&k()};gt(()=>{document.addEventListener("click",I)}),Nt(()=>{document.removeEventListener("click",I)});const L=G([]),E=G([]);gt(()=>{d.fetchData(),L.value=d.categoryList.filter(q=>q.is_deleted===1),E.value=L.value.map(q=>({...q,is_selected:!1})),console.log("Filtered Deleted Categories:",E.value)});const P=async()=>{var q;try{u.value=!0;const S=E.value.filter(K=>K.is_selected);if(S.length===0){pt.emit("show-toast",{message:"Please select category to recover.",type:"error"});return}for(const K of S){const ae={category_name:K.category_name,is_deleted:0,deleted_by:null};console.log("Update user data sent: ",ae),d.restoreCategory(K.id,ae),await new Promise(B=>setTimeout(B,500))}}catch(S){console.error("Error updating categories:",S),console.error("Error details:",(q=S.response)==null?void 0:q.data),pt.emit("show-toast",{message:"Error recovering categories. Please try again.",type:"error"})}finally{u.value=!1,pt.emit("show-toast",{message:"Selected Categories recovered successfully!",type:"success"}),k()}},$=q=>{E.value=E.value.map(K=>({...K,is_selected:K.id===q?!K.is_selected:K.is_selected}));const S=E.value.every(K=>K.is_selected);D.value=S},D=G(!1),N=()=>{D.value?(D.value=!1,E.value=E.value.map(q=>({...q,is_selected:!1}))):(D.value=!0,E.value=E.value.map(q=>({...q,is_selected:!0})))},R=G(""),H=Ve(()=>d.categoryList.filter(q=>q.is_deleted===1&&q.category_name.toLowerCase().includes(R.value.toLowerCase())));it(H,q=>{E.value=q.map(S=>({...S,is_selected:!1}))});const Q=q=>{P(),m.value=!1},Y=q=>q?new Date(q).toLocaleDateString():"N/A";return(q,S)=>s.modelValue?(F(),se("div",F8,[u.value?(F(),Ze(Ht,{key:0})):(F(),se("div",{key:1,ref_key:"modalContainer",ref:y,class:"w-full max-w-[90vw] max-h-[90vh] rounded-[20px] bg-white px-8 py-8 text-center border-4 dark:bg-gray-950 dark:border-gray-100"},[S[11]||(S[11]=l("h3",{class:"text-3xl font-semibold mb-4"}," Recover Categories ",-1)),l("div",H8,[l("form",V8,[S[7]||(S[7]=l("label",{for:"simple-search",class:"sr-only"},"Search",-1)),l("div",U8,[S[6]||(S[6]=l("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[l("svg",{"aria-hidden":"true",class:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),Xe(l("input",{"onUpdate:modelValue":S[0]||(S[0]=K=>R.value=K),type:"text",id:"simple-search",class:"bg-gray-50 border border-gray-500 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full pl-10 p-2 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Search categories..."},null,512),[[ht,R.value]])])])]),E.value.length>0?(F(),se("div",q8,[l("div",j8,[l("table",X8,[l("thead",null,[l("tr",Y8,[l("th",W8,[l("label",G8,[l("div",Q8,[l("input",{type:"checkbox",class:"sr-only",onChange:S[1]||(S[1]=K=>N())},null,32),D.value?(F(),Ze(de(rr),{key:0,class:"w-7 h-7"})):(F(),Ze(de(sr),{key:1,class:"w-7 h-7"}))])])]),S[8]||(S[8]=l("th",{class:"px-2"},"Category Name",-1)),S[9]||(S[9]=l("th",{class:"px-2"},"Date Deleted",-1))])]),l("tbody",Z8,[(F(!0),se(ft,null,yt(E.value,K=>(F(),se("tr",K8,[l("td",J8,[l("label",e7,[l("div",t7,[l("input",{type:"checkbox",class:"sr-only",onChange:ae=>$(K.id)},null,40,s7),K.is_selected?(F(),Ze(de(rr),{key:0,class:"w-7 h-7"})):(F(),Ze(de(sr),{key:1,class:"w-7 h-7"}))])])]),l("td",r7,pe(K.category_name),1),l("td",a7,pe(Y(K.updated_at)),1)]))),256))])])])])):(F(),se("div",i7,S[10]||(S[10]=[l("p",{class:"text-gray-500 dark:text-gray-400"},"No available categories to recover.",-1)]))),l("div",o7,[l("div",n7,[l("button",{onClick:S[2]||(S[2]=K=>k()),class:"block w-full rounded-md border border-stroke p-3 text-center text-base font-medium text-dark transition bg-gray-300 hover:border-red-800 hover:bg-red-800 hover:text-white dark:text-black"}," Cancel ")]),l("div",l7,[l("button",{onClick:S[3]||(S[3]=K=>v()),class:"block w-full rounded-md border bg-primary p-3 text-center text-base font-medium text-white transition bg-green-700 hover:border-green-600 hover:bg-green-600 hover:text-white dark:text-white dark:border-green-700 dark:hover:border-green-400"}," Recover Selected Categories ")])]),he(rs,{modelValue:m.value,"onUpdate:modelValue":S[4]||(S[4]=K=>m.value=K),title:"Confirm Recovery",message:"",messageData:`
Are you sure you want to recover the selected categories?`,confirmText:"Confirm Recovery",onConfirm:S[5]||(S[5]=K=>Q())},null,8,["modelValue"])],512))])):we("",!0)}},c7={key:0,class:"fixed left-0 top-0 flex h-full w-full items-center justify-center bg-black/55 px-4 py-5 z-50"},d7={class:"flex justify-between"},u7={class:"w-full text-2xl font-semibold mb-4 flex flex-row justify-center items-center"},h7={class:"text-3xl"},f7={class:"rounded-lg max-h-[70vh] overflow-y-auto dark:bg-gray-900"},p7={class:"w-full text-sm text-center text-gray-500 dark:text-gray-400"},g7={class:"px-4 py-3"},m7={class:"px-4 py-3"},v7={class:"px-4 py-1 text-center"},b7={key:0},x7={__name:"ViewItemsModal",props:{modelValue:Boolean,selectedCategory:Object,officeEquipments:Object,officeSupplies:Object,equipmentCopies:Object},emits:["update:modelValue","confirmDelete"],setup(s,{emit:o}){const d=G(!1),u=s,h=o,v=G(null),m=()=>{h("update:modelValue",!1)},y=I=>{v.value&&!v.value.contains(I.target)&&m()};gt(()=>{document.addEventListener("click",y)}),Nt(()=>{document.removeEventListener("click",y)});const k=Ve(()=>[...u.officeEquipments,...u.officeSupplies].filter(I=>I.category_id===u.selectedCategory.id).map((I,L)=>({...I,newId:`INV-${L+1}`})));return(I,L)=>s.modelValue?(F(),se("div",c7,[d.value?(F(),Ze(Ht,{key:0})):(F(),se("div",{key:1,ref_key:"modalContainer",ref:v,class:"min-w-[80vw] max-h-[90vh] rounded-[20px] bg-white px-8 py-8 text-center border border-4 dark:bg-gray-950 dark:border-gray-100"},[l("div",d7,[l("div",u7,[L[1]||(L[1]=l("p",{class:"text-gray-400 mr-2"},"Category:",-1)),l("p",h7,pe(s.selectedCategory.category_name),1)]),l("button",{onClick:L[0]||(L[0]=E=>m()),class:"bg-gray-200 max-h-fit ml-4 text-gray-700 px-1 py-1 rounded-full hover:bg-gray-300 transition"},[he(de(ra),{class:"w-8 h-8"})])]),l("div",f7,[l("table",p7,[L[2]||(L[2]=l("thead",{class:"dark:bg-gray-600 dark:text-gray-300"},[l("tr",{class:"bg-gray-700 text-gray-200 uppercase text-center text-xs rounded-lg"},[l("th",{class:"py-3"},"Item Name"),l("th",{class:"py-3"},"Item Type"),l("th",{class:"py-3 w-100"},"Quantity/Copy")])],-1)),l("tbody",null,[(F(!0),se(ft,null,yt(k.value,E=>(F(),se("tr",{key:E.newId,class:"border-b font-medium text-gray-700 dark:border-gray-700 dark:text-gray-300 odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 dark:hover:bg-gray-700 dark:hover:text-white"},[l("td",g7,pe(E.equipment_name||E.supply_name),1),l("td",m7,pe(E.type),1),l("td",v7,[E.type==="Office Equipment"?(F(),se("span",b7,[(F(!0),se(ft,null,yt(u.equipmentCopies,P=>(F(),se("div",{key:P.id,class:"flex flex-row justify-around"},[P.item_id===E.id?(F(),se("div",{key:0,class:ct(["py-1",P.is_available?"text-green-500":"text-red-500"])},pe(E.equipment_name)+" #"+pe(P.copy_num),3)):we("",!0),P.item_id===E.id?(F(),se("div",{key:1,class:ct(["py-1",P.is_available?"text-green-500":"text-red-500"])},pe(P.is_available?"Available":"Not Available"),3)):we("",!0)]))),128))])):(F(),se("span",{key:1,class:ct(E.supply_quantity>0?"text-green-500":"text-red-500")},pe(E.supply_quantity)+" pieces ",3))])]))),128))])])])],512))])):we("",!0)}},y7={key:0,class:"h-[72vh] flex flex-col items-center justify-center"},w7={key:1,class:"h-[72vh] flex flex-col items-center justify-center bg-black/60"},k7={key:2,class:"overflow-x-auto"},C7={class:"grid grid-cols-3 lg:grid-cols-8 gap-2 items-center justify-between md:space-y-0 md:space-x-4 p-4"},_7={class:"col-span-3 lg:col-span-5 w-full"},S7={class:"flex items-center"},A7={class:"relative w-full"},L7={class:"rounded-lg min-h-[59vh] max-h-[60vh] md:max-h-[65vh] xl:max-h-[68vh] 2xl:xl:max-h-[70vh] overflow-auto [scrollbar-width:thin] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden bg-gray-200 dark:bg-gray-900"},E7={class:"w-full text-sm text-center text-gray-500 dark:text-gray-400"},P7={class:"sticky top-0 z-10"},I7={class:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-200 uppercase text-center text-xs rounded-lg"},M7={key:0,class:"border-b border-gray-400 dark:border-gray-700"},T7={class:"px-4 py-3"},O7={class:"px-4 py-3"},$7={class:"px-4 py-3"},R7=["onClick"],D7={class:"px-4 py-3 flex items-center justify-center relative"},N7=["onClick"],z7={class:"text-sm text-gray-700 dark:text-gray-200"},B7={class:"block hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},F7={class:"block hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},H7={key:0,class:"flex flex-col md:flex-row justify-between items-start md:items-center space-y-3 md:space-y-0 p-4","aria-label":"Table navigation"},V7={class:"text-sm font-normal text-gray-500 dark:text-gray-400"},U7={class:"font-semibold text-gray-900 dark:text-white"},q7={class:"font-semibold text-gray-900 dark:text-white"},j7={class:"inline-flex items-stretch -space-x-px"},X7=["disabled"],Y7=["onClick"],W7=["disabled"],G7={__name:"CategoryTable",emits:["open-add-category-modal","open-recover-category-modal"],setup(s,{emit:o}){const d=js(),u=Ve(()=>d.user),h=G(!1),v=G(!1),m=o,y=()=>{m("open-recover-category-modal")},k=()=>{h.value=!0},I=qt();gt(()=>{I.fetchData()});const L=G(""),E=Ve(()=>I.categoryList.filter(st=>!st.is_deleted).filter(st=>st.category_name.toLowerCase().includes(L.value.toLowerCase())||st.id.toString().includes(L.value.toLowerCase())));it(L,()=>{P.value=1});const P=G(1),$=G(8),D=Ve(()=>Math.ceil(E.value.length/$.value)),N=Ve(()=>[...E.value].sort((xe,ue)=>{const Re=(Pe,ge)=>{var je;switch(ge){case"id":return Pe.id;case"category_name":return((je=Pe.category_name)==null?void 0:je.toLowerCase())||"";default:return""}},bt=Re(xe,Ae.value),ot=Re(ue,Ae.value);return bt<ot?Ie.value==="asc"?-1:1:bt>ot?Ie.value==="asc"?1:-1:0})),R=Ve(()=>{const st=(P.value-1)*$.value,xe=st+$.value;return N.value.slice(st,xe)}),H=()=>{P.value<D.value&&P.value++},Q=()=>{P.value>1&&P.value--},Y=st=>{st>=1&&st<=D.value&&(P.value=st)},q=Ve(()=>{const xe=[];xe.push(1);let ue=Math.max(2,P.value-2),Re=Math.min(D.value-1,P.value+2);P.value-2>2&&xe.push("...");for(let bt=ue;bt<=Re;bt++)xe.push(bt);return P.value+2<D.value-1&&xe.push("..."),D.value>1&&xe.push(D.value),xe}),S=G(null),K=st=>{S.value=S.value===st?null:st},ae=G(!1),B=()=>{ae.value=!0},te=G(!1),fe=G(!1),Te=async(st,xe)=>{{fe.value=!0;try{I.deleteCategory(xe,u.value.id),await new Promise(ue=>setTimeout(ue,500))}catch(ue){console.error("Error deleting category:",ue),pt.emit("show-toast",{message:"Error deleting category. Please try again.",type:"error"}),fe.value=!1}finally{pt.emit("show-toast",{message:"Category deleted successfully!",type:"success"}),te.value=!1,fe.value=!1}}},Ae=G("id"),Ie=G("asc"),Ee=st=>{P.value=1,Ae.value===st?Ie.value=Ie.value==="asc"?"desc":"asc":(Ae.value=st,Ie.value="asc")},Ne=Ve(()=>I.transactionItems.length===0||I.transactionHistory.length===0||I.officeEquipments.length===0||I.officeSupplies.length===0||I.officeList.length===0||I.users.length===0||I.borrowers.length===0||I.equipmentCopies.length===0||I.categoryList.length===0||I.inventoryAccesses.length===0),Me=async()=>{const st=window.open("","_blank","width=800,height=600");await new Promise(xe=>{const ue=new Image;ue.src=gs,ue.onload=xe,ue.onerror=xe}),await new Promise(xe=>{setTimeout(xe,100)}),st.document.write(`
        <html>
            <head>
                <title>Printed Categories Reports</title>
                <style>
                    body { font-family: Arial, sans-serif; }
                    table { 
                        width: 100%; 
                        border-collapse: collapse; 
                        margin-bottom: 20px; 
                    }
                    th, td { 
                        border: 1px solid #ddd; 
                        padding: 8px; 
                        text-align: left; 
                    }
                    th { 
                        background-color: #f2f2f2; 
                        font-weight: bold; 
                    }
                    .print-header {
                        text-align: center;
                        margin-bottom: 20px;
                    }
                </style>
            </head>
            <body>
                <div class="print-header">
                    <img src="${gs}" alt="Logo" style="width: 100px; height: auto; display: block; margin: 20px auto;">
                    <h1>Categories Management - Printed Report</h1>
                    <p>Printed on: ${new Date().toLocaleString()}</p>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Category Name</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${E.value.map(xe=>`
                            <tr>
                                <td>${xe.id}</td>
                                <td>${xe.category_name}</td>
                            </tr>
                        `).join("")}
                    </tbody>
                </table>
                <div class="print-footer">
                    <p>Total Categories: ${E.value.length}</p>
                </div>
            </body>
        </html>
    `),st.document.close(),await new Promise(xe=>setTimeout(xe,500)),st.print(),st.onafterprint=()=>{st.close()}},ze=G(!1),Je=G(null),Ye=st=>{Je.value=st,ze.value=!0};return(st,xe)=>(F(),se("div",null,[Ne.value?(F(),se("div",y7,[he(Ht),xe[16]||(xe[16]=l("p",{class:"text-gray-500 dark:text-gray-400"},"Fetching data...",-1))])):fe.value?(F(),se("div",w7,[he(Ht)])):(F(),se("div",k7,[l("div",C7,[l("div",_7,[l("form",S7,[xe[18]||(xe[18]=l("label",{for:"simple-search",class:"sr-only"},"Search",-1)),l("div",A7,[xe[17]||(xe[17]=l("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[l("svg",{"aria-hidden":"true",class:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),Xe(l("input",{"onUpdate:modelValue":xe[0]||(xe[0]=ue=>L.value=ue),type:"text",id:"simple-search",class:"bg-gray-50 border border-gray-500 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full pl-10 p-2 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Search categories..."},null,512),[[ht,L.value]])])])]),l("button",{onClick:xe[1]||(xe[1]=nt(ue=>k(),["stop"])),class:"col-span-1 w-full h-full flex items-center justify-center border px-2 py-1 rounded-lg button-default-green"},[he(de(ir),{class:"w-8 h-8"}),xe[19]||(xe[19]=l("p",{class:"ml-1"},"Add Category",-1))]),l("button",{onClick:Me,class:"col-span-1 w-full h-full flex items-center justify-center border px-2 py-1 rounded-lg button-default-green"},[he(de(Pa),{class:"w-8 h-8"}),xe[20]||(xe[20]=l("p",{class:"ml-1 text-sm"},"Print Categories",-1))]),l("button",{onClick:xe[2]||(xe[2]=nt(ue=>y(),["stop"])),class:"col-span-1 w-full h-full flex items-center justify-center border px-2 py-1 rounded-lg button-default-green"},[he(de(ao),{class:"w-8 h-8"}),xe[21]||(xe[21]=l("p",{class:"ml-1"},"Recover Categories",-1))])]),l("div",L7,[l("table",E7,[l("thead",P7,[l("tr",I7,[l("th",{class:"py-3 px-2 cursor-pointer",onClick:xe[3]||(xe[3]=ue=>Ee("id"))},[he(hs,{label:"ID",field:"id",sortBy:Ae.value,sortDirection:Ie.value},null,8,["sortBy","sortDirection"])]),l("th",{class:"py-3 px-2 cursor-pointer",onClick:xe[4]||(xe[4]=ue=>Ee("category_name"))},[he(hs,{label:"Category Name",field:"category_name",sortBy:Ae.value,sortDirection:Ie.value},null,8,["sortBy","sortDirection"])]),xe[22]||(xe[22]=l("th",{class:"py-3"},"Items",-1)),xe[23]||(xe[23]=l("th",{class:"py-3"},"Actions",-1))])]),l("tbody",null,[R.value.length===0?(F(),se("tr",M7,xe[24]||(xe[24]=[l("td",{colspan:"6",class:"px-4 py-6 text-center text-gray-500 dark:text-gray-400"}," No Category found ",-1)]))):we("",!0),(F(!0),se(ft,null,yt(R.value,ue=>{var Re,bt;return F(),se("tr",{key:ue.id,class:"border-b font-medium border-gray-400 dark:border-gray-700 text-gray-600 dark:text-gray-300 odd:bg-gray-300 odd:dark:bg-gray-900 even:bg-gray-100 even:dark:bg-gray-800 dark:hover:bg-gray-700 dark:hover:text-white"},[l("td",T7,pe(ue.id),1),l("td",O7,pe(ue.category_name),1),l("td",$7,[l("button",{onClick:nt(ot=>Ye(ue),["stop"]),class:"flex items-center justify-center gap-2 mx-auto px-8 py-1.5 rounded-lg border border-gray-300 hover:border-gray-400 dark:border-gray-600 dark:hover:border-gray-400 text-gray-700 dark:text-gray-200 transition duration-150 ease-in-out"},[he(de(Kp),{class:"w-4 h-4"}),l("span",null,pe((((Re=de(I).officeEquipments.filter(ot=>ot.category_id===ue.id))==null?void 0:Re.length)||0)+(((bt=de(I).officeSupplies.filter(ot=>ot.category_id===ue.id))==null?void 0:bt.length)||0)),1),xe[25]||(xe[25]=l("span",{class:"text-gray-400"},"items",-1))],8,R7)]),l("td",D7,[l("button",{onClick:nt(ot=>K(ue.id),["stop"]),class:"inline-flex items-center p-0.5 text-sm font-medium text-gray-500 hover:text-gray-800 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100",type:"button"},[he(de(Ia),{class:"w-5 h-5"})],8,N7),S.value===ue.id?(F(),se("div",{key:0,ref_for:!0,ref:"dropdownRefs",class:"absolute z-[10] bg-white divide-gray-100 rounded-lg right-42 shadow-sm w-44 border-2 dark:border-gray-600 dark:bg-gray-800"},[l("ul",z7,[l("li",B7,[l("button",{onClick:xe[5]||(xe[5]=nt(ot=>B(),["stop"])),class:"w-full text-start px-4 py-2"}," Update "),ae.value?(F(),Ze(B8,{key:0,modelValue:ae.value,"onUpdate:modelValue":xe[6]||(xe[6]=ot=>ae.value=ot),category:ue,onClick:xe[7]||(xe[7]=nt(()=>{},["stop"]))},null,8,["modelValue","category"])):we("",!0)]),l("li",F7,[l("button",{onClick:xe[8]||(xe[8]=ot=>te.value=!0),class:"w-full text-start px-4 py-2"}," Delete "),he(rs,{modelValue:te.value,"onUpdate:modelValue":xe[9]||(xe[9]=ot=>te.value=ot),title:"Confirm Deletion",message:"You are about to delete this category.",messageData:`
Category Name: ${ue.category_name}`,cancelText:"Cancel",confirmText:"Confirm Deleting",onConfirm:()=>Te(!0,ue.id)},null,8,["modelValue","messageData","onConfirm"])])])],512)):we("",!0)])])}),128))])])]),R.value.length>0?(F(),se("nav",H7,[l("span",V7,[xe[26]||(xe[26]=xt(" Showing ")),l("span",U7,pe((P.value-1)*$.value+1)+" - "+pe(Math.min(P.value*$.value,E.value.length)),1),xe[27]||(xe[27]=xt(" of ")),l("span",q7,pe(E.value.length),1)]),l("ul",j7,[l("li",null,[l("button",{onClick:Q,disabled:P.value===1,class:"flex items-center justify-center h-full py-1.5 px-3 ml-0 text-gray-500 bg-white rounded-l-lg border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white disabled:opacity-50 disabled:cursor-not-allowed"},xe[28]||(xe[28]=[l("span",{class:"sr-only"},"Previous",-1),l("svg",{class:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]),8,X7)]),(F(!0),se(ft,null,yt(q.value,ue=>(F(),se("li",{key:ue},[l("button",{onClick:Re=>Y(ue),class:ct(["flex items-center justify-center text-sm py-2 px-3 leading-tight border",ue===P.value?"text-primary-600 bg-primary-50 border-primary-300 hover:bg-primary-100 hover:text-primary-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white":"text-gray-500 bg-white border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"])},pe(ue),11,Y7)]))),128)),l("li",null,[l("button",{onClick:H,disabled:P.value===D.value,class:"flex items-center justify-center h-full py-1.5 px-3 leading-tight text-gray-500 bg-white rounded-r-lg border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white disabled:opacity-50 disabled:cursor-not-allowed"},xe[29]||(xe[29]=[l("span",{class:"sr-only"},"Next",-1),l("svg",{class:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)]),8,W7)])])])):we("",!0),h.value?(F(),Ze(Iu,{key:1,modelValue:h.value,"onUpdate:modelValue":xe[10]||(xe[10]=ue=>h.value=ue),onClick:xe[11]||(xe[11]=nt(()=>{},["stop"]))},null,8,["modelValue"])):we("",!0),ze.value?(F(),Ze(x7,{key:2,modelValue:ze.value,"onUpdate:modelValue":xe[12]||(xe[12]=ue=>ze.value=ue),selectedCategory:Je.value,officeEquipments:de(I).officeEquipments,officeSupplies:de(I).officeSupplies,equipmentCopies:de(I).equipmentCopies,onClick:xe[13]||(xe[13]=nt(()=>{},["stop"]))},null,8,["modelValue","selectedCategory","officeEquipments","officeSupplies","equipmentCopies"])):we("",!0),v.value?(F(),Ze(Mu,{key:3,modelValue:v.value,"onUpdate:modelValue":xe[14]||(xe[14]=ue=>v.value=ue),onClick:xe[15]||(xe[15]=()=>{}),stop:""},null,8,["modelValue"])):we("",!0)]))]))}},Q7={class:""},Z7={class:"border-2 mt-4 px-4 border-blue-400 dark:border-gray-800 backdrop-blur-lg bg-slate-400/50 dark:bg-black rounded-xl"},K7={class:""},J7={__name:"Categories",setup(s){G(!1);const o=G(!1),d=G(!1);return(u,h)=>(F(),se("div",Q7,[h[6]||(h[6]=l("div",{class:"sticky top-2 z-20 backdrop-blur-sm px-6 py-4 border-2 rounded-2xl bg-gray-200/45 border-blue-500/85 dark:bg-gray-800/45 dark:border-gray-300/85"},[l("h1",{class:"text-3xl ml-10 xl:ml-0 font-bold tracking-tight text-gray-950 dark:text-gray-100"}," Categories ")],-1)),l("div",Z7,[l("div",K7,[he(G7,{onOpenAddCategoryModal:h[0]||(h[0]=v=>o.value=!0),onOpenRecoverCategoryModal:h[1]||(h[1]=v=>d.value=!0)})])]),o.value?(F(),Ze(Iu,{key:0,modelValue:o.value,"onUpdate:modelValue":h[2]||(h[2]=v=>o.value=v),onClick:h[3]||(h[3]=nt(()=>{},["stop"]))},null,8,["modelValue"])):we("",!0),d.value?(F(),Ze(Mu,{key:1,modelValue:d.value,"onUpdate:modelValue":h[4]||(h[4]=v=>d.value=v),onClick:h[5]||(h[5]=nt(()=>{},["stop"]))},null,8,["modelValue"])):we("",!0)]))}},eL={key:0,class:"fixed left-0 top-0 flex h-full w-full items-center justify-center bg-black/55 px-4 py-5 z-50"},tL={class:"px-5 text-start max-h-[69vh] overflow-y-auto"},sL={class:"flex flex-row"},rL={class:"text-red-700 ml-2 font-semibold italic"},aL={class:"relative ml-2 mb-2"},iL={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},oL={class:"flex flex-row"},nL={class:"text-red-700 ml-2 font-semibold italic"},lL={class:"relative ml-2"},cL={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},dL={class:"flex flex-row"},uL={class:"text-red-700 ml-2 font-semibold italic"},hL={class:"relative mb-2"},fL={class:"absolute inset-y-0 start-2 flex items-center ps-3.5 pointer-events-none"},pL={class:"pr-2"},gL=["value"],mL={class:"-mx-3 flex flex-wrap mt-4"},vL={class:"w-1/2 px-3"},Tu={__name:"AddBorrowerModal",props:{modelValue:Boolean,officeList:Object},emits:["update:modelValue","confirmDelete"],setup(s,{emit:o}){const d=qt(),u=G(!1),h=s,v=G(!1),m=Q=>{Q&&D()},y=o,k=G(null),I=()=>{y("update:modelValue",!1)},L=Q=>{k.value&&!k.value.contains(Q.target)&&I()};gt(()=>{document.addEventListener("click",L)}),Nt(()=>{document.removeEventListener("click",L)});const E=G(""),P=G(""),$=G(null),D=async()=>{try{u.value=!0;const Q={id:d.borrowers.length+1,borrowers_name:E.value,borrowers_contact:P.value,office_id:$.value,is_deleted:0,deleted_by:null};d.addBorrower(Q),await new Promise(Y=>setTimeout(Y,500))}catch(Q){console.error("Error adding borrower:",Q),pt.emit("show-toast",{message:"Error adding borrower. Please try again.",type:"error"})}finally{u.value=!1,pt.emit("show-toast",{message:"Borrower added successfully!",type:"success"}),I()}},N=G({borrowerName:[],borrowerContact:[],selectedOffice:[]}),R=()=>{Object.keys(N.value).forEach(Y=>{N.value[Y]=[]});let Q=!1;return E.value||(N.value.borrowerName=["Borrower name is required"],Q=!0),P.value?/^(09|\+63)[0-9]{9}$/.test(P.value)||(N.value.borrowerContact=["Contact number must start with 09 or +63 followed by 9 digits"],Q=!0):(N.value.borrowerContact=["Contact number is required"],Q=!0),$.value||(N.value.selectedOffice=["Office is required"],Q=!0),!Q};it(()=>E.value,Q=>{Q?N.value.borrowerName=[]:N.value.borrowerName=["Borrower name is required"]}),it(()=>P.value,Q=>{Q?/^(09|\+63)[0-9]{9}$/.test(Q)?N.value.borrowerContact=[]:N.value.borrowerContact=["Contact number must start with 09 or +63 followed by 9 digits"]:N.value.borrowerContact=["Contact number is required"]}),it(()=>$.value,Q=>{Q?N.value.selectedOffice=[]:N.value.selectedOffice=["Office is required"]});const H=()=>{if(R())v.value=!0;else return};return(Q,Y)=>{var q;return s.modelValue?(F(),se("div",eL,[u.value?(F(),Ze(Ht,{key:0})):(F(),se("div",{key:1,ref_key:"modalContainer",ref:k,class:"w-full max-w-[650px] max-h-[90vh] rounded-[20px] bg-white px-8 py-8 text-center border border-4 dark:bg-gray-950 dark:border-gray-100"},[Y[8]||(Y[8]=l("h3",{class:"text-3xl font-semibold mb-4"}," Add Borrower ",-1)),l("div",tL,[l("div",sL,[Y[5]||(Y[5]=l("label",{class:"block mb-2 text font-medium text-gray-900 dark:text-gray-200"},"Borrower Name:",-1)),l("p",rL,pe(N.value.borrowerName?N.value.borrowerName[0]:""),1)]),l("div",aL,[l("div",iL,[he(de(fs))]),Xe(l("input",{type:"text","onUpdate:modelValue":Y[0]||(Y[0]=S=>E.value=S),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Ex. Juan Dela Cruz"},null,512),[[ht,E.value]])]),l("div",oL,[Y[6]||(Y[6]=l("label",{class:"block mb-2 text font-medium text-gray-900 dark:text-gray-200"},"Borrower Contact:",-1)),l("p",nL,pe(N.value.borrowerContact?N.value.borrowerContact[0]:""),1)]),l("div",lL,[l("div",cL,[he(de(fs))]),Xe(l("input",{type:"tel","onUpdate:modelValue":Y[1]||(Y[1]=S=>P.value=S),pattern:"(09|\\+63)[0-9]{9}",maxlength:"13",oninput:"this.value = this.value.replace(/[^0-9+]/g, '')",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Ex. 09123456789"},null,512),[[ht,P.value]])]),l("div",dL,[Y[7]||(Y[7]=l("label",{class:"block mb-2 text font-medium text-gray-900 dark:text-gray-200"},"Borrower Office:",-1)),l("p",uL,pe(N.value.selectedOffice?N.value.selectedOffice[0]:""),1)]),l("div",hL,[l("div",fL,[he(de(_a))]),l("div",pL,[Xe(l("select",{"onUpdate:modelValue":Y[2]||(Y[2]=S=>$.value=S),class:"border rounded-lg ml-2 w-full text-sm pl-9 dark:text-gray-100 h-10 dark:bg-gray-700 dark:border-gray-600"},[(F(!0),se(ft,null,yt(h.officeList,S=>(F(),se("option",{key:S.id,value:S.id,class:"hover:bg-gray-100"},pe(S.office_name),9,gL))),128))],512),[[ka,$.value]])])])]),l("div",mL,[l("div",{class:"w-1/2 px-3"},[l("button",{onClick:I,class:"block w-full rounded-md border border-stroke p-3 text-center text-base font-medium text-dark transition bg-gray-300 hover:border-red-800 hover:bg-red-800 hover:text-white dark:text-black"}," Cancel ")]),l("div",vL,[l("button",{onClick:Y[3]||(Y[3]=S=>H()),class:"block w-full rounded-md border bg-primary p-3 text-center text-base font-medium text-white transition bg-green-700 hover:border-green-600 hover:bg-green-600 hover:text-white dark:text-white dark:border-green-700 dark:hover:border-green-400"}," Add Borrower ")])]),he(rs,{modelValue:v.value,"onUpdate:modelValue":Y[4]||(Y[4]=S=>v.value=S),title:"Confirm Addition",message:"You are about to add this borrower.",messageData:`
Borrower Name: ${E.value}
Borrower Contact: ${P.value}
Borrower Office: ${((q=h.officeList.find(S=>S.id===$.value))==null?void 0:q.office_name)||"Unknown Office"}`,cancelText:"Cancel",confirmText:"Confirm Adding",onConfirm:m},null,8,["modelValue","messageData"])],512))])):we("",!0)}}},bL={key:0,class:"fixed left-0 top-0 flex h-full w-full items-center justify-center bg-black/55 px-4 py-5 z-50"},xL={class:"px-5 text-start max-h-[69vh] overflow-y-auto"},yL={class:"flex flex-row"},wL={class:"text-red-700 ml-2 font-semibold italic"},kL={class:"relative ml-2 mb-2"},CL={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},_L={class:"flex flex-row"},SL={class:"text-red-700 ml-2 font-semibold italic"},AL={class:"relative ml-2"},LL={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},EL={class:"flex flex-row"},PL={class:"text-red-700 ml-2 font-semibold italic"},IL={class:"relative mb-2"},ML={class:"absolute inset-y-0 start-2 flex items-center ps-3.5 pointer-events-none"},TL={class:"pr-2"},OL=["value"],$L={class:"-mx-3 flex flex-wrap mt-4"},RL={class:"w-1/2 px-3"},DL={__name:"UpdateBorrowerModal",props:{modelValue:Boolean,officeList:Object,borrower:Object},emits:["update:modelValue","confirmDelete"],setup(s,{emit:o}){const d=qt(),u=G(!1),h=s,v=G(!1),m=Q=>{Q&&D()},y=o,k=G(null),I=()=>{y("update:modelValue",!1)},L=Q=>{k.value&&!k.value.contains(Q.target)&&I()};gt(()=>{document.addEventListener("click",L)}),Nt(()=>{document.removeEventListener("click",L)});const E=G(""),P=G(""),$=G(null);it(()=>h.borrower,Q=>{if(Q){E.value=Q.borrowers_name,P.value=Q.contact_number;const Y=h.officeList.find(q=>q.office_name===Q.office_name);$.value=Y?Y.id:null}},{immediate:!0});const D=async()=>{try{u.value=!0;const Q={id:h.borrower.id,borrowers_name:E.value,borrowers_contact:P.value,office_id:$.value};console.log("Add copy data sent: ",Q),d.updateBorrower(Q),await new Promise(Y=>setTimeout(Y,500))}catch(Q){console.error("Error updating borrower:",Q),pt.emit("show-toast",{message:"Error borrower. Please try again.",type:"error"})}finally{u.value=!1,pt.emit("show-toast",{message:"Borrower updated successfully!",type:"success"}),I()}},N=G({borrowerName:[],borrowerContact:[],selectedOffice:[]}),R=()=>{Object.keys(N.value).forEach(Y=>{N.value[Y]=[]});let Q=!1;return E.value||(N.value.borrowerName=["Borrower name is required"],Q=!0),P.value||(N.value.borrowerContact=["Contact number is required"],Q=!0),$.value||(N.value.selectedOffice=["Office is required"],Q=!0),!Q};it(()=>E.value,Q=>{Q?N.value.borrowerName=[]:N.value.borrowerName=["Borrower name is required"]}),it(()=>P.value,Q=>{Q?/^(09|\+63)[0-9]{9}$/.test(Q)?N.value.borrowerContact=[]:N.value.borrowerContact=["Contact number must start with 09 or +63 followed by 9 digits"]:N.value.borrowerContact=["Contact number is required"]}),it(()=>$.value,Q=>{Q?N.value.selectedOffice=[]:N.value.selectedOffice=["Office is required"]});const H=()=>{if(R())v.value=!0;else return};return(Q,Y)=>{var q;return s.modelValue?(F(),se("div",bL,[u.value?(F(),Ze(Ht,{key:0})):(F(),se("div",{key:1,ref_key:"modalContainer",ref:k,class:"w-full max-w-[650px] max-h-[90vh] rounded-[20px] bg-white px-8 py-8 text-center border border-4 dark:bg-gray-950 dark:border-gray-100"},[Y[8]||(Y[8]=l("h3",{class:"text-3xl font-semibold mb-4"}," Update Borrower ",-1)),l("div",xL,[l("div",yL,[Y[5]||(Y[5]=l("label",{class:"block mb-2 text font-medium text-gray-900 dark:text-gray-200"},"Borrower Name:",-1)),l("p",wL,pe(N.value.borrowerName?N.value.borrowerName[0]:""),1)]),l("div",kL,[l("div",CL,[he(de(fs))]),Xe(l("input",{type:"text","onUpdate:modelValue":Y[0]||(Y[0]=S=>E.value=S),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Ex. Juan Dela Cruz"},null,512),[[ht,E.value]])]),l("div",_L,[Y[6]||(Y[6]=l("label",{class:"block mb-2 text font-medium text-gray-900 dark:text-gray-200"},"Borrower Contact:",-1)),l("p",SL,pe(N.value.borrowerContact?N.value.borrowerContact[0]:""),1)]),l("div",AL,[l("div",LL,[he(de(fs))]),Xe(l("input",{type:"tel","onUpdate:modelValue":Y[1]||(Y[1]=S=>P.value=S),pattern:"(09|\\+63)[0-9]{9}",maxlength:"13",oninput:"this.value = this.value.replace(/[^0-9+]/g, '')",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Ex. 09123456789"},null,512),[[ht,P.value]])]),l("div",EL,[Y[7]||(Y[7]=l("label",{class:"block mb-2 text font-medium text-gray-900 dark:text-gray-200"},"Borrower Office:",-1)),l("p",PL,pe(N.value.selectedOffice?N.value.selectedOffice[0]:""),1)]),l("div",IL,[l("div",ML,[he(de(_a))]),l("div",TL,[Xe(l("select",{"onUpdate:modelValue":Y[2]||(Y[2]=S=>$.value=S),class:"border rounded-lg ml-2 w-full text-sm pl-9 dark:text-gray-100 h-10 dark:bg-gray-700 dark:border-gray-600"},[(F(!0),se(ft,null,yt(h.officeList,S=>(F(),se("option",{key:S.id,value:S.id,class:"hover:bg-gray-100"},pe(S.office_name),9,OL))),128))],512),[[ka,$.value]])])])]),l("div",$L,[l("div",{class:"w-1/2 px-3"},[l("button",{onClick:I,class:"block w-full rounded-md border border-stroke p-3 text-center text-base font-medium text-dark transition bg-gray-300 hover:border-red-800 hover:bg-red-800 hover:text-white dark:text-black"}," Cancel ")]),l("div",RL,[l("button",{onClick:Y[3]||(Y[3]=S=>H()),class:"block w-full rounded-md border bg-primary p-3 text-center text-base font-medium text-white transition bg-green-700 hover:border-green-600 hover:bg-green-600 hover:text-white dark:text-white dark:border-green-700 dark:hover:border-green-400"}," Update Borrower ")])]),he(rs,{modelValue:v.value,"onUpdate:modelValue":Y[4]||(Y[4]=S=>v.value=S),title:"Confirm Update",message:"You are about to update this borrower.",messageData:`
Borrower Name: ${E.value}
Borrower Contact: ${P.value}
Borrower Office: ${((q=s.officeList.find(S=>S.id===$.value))==null?void 0:q.office_name)||"Unknown Office"}`,cancelText:"Cancel",confirmText:"Confirm Update",onConfirm:m},null,8,["modelValue","messageData"])],512))])):we("",!0)}}},NL={key:0,class:"fixed left-0 top-0 flex h-full w-full items-center justify-center bg-black/55 px-4 py-5 z-50"},zL={class:"w-full px-5 mb-4"},BL={class:"flex items-center"},FL={class:"relative w-full"},HL={key:0,class:"flex items-center justify-center lg:px-5 text-start max-h-[69vh] w-full overflow-y-auto"},VL={class:"border w-fit max-w-[900px] lg:max-w-full overflow-y-auto lg:mx-10 my-1 pb-1 rounded-lg dark:border-gray-700"},UL={class:"w-full"},qL={class:"text-center dark:bg-gray-800"},jL={class:"pl-3 pt-2 py-1"},XL={class:"flex items-center cursor-pointer select-none text-dark dark:text-white"},YL={class:"relative"},WL={class:"w-full"},GL={class:"w-full text-center items-center justify-center border-t"},QL={class:"pl-3 pt-1 w-10"},ZL={class:"flex items-center cursor-pointer select-none text-dark dark:text-white"},KL={class:"relative"},JL=["onChange"],eE={class:"text-center"},tE={class:"text-center"},sE={class:"text-center"},rE={class:"text-center"},aE={key:1,class:"px-5 text-start max-h-[69vh] overflow-y-auto"},iE={class:"-mx-3 flex flex-wrap mt-4"},oE={class:"w-1/2 px-3"},nE={class:"w-1/2 px-3"},Ou={__name:"RecoverBorrowerModal",props:{modelValue:Boolean},emits:["update:modelValue","confirmDelete"],setup(s,{emit:o}){const d=qt(),u=G(!1),h=o,v=()=>{const q=E.value.filter(S=>S.is_selected);console.log("Selected Offices:",q),q.length>0?m.value=!0:console.log("Please select at least one borrower to recover.")},m=G(!1),y=G(null),k=()=>{h("update:modelValue",!1)},I=q=>{y.value&&!y.value.contains(q.target)&&k()};gt(()=>{document.addEventListener("click",I)}),Nt(()=>{document.removeEventListener("click",I)});const L=G([]),E=G([]);gt(()=>{d.fetchData(),L.value=d.borrowers.filter(q=>q.is_deleted===1).map(q=>{var S;return{...q,is_selected:!1,office_name:((S=d.officeList.find(K=>K.id===q.office_id))==null?void 0:S.office_name)||"N/A"}}),E.value=L.value,console.log("Filtered Deleted Borrowers:",E.value)});const P=async()=>{try{u.value=!0;const q=E.value.filter(S=>S.is_selected);if(q.length===0){pt.emit("show-toast",{message:"Please select borrower to recover.",type:"error"});return}for(const S of q){const K={borrowers_name:S.borrowers_name,borrowers_contact:S.borrowers_contact,office_id:S.office_id,is_deleted:0,deleted_by:null};console.log("Recovering borrower data sent: ",K),d.restoreBorrower(S.id,K),await new Promise(ae=>setTimeout(ae,500))}}catch(q){console.error("Error updating borrowers:",q),pt.emit("show-toast",{message:"Error recovering borrowers. Please try again.",type:"error"})}finally{u.value=!1,pt.emit("show-toast",{message:"Selected borrowers recovered successfully!",type:"success"}),k()}},$=q=>{E.value=E.value.map(K=>({...K,is_selected:K.id===q?!K.is_selected:K.is_selected}));const S=E.value.every(K=>K.is_selected);D.value=S},D=G(!1),N=()=>{D.value?(D.value=!1,E.value=E.value.map(q=>({...q,is_selected:!1}))):(D.value=!0,E.value=E.value.map(q=>({...q,is_selected:!0})))},R=G(""),H=Ve(()=>d.borrowers.filter(q=>q.is_deleted===1&&(q.borrowers_name.toLowerCase().includes(R.value.toLowerCase())||q.borrowers_contact.toLowerCase().includes(R.value.toLowerCase())||q.office_name.toLowerCase().includes(R.value.toLowerCase()))));it(H,q=>{E.value=q.map(S=>{var K;return{...S,is_selected:!1,office_name:((K=d.officeList.find(ae=>ae.id===S.office_id))==null?void 0:K.office_name)||"N/A"}})});const Q=q=>{P(),m.value=!1},Y=q=>q?new Date(q).toLocaleDateString():"N/A";return(q,S)=>s.modelValue?(F(),se("div",NL,[u.value?(F(),Ze(Ht,{key:0})):(F(),se("div",{key:1,ref_key:"modalContainer",ref:y,class:"w-full max-w-[90vw] max-h-[90vh] rounded-[20px] bg-white px-8 py-8 text-center border-4 dark:bg-gray-950 dark:border-gray-100"},[S[13]||(S[13]=l("h3",{class:"text-3xl font-semibold mb-4"}," Recover Borrowers ",-1)),l("div",zL,[l("form",BL,[S[7]||(S[7]=l("label",{for:"simple-search",class:"sr-only"},"Search",-1)),l("div",FL,[S[6]||(S[6]=l("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[l("svg",{"aria-hidden":"true",class:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),Xe(l("input",{"onUpdate:modelValue":S[0]||(S[0]=K=>R.value=K),type:"text",id:"simple-search",class:"bg-gray-50 border border-gray-500 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full pl-10 p-2 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Search borrowers..."},null,512),[[ht,R.value]])])])]),E.value.length>0?(F(),se("div",HL,[l("div",VL,[l("table",UL,[l("thead",null,[l("tr",qL,[l("th",jL,[l("label",XL,[l("div",YL,[l("input",{type:"checkbox",class:"sr-only",onChange:S[1]||(S[1]=K=>N())},null,32),D.value?(F(),Ze(de(rr),{key:0,class:"w-7 h-7"})):(F(),Ze(de(sr),{key:1,class:"w-7 h-7"}))])])]),S[8]||(S[8]=l("th",{class:"px-2"},"Borrowers Name",-1)),S[9]||(S[9]=l("th",{class:"px-2"},"Borrowers Contact",-1)),S[10]||(S[10]=l("th",{class:"px-2"},"Office Name",-1)),S[11]||(S[11]=l("th",{class:"px-2"},"Date Deleted",-1))])]),l("tbody",WL,[(F(!0),se(ft,null,yt(E.value,K=>(F(),se("tr",GL,[l("td",QL,[l("label",ZL,[l("div",KL,[l("input",{type:"checkbox",class:"sr-only",onChange:ae=>$(K.id)},null,40,JL),K.is_selected?(F(),Ze(de(rr),{key:0,class:"w-7 h-7"})):(F(),Ze(de(sr),{key:1,class:"w-7 h-7"}))])])]),l("td",eE,pe(K.borrowers_name),1),l("td",tE,pe(K.borrowers_contact),1),l("td",sE,pe(K.office_name),1),l("td",rE,pe(Y(K.updated_at)),1)]))),256))])])])])):(F(),se("div",aE,S[12]||(S[12]=[l("p",{class:"text-gray-500 dark:text-gray-400"},"No available borrowers to recover.",-1)]))),l("div",iE,[l("div",oE,[l("button",{onClick:S[2]||(S[2]=K=>k()),class:"block w-full rounded-md border border-stroke p-3 text-center text-base font-medium text-dark transition bg-gray-300 hover:border-red-800 hover:bg-red-800 hover:text-white dark:text-black"}," Cancel ")]),l("div",nE,[l("button",{onClick:S[3]||(S[3]=K=>v()),class:"block w-full rounded-md border bg-primary p-3 text-center text-base font-medium text-white transition bg-green-700 hover:border-green-600 hover:bg-green-600 hover:text-white dark:text-white dark:border-green-700 dark:hover:border-green-400"}," Recover Selected Borrowers ")])]),he(rs,{modelValue:m.value,"onUpdate:modelValue":S[4]||(S[4]=K=>m.value=K),title:"Confirm Recovery",message:"",messageData:`
Are you sure you want to recover the selected borrowers?`,confirmText:"Confirm Recovery",onConfirm:S[5]||(S[5]=K=>Q())},null,8,["modelValue"])],512))])):we("",!0)}},lE={key:0,class:"h-[72vh] flex flex-col items-center justify-center"},cE={key:1,class:"h-[72vh] flex flex-col items-center justify-center bg-black/60"},dE={key:2,class:"overflow-x-auto"},uE={class:"grid grid-cols-3 lg:grid-cols-8 gap-2 items-center justify-between md:space-y-0 md:space-x-4 p-4"},hE={class:"col-span-3 lg:col-span-5 w-full"},fE={class:"flex items-center"},pE={class:"relative w-full"},gE={class:"rounded-lg min-h-[59vh] max-h-[60vh] md:max-h-[65vh] xl:max-h-[68vh] 2xl:xl:max-h-[70vh] overflow-auto [scrollbar-width:thin] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden bg-gray-200 dark:bg-gray-900"},mE={class:"w-full text-sm text-center text-gray-500 dark:text-gray-400"},vE={class:"sticky top-0 z-10"},bE={class:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-200 uppercase text-center text-xs rounded-lg"},xE={key:0,class:"border-b border-gray-400 dark:border-gray-700"},yE={class:"px-4 py-3"},wE={class:"px-4 py-3"},kE={class:"px-4 py-3"},CE=["title"],_E={class:"px-4 py-3"},SE=["onClick"],AE={class:"flex items-center gap-2"},LE={class:"px-4 py-3 flex items-center justify-center relative"},EE=["onClick"],PE={class:"text-sm text-gray-700 dark:text-gray-200"},IE={class:"block hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},ME={class:"block hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},TE={key:0,class:"flex flex-col md:flex-row justify-between items-start md:items-center space-y-3 md:space-y-0 p-4","aria-label":"Table navigation"},OE={class:"text-sm font-normal text-gray-500 dark:text-gray-400"},$E={class:"font-semibold text-gray-900 dark:text-white"},RE={class:"font-semibold text-gray-900 dark:text-white"},DE={class:"inline-flex items-stretch -space-x-px"},NE=["disabled"],zE=["onClick"],BE=["disabled"],FE={__name:"BorrowersTable",emits:["open-add-borrower-modal","open-recover-borrower-modal"],setup(s,{emit:o}){const d=js(),u=Ve(()=>d.user),h=Ur(),v=qt();gt(()=>{v.fetchData()});const m=o,y=()=>{m("open-recover-borrower-modal")},k=()=>{S.value=!0},I=G(!1),L=G(""),E=Ve(()=>v.borrowers.filter(xe=>!xe.is_deleted).filter(xe=>{const ue=v.officeList.find(ge=>ge.id===xe.office_id),Re=xe.borrowers_name.toLowerCase(),bt=xe.borrowers_contact.toLowerCase(),ot=ue?ue.office_name.toLowerCase():"unknown",Pe=L.value.toLowerCase();return Re.includes(Pe)||bt.includes(Pe)||ot.includes(Pe)||xe.id.toString().includes(Pe)}).map(xe=>{const ue=v.officeList.find(Re=>Re.id===xe.office_id);return{id:xe.id,borrowers_name:xe.borrowers_name,contact_number:xe.borrowers_contact,office_name:ue?ue.office_name:"Unknown"}}));it(L,()=>{P.value=1});const P=G(1),$=G(8),D=Ve(()=>Math.ceil(E.value.length/$.value)),N=Ve(()=>[...E.value].sort((ue,Re)=>{const bt=(ge,je)=>{var ke,ie,ye;switch(je){case"id":return ge.id;case"borrowers_name":return((ke=ge.borrowers_name)==null?void 0:ke.toLowerCase())||"";case"contact_number":return((ie=ge.contact_number)==null?void 0:ie.toLowerCase())||"";case"office":return((ye=ge.office_name)==null?void 0:ye.toLowerCase())||"";default:return""}},ot=bt(ue,Ae.value),Pe=bt(Re,Ae.value);return ot<Pe?Ie.value==="asc"?-1:1:ot>Pe?Ie.value==="asc"?1:-1:0})),R=Ve(()=>{const xe=(P.value-1)*$.value,ue=xe+$.value;return N.value.slice(xe,ue)}),H=()=>{P.value<D.value&&P.value++},Q=()=>{P.value>1&&P.value--},Y=xe=>{xe>=1&&xe<=D.value&&(P.value=xe)},q=Ve(()=>{const ue=[];ue.push(1);let Re=Math.max(2,P.value-2),bt=Math.min(D.value-1,P.value+2);P.value-2>2&&ue.push("...");for(let ot=Re;ot<=bt;ot++)ue.push(ot);return P.value+2<D.value-1&&ue.push("..."),D.value>1&&ue.push(D.value),ue}),S=G(!1),K=G(null),ae=xe=>{K.value=K.value===xe?null:xe},B=G(!1),te=()=>{B.value=!0},fe=G(!1),Te=async(xe,ue)=>{{Ne.value=!0;try{v.deleteBorrower(ue,u.value.id),await new Promise(Re=>setTimeout(Re,500))}catch(Re){console.error("Error deleting borrower:",Re),pt.emit("show-toast",{message:"Error deleting borrower. Please try again.",type:"error"}),Ne.value=!1}finally{fe.value=!1,Ne.value=!1,pt.emit("show-toast",{message:"Borrower deleted successfully!",type:"success"})}}},Ae=G("id"),Ie=G("asc"),Ee=xe=>{P.value=1,Ae.value===xe?Ie.value=Ie.value==="asc"?"desc":"asc":(Ae.value=xe,Ie.value="asc")},Ne=G(!1),Me=Ve(()=>v.transactionItems.length===0||v.transactionHistory.length===0||v.officeEquipments.length===0||v.officeSupplies.length===0||v.officeList.length===0||v.users.length===0||v.borrowers.length===0||v.equipmentCopies.length===0||v.categoryList.length===0||v.inventoryAccesses.length===0),ze=async()=>{const xe=window.open("","_blank","width=800,height=600");await new Promise(ue=>{const Re=new Image;Re.src=gs,Re.onload=ue,Re.onerror=ue}),await new Promise(ue=>{setTimeout(ue,100)}),xe.document.write(`
    <html>
        <head>
            <title>Printed Borrowers Reports</title>
            <style>
                body { font-family: Arial, sans-serif; }
                table { 
                    width: 100%; 
                    border-collapse: collapse; 
                    margin-bottom: 20px; 
                }
                th, td { 
                    border: 1px solid #ddd; 
                    padding: 8px; 
                    text-align: left; 
                }
                th { 
                    background-color: #f2f2f2; 
                    font-weight: bold; 
                }
                .print-header {
                    text-align: center;
                    margin-bottom: 20px;
                }
            </style>
        </head>
        <body>
            <div class="print-header">
                <img src="${gs}" alt="Logo" style="width: 100px; height: auto; display: block; margin: 20px auto;">
                <h1>Borrowers Management - Printed Report</h1>
                <p>Printed on: ${new Date().toLocaleString()}</p>
            </div>
            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Borrower Name</th>
                        <th>Contact Number</th>
                        <th>Office</th>
                    </tr>
                </thead>
                <tbody>
                    ${E.value.map(ue=>`
                        <tr>
                            <td>${ue.id}</td>
                            <td>${ue.borrowers_name}</td>
                            <td>${ue.contact_number}</td>
                            <td>${ue.office_name}</td>
                        </tr>
                    `).join("")}
                </tbody>
            </table>
            <div class="print-footer">
                <p>Total Borrowers: ${E.value.length}</p>
            </div>
        </body>
    </html>
`),xe.document.close(),await new Promise(ue=>setTimeout(ue,500)),xe.print(),xe.onafterprint=()=>{xe.close()}},Je=xe=>v.transactionHistory.filter(ue=>ue.borrower_id===xe&&ue.return_date===null).length,Ye=G(null),st=xe=>{Ye.value=xe,h.push({name:"Transactions",query:{borrower_id:Ye.value.id}})};return(xe,ue)=>(F(),se("div",null,[Me.value?(F(),se("div",lE,[he(Ht),ue[15]||(ue[15]=l("p",{class:"text-gray-500 dark:text-gray-400"},"Fetching data...",-1))])):Ne.value?(F(),se("div",cE,[he(Ht)])):(F(),se("div",dE,[l("div",uE,[l("div",hE,[l("form",fE,[ue[17]||(ue[17]=l("label",{for:"simple-search",class:"sr-only"},"Search",-1)),l("div",pE,[ue[16]||(ue[16]=l("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[l("svg",{"aria-hidden":"true",class:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),Xe(l("input",{"onUpdate:modelValue":ue[0]||(ue[0]=Re=>L.value=Re),type:"text",id:"simple-search",class:"bg-gray-50 border border-gray-500 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full pl-10 p-2 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Search equipment copies..."},null,512),[[ht,L.value]])])])]),l("button",{onClick:nt(k,["stop"]),class:"col-span-1 w-full h-full flex items-center justify-center border px-2 py-1 rounded-lg button-default-green"},[he(de(ir),{class:"w-8 h-8"}),ue[18]||(ue[18]=l("p",{class:"ml-1"},"Add Borrower",-1))]),l("button",{onClick:ze,class:"col-span-1 lg:col-span-1 w-full h-full flex items-center justify-center border px-2 py-1 rounded-lg button-default-green"},[he(de(Pa),{class:"w-8 h-8"}),ue[19]||(ue[19]=l("p",{class:"ml-1 text-sm"},"Print Borrowers",-1))]),l("button",{onClick:ue[1]||(ue[1]=nt(Re=>y(),["stop"])),class:"col-span-1 w-full h-full flex items-center justify-center border px-2 py-1 rounded-lg button-default-green"},[he(de(ao),{class:"w-8 h-8"}),ue[20]||(ue[20]=l("p",{class:"ml-1"},"Recover Borrowers",-1))])]),l("div",gE,[l("table",mE,[l("thead",vE,[l("tr",bE,[l("th",{class:"py-3 px-2 cursor-pointer",onClick:ue[2]||(ue[2]=Re=>Ee("id"))},[he(hs,{label:"ID",field:"id",sortBy:Ae.value,sortDirection:Ie.value},null,8,["sortBy","sortDirection"])]),l("th",{class:"py-3 px-2 cursor-pointer",onClick:ue[3]||(ue[3]=Re=>Ee("borrowers_name"))},[he(hs,{label:"Borrower Name",field:"borrowers_name",sortBy:Ae.value,sortDirection:Ie.value},null,8,["sortBy","sortDirection"])]),l("th",{class:"py-3 px-2 cursor-pointer",onClick:ue[4]||(ue[4]=Re=>Ee("contact_number"))},[he(hs,{label:"Contact Number",field:"contact_number",sortBy:Ae.value,sortDirection:Ie.value},null,8,["sortBy","sortDirection"])]),l("th",{class:"py-3 px-2 cursor-pointer",onClick:ue[5]||(ue[5]=Re=>Ee("office"))},[he(hs,{label:"Office",field:"office",sortBy:Ae.value,sortDirection:Ie.value},null,8,["sortBy","sortDirection"])]),ue[21]||(ue[21]=l("th",{class:"py-3"},"Transactions",-1)),ue[22]||(ue[22]=l("th",{class:"py-3"},"Actions",-1))])]),l("tbody",null,[R.value.length===0?(F(),se("tr",xE,ue[23]||(ue[23]=[l("td",{colspan:"6",class:"px-4 py-6 text-center text-gray-500 dark:text-gray-400"}," No borrowers found ",-1)]))):we("",!0),(F(!0),se(ft,null,yt(R.value,Re=>{var bt,ot;return F(),se("tr",{key:Re.id,class:"border-b font-medium border-gray-400 dark:border-gray-700 text-gray-600 dark:text-gray-300 odd:bg-gray-300 odd:dark:bg-gray-900 even:bg-gray-100 even:dark:bg-gray-800 dark:hover:bg-gray-700 dark:hover:text-white"},[l("td",yE,pe(Re.id),1),l("td",wE,pe(Re.borrowers_name),1),l("td",kE,pe(Re.contact_number),1),l("td",{class:"px-4 py-3 min-w-[100px] max-w-[150px] overflow-hidden text-ellipsis whitespace-nowrap",title:Re.office_name},pe(Re.office_name),9,CE),l("td",_E,[l("button",{onClick:nt(Pe=>st(Re),["stop"]),class:"items-center justify-center gap-2 mx-auto px-8 py-1.5 rounded-lg border border-gray-300 hover:border-gray-400 dark:border-gray-600 dark:hover:border-gray-400 text-gray-700 dark:text-gray-200 transition duration-150 ease-in-out"},[l("div",AE,[l("span",null,pe(((bt=de(v).transactionHistory.filter(Pe=>Pe.borrower_id===Re.id))==null?void 0:bt.length)||0),1),ue[24]||(ue[24]=l("span",{class:"text-gray-400"},"transactions",-1))]),l("div",{class:ct(["flex justify-center items-center gap-2",(((ot=de(v).transactionHistory.filter(Pe=>Pe.borrower_id===Re.id))==null?void 0:ot.length)||0)>0?"text-gray-400":"text-gray-700"])},[l("span",{class:ct({"text-red-500":Je(Re.id)>0,"text-green-500":Je(Re.id)===0})}," ( "+pe(Je(Re.id))+" Unreturned ) ",3)],2)],8,SE)]),l("td",LE,[l("button",{onClick:nt(Pe=>ae(Re.id),["stop"]),class:"inline-flex items-center p-0.5 text-sm font-medium text-gray-500 hover:text-gray-800 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100",type:"button"},[he(de(Ia),{class:"w-5 h-5"})],8,EE),K.value===Re.id?(F(),se("div",{key:0,ref_for:!0,ref:"dropdownRefs",class:"absolute z-[10] bg-white divide-gray-100 rounded-lg right-26 shadow-sm w-44 border-2 dark:border-gray-600 dark:bg-gray-800"},[l("ul",PE,[l("li",IE,[l("button",{onClick:ue[6]||(ue[6]=nt(Pe=>te(),["stop"])),class:"w-full text-start px-4 py-2"}," Update "),B.value?(F(),Ze(DL,{key:0,modelValue:B.value,"onUpdate:modelValue":ue[7]||(ue[7]=Pe=>B.value=Pe),borrower:Re,officeList:de(v).officeList,onClick:ue[8]||(ue[8]=nt(()=>{},["stop"]))},null,8,["modelValue","borrower","officeList"])):we("",!0)]),l("li",ME,[l("button",{onClick:ue[9]||(ue[9]=Pe=>fe.value=!0),class:"w-full text-start px-4 py-2"}," Delete "),he(rs,{modelValue:fe.value,"onUpdate:modelValue":ue[10]||(ue[10]=Pe=>fe.value=Pe),title:"Confirm Deletion",message:"You are about to delete this borrower.",messageData:`
Borrower Name: ${Re.borrowers_name}`,cancelText:"Cancel",confirmText:"Confirm Deleting",onConfirm:()=>Te(!0,Re.id)},null,8,["modelValue","messageData","onConfirm"])])])],512)):we("",!0)])])}),128))])])]),R.value.length>0?(F(),se("nav",TE,[l("span",OE,[ue[25]||(ue[25]=xt(" Showing ")),l("span",$E,pe((P.value-1)*$.value+1)+" - "+pe(Math.min(P.value*$.value,E.value.length)),1),ue[26]||(ue[26]=xt(" of ")),l("span",RE,pe(E.value.length),1)]),l("ul",DE,[l("li",null,[l("button",{onClick:Q,disabled:P.value===1,class:"flex items-center justify-center h-full py-1.5 px-3 ml-0 text-gray-500 bg-white rounded-l-lg border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white disabled:opacity-50 disabled:cursor-not-allowed"},ue[27]||(ue[27]=[l("span",{class:"sr-only"},"Previous",-1),l("svg",{class:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]),8,NE)]),(F(!0),se(ft,null,yt(q.value,Re=>(F(),se("li",{key:Re},[l("button",{onClick:bt=>Y(Re),class:ct(["flex items-center justify-center text-sm py-2 px-3 leading-tight border",Re===P.value?"text-primary-600 bg-primary-50 border-primary-300 hover:bg-primary-100 hover:text-primary-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white":"text-gray-500 bg-white border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"])},pe(Re),11,zE)]))),128)),l("li",null,[l("button",{onClick:H,disabled:P.value===D.value,class:"flex items-center justify-center h-full py-1.5 px-3 leading-tight text-gray-500 bg-white rounded-r-lg border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white disabled:opacity-50 disabled:cursor-not-allowed"},ue[28]||(ue[28]=[l("span",{class:"sr-only"},"Next",-1),l("svg",{class:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)]),8,BE)])])])):we("",!0),S.value?(F(),Ze(Tu,{key:1,modelValue:S.value,"onUpdate:modelValue":ue[11]||(ue[11]=Re=>S.value=Re),officeList:de(v).officeList,onClick:ue[12]||(ue[12]=nt(()=>{},["stop"]))},null,8,["modelValue","officeList"])):we("",!0),I.value?(F(),Ze(Ou,{key:2,modelValue:I.value,"onUpdate:modelValue":ue[13]||(ue[13]=Re=>I.value=Re),onClick:ue[14]||(ue[14]=nt(()=>{},["stop"]))},null,8,["modelValue"])):we("",!0)]))]))}},HE={class:""},VE={class:"border-2 mt-4 px-4 border-blue-400 dark:border-gray-800 backdrop-blur-lg bg-slate-400/50 dark:bg-black rounded-xl"},UE={key:0,class:"min-h-[88vh] flex items-center justify-center"},qE={class:""},jE={__name:"Borrowers",setup(s){const o=G(!1),d=G(!1),u=G(!1);return(h,v)=>(F(),se("div",HE,[v[6]||(v[6]=l("div",{class:"sticky top-2 z-20 backdrop-blur-sm px-6 py-4 border-2 rounded-2xl bg-gray-200/45 border-blue-500/85 dark:bg-gray-800/45 dark:border-gray-300/85"},[l("h1",{class:"text-3xl ml-10 xl:ml-0 font-bold tracking-tight text-gray-950 dark:text-gray-100"}," Borrowers ")],-1)),l("div",VE,[o.value?(F(),se("div",UE,[he(Ht)])):we("",!0),l("div",qE,[he(FE,{onOpenAddBorrowerModal:v[0]||(v[0]=m=>d.value=!0),onOpenRecoverBorrowerModal:v[1]||(v[1]=m=>u.value=!0)})])]),d.value?(F(),Ze(Tu,{key:0,modelValue:d.value,"onUpdate:modelValue":v[2]||(v[2]=m=>d.value=m),onClick:v[3]||(v[3]=nt(()=>{},["stop"]))},null,8,["modelValue"])):we("",!0),u.value?(F(),Ze(Ou,{key:1,modelValue:u.value,"onUpdate:modelValue":v[4]||(v[4]=m=>u.value=m),onClick:v[5]||(v[5]=nt(()=>{},["stop"]))},null,8,["modelValue"])):we("",!0)]))}},XE=oa(jE,[["__scopeId","data-v-24e37b80"]]),YE={key:0,class:"fixed left-0 top-0 flex h-full w-full items-center justify-center bg-black/55 px-4 py-5 z-50"},WE={class:"px-5 text-start max-h-[69vh] overflow-y-auto"},GE={class:"flex flex-row"},QE={class:"text-red-700 ml-2 font-semibold italic"},ZE={class:"relative ml-2 mb-2"},KE={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},JE={class:"relative ml-2"},e9={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},t9={class:"flex flex-row"},s9={class:"text-red-700 ml-2 font-semibold italic"},r9={class:"relative ml-2 mb-2"},a9={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},i9={class:"flex flex-row"},o9={class:"text-red-700 ml-2 font-semibold italic"},n9={class:"relative ml-2 mb-2"},l9={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},c9={class:"-mx-3 flex flex-wrap mt-4"},d9={class:"w-1/2 px-3"},$u={__name:"UpdateUsersModal",props:{modelValue:Boolean,user:Object,users:Array},emits:["update:modelValue","confirmDelete"],setup(s,{emit:o}){const d=qt();gt(()=>{d.fetchData()});const u={users:"users"},{users:h}=Object.fromEntries(Object.entries(u).map(([B,te])=>[B,Ve(()=>d[te])])),v=G(!1),m=G(""),y=G(""),k=G(""),I=G(""),L=s,E=G(!1),P=B=>{B&&H()},$=o,D=G(null),N=()=>{$("update:modelValue",!1)},R=B=>{D.value&&!D.value.contains(B.target)&&N()};gt(()=>{document.addEventListener("click",R)}),Nt(()=>{document.removeEventListener("click",R)}),it(()=>L.user,B=>{B&&(m.value=B.firstName,y.value=B.middleName,k.value=B.lastName,I.value=B.email)},{immediate:!0});const H=async()=>{var B;try{v.value=!0;const te={id:L.user.id,firstName:m.value,middleName:y.value,lastName:k.value,email:I.value,is_deleted:L.user.is_deleted,for_911:L.user.for_911,for_inventory:L.user.for_inventory,for_traffic:L.user.for_traffic};console.log("Update user data sent: ",te),d.updateUser(te),await new Promise(fe=>setTimeout(fe,500)),console.log("User updated successfully:",te)}catch(te){console.error("Error updating user:",te),console.error("Error details:",(B=te.response)==null?void 0:B.data),pt.emit("show-toast",{message:"Error updating user. Please try again.",type:"error"})}finally{v.value=!1,pt.emit("show-toast",{message:"User updated successfully!",type:"success"}),N()}},Q=G({firstName:[],middleName:[],lastName:[],email:[]}),Y=G(null),q=()=>{const B=h.value.find(te=>te.email===I.value&&te.id!==L.user.id);return B?(Y.value=B,Q.value.email=["Email is already registered by another user"],!1):(Y.value=null,Q.value.email=[],!0)},S=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,K=()=>{Object.keys(Q.value).forEach(te=>{Q.value[te]=[]});let B=!1;return m.value||(Q.value.firstName=["First name is required"],B=!0),k.value||(Q.value.lastName=["Last name is required"],B=!0),I.value?S.test(I.value)?q()||(B=!0):(Q.value.email=["Please enter a valid email address"],B=!0):(Q.value.email=["Email is required"],B=!0),!B};it(()=>m.value,B=>{B?Q.value.firstName=[]:Q.value.firstName=["First name is required"]}),it(()=>k.value,B=>{B?Q.value.lastName=[]:Q.value.lastName=["Last name is required"]}),it(()=>I.value,B=>{B?S.test(B)?q()||(Q.value.email=["Email is already registered by another user"]):Q.value.email=["Please enter a valid email address"]:Q.value.email=["Email is required"]});const ae=()=>{if(K())E.value=!0;else return};return(B,te)=>s.modelValue?(F(),se("div",YE,[v.value?(F(),Ze(Ht,{key:0})):(F(),se("div",{key:1,ref_key:"modalContainer",ref:D,class:"w-full max-w-[650px] max-h-[90vh] rounded-[20px] bg-white px-8 py-8 text-center border border-4 dark:bg-gray-950 dark:border-gray-100"},[te[10]||(te[10]=l("h3",{class:"text-3xl font-semibold mb-4"}," Update User ",-1)),l("div",WE,[l("div",GE,[te[6]||(te[6]=l("label",{class:"block mb-2 text font-medium text-gray-900 dark:text-gray-200"},"First Name:",-1)),l("p",QE,pe(Q.value.firstName?Q.value.firstName[0]:""),1)]),l("div",ZE,[l("div",KE,[he(de(To))]),Xe(l("input",{type:"text","onUpdate:modelValue":te[0]||(te[0]=fe=>m.value=fe),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Ex. Leonardo"},null,512),[[ht,m.value]])]),te[9]||(te[9]=l("label",{class:"block mb-2 text font-medium text-gray-900 dark:text-gray-200"},"Middle Name:",-1)),l("div",JE,[l("div",e9,[he(de(To))]),Xe(l("input",{type:"text","onUpdate:modelValue":te[1]||(te[1]=fe=>y.value=fe),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Ex. Wilhelm"},null,512),[[ht,y.value]])]),l("div",t9,[te[7]||(te[7]=l("label",{class:"block mb-2 text font-medium text-gray-900 dark:text-gray-200"},"Last Name:",-1)),l("p",s9,pe(Q.value.lastName?Q.value.lastName[0]:""),1)]),l("div",r9,[l("div",a9,[he(de(To))]),Xe(l("input",{type:"text","onUpdate:modelValue":te[2]||(te[2]=fe=>k.value=fe),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Ex. DiCaprio"},null,512),[[ht,k.value]])]),l("div",i9,[te[8]||(te[8]=l("label",{class:"block mb-2 text font-medium text-gray-900 dark:text-gray-200"},"Email:",-1)),l("p",o9,pe(Q.value.email?Q.value.email[0]:""),1)]),l("div",n9,[l("div",l9,[he(de(xg))]),Xe(l("input",{type:"email","onUpdate:modelValue":te[3]||(te[3]=fe=>I.value=fe),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Ex. example@gmail.com"},null,512),[[ht,I.value]])])]),l("div",c9,[l("div",{class:"w-1/2 px-3"},[l("button",{onClick:N,class:"block w-full rounded-md border border-stroke p-3 text-center text-base font-medium text-dark transition bg-gray-300 hover:border-red-800 hover:bg-red-800 hover:text-white dark:text-black"}," Cancel ")]),l("div",d9,[l("button",{onClick:te[4]||(te[4]=fe=>ae()),class:"block w-full rounded-md border bg-primary p-3 text-center text-base font-medium text-white transition bg-green-700 hover:border-green-600 hover:bg-green-600 hover:text-white dark:text-white dark:border-green-700 dark:hover:border-green-400"}," Update ")])]),he(rs,{modelValue:E.value,"onUpdate:modelValue":te[5]||(te[5]=fe=>E.value=fe),title:"Confirm Update",message:"You are about to update this user.",messageData:`
First Name: ${m.value}
Middle Name: ${y.value||"N/A"}
Last Name: ${k.value}
Email: ${I.value}`,cancelText:"Cancel",confirmText:"Confirm Update",onConfirm:P},null,8,["modelValue","messageData"])],512))])):we("",!0)}},u9={key:0,class:"fixed left-0 top-0 flex h-full w-full items-center justify-center bg-black/55 px-4 py-5 z-50"},h9={class:"px-5 text-start max-h-[69vh] overflow-y-auto"},f9={class:"flex flex-row"},p9={class:"text-red-700 ml-2 font-semibold italic"},g9={class:"relative ml-2 mb-2"},m9={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},v9={class:"flex flex-row"},b9={class:"text-red-700 ml-2 font-semibold italic"},x9={class:"relative ml-2 mb-2"},y9={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},w9={key:0,style:{color:"red"}},k9={class:"-mx-3 flex flex-wrap mt-4"},C9={class:"w-1/2 px-3"},Ru={__name:"UpdateUsersPasswordModal",props:{modelValue:Boolean,user:Object},emits:["update:modelValue","confirmDelete"],setup(s,{emit:o}){const d=qt(),u=G(!1),h=G(""),v=G(""),m=s,y=G(!1),k=Y=>{Y&&D()},I=o,L=G(null),E=()=>{I("update:modelValue",!1)},P=Y=>{L.value&&!L.value.contains(Y.target)&&E()};gt(()=>{document.addEventListener("click",P)}),Nt(()=>{document.removeEventListener("click",P)});const $=G(""),D=async()=>{try{u.value=!0;const Y={id:m.user.id,firstName:m.user.firstName,middleName:m.user.middleName,lastName:m.user.lastName,email:m.user.email,is_deleted:m.user.is_deleted,password:h.value,for_911:m.user.for_911,for_inventory:m.user.for_inventory,for_traffic:m.user.for_traffic};console.log("Add password data sent: ",Y),d.updateUser(Y),await new Promise(q=>setTimeout(q,500)),console.log("User password updated successfully:",Y)}catch(Y){console.error("Error updating password:",Y),pt.emit("show-toast",{message:"Error updating password. Please try again.",type:"error"})}finally{u.value=!1,pt.emit("show-toast",{message:"User password updated successfully!",type:"success"}),E()}},N=G({password:[],password_confirmation:[]}),R=/^(?=.*[A-Za-z])(?=.*\d)(?=.*[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?])[A-Za-z\d!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]{8,}$/,H=()=>{Object.keys(N.value).forEach(q=>{N.value[q]=[]});let Y=!1;return h.value?(R.test(h.value)||(N.value.password=["Password must contain special characters, letters and numbers"],Y=!0),h.value.length<8&&(N.value.password=["Password must be at least 8 characters long"],Y=!0)):(N.value.password=["Password is required"],Y=!0),v.value?h.value!==v.value&&(N.value.password_confirmation=["Passwords don't match"],Y=!0):(N.value.password_confirmation=["Password confirmation is required"],Y=!0),!Y};it(()=>h.value,Y=>{N.value.password=[],Y?(R.test(Y)||(N.value.password=["Password must contain special characters,  letters and numbers"]),Y.length<8&&(N.value.password=["Password must be at least 8 characters long"])):N.value.password=["Password is required"]}),it(()=>v.value,Y=>{Y?Y!==h.value?N.value.password_confirmation=["Passwords don't match"]:N.value.password_confirmation=[]:N.value.password_confirmation=["Password confirmation is required"]});const Q=()=>{if(H())y.value=!0;else return};return(Y,q)=>s.modelValue?(F(),se("div",u9,[u.value?(F(),Ze(Ht,{key:0})):(F(),se("div",{key:1,ref_key:"modalContainer",ref:L,class:"w-full max-w-[650px] max-h-[90vh] rounded-[20px] bg-white px-8 py-8 text-center border border-4 dark:bg-gray-950 dark:border-gray-100"},[q[6]||(q[6]=l("h3",{class:"text-3xl font-semibold mb-4"}," Change Password ",-1)),l("div",h9,[l("div",f9,[q[4]||(q[4]=l("label",{class:"block mb-2 text font-medium text-gray-900 dark:text-gray-200"},"Password:",-1)),l("p",p9,pe(N.value.password?N.value.password[0]:""),1)]),l("div",g9,[l("div",m9,[he(de(Ol))]),Xe(l("input",{type:"password","onUpdate:modelValue":q[0]||(q[0]=S=>h.value=S),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Enter new password"},null,512),[[ht,h.value]])]),l("div",v9,[q[5]||(q[5]=l("label",{class:"block mb-2 text font-medium text-gray-900 dark:text-gray-200"},"Confirm Password:",-1)),l("p",b9,pe(N.value.password_confirmation?N.value.password_confirmation[0]:""),1)]),l("div",x9,[l("div",y9,[he(de(Ol))]),Xe(l("input",{type:"password","onUpdate:modelValue":q[1]||(q[1]=S=>v.value=S),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Enter password again"},null,512),[[ht,v.value]])]),$.value?(F(),se("div",w9,pe($.value),1)):we("",!0)]),l("div",k9,[l("div",{class:"w-1/2 px-3"},[l("button",{onClick:E,class:"block w-full rounded-md border border-stroke p-3 text-center text-base font-medium text-dark transition bg-gray-300 hover:border-red-800 hover:bg-red-800 hover:text-white dark:text-black"}," Cancel ")]),l("div",C9,[l("button",{onClick:q[2]||(q[2]=S=>Q()),class:"block w-full rounded-md border bg-primary p-3 text-center text-base font-medium text-white transition bg-green-700 hover:border-green-600 hover:bg-green-600 hover:text-white dark:text-white dark:border-green-700 dark:hover:border-green-400"}," Change Password ")])]),he(rs,{modelValue:y.value,"onUpdate:modelValue":q[3]||(q[3]=S=>y.value=S),title:"Change Password",message:"You are about to update this user's password.",messageData:`
First Name: ${m.user.firstName}
Middle Name: ${m.user.middleName}
Last Name: ${m.user.lastName}
Email: ${m.user.email}`,cancelText:"Cancel",confirmText:"Change Password",onConfirm:k},null,8,["modelValue","messageData"])],512))])):we("",!0)}},_9={key:0,class:"flex w-full justify-center cursor-pointer select-none text-dark dark:text-white"},S9={class:"relative"},A9=["checked","disabled"],L9={key:0,class:"animate-spin"},E9={key:1},P9={key:2},I9={__name:"AccessCheckbox",props:{invAccess:Object,userId:Number,type:String,onToggle:Function,user:Object},setup(s){const o=s,d=G(!1),u=async(h,v,m)=>{d.value=!0;try{await o.onToggle(h,v,m)}finally{d.value=!1}};return(h,v)=>{var m;return((m=s.invAccess)==null?void 0:m.user_id)===s.userId?(F(),se("label",_9,[l("div",S9,[l("input",{type:"checkbox",class:"sr-only",checked:s.invAccess[s.type]===!0,onChange:v[0]||(v[0]=y=>u(s.user,s.invAccess.id,s.type)),disabled:d.value},null,40,A9),d.value?(F(),se("div",L9,[he(de(Xp),{class:"h-6 w-6 text-blue-500"})])):s.invAccess[s.type]===!0?(F(),se("span",E9,[he(de(qa),{class:"h-6 w-6 text-green-600"})])):(F(),se("span",P9,[he(de(ja),{class:"h-6 w-6 text-red-500"})]))])])):we("",!0)}}},M9={key:0,class:"h-[62vh] flex flex-col items-center justify-center"},T9={key:1,class:"h-[62vh] flex flex-col items-center justify-center bg-black/60"},O9={key:2,class:"overflow-x-auto"},$9={class:"grid grid-cols-3 lg:grid-cols-9 gap-2 items-center justify-between md:space-x-4 p-4"},R9={class:"col-span-2 lg:col-span-5 w-full"},D9={class:"flex items-center"},N9={class:"relative w-full"},z9={class:"col-span-1 w-full relative inline-block rounded-lg text-left dark:bg-slate-700 mr-3 justify-center items-center"},B9={class:"relative"},F9=["checked","onChange"],H9={class:"box mr-4 flex h-5 w-5 items-center justify-center rounded border border-stroke dark:border-dark-3"},V9={class:"rounded-lg min-h-[59vh] max-h-[60vh] md:max-h-[65vh] xl:max-h-[68vh] 2xl:xl:max-h-[70vh] overflow-auto [scrollbar-width:thin] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden bg-gray-200 dark:bg-gray-900"},U9={class:"w-full text-sm text-center text-gray-500 dark:text-gray-400"},q9={class:"sticky top-0 z-10"},j9={class:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-200 uppercase text-center text-xs rounded-lg"},X9={key:0,class:"border-b border-gray-400 dark:border-gray-700"},Y9={class:"px-4 py-3"},W9={class:"px-4 py-3 hidden 2xl:table-cell"},G9={class:"px-4 py-3 hidden 2xl:table-cell"},Q9={class:"px-4 py-3 hidden 2xl:table-cell"},Z9={class:"px-4 py-3 block 2xl:hidden"},K9={class:"px-4 py-3"},J9={class:"min-w-30 px-1 py-1 2xl:py-2"},eP=["onClick"],tP={class:"flex items-center gap-1 text-xs 2xl:text-base"},sP={key:0,class:"px-4 py-3 text-gray-500 italic",colspan:7},rP={class:"flex flex-col justify-center items-center"},aP={class:"flex flex-row gap-2"},iP={key:0},oP={key:1},nP=["onClick"],lP={key:2,class:"px-4 py-3 text-gray-500 italic",colspan:7},cP={class:"flex flex-col justify-center items-center"},dP={class:"flex flex-row gap-2"},uP={key:0},hP={key:1},fP=["onClick"],pP={class:"px-4 py-3 flex items-center justify-center relative"},gP=["onClick"],mP={class:"text-sm text-gray-700 dark:text-gray-200"},vP={class:"block hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},bP=["onClick"],xP={class:"block hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},yP=["onClick"],wP={class:"block hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},kP={key:0,class:"flex flex-col md:flex-row justify-between items-start md:items-center space-y-3 md:space-y-0 p-4","aria-label":"Table navigation"},CP={class:"text-sm font-normal text-gray-700 dark:text-gray-400"},_P={class:"font-semibold text-gray-950 dark:text-white"},SP={class:"font-semibold text-gray-950 dark:text-white"},AP={class:"inline-flex items-stretch -space-x-px"},LP=["disabled"],EP=["onClick"],PP=["disabled"],IP={__name:"UsersTable",emits:["open-add-user-modal","open-recover-user-modal","open-give-access-modal","open-update-users-modal","open-update-users-password-modal"],setup(s,{emit:o}){const d=qt(),u=G(new Set);gt(()=>{d.fetchData()}),it(d.inventoryAccesses,ke=>{console.log("inv access",ke)});const h=G(""),v=Ve(()=>{const ke=B.value.filter(ie=>ie.isActive).map(ie=>ie.type);return ke.length===0?[]:d.users.filter(ie=>ke.includes("Active")&&!ke.includes("Archived")?!ie.is_deleted:!ke.includes("Active")&&ke.includes("Archived")?ie.is_deleted:!0).filter(ie=>{var ye,ne,le,oe,Ce;return((ye=ie==null?void 0:ie.firstName)==null?void 0:ye.toLowerCase().includes(h.value.toLowerCase()))||((ne=ie==null?void 0:ie.middleName)==null?void 0:ne.toLowerCase().includes(h.value.toLowerCase()))||((le=ie==null?void 0:ie.lastName)==null?void 0:le.toLowerCase().includes(h.value.toLowerCase()))||((oe=ie==null?void 0:ie.email)==null?void 0:oe.toLowerCase().includes(h.value.toLowerCase()))||((Ce=ie==null?void 0:ie.id)==null?void 0:Ce.toString().includes(h.value.toLowerCase()))})});it(h,()=>{m.value=1});const m=G(1),y=G(7),k=Ve(()=>Math.ceil(v.value.length/y.value)),I=Ve(()=>[...v.value].sort((ie,ye)=>{const ne=(Ce,Le)=>{var _e,rt,et,tt;switch(Le){case"id":return Ce.id;case"first_name":return((_e=Ce.firstName)==null?void 0:_e.toLowerCase())||"";case"middle_name":return((rt=Ce.middleName)==null?void 0:rt.toLowerCase())||"";case"last_name":return((et=Ce.lastName)==null?void 0:et.toLowerCase())||"";case"email":return((tt=Ce.email)==null?void 0:tt.toLowerCase())||"";default:return""}},le=ne(ie,Te.value),oe=ne(ye,Te.value);return le<oe?Ae.value==="asc"?-1:1:le>oe?Ae.value==="asc"?1:-1:0})),L=Ve(()=>{const ke=(m.value-1)*y.value,ie=ke+y.value;return I.value.slice(ke,ie)}),E=()=>{m.value<k.value&&m.value++},P=()=>{m.value>1&&m.value--},$=ke=>{ke>=1&&ke<=k.value&&(m.value=ke)},D=Ve(()=>{const ie=[];ie.push(1);let ye=Math.max(2,m.value-2),ne=Math.min(k.value-1,m.value+2);m.value-2>2&&ie.push("...");for(let le=ye;le<=ne;le++)ie.push(le);return m.value+2<k.value-1&&ie.push("..."),k.value>1&&ie.push(k.value),ie}),N=G(null),R=ke=>{N.value=N.value===ke?null:ke},H=G(!1);G(!1),G(!1);const Q=G(!1),Y=G(!1),q=async(ke,ie)=>{{Y.value=!0;const ye=d.users.find(ne=>ne.id===ie);try{d.deleteUser(ie),await new Promise(ne=>setTimeout(ne,500)),console.log("User deleted successfully:",ye)}catch(ne){console.error("Error deleting user:",ne),pt.emit("show-toast",{message:"Error deleting user. Please try again.",type:"error"}),Y.value=!1}finally{Y.value=!1,pt.emit("show-toast",{message:"User deleted successfully!",type:"success"}),Q.value=!1}}},S=G(!1),K=G(null),ae=G(null),B=G([{id:1,type:"Active",isActive:!0},{id:2,type:"Archived",isActive:!1}]),te=()=>{S.value=!S.value},fe=(ke,ie)=>{ie.stopPropagation();const ye=B.value.find(ne=>ne.id===ke);ye&&(ye.isActive=!ye.isActive)},Te=G("id"),Ae=G("asc"),Ie=ke=>{m.value=1,Te.value===ke?Ae.value=Ae.value==="asc"?"desc":"asc":(Te.value=ke,Ae.value="asc")},Ee=Ve(()=>d.transactionItems.length===0||d.transactionHistory.length===0||d.officeEquipments.length===0||d.officeSupplies.length===0||d.officeList.length===0||d.users.length===0||d.borrowers.length===0||d.equipmentCopies.length===0||d.categoryList.length===0||d.inventoryAccesses.length===0),Ne=async()=>{const ke=window.open("","_blank","width=800,height=600");await new Promise(ie=>{const ye=new Image;ye.src=gs,ye.onload=ie,ye.onerror=ie}),await new Promise(ie=>{setTimeout(ie,100)}),ke.document.write(`
    <html>
        <head>
            <title>Printed Users Reports</title>
            <style>
                body { font-family: Arial, sans-serif; }
                table { 
                    width: 100%; 
                    border-collapse: collapse; 
                    margin-bottom: 20px; 
                }
                th, td { 
                    border: 1px solid #ddd; 
                    padding: 8px; 
                    text-align: left; 
                }
                th { 
                    background-color: #f2f2f2; 
                    font-weight: bold; 
                }
                .print-header {
                    text-align: center;
                    margin-bottom: 20px;
                }
            </style>
        </head>
        <body>
            <div class="print-header">
                <img src="${gs}" alt="Logo" style="width: 100px; height: auto; display: block; margin: 20px auto;">
                <h1>User Management - Printed Report</h1>
                <p>Printed on: ${new Date().toLocaleString()}</p>
            </div>
            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Borrower Name</th>
                        <th>Email</th>
                    </tr>
                </thead>
                <tbody>
                    ${v.value.map(ie=>`
                        <tr>
                            <td>${ie.id}</td>
                            <td>${ie.firstName} ${ie.middleName} ${ie.lastName}</td>
                            <td>${ie.email}</td>
                        </tr>
                    `).join("")}
                </tbody>
            </table>
            <div class="print-footer">
                <p>Total Users: ${v.value.length}</p>
            </div>
        </body>
    </html>
`),ke.document.close(),await new Promise(ie=>setTimeout(ie,500)),ke.print(),ke.onafterprint=()=>{ke.close()}},Me=ke=>d.transactionHistory.filter(ie=>ie.lender_id===ke&&ie.return_date===null).length,ze=G(null),Je=Ur(),Ye=ke=>{ze.value=ke,Je.push({name:"Transactions",query:{user_id:ze.value.id}})},st=async(ke,ie,ye)=>{const ne=`${ie}-${ye}`;u.value.add(ne);const le=d.inventoryAccesses.find(oe=>oe.id===ie&&oe.user_id===ke.id);if(!le){u.value.delete(ne);return}try{const oe={id:ie,user_id:ke.id,for_dashboard:le.for_dashboard,for_inventory:le.for_inventory,for_categories:le.for_categories,for_borrowers:le.for_borrowers,for_offices:le.for_offices,for_users:le.for_users,[ye]:le[ye]!==!0};console.log("Update inventory access data sent:",oe),d.updateInventoryAccess(oe),await new Promise(Le=>setTimeout(Le,500)),console.log("Inventory access updated successfully:",oe);const Ce=d.inventoryAccesses.findIndex(Le=>Le.id===ie&&Le.user_id===ke.id);Ce!==-1&&(d.inventoryAccesses[Ce]={...d.inventoryAccesses[Ce],[ye]:oe[ye]})}catch(oe){console.error("Error updating inventory access:",oe),pt.emit("show-toast",{message:"Error updating access. Please try again.",type:"error"})}finally{u.value.delete(ne)}},xe=["for_dashboard","for_transactions","for_inventory","for_categories","for_borrowers","for_offices","for_users"],ue=o,Re=()=>{ue("open-add-user-modal")},bt=()=>{ue("open-recover-user-modal")},ot=ke=>{ue("open-give-access-modal",ke)},Pe=ke=>{ue("open-update-users-modal",ke)},ge=ke=>{ue("open-update-users-password-modal",ke)},je=ke=>d.inventoryAccesses.some(ie=>ie.user_id===ke);return(ke,ie)=>(F(),se("div",null,[Ee.value?(F(),se("div",M9,[he(Ht),ie[15]||(ie[15]=l("p",{class:"text-gray-500 dark:text-gray-400"},"Fetching data...",-1))])):Y.value?(F(),se("div",T9,[he(Ht)])):(F(),se("div",O9,[l("div",$9,[l("div",R9,[l("form",D9,[ie[17]||(ie[17]=l("label",{for:"simple-search",class:"sr-only"},"Search",-1)),l("div",N9,[ie[16]||(ie[16]=l("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[l("svg",{"aria-hidden":"true",class:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),Xe(l("input",{"onUpdate:modelValue":ie[0]||(ie[0]=ye=>h.value=ye),type:"text",id:"simple-search",class:"bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full pl-10 p-2 dark:bg-gray-700 border-gray-500 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Search equipment copies..."},null,512),[[ht,h.value]])])])]),l("div",z9,[l("button",{onClick:te,ref_key:"filterButtonRef",ref:K,class:"flex items-center justify-center w-full p-2 bg-dark dark:bg-dark-2 dark:text-gray-200"},ie[18]||(ie[18]=[l("span",{class:"material-icons pr-2"},"filter_alt",-1),xt(" Filter "),l("span",{class:"material-icons pl-4"},"arrow_drop_down",-1)]),512),Xe(l("div",{ref_key:"filterMenuRef",ref:ae,class:ct(["shadow-1 dark:shadow-box-dark absolute border border-gray-500 w-3xs right-0 z-40 mt-2 rounded-md bg-gray-200 dark:bg-gray-900 px-4 pt-2 transition-all",{"top-full visible":S.value,"top-[110%] invisible":!S.value}])},[(F(!0),se(ft,null,yt(B.value,ye=>(F(),se("label",{class:"flex items-center cursor-pointer select-none text-dark dark:text-white mb-2",key:ye.id},[l("div",B9,[l("input",{type:"checkbox",class:"sr-only",checked:ye.isActive,onChange:ne=>fe(ye.id,ne)},null,40,F9),l("div",H9,[l("span",{class:ct({"opacity-100":ye.isActive,"opacity-0":!ye.isActive})},ie[19]||(ie[19]=[l("svg",{width:"11",height:"8",viewBox:"0 0 11 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[l("path",{d:"M10.0915 0.951972L10.0867 0.946075L10.0813 0.940568C9.90076 0.753564 9.61034 0.753146 9.42927 0.939309L4.16201 6.22962L1.58507 3.63469C1.40401 3.44841 1.11351 3.44879 0.932892 3.63584C0.755703 3.81933 0.755703 4.10875 0.932892 4.29224L0.932878 4.29225L0.934851 4.29424L3.58046 6.95832C3.73676 7.11955 3.94983 7.2 4.1473 7.2C4.36196 7.2 4.55963 7.11773 4.71406 6.9584L10.0468 1.60234C10.2436 1.4199 10.2421 1.1339 10.0915 0.951972ZM4.2327 6.30081L4.2317 6.2998C4.23206 6.30015 4.23237 6.30049 4.23269 6.30082L4.2327 6.30081Z",fill:"#3056D3",stroke:"#3056D3",strokeWidth:"0.4"})],-1)]),2)])]),xt(" "+pe(ye.type),1)]))),128))],2),[[Vs,S.value]])]),l("button",{onClick:ie[1]||(ie[1]=nt(ye=>Re(),["stop"])),class:"col-span-1 w-full flex items-center justify-center px-2 py-1 rounded-lg button-default-green"},[he(de(ir),{class:"w-8 h-8"}),ie[20]||(ie[20]=l("p",{class:"ml-1"},"Add Users",-1))]),l("button",{onClick:Ne,class:"col-span-1 w-full flex items-center justify-center px-2 py-1 rounded-lg button-default-green"},[he(de(Pa),{class:"w-8 h-8"}),ie[21]||(ie[21]=l("p",{class:"ml-1"},"Print Users",-1))]),l("button",{onClick:ie[2]||(ie[2]=nt(ye=>bt(),["stop"])),class:"col-span-1 w-full flex items-center justify-center px-2 py-1 rounded-lg button-default-green"},[he(de(ao),{class:"w-8 h-8"}),ie[22]||(ie[22]=l("p",{class:"ml-1"},"Recover Users",-1))])]),l("div",V9,[l("table",U9,[l("thead",q9,[l("tr",j9,[l("th",{class:"py-3 px-2 cursor-pointer",onClick:ie[3]||(ie[3]=ye=>Ie("id"))},[he(hs,{label:"ID",field:"id",sortBy:Te.value,sortDirection:Ae.value},null,8,["sortBy","sortDirection"])]),l("th",{class:"hidden 2xl:table-cell py-3 px-2 cursor-pointer",onClick:ie[4]||(ie[4]=ye=>Ie("first_name"))},[he(hs,{label:"First Name",field:"first_name",sortBy:Te.value,sortDirection:Ae.value},null,8,["sortBy","sortDirection"])]),l("th",{class:"hidden 2xl:table-cell py-3 px-2 cursor-pointer",onClick:ie[5]||(ie[5]=ye=>Ie("middle_name"))},[he(hs,{label:"Middle Name",field:"middle_name",sortBy:Te.value,sortDirection:Ae.value},null,8,["sortBy","sortDirection"])]),l("th",{class:"hidden 2xl:table-cell py-3 px-2 cursor-pointer",onClick:ie[6]||(ie[6]=ye=>Ie("last_name"))},[he(hs,{label:"Last Name",field:"last_name",sortBy:Te.value,sortDirection:Ae.value},null,8,["sortBy","sortDirection"])]),l("th",{class:"table-cell 2xl:hidden py-3 px-2 cursor-pointer",onClick:ie[7]||(ie[7]=ye=>Ie("first_name"))},[he(hs,{label:"Full Name",field:"first_name",sortBy:Te.value,sortDirection:Ae.value},null,8,["sortBy","sortDirection"])]),l("th",{class:"py-3 px-2 cursor-pointer",onClick:ie[8]||(ie[8]=ye=>Ie("email"))},[he(hs,{label:"Email",field:"email",sortBy:Te.value,sortDirection:Ae.value},null,8,["sortBy","sortDirection"])]),ie[23]||(ie[23]=l("th",{class:"py-3 px-2"},"Transactions",-1)),ie[24]||(ie[24]=l("th",{class:"py-3 px-2"},"Dashboard",-1)),ie[25]||(ie[25]=l("th",{class:"py-3 px-2"},"Transactions",-1)),ie[26]||(ie[26]=l("th",{class:"py-3 px-2"},"Inventory",-1)),ie[27]||(ie[27]=l("th",{class:"py-3 px-2"},"Categories",-1)),ie[28]||(ie[28]=l("th",{class:"py-3 px-2"},"Borrower",-1)),ie[29]||(ie[29]=l("th",{class:"py-3 px-2"},"Offices",-1)),ie[30]||(ie[30]=l("th",{class:"py-3 px-2"},"Users",-1)),ie[31]||(ie[31]=l("th",{class:"py-3 px-2"},"Actions",-1))])]),l("tbody",null,[L.value.length===0?(F(),se("tr",X9,ie[32]||(ie[32]=[l("td",{colspan:"6",class:"px-4 py-6 text-center text-gray-500 dark:text-gray-400"},"No User found",-1)]))):we("",!0),(F(!0),se(ft,null,yt(L.value,ye=>{var ne,le;return F(),se("tr",{key:ye.id,class:"border-b font-medium border-gray-400 dark:border-gray-700 text-gray-600 dark:text-gray-300 odd:bg-gray-300 odd:dark:bg-gray-900 even:bg-gray-100 even:dark:bg-gray-800 dark:hover:bg-gray-700 dark:hover:text-white"},[l("td",Y9,pe(ye.id),1),l("td",W9,pe(ye.firstName),1),l("td",G9,pe(ye.middleName),1),l("td",Q9,pe(ye.lastName),1),l("td",Z9,pe(ye.firstName)+" "+pe(ye.middleName)+" "+pe(ye.lastName),1),l("td",K9,pe(ye.email),1),l("td",J9,[l("button",{onClick:nt(oe=>Ye(ye),["stop"]),class:"flex flex-col w-full items-center justify-center px-1 py-1.5 rounded-lg border hover:scale-105 border-gray-500 hover:border-gray-600 dark:border-gray-600 dark:hover:border-gray-400 text-gray-700 dark:text-gray-200 transition duration-150 ease-in-out"},[l("div",tP,[l("span",null,pe(((ne=de(d).transactionHistory.filter(oe=>oe.lender_id===ye.id))==null?void 0:ne.length)||0),1),ie[33]||(ie[33]=l("span",{class:"text-gray-400 text-xs 2xl:text-base"},"transactions",-1))]),l("div",{class:ct(["flex justify-center items-center",(((le=de(d).transactionHistory.filter(oe=>oe.lender_id===ye.id))==null?void 0:le.length)||0)>0?"text-gray-400":"text-gray-700"])},[l("span",{class:ct(["w-full text-xs 2xl:text-base",{"text-red-500":Me(ye.id)>0,"text-green-500":Me(ye.id)===0}])}," ("+pe(Me(ye.id))+" Unreturned) ",3)],2)],8,eP)]),ye.for_inventory?je(ye.id)?(F(),se(ft,{key:1},yt(xe,oe=>l("td",{key:oe,class:"px-4 py-3"},[(F(!0),se(ft,null,yt(de(d).inventoryAccesses,Ce=>(F(),Ze(I9,{key:Ce.id,invAccess:Ce,userId:ye.id,user:ye,type:oe,onToggle:st},null,8,["invAccess","userId","user","type"]))),128))])),64)):(F(),se("td",lP,[l("span",cP,[l("span",dP,[ie[36]||(ie[36]=xt(" User used in: ")),ye.for_911?(F(),se("span",uP," 911 Dashboard System")):we("",!0),ye.for_traffic?(F(),se("span",hP," Traffic Monitoring System")):we("",!0)]),l("button",{onClick:nt(oe=>ot(ye),["stop"]),class:"flex items-center justify-center px-2 py-1 rounded-lg button-default-green"},[he(de(Il),{class:"w-8 h-8"}),ie[37]||(ie[37]=l("p",{class:"ml-1"},"Give Inventory Access",-1))],8,fP)])])):(F(),se("td",sP,[l("span",rP,[l("span",aP,[ie[34]||(ie[34]=xt(" User used in: ")),ye.for_911?(F(),se("span",iP," 911 Dashboard")):we("",!0),ye.for_traffic?(F(),se("span",oP," Traffic Monitoring System")):we("",!0)]),l("button",{onClick:nt(oe=>ot(ye),["stop"]),class:"flex items-center justify-center px-2 py-1 rounded-lg button-default-green"},[he(de(Il),{class:"w-8 h-8"}),ie[35]||(ie[35]=l("p",{class:"ml-1"},"Give Inventory Access",-1))],8,nP)])])),l("td",pP,[l("button",{onClick:nt(oe=>R(ye.id),["stop"]),class:"inline-flex items-center p-0.5 text-sm font-medium text-gray-500 hover:text-gray-800 rounded-lg focus:outline-none dark:text-gray-400 dark:hover:text-gray-100",type:"button"},[he(de(Ia),{class:"w-5 h-5"})],8,gP),N.value===ye.id?(F(),se("div",{key:0,ref_for:!0,ref:"dropdownRefs",class:"absolute bg-white divide-gray-100 rounded-lg right-23 z-10 shadow-sm w-44 border-2 dark:border-gray-600 dark:bg-gray-800"},[l("ul",mP,[l("li",vP,[l("button",{onClick:nt(oe=>Pe(ye),["stop"]),class:"w-full text-start px-4 py-2"},"Update",8,bP),H.value?(F(),Ze($u,{key:0,modelValue:H.value,"onUpdate:modelValue":ie[9]||(ie[9]=oe=>H.value=oe),user:ye,onClick:ie[10]||(ie[10]=nt(()=>{},["stop"]))},null,8,["modelValue","user"])):we("",!0)]),l("li",xP,[l("button",{onClick:nt(oe=>ge(ye),["stop"]),class:"w-full text-start px-4 py-2"},"Change Password",8,yP),ke.isOpenUpdateUsersPasswordModal?(F(),Ze(Ru,{key:0,modelValue:ke.isOpenUpdateUsersPasswordModal,"onUpdate:modelValue":ie[11]||(ie[11]=oe=>ke.isOpenUpdateUsersPasswordModal=oe),user:ye,onClick:ie[12]||(ie[12]=nt(()=>{},["stop"]))},null,8,["modelValue","user"])):we("",!0)]),l("li",wP,[l("button",{onClick:ie[13]||(ie[13]=oe=>Q.value=!0),class:"w-full text-start px-4 py-2"},"Delete"),he(rs,{modelValue:Q.value,"onUpdate:modelValue":ie[14]||(ie[14]=oe=>Q.value=oe),title:"Confirm Deletion",message:"You are about to delete this user.",messageData:`
Name: ${ye.firstName} ${ye.middleName} ${ye.lastName}
Email: ${ye.email}`,cancelText:"Cancel",confirmText:"Confirm Deleting",onConfirm:()=>q(!0,ye.id)},null,8,["modelValue","messageData","onConfirm"])])])],512)):we("",!0)])])}),128))])])]),L.value.length>0?(F(),se("nav",kP,[l("span",CP,[ie[38]||(ie[38]=xt(" Showing ")),l("span",_P,pe((m.value-1)*y.value+1)+" - "+pe(Math.min(m.value*y.value,v.value.length)),1),ie[39]||(ie[39]=xt(" of ")),l("span",SP,pe(v.value.length),1)]),l("ul",AP,[l("li",null,[l("button",{onClick:P,disabled:m.value===1,class:"flex items-center justify-center h-full py-1.5 px-3 ml-0 text-gray-700 bg-white rounded-l-lg border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white disabled:opacity-50 disabled:cursor-not-allowed"},ie[40]||(ie[40]=[l("span",{class:"sr-only"},"Previous",-1),l("svg",{class:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]),8,LP)]),(F(!0),se(ft,null,yt(D.value,ye=>(F(),se("li",{key:ye},[l("button",{onClick:ne=>$(ye),class:ct(["flex items-center justify-center text-sm py-2 px-3 leading-tight border",ye===m.value?"text-primary-600 bg-primary-50 border-primary-300 hover:bg-primary-100 hover:text-primary-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white":"text-gray-500 bg-white border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"])},pe(ye),11,EP)]))),128)),l("li",null,[l("button",{onClick:E,disabled:m.value===k.value,class:"flex items-center justify-center h-full py-1.5 px-3 leading-tight text-gray-500 bg-white rounded-r-lg border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white disabled:opacity-50 disabled:cursor-not-allowed"},ie[41]||(ie[41]=[l("span",{class:"sr-only"},"Next",-1),l("svg",{class:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)]),8,PP)])])])):we("",!0)]))]))}},MP={key:0,class:"fixed left-0 top-0 flex h-full w-full items-center justify-center bg-black/55 px-4 py-5 z-50"},TP={class:"px-5 text-start max-h-[69vh] overflow-y-auto"},OP={class:"flex flex-row"},$P={class:"text-red-700 ml-2 font-semibold italic"},RP={class:"relative ml-2 mb-2"},DP={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},NP={class:"relative ml-2 mb-2"},zP={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},BP={class:"flex flex-row"},FP={class:"text-red-700 ml-2 font-semibold italic"},HP={class:"relative ml-2 mb-2"},VP={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},UP={class:"flex flex-row"},qP={class:"text-red-700 ml-2 font-semibold italic"},jP={class:"relative ml-2 mb-2"},XP={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},YP={class:"flex flex-row"},WP={class:"text-red-700 ml-2 font-semibold italic"},GP={class:"relative ml-2 mb-2"},QP={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},ZP={class:"flex flex-row"},KP={class:"text-red-700 ml-2 font-semibold italic"},JP={class:"relative ml-2 mb-2"},eI={class:"absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"},tI={class:"px-5 mt-4"},sI={class:"grid grid-cols-2 gap-4"},rI={class:"flex items-center"},aI={class:"flex items-center"},iI={class:"flex items-center"},oI={class:"flex items-center"},nI={class:"flex items-center"},lI={class:"flex items-center"},cI={class:"flex items-center"},dI={class:"-mx-3 flex flex-wrap mt-4"},uI={class:"w-1/2 px-3"},hI={__name:"AddUserModal",props:{modelValue:Boolean},emits:["update:modelValue","confirmDelete"],setup(s,{emit:o}){const d=qt(),u=G(!1),h=G(!1),v=S=>{S&&$()},m=o,y=G(null),k=()=>{m("update:modelValue",!1)},I=S=>{y.value&&!y.value.contains(S.target)&&k()};gt(()=>{document.addEventListener("click",I)}),Nt(()=>{document.removeEventListener("click",I)}),gt(()=>{d.fetchData()});const L={users:"users"},{users:E}=Object.fromEntries(Object.entries(L).map(([S,K])=>[S,Ve(()=>d[K])])),P=G({firstName:"",middleName:"",lastName:"",email:"",password:"",password_confirmation:"",for_911:!1,for_inventory:!0,for_traffic:!1,is_deleted:0,access:{for_dashboard:!0,for_transactions:!1,for_inventory:!1,for_categories:!1,for_borrowers:!1,for_offices:!1,for_users:!1}}),$=async()=>{try{u.value=!0;const K=(d.users.length?Math.max(...d.users.map(fe=>fe.id)):0)+1,ae={id:K,firstName:P.value.firstName,middleName:P.value.middleName,lastName:P.value.lastName,email:P.value.email,password:P.value.password,password_confirmation:P.value.password_confirmation,for_911:P.value.for_911,for_inventory:P.value.for_inventory,for_traffic:P.value.for_traffic,is_deleted:P.value.is_deleted};console.log("Add copy data sent: ",ae),d.addUser(ae),await new Promise(fe=>setTimeout(fe,500)),console.log("User added successfully:",ae);const te={id:(d.inventoryAccesses.length?Math.max(...d.inventoryAccesses.map(fe=>fe.id||0)):0)+1,user_id:K,for_dashboard:P.value.access.for_dashboard,for_transactions:P.value.access.for_transactions,for_inventory:P.value.access.for_inventory,for_categories:P.value.access.for_categories,for_borrowers:P.value.access.for_borrowers,for_offices:P.value.access.for_offices,for_users:P.value.access.for_users};console.log("Sending access data:",te),d.addInventoryAccess(te),await new Promise(fe=>setTimeout(fe,500)),console.log("Access permissions added successfully:",te)}catch(S){console.error("Error adding user:",S),pt.emit("show-toast",{message:"Error adding user. Please try again.",type:"error"})}finally{u.value=!1,pt.emit("show-toast",{message:"User added successfully!",type:"success"}),k()}},D=G({firstName:[],lastName:[],email:[],password:[],password_confirmation:[]}),N=G(null),R=()=>{const S=E.value.find(K=>K.email===P.value.email);return S?(N.value=S,D.value.email=["Email is already registered"],!1):(N.value=null,D.value.email=[],!0)},H=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,Q=/^(?=.*[A-Za-z])(?=.*\d)(?=.*[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?])[A-Za-z\d!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]{8,}$/;it(()=>P.value.email,S=>{S?H.test(S)?R()||(D.value.email=["Email is already registered by another user"]):D.value.email=["Please enter a valid email address"]:D.value.email=["Email is required"]}),it(()=>P.value.password,S=>{D.value.password=[],S?(Q.test(S)||(D.value.password=["Password must contain special characters, letters and numbers"]),S.length<8&&(D.value.password=["Password must be at least 8 characters long"])):D.value.password=["Password is required"]}),it(()=>P.value.password_confirmation,S=>{S?S!==P.value.password?D.value.password_confirmation=["Passwords don't match"]:D.value.password_confirmation=[]:D.value.password_confirmation=["Password confirmation is required"]}),it(()=>P.value.firstName,S=>{S?D.value.firstName=[]:D.value.firstName=["First name is required"]}),it(()=>P.value.lastName,S=>{S?D.value.lastName=[]:D.value.lastName=["Last name is required"]});const Y=()=>{Object.keys(D.value).forEach(K=>{D.value[K]=[]});let S=!1;return P.value.firstName||(D.value.firstName=["First name is required"],S=!0),P.value.lastName||(D.value.lastName=["Last name is required"],S=!0),P.value.email?H.test(P.value.email)?R()||(S=!0):(D.value.email=["Please enter a valid email address"],S=!0):(D.value.email=["Email is required"],S=!0),P.value.password?(Q.test(P.value.password)||(D.value.password=["Password must contain special characters, letters and numbers"],S=!0),P.value.password.length<8&&(D.value.password=["Password must be at least 8 characters long"],S=!0)):(D.value.password=["Password is required"],S=!0),P.value.password_confirmation?P.value.password!==P.value.password_confirmation&&(D.value.password_confirmation=["Passwords don't match"],S=!0):(D.value.password_confirmation=["Password confirmation is required"],S=!0),!S},q=()=>{if(Y())h.value=!0;else return};return(S,K)=>s.modelValue?(F(),se("div",MP,[u.value?(F(),Ze(Ht,{key:0})):(F(),se("div",{key:1,ref_key:"modalContainer",ref:y,class:"w-full max-w-[650px] max-h-[90vh] rounded-[20px] bg-white px-8 py-8 text-center border-4 dark:bg-gray-950 dark:border-gray-100"},[K[29]||(K[29]=l("h3",{class:"text-3xl font-semibold mb-4"}," Add User ",-1)),l("div",TP,[l("div",OP,[K[15]||(K[15]=l("label",{class:"block mb-2 text font-medium text-gray-900 dark:text-gray-200"},"First Name:",-1)),l("p",$P,pe(D.value.firstName?D.value.firstName[0]:""),1)]),l("div",RP,[l("div",DP,[he(de(fs))]),Xe(l("input",{type:"text","onUpdate:modelValue":K[0]||(K[0]=ae=>P.value.firstName=ae),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"John"},null,512),[[ht,P.value.firstName]])]),K[28]||(K[28]=l("div",{class:"flex flex-row"},[l("label",{class:"block mb-2 text font-medium text-gray-900 dark:text-gray-200"},"Middle Name:")],-1)),l("div",NP,[l("div",zP,[he(de(fs))]),Xe(l("input",{type:"text","onUpdate:modelValue":K[1]||(K[1]=ae=>P.value.middleName=ae),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Diego"},null,512),[[ht,P.value.middleName]])]),l("div",BP,[K[16]||(K[16]=l("label",{class:"block mb-2 text font-medium text-gray-900 dark:text-gray-200"},"Last Name:",-1)),l("p",FP,pe(D.value.lastName?D.value.lastName[0]:""),1)]),l("div",HP,[l("div",VP,[he(de(fs))]),Xe(l("input",{type:"text","onUpdate:modelValue":K[2]||(K[2]=ae=>P.value.lastName=ae),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Doe"},null,512),[[ht,P.value.lastName]])]),l("div",UP,[K[17]||(K[17]=l("label",{class:"block mb-2 text font-medium text-gray-900 dark:text-gray-200"},"Email:",-1)),l("p",qP,pe(D.value.email?D.value.email[0]:""),1)]),l("div",jP,[l("div",XP,[he(de(fs))]),Xe(l("input",{type:"text","onUpdate:modelValue":K[3]||(K[3]=ae=>P.value.email=ae),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"johndoe@example.com"},null,512),[[ht,P.value.email]])]),l("div",YP,[K[18]||(K[18]=l("label",{class:"block mb-2 text font-medium text-gray-900 dark:text-gray-200"},"Password:",-1)),l("p",WP,pe(D.value.password?D.value.password[0]:""),1)]),l("div",GP,[l("div",QP,[he(de(fs))]),Xe(l("input",{type:"password","onUpdate:modelValue":K[4]||(K[4]=ae=>P.value.password=ae),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"••••••••"},null,512),[[ht,P.value.password]])]),l("div",ZP,[K[19]||(K[19]=l("label",{class:"block mb-2 text font-medium text-gray-900 dark:text-gray-200"},"Confirm Password:",-1)),l("p",KP,pe(D.value.password_confirmation?D.value.password_confirmation[0]:""),1)]),l("div",JP,[l("div",eI,[he(de(fs))]),Xe(l("input",{type:"password","onUpdate:modelValue":K[5]||(K[5]=ae=>P.value.password_confirmation=ae),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"••••••••"},null,512),[[ht,P.value.password_confirmation]])]),l("div",tI,[K[27]||(K[27]=l("label",{class:"block mb-2 text-lg font-medium text-gray-900 dark:text-gray-200"},"Access Permissions:",-1)),l("div",sI,[l("div",rI,[Xe(l("input",{type:"checkbox",id:"dashboard_access","onUpdate:modelValue":K[6]||(K[6]=ae=>P.value.access.for_dashboard=ae),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[Hs,P.value.access.for_dashboard]]),K[20]||(K[20]=l("label",{for:"dashboard_access",class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Dashboard Access",-1))]),l("div",aI,[Xe(l("input",{type:"checkbox",id:"dashboard_access","onUpdate:modelValue":K[7]||(K[7]=ae=>P.value.access.for_transactions=ae),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[Hs,P.value.access.for_transactions]]),K[21]||(K[21]=l("label",{for:"dashboard_access",class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Transaction Access",-1))]),l("div",iI,[Xe(l("input",{type:"checkbox",id:"inventory_access","onUpdate:modelValue":K[8]||(K[8]=ae=>P.value.access.for_inventory=ae),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[Hs,P.value.access.for_inventory]]),K[22]||(K[22]=l("label",{for:"inventory_access",class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Inventory Access",-1))]),l("div",oI,[Xe(l("input",{type:"checkbox",id:"offices_access","onUpdate:modelValue":K[9]||(K[9]=ae=>P.value.access.for_offices=ae),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[Hs,P.value.access.for_offices]]),K[23]||(K[23]=l("label",{for:"offices_access",class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Offices Access",-1))]),l("div",nI,[Xe(l("input",{type:"checkbox",id:"categories_access","onUpdate:modelValue":K[10]||(K[10]=ae=>P.value.access.for_categories=ae),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[Hs,P.value.access.for_categories]]),K[24]||(K[24]=l("label",{for:"categories_access",class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Categories Access",-1))]),l("div",lI,[Xe(l("input",{type:"checkbox",id:"borrowers_access","onUpdate:modelValue":K[11]||(K[11]=ae=>P.value.access.for_borrowers=ae),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[Hs,P.value.access.for_borrowers]]),K[25]||(K[25]=l("label",{for:"borrowers_access",class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Borrowers Access",-1))]),l("div",cI,[Xe(l("input",{type:"checkbox",id:"users_access","onUpdate:modelValue":K[12]||(K[12]=ae=>P.value.access.for_users=ae),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[Hs,P.value.access.for_users]]),K[26]||(K[26]=l("label",{for:"users_access",class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Users Access",-1))])])])]),l("div",dI,[l("div",{class:"w-1/2 px-3"},[l("button",{onClick:k,class:"block w-full rounded-md border border-stroke p-3 text-center text-base font-medium text-dark transition bg-gray-300 hover:border-red-800 hover:bg-red-800 hover:text-white dark:text-black"}," Cancel ")]),l("div",uI,[l("button",{onClick:K[13]||(K[13]=ae=>q()),class:"block w-full rounded-md border bg-primary p-3 text-center text-base font-medium text-white transition bg-green-700 hover:border-green-600 hover:bg-green-600 hover:text-white dark:text-white dark:border-green-700 dark:hover:border-green-400"}," Add User ")])]),he(rs,{modelValue:h.value,"onUpdate:modelValue":K[14]||(K[14]=ae=>h.value=ae),title:"Confirm Addition",message:"You are about to add this user.",messageData:`
First Name: ${P.value.firstName}
Last Name: ${P.value.lastName}
Email: ${P.value.email}`,cancelText:"Cancel",confirmText:"Confirm Adding",onConfirm:v},null,8,["modelValue","messageData"])],512))])):we("",!0)}},fI={key:0,class:"fixed left-0 top-0 flex h-full w-full items-center justify-center bg-black/55 px-4 py-5 z-50"},pI={class:"w-full px-5 mb-4"},gI={class:"flex items-center"},mI={class:"relative w-full"},vI={key:0,class:"flex items-center justify-center lg:px-5 text-start max-h-[69vh] w-full overflow-y-auto"},bI={class:"border w-fit min-w-full max-w-[600px] lg:max-w-full overflow-y-auto lg:mx-10 my-1 pb-1 rounded-lg dark:border-gray-700"},xI={class:"w-full"},yI={class:"text-center dark:bg-gray-800"},wI={class:"pl-3 pt-2 py-1"},kI={class:"flex items-center cursor-pointer select-none text-dark dark:text-white"},CI={class:"relative"},_I={class:"w-full"},SI={class:"w-full text-center items-center justify-center border-t"},AI={class:"pl-3 pt-1 w-10"},LI={class:"flex items-center cursor-pointer select-none text-dark dark:text-white"},EI={class:"relative"},PI=["onChange"],II={class:"text-center"},MI={class:"text-center"},TI={class:"text-center"},OI={class:"text-center"},$I={class:"text-center"},RI={key:1,class:"px-5 text-start max-h-[69vh] overflow-y-auto"},DI={class:"-mx-3 flex flex-wrap mt-4"},NI={class:"w-1/2 px-3"},zI={class:"w-1/2 px-3"},BI={__name:"RecoverUserModal",props:{modelValue:Boolean},emits:["update:modelValue","confirmDelete"],setup(s,{emit:o}){const d=qt(),u=G(!1),h=o,v=()=>{const q=E.value.filter(S=>S.is_selected);console.log("Selected Users:",q),q.length>0?m.value=!0:console.log("Please select at least one user to recover.")},m=G(!1),y=G(null),k=()=>{h("update:modelValue",!1)},I=q=>{y.value&&!y.value.contains(q.target)&&k()};gt(()=>{document.addEventListener("click",I)}),Nt(()=>{document.removeEventListener("click",I)});const L=G([]),E=G([]);gt(()=>{d.fetchData(),L.value=d.users.filter(q=>q.is_deleted===1&&q.for_inventory===!0),console.log(L.value),E.value=L.value.map(q=>({...q,is_selected:!1})),console.log("Filtered Deleted Users:",E.value)});const P=async()=>{var q;try{u.value=!0;const S=E.value.filter(K=>K.is_selected);if(S.length===0){pt.emit("show-toast",{message:"Please select users to recover.",type:"warning"});return}for(const K of S){const ae={firstName:K.firstName,middleName:K.middleName,lastName:K.lastName,email:K.email,is_deleted:0,for_911:K.for_911,for_inventory:K.for_inventory,for_traffic:K.for_traffic};console.log("Update user data sent: ",ae),d.restoreUser(K.id,ae),await new Promise(B=>setTimeout(B,500)),console.log("User updated successfully:",K.id)}}catch(S){console.error("Error updating users:",S),console.error("Error details:",(q=S.response)==null?void 0:q.data),pt.emit("show-toast",{message:"Error recovering users. Please try again.",type:"error"})}finally{await d.fetchData(),u.value=!1,pt.emit("show-toast",{message:"Selected users recovered successfully!",type:"success"}),k()}},$=q=>{E.value=E.value.map(K=>({...K,is_selected:K.id===q?!K.is_selected:K.is_selected}));const S=E.value.every(K=>K.is_selected);D.value=S},D=G(!1),N=()=>{D.value?(D.value=!1,E.value=E.value.map(q=>({...q,is_selected:!1}))):(D.value=!0,E.value=E.value.map(q=>({...q,is_selected:!0})))},R=G(""),H=Ve(()=>d.users.filter(q=>q.is_deleted===1&&q.for_inventory===!0&&(q.firstName.toLowerCase().includes(R.value.toLowerCase())||q.lastName.toLowerCase().includes(R.value.toLowerCase())||q.email.toLowerCase().includes(R.value.toLowerCase()))));it(H,q=>{E.value=q.map(S=>({...S,is_selected:!1}))});const Q=q=>{P(),m.value=!1},Y=q=>q?new Date(q).toLocaleDateString():"N/A";return(q,S)=>s.modelValue?(F(),se("div",fI,[u.value?(F(),Ze(Ht,{key:0})):(F(),se("div",{key:1,ref_key:"modalContainer",ref:y,class:"w-full max-w-[90vw] max-h-[90vh] rounded-[20px] bg-white px-8 py-8 text-center border-4 dark:bg-gray-950 dark:border-gray-100"},[S[14]||(S[14]=l("h3",{class:"text-3xl font-semibold mb-4"}," Recover Users ",-1)),l("div",pI,[l("form",gI,[S[7]||(S[7]=l("label",{for:"simple-search",class:"sr-only"},"Search",-1)),l("div",mI,[S[6]||(S[6]=l("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[l("svg",{"aria-hidden":"true",class:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),Xe(l("input",{"onUpdate:modelValue":S[0]||(S[0]=K=>R.value=K),type:"text",id:"simple-search",class:"bg-gray-50 border border-gray-500 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full pl-10 p-2 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Search users..."},null,512),[[ht,R.value]])])])]),E.value.length>0?(F(),se("div",vI,[l("div",bI,[l("table",xI,[l("thead",null,[l("tr",yI,[l("th",wI,[l("label",kI,[l("div",CI,[l("input",{type:"checkbox",class:"sr-only",onChange:S[1]||(S[1]=K=>N())},null,32),D.value?(F(),Ze(de(rr),{key:0,class:"w-7 h-7"})):(F(),Ze(de(sr),{key:1,class:"w-7 h-7"}))])])]),S[8]||(S[8]=l("th",{class:"px-2"},"First Name",-1)),S[9]||(S[9]=l("th",{class:"px-2"},"Middle Name",-1)),S[10]||(S[10]=l("th",{class:"px-2"},"Last Name",-1)),S[11]||(S[11]=l("th",{class:"px-2"},"Email",-1)),S[12]||(S[12]=l("th",{class:"px-2"},"Date Deleted",-1))])]),l("tbody",_I,[(F(!0),se(ft,null,yt(E.value,K=>(F(),se("tr",SI,[l("td",AI,[l("label",LI,[l("div",EI,[l("input",{type:"checkbox",class:"sr-only",onChange:ae=>$(K.id)},null,40,PI),K.is_selected?(F(),Ze(de(rr),{key:0,class:"w-7 h-7"})):(F(),Ze(de(sr),{key:1,class:"w-7 h-7"}))])])]),l("td",II,pe(K.firstName),1),l("td",MI,pe(K.middleName?K.middleName:"N/A"),1),l("td",TI,pe(K.lastName),1),l("td",OI,pe(K.email),1),l("td",$I,pe(Y(K.updated_at)),1)]))),256))])])])])):(F(),se("div",RI,S[13]||(S[13]=[l("p",{class:"text-gray-500 dark:text-gray-400"},"No available users to recover.",-1)]))),l("div",DI,[l("div",NI,[l("button",{onClick:S[2]||(S[2]=K=>k()),class:"block w-full rounded-md border border-stroke p-3 text-center text-base font-medium text-dark transition bg-gray-300 hover:border-red-800 hover:bg-red-800 hover:text-white dark:text-black"}," Cancel ")]),l("div",zI,[l("button",{onClick:S[3]||(S[3]=K=>v()),class:"block w-full rounded-md border bg-primary p-3 text-center text-base font-medium text-white transition bg-green-700 hover:border-green-600 hover:bg-green-600 hover:text-white dark:text-white dark:border-green-700 dark:hover:border-green-400"}," Recover Selected Users ")])]),he(rs,{modelValue:m.value,"onUpdate:modelValue":S[4]||(S[4]=K=>m.value=K),title:"Confirm Recovery",messageData:"Are you sure you want to recover the selected users?",confirmText:"Confirm Recovery",onConfirm:S[5]||(S[5]=K=>Q())},null,8,["modelValue"])],512))])):we("",!0)}},FI={key:0,class:"fixed left-0 top-0 flex h-full w-full items-center justify-center bg-black/55 px-4 py-5 z-50"},HI={class:"px-5 text-start max-h-[69vh] overflow-y-auto"},VI={class:"px-5 mt-4"},UI={class:"grid grid-cols-2 gap-4"},qI={class:"flex items-center"},jI={class:"flex items-center"},XI={class:"flex items-center"},YI={class:"flex items-center"},WI={class:"flex items-center"},GI={class:"flex items-center"},QI={class:"flex items-center"},ZI={class:"-mx-3 flex flex-wrap mt-4"},KI={class:"w-1/2 px-3"},JI={__name:"GiveAccessModal",props:{modelValue:Boolean,user:Object},emits:["update:modelValue","confirmDelete"],setup(s,{emit:o}){const d=qt(),u=G(!1),h=s,v=G(!1),m=R=>{R&&D()},y=o,k=G(null),I=()=>{y("update:modelValue",!1)},L=R=>{k.value&&!k.value.contains(R.target)&&I()};gt(()=>{document.addEventListener("click",L)}),Nt(()=>{document.removeEventListener("click",L)}),gt(()=>{d.fetchData()});const E={users:"users"},{users:P}=Object.fromEntries(Object.entries(E).map(([R,H])=>[R,Ve(()=>d[H])])),$=G({for_inventory:!0,access:{for_dashboard:!1,for_transactions:!1,for_inventory:!1,for_categories:!1,for_borrowers:!1,for_offices:!1,for_users:!1}}),D=async()=>{try{u.value=!0;const R={id:h.user.id,firstName:h.user.firstName,middleName:h.user.middleName,lastName:h.user.lastName,email:h.user.email,for_911:h.user.for_911,for_inventory:$.value.for_inventory,for_traffic:h.user.for_traffic,is_deleted:h.user.is_deleted};if(console.log("Add copy data sent: ",R),d.updateUser(R),await new Promise(H=>setTimeout(H,500)),console.log("User updated successfully:",R),h.user.id)if(d.inventoryAccesses.find(Q=>Q.user_id===h.user.id)){const Q={user_id:h.user.id,for_dashboard:!!$.value.access.for_dashboard,for_transactions:!!$.value.access.for_transactions,for_inventory:!!$.value.access.for_inventory,for_categories:!!$.value.access.for_categories,for_borrowers:!!$.value.access.for_borrowers,for_offices:!!$.value.access.for_offices,for_users:!!$.value.access.for_users};console.log("Sending access data:",Q),d.updateInventoryAccess(Q),await new Promise(Y=>setTimeout(Y,500)),await d.fetchData(),console.log("Access updated successfully:",Q)}else{const Q={user_id:h.user.id,for_dashboard:!!$.value.access.for_dashboard,for_transactions:!!$.value.access.for_transactions,for_inventory:!!$.value.access.for_inventory,for_categories:!!$.value.access.for_categories,for_borrowers:!!$.value.access.for_borrowers,for_offices:!!$.value.access.for_offices,for_users:!!$.value.access.for_users};console.log("Sending access data:",Q),d.addInventoryAccess(Q),await new Promise(Y=>setTimeout(Y,500)),await d.fetchData(),console.log("Access created successfully:",Q)}}catch(R){console.error("Error adding access:",R),pt.emit("show-toast",{message:"Error adding access. Please try again.",type:"error"})}finally{u.value=!1,pt.emit("show-toast",{message:"Access added successfully!",type:"success"}),I()}},N=()=>{v.value=!0};return(R,H)=>s.modelValue?(F(),se("div",FI,[u.value?(F(),Ze(Ht,{key:0})):(F(),se("div",{key:1,ref_key:"modalContainer",ref:k,class:"w-full max-w-[650px] max-h-[90vh] rounded-[20px] bg-white px-8 py-8 text-center border-4 dark:bg-gray-950 dark:border-gray-100"},[H[17]||(H[17]=l("h3",{class:"text-3xl font-semibold mb-4"},"Give Access",-1)),l("div",HI,[l("div",VI,[H[16]||(H[16]=l("label",{class:"block mb-2 text-lg font-medium text-gray-900 dark:text-gray-200"},"Access Permissions:",-1)),l("div",UI,[l("div",qI,[Xe(l("input",{type:"checkbox",id:"dashboard_access","onUpdate:modelValue":H[0]||(H[0]=Q=>$.value.access.for_dashboard=Q),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[Hs,$.value.access.for_dashboard]]),H[9]||(H[9]=l("label",{for:"dashboard_access",class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Dashboard Access",-1))]),l("div",jI,[Xe(l("input",{type:"checkbox",id:"dashboard_access","onUpdate:modelValue":H[1]||(H[1]=Q=>$.value.access.for_transactions=Q),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[Hs,$.value.access.for_transactions]]),H[10]||(H[10]=l("label",{for:"dashboard_access",class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Transaction Access",-1))]),l("div",XI,[Xe(l("input",{type:"checkbox",id:"inventory_access","onUpdate:modelValue":H[2]||(H[2]=Q=>$.value.access.for_inventory=Q),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[Hs,$.value.access.for_inventory]]),H[11]||(H[11]=l("label",{for:"inventory_access",class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Inventory Access",-1))]),l("div",YI,[Xe(l("input",{type:"checkbox",id:"offices_access","onUpdate:modelValue":H[3]||(H[3]=Q=>$.value.access.for_offices=Q),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[Hs,$.value.access.for_offices]]),H[12]||(H[12]=l("label",{for:"offices_access",class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Offices Access",-1))]),l("div",WI,[Xe(l("input",{type:"checkbox",id:"categories_access","onUpdate:modelValue":H[4]||(H[4]=Q=>$.value.access.for_categories=Q),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[Hs,$.value.access.for_categories]]),H[13]||(H[13]=l("label",{for:"categories_access",class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Categories Access",-1))]),l("div",GI,[Xe(l("input",{type:"checkbox",id:"borrowers_access","onUpdate:modelValue":H[5]||(H[5]=Q=>$.value.access.for_borrowers=Q),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[Hs,$.value.access.for_borrowers]]),H[14]||(H[14]=l("label",{for:"borrowers_access",class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Borrowers Access",-1))]),l("div",QI,[Xe(l("input",{type:"checkbox",id:"users_access","onUpdate:modelValue":H[6]||(H[6]=Q=>$.value.access.for_users=Q),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[Hs,$.value.access.for_users]]),H[15]||(H[15]=l("label",{for:"users_access",class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Users Access",-1))])])])]),l("div",ZI,[l("div",{class:"w-1/2 px-3"},[l("button",{onClick:I,class:"block w-full rounded-md border border-stroke p-3 text-center text-base font-medium text-dark transition bg-gray-300 hover:border-red-800 hover:bg-red-800 hover:text-white dark:text-black"}," Cancel ")]),l("div",KI,[l("button",{onClick:H[7]||(H[7]=Q=>N()),class:"block w-full rounded-md border bg-primary p-3 text-center text-base font-medium text-white transition bg-green-700 hover:border-green-600 hover:bg-green-600 hover:text-white dark:text-white dark:border-green-700 dark:hover:border-green-400"}," Give Access ")])]),he(rs,{modelValue:v.value,"onUpdate:modelValue":H[8]||(H[8]=Q=>v.value=Q),title:"Confirm Addition",message:"You are about to give access to this user.",messageData:`
First Name: ${h.user.firstName}
Last Name: ${h.user.lastName}
Email: ${h.user.email}`,cancelText:"Cancel",confirmText:"Confirm Adding",onConfirm:m},null,8,["modelValue","messageData"])],512))])):we("",!0)}},eM={class:""},tM={class:"border-2 mt-4 px-4 rounded-xl border-blue-400 dark:border-gray-800 backdrop-blur-lg bg-slate-400/50 dark:bg-black"},sM={key:0,class:"min-h-[88vh] flex items-center justify-center"},rM={class:""},aM={__name:"Users",setup(s){const o=G(!1),d=G(!1),u=G(!1),h=G(!1),v=G(!1),m=G(!1),y=G(null),k=E=>{y.value=E,v.value=!0},I=E=>{y.value=E,h.value=!0},L=E=>{console.log("Update user password data: ",E),y.value=E,m.value=!0};return(E,P)=>(F(),se("div",eM,[P[12]||(P[12]=l("div",{class:"sticky top-2 z-20 backdrop-blur-sm px-6 py-4 border-2 rounded-2xl bg-gray-200/45 border-blue-500/85 dark:bg-gray-800/45 dark:border-gray-300/85"},[l("h1",{class:"text-3xl ml-10 xl:ml-0 font-bold tracking-tight text-gray-950 dark:text-gray-100"}," Users ")],-1)),l("div",tM,[o.value?(F(),se("div",sM,[he(Ht)])):we("",!0),l("div",rM,[he(IP,{onOpenAddUserModal:P[0]||(P[0]=$=>d.value=!0),onOpenRecoverUserModal:P[1]||(P[1]=$=>u.value=!0),onOpenUpdateUsersModal:I,onOpenGiveAccessModal:k,onOpenUpdateUsersPasswordModal:L})])]),d.value?(F(),Ze(hI,{key:0,modelValue:d.value,"onUpdate:modelValue":P[2]||(P[2]=$=>d.value=$),onClick:P[3]||(P[3]=nt(()=>{},["stop"]))},null,8,["modelValue"])):we("",!0),u.value?(F(),Ze(BI,{key:1,modelValue:u.value,"onUpdate:modelValue":P[4]||(P[4]=$=>u.value=$),onClick:P[5]||(P[5]=nt(()=>{},["stop"]))},null,8,["modelValue"])):we("",!0),v.value?(F(),Ze(JI,{key:2,modelValue:v.value,"onUpdate:modelValue":P[6]||(P[6]=$=>v.value=$),user:y.value,onClick:P[7]||(P[7]=nt(()=>{},["stop"]))},null,8,["modelValue","user"])):we("",!0),h.value?(F(),Ze($u,{key:3,modelValue:h.value,"onUpdate:modelValue":P[8]||(P[8]=$=>h.value=$),user:y.value,onClick:P[9]||(P[9]=nt(()=>{},["stop"]))},null,8,["modelValue","user"])):we("",!0),m.value?(F(),Ze(Ru,{key:4,modelValue:m.value,"onUpdate:modelValue":P[10]||(P[10]=$=>m.value=$),user:y.value,onClick:P[11]||(P[11]=nt(()=>{},["stop"]))},null,8,["modelValue","user"])):we("",!0)]))}},go="/assets/errorBg-C_0QPEan.jpg",iM={class:"animate-rotate-border rounded-3xl p-1.5 transition-all duration-500 ease-out bg-conic/[from_var(--border-angle)] from-red-900/30 via-red-600 to-red-900/30"},oM={class:"bg-black/80 backdrop-blur-lg rounded-3xl p-20 flex flex-col items-center justify-center text-white"},nM={__name:"NotFound",setup(s){const o=Ur(),d=()=>{o.push("/")};return(u,h)=>(F(),se("div",{style:xr({backgroundImage:`url(${de(go)})`,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"}),class:"flex flex-col items-center justify-center min-h-screen w-full"},[h[3]||(h[3]=l("div",{class:"absolute inset-0 bg-black/50 z-0"},null,-1)),l("div",iM,[l("div",oM,[he(de(Ld),{class:"w-52 h-52 text-red-700"}),h[1]||(h[1]=l("p",{class:"text-5xl font-bold mb-1"},"PAGE NOT FOUND",-1)),h[2]||(h[2]=l("p",{class:"text-xl mt-2"},"Oops! The page you're looking for doesn't exist. ",-1)),l("button",{onClick:d,class:"mt-6 px-5 py-2 cursor-pointer rounded-lg bg-red-700 hover:bg-green-700 hover:scale-105 text-white font-medium shadow-md transition-all duration-300 flex items-center gap-2"},[he(de(Sa),{class:"w-5 h-5"}),h[0]||(h[0]=xt(" Back to Dashboard "))])])])],4))}},lM={class:"min-h-screen flex items-center justify-center bg-gradient-to-b from-black to-blue-900 relative"},cM={class:"flex flex-col items-center gap-1 z-10 bg-gray-200 rounded-xl p-8 min-h-[30vh]"},dM={class:"w-full px-1 mb-4"},uM={class:"flex items-center"},hM={class:"flex items-center"},fM={class:"flex items-center"},pM={class:"text-body-color dark:text-dark-6 px-3"},gM={key:0},mM={class:"bg-gray-100 mb-4 px-6 rounded-xl shadow-lg min-w-[900px] min-h-[21vh] flex justify-center items-center w-full"},vM={class:"w-full"},bM={class:"flex flex-row"},xM={class:"text-red-700 ml-2 font-semibold italic"},yM={class:"flex justify-center"},wM=["disabled"],kM={key:1},CM={class:"bg-white p-6 rounded-xl shadow-lg min-w-[900px] mb-4 min-h-[21vh]"},_M={class:""},SM={class:"flex flex-row"},AM={class:"text-red-700 ml-2 font-semibold italic"},LM={class:""},EM={class:"flex flex-row"},PM={class:"text-red-700 ml-2 font-semibold italic"},IM={class:"flex gap-2"},MM=["disabled"],Fo={__name:"ForgotPassword",props:{token:String,email:String,reset:Boolean},setup(s){const o=s,d=G(!1),u=qt(),h={users:"users"},{users:v}=Object.fromEntries(Object.entries(h).map(([N,R])=>[N,Ve(()=>u[R])])),m=G({email:"",password:"",password_confirmation:"",token:""}),y=G({email:[],password:[],password_confirmation:[]}),k=/^(?=.*[A-Za-z])(?=.*\d)(?=.*[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?])[A-Za-z\d!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]{8,}$/,I=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,L=()=>{Object.keys(y.value).forEach(R=>{y.value[R]=[]});let N=!1;return m.value.email?I.test(m.value.email)||(y.value.email=["Please enter a valid email address"],N=!0):(y.value.email=["Email is required"],N=!0),m.value.password?(k.test(m.value.password)||(y.value.password=["Password must contain special characters, letters and numbers"],N=!0),m.value.password.length<8&&(y.value.password=["Password must be at least 8 characters long"],N=!0)):(y.value.password=["Password is required"],N=!0),m.value.password_confirmation?m.value.password!==m.value.password_confirmation&&(y.value.password_confirmation=["Passwords don't match"],N=!0):(y.value.password_confirmation=["Password confirmation is required"],N=!0),!N};it(()=>m.value.email,N=>{N?I.test(N)?y.value.email=[]:y.value.email=["Please enter a valid email address"]:y.value.email=["Email is required"]}),it(()=>m.value.password,N=>{y.value.password=[],N?(k.test(N)||(y.value.password=["Password must contain special characters, letters and numbers"]),N.length<8&&(y.value.password=["Password must be at least 8 characters long"])):y.value.password=["Password is required"]}),it(()=>m.value.password_confirmation,N=>{N?N!==m.value.password?y.value.password_confirmation=["Passwords don't match"]:y.value.password_confirmation=[]:y.value.password_confirmation=["Password confirmation is required"]});const E=async()=>{var N,R;try{if(d.value=!0,!v.value.find(Y=>Y.email===m.value.email)){y.value.email=["Email not found in our records"];return}const Q=await er.post("/forgot-password",{email:m.value.email});pt.emit("show-toast",{message:"Password reset link has been sent to your email!",type:"success"}),m.value.email=""}catch(H){console.error("Error sending reset link:",H),pt.emit("show-toast",{message:((R=(N=H.response)==null?void 0:N.data)==null?void 0:R.message)||"Error sending reset link",type:"error"})}finally{d.value=!1}},P=async()=>{var N,R;console.log("changing");try{if(console.log("validating form"),L())return;console.log("validated form"),d.value=!0;const H=await er.post("/reset-password",{email:o.email,password:m.value.password,password_confirmation:m.value.password_confirmation,token:o.token});console.log("response: ",H.value),pt.emit("show-toast",{message:"Password reset successfully!",type:"success"}),m.value={email:"",password:"",password_confirmation:"",token:""},$a.push("/login")}catch(H){console.error("Error resetting password:",H),pt.emit("show-toast",{message:((R=(N=H.response)==null?void 0:N.data)==null?void 0:R.message)||"Error resetting password",type:"error"})}finally{d.value=!1}};gt(()=>{!o.token&&!o.email?(m.value.token=o.token,m.value.email=o.email,$.value=1):$.value=2,u.fetchData()}),G([{text:"Input Email"},{text:"Input Password"}]);const $=G(1),D=()=>{$.value=1};return(N,R)=>(F(),se("div",lM,[l("div",cM,[R[7]||(R[7]=l("h2",{class:"text-gray-900 text-2xl text-center font-bold mb-2"},"Forgot Password",-1)),l("div",dM,[l("ul",uM,[l("li",hM,[l("a",{class:ct(["text-md font-medium",{"text-blue-600":$.value===1,"text-gray-800":$.value!==1}]),onClick:D},"Enter Email",2)]),l("li",fM,[l("span",pM,[he(de(Cg),{class:"w-5 h-5"})]),l("span",{class:ct(["text-md font-medium",{"text-blue-600":$.value===2,"text-gray-800":$.value!==2}])},"Enter Password",2)])])]),$.value===1?(F(),se("div",gM,[l("div",mM,[l("div",vM,[l("div",bM,[R[4]||(R[4]=l("label",{for:"email",class:"block text-md font-medium text-gray-700"},"Enter Email",-1)),l("p",xM,pe(y.value.email?y.value.email[0]:""),1)]),Xe(l("input",{type:"email",name:"email",id:"email",autocomplete:"email","onUpdate:modelValue":R[0]||(R[0]=H=>m.value.email=H),class:"mt-1 w-full px-3 py-2 border text-gray-800 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[ht,m.value.email]])])]),l("div",yM,[l("button",{onClick:E,disabled:d.value,class:"w-full items-center bg-blue-600 text-white py-2 mt-1 font-semibold rounded-md hover:bg-blue-700 disabled:bg-gray-400"},pe(d.value?"Sending...":"Send Reset Link"),9,wM)])])):we("",!0),$.value===2?(F(),se("div",kM,[l("div",CM,[l("div",_M,[l("div",SM,[R[5]||(R[5]=l("label",{for:"email",class:"block text-md font-medium text-gray-700"},"Password",-1)),l("p",AM,pe(y.value.password?y.value.password[0]:""),1)]),Xe(l("input",{type:"password",name:"password",id:"password","onUpdate:modelValue":R[1]||(R[1]=H=>m.value.password=H),class:"mt-1 w-full px-3 py-2 border text-gray-800 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[ht,m.value.password]])]),l("div",LM,[l("div",EM,[R[6]||(R[6]=l("label",{for:"email",class:"block text-md font-medium text-gray-700"},"Confirm Password",-1)),l("p",PM,pe(y.value.password_confirmation?y.value.password_confirmation[0]:""),1)]),Xe(l("input",{type:"password",name:"password",id:"passwordConfirmation","onUpdate:modelValue":R[2]||(R[2]=H=>m.value.password_confirmation=H),class:"mt-1 w-full px-3 py-2 border text-gray-800 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[ht,m.value.password_confirmation]])])]),l("div",IM,[l("button",{onClick:D,class:"w-full bg-blue-600 text-white py-2 mt-1 font-semibold rounded-md hover:bg-blue-700"},"Back"),l("button",{onClick:R[3]||(R[3]=H=>P()),disabled:d.value,class:"w-full bg-blue-600 text-white py-2 mt-1 font-semibold rounded-md hover:bg-blue-700 disabled:bg-gray-400"},pe(d.value?"Resetting...":"Reset Password"),9,MM)])])):we("",!0)])]))}},TM="/assets/darkBlueBg-CbW64JGx.jpg",OM={class:"animate-rotate-border rounded-3xl p-1.5 transition-all duration-500 ease-out bg-conic/[from_var(--border-angle)] from-green-500/10 via-green-500 to-green-500/10"},$M={class:"bg-black/95 backdrop-blur-lg rounded-3xl p-20 flex flex-col items-center justify-center text-white"},RM={__name:"EmailVerified",setup(s){const o=Ur(),d=()=>{o.push("/")};return(u,h)=>(F(),se("div",{style:xr({backgroundImage:`url(${de(TM)})`,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"}),class:"flex flex-col items-center justify-center min-h-screen w-full"},[h[3]||(h[3]=l("div",{class:"absolute inset-0 bg-teal-700/30 z-0"},null,-1)),l("div",OM,[l("div",$M,[he(de(yg),{class:"w-50 h-50 mb-6 text-green-700"}),h[1]||(h[1]=l("p",{class:"text-5xl font-bold mb-1"},"EMAIL VERIFIED",-1)),h[2]||(h[2]=l("p",{class:"text-xl mt-2"},"Your email has been successfully verified! You can now access the SCCC-Inventory System. ",-1)),l("button",{onClick:d,class:"mt-6 px-5 py-2 cursor-pointer rounded-lg bg-green-700 hover:bg-green-700 hover:scale-105 text-white font-medium shadow-md transition-all duration-300 flex items-center gap-2"},[h[0]||(h[0]=xt(" Go to Dashboard ")),he(de(pg),{class:"w-5 h-5"})])])])],4))}},DM={key:0,class:"h-[72vh] flex flex-col items-center justify-center"},NM={key:1,class:"animate-rotate-border rounded-3xl p-1.5 transition-all duration-500 ease-out bg-conic/[from_var(--border-angle)] from-red-900/30 via-red-600 to-red-900/30"},zM={class:"bg-black/80 backdrop-blur-lg rounded-3xl p-20 flex flex-col items-center justify-center text-white"},BM={class:"flex flex-row w-full items-center justify-between gap-2"},FM={__name:"EmailNotVerified",setup(s){const o=js(),d=G(!1),u=Ur();function h(){d.value=!0,console.log("Logout clicked"),o.user?er.post("/logout").then(()=>{u.push("/login")}):u.push("/login")}const v=()=>{d.value=!0,er.post("/email/verification-notification").then(m=>{console.log("Verification email sent:",m.data),pt.emit("show-toast",{message:"Verification email has been sent! Please check your inbox.",type:"success"})}).catch(m=>{console.error("Error sending verification email:",m),d.value=!1,pt.emit("show-toast",{message:"Failed to send verification email. Please try again later.",type:"error"})})};return(m,y)=>(F(),se("div",null,[l("div",{style:xr({backgroundImage:`url(${de(go)})`,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"}),class:"flex flex-col items-center justify-center min-h-screen w-full"},[y[5]||(y[5]=l("div",{class:"absolute inset-0 bg-black/50 z-0"},null,-1)),d.value?(F(),se("div",DM,[he(Ht)])):(F(),se("div",NM,[l("div",zM,[he(de(Ld),{class:"w-52 h-52 mb-4 text-red-700"}),y[3]||(y[3]=l("p",{class:"text-5xl font-bold mb-1"},"EMAIL NOT VERIFIED",-1)),y[4]||(y[4]=l("p",{class:"text-xl mt-2"},"Oops! The page you're looking for doesn't exist. ",-1)),l("div",BM,[l("button",{onClick:y[0]||(y[0]=k=>h()),class:"mt-6 px-5 py-2 w-full text-center cursor-pointer rounded-lg bg-red-700 hover:bg-green-700 hover:scale-105 text-white font-medium shadow-md transition-all duration-300 flex items-center gap-2"},[he(de(Sa),{class:"w-5 h-5"}),y[1]||(y[1]=xt(" Back to Login "))]),l("button",{onClick:v,class:"mt-6 px-5 py-2 w-full text-center cursor-pointer rounded-lg bg-red-700 hover:bg-green-700 hover:scale-105 text-white font-medium shadow-md transition-all duration-300 flex items-center gap-2"},[he(de(Sa),{class:"w-5 h-5"}),y[2]||(y[2]=xt(" Send Verification Email "))])])])]))],4)]))}},HM={class:"animate-rotate-border rounded-3xl p-1.5 transition-all duration-500 ease-out bg-conic/[from_var(--border-angle)] from-red-900/30 via-red-600 to-red-900/30"},VM={class:"bg-black/80 backdrop-blur-lg rounded-3xl p-20 flex flex-col items-center justify-center text-white"},UM={class:"flex flex-row w-full items-center justify-center gap-2"},qM={__name:"NoAccess",setup(s){const o=Ur(),d=()=>{o.push("/")},u=js();function h(){u.user?er.post("/logout",null,{headers:{"x-api-key":"5m@rtC!ty"}}).then(()=>{u.user=null,u.inventoryAccess=null,u.userLoaded=!1,o.push("/login")}):o.push("/login")}return(v,m)=>(F(),se("div",{style:xr({backgroundImage:`url(${de(go)})`,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"}),class:"flex flex-col items-center justify-center min-h-screen w-full"},[m[5]||(m[5]=l("div",{class:"absolute inset-0 bg-black/50 z-0"},null,-1)),l("div",HM,[l("div",VM,[he(de(Pd),{class:"w-50 h-50 mb-6 text-red-700"}),m[3]||(m[3]=l("p",{class:"text-5xl font-bold mb-1"},"NO ACCESS",-1)),m[4]||(m[4]=l("p",{class:"text-xl mt-2"},"You have no access to this page. Please contact an admin and ask for permission.",-1)),l("div",UM,[l("button",{onClick:d,class:"mt-6 px-5 py-2 cursor-pointer rounded-lg bg-red-700 hover:bg-green-700 hover:scale-105 text-white font-medium shadow-md transition-all duration-300 flex items-center gap-2"},[he(de(Sa),{class:"w-5 h-5"}),m[1]||(m[1]=xt(" Back to Dashboard "))]),l("button",{onClick:m[0]||(m[0]=y=>h()),class:"mt-6 px-5 py-2 cursor-pointer rounded-lg bg-red-700 hover:bg-green-700 hover:scale-105 text-white font-medium shadow-md transition-all duration-300 flex items-center gap-2"},[he(de(Sa),{class:"w-5 h-5"}),m[2]||(m[2]=xt(" Back to Login "))])])])])],4))}},jM={class:"animate-rotate-border max-w-[50vw] rounded-3xl p-1.5 transition-all duration-500 ease-out bg-conic/[from_var(--border-angle)] from-red-900/30 via-red-600 to-red-900/30"},XM={class:"bg-black/80 backdrop-blur-lg rounded-3xl p-20 flex flex-col items-center justify-center text-white"},YM={class:"flex flex-row w-full items-center justify-center gap-2"},WM={__name:"NoInventoryAccess",setup(s){const o="5m@rtC!ty",d=js(),u=Ur(),h=G(!1);function v(){console.log("Logout clicked"),d.user?er.post("/logout").then(()=>{u.push("/login")}):u.push("/login")}gt(()=>{d.user===null&&u.push({name:"Login"})});const m=async()=>{var y;console.log("userStore.user",d.user);try{h.value=!0;const k={firstName:d.user.firstName,middleName:d.user.middleName,lastName:d.user.lastName,email:d.user.email,email_verified_at:d.user.email_verified_at,for_911:d.user.for_911,for_inventory:1,is_deleted:d.user.is_deleted};console.log("Add copy data sent: ",k);const I=await er.put(`/api/users/${d.user.id}`,k,{headers:{"x-api-key":o}});console.log("Update User API response:",I),u.push({name:"Dashboard"})}catch(k){console.error("Error updating user:",k),console.error("Error details:",(y=k.response)==null?void 0:y.data),pt.emit("show-toast",{message:"Error updating user. Please try again.",type:"error"})}finally{js(),h.value=!1,pt.emit("show-toast",{message:"User updated successfully!",type:"success"})}};return(y,k)=>(F(),se("div",{style:xr({backgroundImage:`url(${de(go)})`,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"}),class:"flex flex-col items-center justify-center min-h-screen w-full"},[k[6]||(k[6]=l("div",{class:"absolute inset-0 bg-black/50 z-0"},null,-1)),l("div",jM,[l("div",XM,[he(de(Pd),{class:"w-50 h-50 mb-6 text-red-700"}),k[4]||(k[4]=l("p",{class:"text-5xl font-bold mb-1"},"NO SCCC INVENTORY ACCESS",-1)),k[5]||(k[5]=l("p",{class:"text-xl mt-2"},"You have no access to SCCC Inventory Dashboard but you have an account with an access to SCCC 911 Dashboard. Press the CREATE ACCOUNT button to have an access to SCCC Inventory Dashboard. ",-1)),l("div",YM,[l("button",{onClick:k[0]||(k[0]=I=>v()),class:"mt-6 px-5 py-2 cursor-pointer rounded-lg bg-red-700 hover:bg-green-700 hover:scale-105 text-white font-medium shadow-md transition-all duration-300 flex items-center gap-2"},[he(de(Sa),{class:"w-5 h-5"}),k[2]||(k[2]=xt(" Back to Login "))]),l("button",{onClick:k[1]||(k[1]=I=>m()),class:"mt-6 px-5 py-2 cursor-pointer rounded-lg bg-green-700 hover:bg-green-900 hover:scale-105 text-white font-medium shadow-md transition-all duration-300 flex items-center gap-2"},[he(de(ug),{class:"w-5 h-5"}),k[3]||(k[3]=xt(" Create Account "))])])])])],4))}},GM={class:""},QM={key:0,class:"h-[80vh] flex flex-col items-center justify-center"},ZM={key:1,class:"border-2 mt-4 px-4 border-gray-300 dark:border-gray-800 dark:bg-black rounded-xl"},KM={class:"min-h-[80vh]"},JM={__name:"Transactions",setup(s){const o=nm(),d=o.query.borrower_id,u=o.query.user_id,h=o.query.office_id,v=qt();gt(()=>{v.fetchData()});const m={transactionItems:"transactionItems",transactionHistory:"transactionHistory",officeEquipments:"officeEquipments",officeSupplies:"officeSupplies",officeList:"officeList",users:"users",borrowers:"borrowers",equipmentCopies:"equipmentCopies",categoryList:"categoryList"},{transactionItems:y,transactionHistory:k,officeEquipments:I,officeSupplies:L,officeList:E,users:P,borrowers:$,equipmentCopies:D,categoryList:N}=Object.fromEntries(Object.entries(m).map(([Me,ze])=>[Me,Ve(()=>v[ze])])),R=Me=>Ve(()=>Object.values(Me.value)),H=R(y),Q=R(k),Y=R(I),q=R(L),S=R(E),K=R(P),ae=R($),B=R(D),te=R(N),fe=Me=>Me.toISOString().split("T")[0],Te=G(fe(new Date)),Ae=G(fe(new Date("2025-01-01"))),Ie=G({start:Ae.value,end:Te.value}),Ee=Me=>{Ie.value=Me};gt(()=>{Ee({start:Ae.value,end:Te.value})});const Ne=Ve(()=>H.value.length===0||Q.value.length===0||Y.value.length===0||q.value.length===0||S.value.length===0||K.value.length===0||ae.value.length===0||B.value.length===0||te.value.length===0||v.inventoryAccesses.length===0);return(Me,ze)=>(F(),se("div",GM,[ze[1]||(ze[1]=l("div",{class:"sticky top-2 z-20 backdrop-blur-sm px-6 py-4 border-2 rounded-2xl bg-gray-200/45 border-blue-500/85 dark:bg-gray-800/45 dark:border-gray-300/85"},[l("h1",{class:"text-3xl ml-10 xl:ml-0 font-bold tracking-tight text-gray-950 dark:text-gray-100"}," Transactions ")],-1)),Ne.value?(F(),se("div",QM,[he(Ht),ze[0]||(ze[0]=l("p",{class:"text-gray-500 dark:text-gray-400"},"Fetching data...",-1))])):(F(),se("div",ZM,[l("div",KM,[he(Ew,{transactionItems:de(H),transactionHistory:de(Q),officeEquipments:de(Y),officeSupplies:de(q),officeList:de(S),users:de(K),borrowers:de(ae),equipmentCopies:de(B),categoryList:de(te),selectedDateRange:Ie.value,filterBorrowerId:de(d),filterLenderId:de(u),filterOfficeId:de(h)},null,8,["transactionItems","transactionHistory","officeEquipments","officeSupplies","officeList","users","borrowers","equipmentCopies","categoryList","selectedDateRange","filterBorrowerId","filterLenderId","filterOfficeId"])])]))]))}},eT=oa(JM,[["__scopeId","data-v-25812d68"]]),tT=[{path:"/",component:k8,children:[{path:"/",name:"Dashboard",component:X_,meta:{permission:"for_dashboard"}},{path:"/inventory",name:"Inventory",component:wA,meta:{permission:"for_inventory"}},{path:"/categories",name:"Categories",component:J7,meta:{permission:"for_categories"}},{path:"/borrowers",name:"Borrowers",component:XE,meta:{permission:"for_borrowers"}},{path:"/offices",name:"Offices",component:U6,meta:{permission:"for_offices"}},{path:"/users",name:"Users",component:aM,meta:{permission:"for_users"}},{path:"/transactions",name:"Transactions",component:eT,meta:{permission:"for_dashboard"}},{path:"/forgotpassword",name:"ForgotPassword",component:Fo},{path:"/password-reset",name:"PasswordReset",component:Fo,props:s=>({token:s.query.token,email:s.query.email})}],beforeEnter:async(s,o,d)=>{try{const u=js();await u.fetchUser(),u.user.for_inventory===0?(console.log("userStore.user.for_inventory",u.user.for_inventory),d("/no_inventory_access")):u.user.email_verified_at===null&&(console.log("userStore.user.email_verified_at",u.user.email_verified_at),d("/email_not_verified")),d()}catch{d("/login")}}},{path:"/login",name:"Login",component:Cm},{path:"/signup",name:"Signup",component:vb},{path:"/forgotpassword",name:"ForgotPassword",component:Fo},{path:"/email_verified",name:"EmailVerified",component:RM},{path:"/email_not_verified",name:"EmailNotVerified",component:FM},{path:"/no_access",name:"NoAccess",component:qM},{path:"/no_inventory_access",name:"NoInventoryAccess",component:WM},{path:"/:pathMatch(.*)*",name:"NotFound",component:nM}],$a=im({history:$0(),routes:tT});$a.beforeEach(async(s,o,d)=>{const u=js();if(!s.meta.permission)return d();try{if((!u.user||!u.inventoryAccess)&&(await u.fetchUser(),!u.user))return d("/login");const h=s.meta.permission,v=u.inventoryAccess;return v&&v.inventoryAccess&&v.inventoryAccess[h]?d():d({name:"NoAccess"})}catch(h){return console.error("Navigation guard error:",h),d("/login")}});var Ho={exports:{}};/*!
 * Pusher JavaScript Library v8.4.0
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */var mc;function sT(){return mc||(mc=1,function(s,o){(function(u,h){s.exports=h()})(window,function(){return function(d){var u={};function h(v){if(u[v])return u[v].exports;var m=u[v]={i:v,l:!1,exports:{}};return d[v].call(m.exports,m,m.exports,h),m.l=!0,m.exports}return h.m=d,h.c=u,h.d=function(v,m,y){h.o(v,m)||Object.defineProperty(v,m,{enumerable:!0,get:y})},h.r=function(v){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(v,"__esModule",{value:!0})},h.t=function(v,m){if(m&1&&(v=h(v)),m&8||m&4&&typeof v=="object"&&v&&v.__esModule)return v;var y=Object.create(null);if(h.r(y),Object.defineProperty(y,"default",{enumerable:!0,value:v}),m&2&&typeof v!="string")for(var k in v)h.d(y,k,(function(I){return v[I]}).bind(null,k));return y},h.n=function(v){var m=v&&v.__esModule?function(){return v.default}:function(){return v};return h.d(m,"a",m),m},h.o=function(v,m){return Object.prototype.hasOwnProperty.call(v,m)},h.p="",h(h.s=2)}([function(d,u,h){var v=this&&this.__extends||function(){var N=function(R,H){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,Y){Q.__proto__=Y}||function(Q,Y){for(var q in Y)Y.hasOwnProperty(q)&&(Q[q]=Y[q])},N(R,H)};return function(R,H){N(R,H);function Q(){this.constructor=R}R.prototype=H===null?Object.create(H):(Q.prototype=H.prototype,new Q)}}();Object.defineProperty(u,"__esModule",{value:!0});var m=256,y=function(){function N(R){R===void 0&&(R="="),this._paddingCharacter=R}return N.prototype.encodedLength=function(R){return this._paddingCharacter?(R+2)/3*4|0:(R*8+5)/6|0},N.prototype.encode=function(R){for(var H="",Q=0;Q<R.length-2;Q+=3){var Y=R[Q]<<16|R[Q+1]<<8|R[Q+2];H+=this._encodeByte(Y>>>3*6&63),H+=this._encodeByte(Y>>>2*6&63),H+=this._encodeByte(Y>>>1*6&63),H+=this._encodeByte(Y>>>0*6&63)}var q=R.length-Q;if(q>0){var Y=R[Q]<<16|(q===2?R[Q+1]<<8:0);H+=this._encodeByte(Y>>>3*6&63),H+=this._encodeByte(Y>>>2*6&63),q===2?H+=this._encodeByte(Y>>>1*6&63):H+=this._paddingCharacter||"",H+=this._paddingCharacter||""}return H},N.prototype.maxDecodedLength=function(R){return this._paddingCharacter?R/4*3|0:(R*6+7)/8|0},N.prototype.decodedLength=function(R){return this.maxDecodedLength(R.length-this._getPaddingLength(R))},N.prototype.decode=function(R){if(R.length===0)return new Uint8Array(0);for(var H=this._getPaddingLength(R),Q=R.length-H,Y=new Uint8Array(this.maxDecodedLength(Q)),q=0,S=0,K=0,ae=0,B=0,te=0,fe=0;S<Q-4;S+=4)ae=this._decodeChar(R.charCodeAt(S+0)),B=this._decodeChar(R.charCodeAt(S+1)),te=this._decodeChar(R.charCodeAt(S+2)),fe=this._decodeChar(R.charCodeAt(S+3)),Y[q++]=ae<<2|B>>>4,Y[q++]=B<<4|te>>>2,Y[q++]=te<<6|fe,K|=ae&m,K|=B&m,K|=te&m,K|=fe&m;if(S<Q-1&&(ae=this._decodeChar(R.charCodeAt(S)),B=this._decodeChar(R.charCodeAt(S+1)),Y[q++]=ae<<2|B>>>4,K|=ae&m,K|=B&m),S<Q-2&&(te=this._decodeChar(R.charCodeAt(S+2)),Y[q++]=B<<4|te>>>2,K|=te&m),S<Q-3&&(fe=this._decodeChar(R.charCodeAt(S+3)),Y[q++]=te<<6|fe,K|=fe&m),K!==0)throw new Error("Base64Coder: incorrect characters for decoding");return Y},N.prototype._encodeByte=function(R){var H=R;return H+=65,H+=25-R>>>8&6,H+=51-R>>>8&-75,H+=61-R>>>8&-15,H+=62-R>>>8&3,String.fromCharCode(H)},N.prototype._decodeChar=function(R){var H=m;return H+=(42-R&R-44)>>>8&-256+R-43+62,H+=(46-R&R-48)>>>8&-256+R-47+63,H+=(47-R&R-58)>>>8&-256+R-48+52,H+=(64-R&R-91)>>>8&-256+R-65+0,H+=(96-R&R-123)>>>8&-256+R-97+26,H},N.prototype._getPaddingLength=function(R){var H=0;if(this._paddingCharacter){for(var Q=R.length-1;Q>=0&&R[Q]===this._paddingCharacter;Q--)H++;if(R.length<4||H>2)throw new Error("Base64Coder: incorrect padding")}return H},N}();u.Coder=y;var k=new y;function I(N){return k.encode(N)}u.encode=I;function L(N){return k.decode(N)}u.decode=L;var E=function(N){v(R,N);function R(){return N!==null&&N.apply(this,arguments)||this}return R.prototype._encodeByte=function(H){var Q=H;return Q+=65,Q+=25-H>>>8&6,Q+=51-H>>>8&-75,Q+=61-H>>>8&-13,Q+=62-H>>>8&49,String.fromCharCode(Q)},R.prototype._decodeChar=function(H){var Q=m;return Q+=(44-H&H-46)>>>8&-256+H-45+62,Q+=(94-H&H-96)>>>8&-256+H-95+63,Q+=(47-H&H-58)>>>8&-256+H-48+52,Q+=(64-H&H-91)>>>8&-256+H-65+0,Q+=(96-H&H-123)>>>8&-256+H-97+26,Q},R}(y);u.URLSafeCoder=E;var P=new E;function $(N){return P.encode(N)}u.encodeURLSafe=$;function D(N){return P.decode(N)}u.decodeURLSafe=D,u.encodedLength=function(N){return k.encodedLength(N)},u.maxDecodedLength=function(N){return k.maxDecodedLength(N)},u.decodedLength=function(N){return k.decodedLength(N)}},function(d,u,h){Object.defineProperty(u,"__esModule",{value:!0});var v="utf8: invalid string",m="utf8: invalid source encoding";function y(L){for(var E=new Uint8Array(k(L)),P=0,$=0;$<L.length;$++){var D=L.charCodeAt($);D<128?E[P++]=D:D<2048?(E[P++]=192|D>>6,E[P++]=128|D&63):D<55296?(E[P++]=224|D>>12,E[P++]=128|D>>6&63,E[P++]=128|D&63):($++,D=(D&1023)<<10,D|=L.charCodeAt($)&1023,D+=65536,E[P++]=240|D>>18,E[P++]=128|D>>12&63,E[P++]=128|D>>6&63,E[P++]=128|D&63)}return E}u.encode=y;function k(L){for(var E=0,P=0;P<L.length;P++){var $=L.charCodeAt(P);if($<128)E+=1;else if($<2048)E+=2;else if($<55296)E+=3;else if($<=57343){if(P>=L.length-1)throw new Error(v);P++,E+=4}else throw new Error(v)}return E}u.encodedLength=k;function I(L){for(var E=[],P=0;P<L.length;P++){var $=L[P];if($&128){var D=void 0;if($<224){if(P>=L.length)throw new Error(m);var N=L[++P];if((N&192)!==128)throw new Error(m);$=($&31)<<6|N&63,D=128}else if($<240){if(P>=L.length-1)throw new Error(m);var N=L[++P],R=L[++P];if((N&192)!==128||(R&192)!==128)throw new Error(m);$=($&15)<<12|(N&63)<<6|R&63,D=2048}else if($<248){if(P>=L.length-2)throw new Error(m);var N=L[++P],R=L[++P],H=L[++P];if((N&192)!==128||(R&192)!==128||(H&192)!==128)throw new Error(m);$=($&15)<<18|(N&63)<<12|(R&63)<<6|H&63,D=65536}else throw new Error(m);if($<D||$>=55296&&$<=57343)throw new Error(m);if($>=65536){if($>1114111)throw new Error(m);$-=65536,E.push(String.fromCharCode(55296|$>>10)),$=56320|$&1023}}E.push(String.fromCharCode($))}return E.join("")}u.decode=I},function(d,u,h){d.exports=h(3).default},function(d,u,h){h.r(u);class v{constructor(A,z){this.lastId=0,this.prefix=A,this.name=z}create(A){this.lastId++;var z=this.lastId,ce=this.prefix+z,ve=this.name+"["+z+"]",Ue=!1,dt=function(){Ue||(A.apply(null,arguments),Ue=!0)};return this[z]=dt,{number:z,id:ce,name:ve,callback:dt}}remove(A){delete this[A.number]}}var m=new v("_pusher_script_","Pusher.ScriptReceivers"),y={VERSION:"8.4.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},k=y;class I{constructor(A){this.options=A,this.receivers=A.receivers||m,this.loading={}}load(A,z,ce){var ve=this;if(ve.loading[A]&&ve.loading[A].length>0)ve.loading[A].push(ce);else{ve.loading[A]=[ce];var Ue=Ot.createScriptRequest(ve.getPath(A,z)),dt=ve.receivers.create(function(_t){if(ve.receivers.remove(dt),ve.loading[A]){var Bt=ve.loading[A];delete ve.loading[A];for(var Qt=function(ys){ys||Ue.cleanup()},ts=0;ts<Bt.length;ts++)Bt[ts](_t,Qt)}});Ue.send(dt)}}getRoot(A){var z,ce=Ot.getDocument().location.protocol;return A&&A.useTLS||ce==="https:"?z=this.options.cdn_https:z=this.options.cdn_http,z.replace(/\/*$/,"")+"/"+this.options.version}getPath(A,z){return this.getRoot(z)+"/"+A+this.options.suffix+".js"}}var L=new v("_pusher_dependencies","Pusher.DependenciesReceivers"),E=new I({cdn_http:k.cdn_http,cdn_https:k.cdn_https,version:k.VERSION,suffix:k.dependency_suffix,receivers:L});const P={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var D={buildLogSuffix:function(U){const A="See:",z=P.urls[U];if(!z)return"";let ce;return z.fullUrl?ce=z.fullUrl:z.path&&(ce=P.baseUrl+z.path),ce?`${A} ${ce}`:""}},N;(function(U){U.UserAuthentication="user-authentication",U.ChannelAuthorization="channel-authorization"})(N||(N={}));class R extends Error{constructor(A){super(A),Object.setPrototypeOf(this,new.target.prototype)}}class H extends Error{constructor(A){super(A),Object.setPrototypeOf(this,new.target.prototype)}}class Q extends Error{constructor(A){super(A),Object.setPrototypeOf(this,new.target.prototype)}}class Y extends Error{constructor(A){super(A),Object.setPrototypeOf(this,new.target.prototype)}}class q extends Error{constructor(A){super(A),Object.setPrototypeOf(this,new.target.prototype)}}class S extends Error{constructor(A){super(A),Object.setPrototypeOf(this,new.target.prototype)}}class K extends Error{constructor(A){super(A),Object.setPrototypeOf(this,new.target.prototype)}}class ae extends Error{constructor(A){super(A),Object.setPrototypeOf(this,new.target.prototype)}}class B extends Error{constructor(A,z){super(z),this.status=A,Object.setPrototypeOf(this,new.target.prototype)}}var fe=function(U,A,z,ce,ve){const Ue=Ot.createXHR();Ue.open("POST",z.endpoint,!0),Ue.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var dt in z.headers)Ue.setRequestHeader(dt,z.headers[dt]);if(z.headersProvider!=null){let _t=z.headersProvider();for(var dt in _t)Ue.setRequestHeader(dt,_t[dt])}return Ue.onreadystatechange=function(){if(Ue.readyState===4)if(Ue.status===200){let _t,Bt=!1;try{_t=JSON.parse(Ue.responseText),Bt=!0}catch{ve(new B(200,`JSON returned from ${ce.toString()} endpoint was invalid, yet status code was 200. Data was: ${Ue.responseText}`),null)}Bt&&ve(null,_t)}else{let _t="";switch(ce){case N.UserAuthentication:_t=D.buildLogSuffix("authenticationEndpoint");break;case N.ChannelAuthorization:_t=`Clients must be authorized to join private or presence channels. ${D.buildLogSuffix("authorizationEndpoint")}`;break}ve(new B(Ue.status,`Unable to retrieve auth string from ${ce.toString()} endpoint - received status: ${Ue.status} from ${z.endpoint}. ${_t}`),null)}},Ue.send(A),Ue};function Te(U){return ze(Ne(U))}var Ae=String.fromCharCode,Ie="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ee=function(U){var A=U.charCodeAt(0);return A<128?U:A<2048?Ae(192|A>>>6)+Ae(128|A&63):Ae(224|A>>>12&15)+Ae(128|A>>>6&63)+Ae(128|A&63)},Ne=function(U){return U.replace(/[^\x00-\x7F]/g,Ee)},Me=function(U){var A=[0,2,1][U.length%3],z=U.charCodeAt(0)<<16|(U.length>1?U.charCodeAt(1):0)<<8|(U.length>2?U.charCodeAt(2):0),ce=[Ie.charAt(z>>>18),Ie.charAt(z>>>12&63),A>=2?"=":Ie.charAt(z>>>6&63),A>=1?"=":Ie.charAt(z&63)];return ce.join("")},ze=window.btoa||function(U){return U.replace(/[\s\S]{1,3}/g,Me)};class Je{constructor(A,z,ce,ve){this.clear=z,this.timer=A(()=>{this.timer&&(this.timer=ve(this.timer))},ce)}isRunning(){return this.timer!==null}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}}var Ye=Je;function st(U){window.clearTimeout(U)}function xe(U){window.clearInterval(U)}class ue extends Ye{constructor(A,z){super(setTimeout,st,A,function(ce){return z(),null})}}class Re extends Ye{constructor(A,z){super(setInterval,xe,A,function(ce){return z(),ce})}}var bt={now(){return Date.now?Date.now():new Date().valueOf()},defer(U){return new ue(0,U)},method(U,...A){var z=Array.prototype.slice.call(arguments,1);return function(ce){return ce[U].apply(ce,z.concat(arguments))}}},ot=bt;function Pe(U,...A){for(var z=0;z<A.length;z++){var ce=A[z];for(var ve in ce)ce[ve]&&ce[ve].constructor&&ce[ve].constructor===Object?U[ve]=Pe(U[ve]||{},ce[ve]):U[ve]=ce[ve]}return U}function ge(){for(var U=["Pusher"],A=0;A<arguments.length;A++)typeof arguments[A]=="string"?U.push(arguments[A]):U.push(at(arguments[A]));return U.join(" : ")}function je(U,A){var z=Array.prototype.indexOf;if(U===null)return-1;if(z&&U.indexOf===z)return U.indexOf(A);for(var ce=0,ve=U.length;ce<ve;ce++)if(U[ce]===A)return ce;return-1}function ke(U,A){for(var z in U)Object.prototype.hasOwnProperty.call(U,z)&&A(U[z],z,U)}function ie(U){var A=[];return ke(U,function(z,ce){A.push(ce)}),A}function ye(U){var A=[];return ke(U,function(z){A.push(z)}),A}function ne(U,A,z){for(var ce=0;ce<U.length;ce++)A.call(z||window,U[ce],ce,U)}function le(U,A){for(var z=[],ce=0;ce<U.length;ce++)z.push(A(U[ce],ce,U,z));return z}function oe(U,A){var z={};return ke(U,function(ce,ve){z[ve]=A(ce)}),z}function Ce(U,A){A=A||function(ve){return!!ve};for(var z=[],ce=0;ce<U.length;ce++)A(U[ce],ce,U,z)&&z.push(U[ce]);return z}function Le(U,A){var z={};return ke(U,function(ce,ve){(A&&A(ce,ve,U,z)||ce)&&(z[ve]=ce)}),z}function _e(U){var A=[];return ke(U,function(z,ce){A.push([ce,z])}),A}function rt(U,A){for(var z=0;z<U.length;z++)if(A(U[z],z,U))return!0;return!1}function et(U,A){for(var z=0;z<U.length;z++)if(!A(U[z],z,U))return!1;return!0}function tt(U){return oe(U,function(A){return typeof A=="object"&&(A=at(A)),encodeURIComponent(Te(A.toString()))})}function Qe(U){var A=Le(U,function(ce){return ce!==void 0}),z=le(_e(tt(A)),ot.method("join","=")).join("&");return z}function Ct(U){var A=[],z=[];return function ce(ve,Ue){var dt,_t,Bt;switch(typeof ve){case"object":if(!ve)return null;for(dt=0;dt<A.length;dt+=1)if(A[dt]===ve)return{$ref:z[dt]};if(A.push(ve),z.push(Ue),Object.prototype.toString.apply(ve)==="[object Array]")for(Bt=[],dt=0;dt<ve.length;dt+=1)Bt[dt]=ce(ve[dt],Ue+"["+dt+"]");else{Bt={};for(_t in ve)Object.prototype.hasOwnProperty.call(ve,_t)&&(Bt[_t]=ce(ve[_t],Ue+"["+JSON.stringify(_t)+"]"))}return Bt;case"number":case"string":case"boolean":return ve}}(U,"$")}function at(U){try{return JSON.stringify(U)}catch{return JSON.stringify(Ct(U))}}class vt{constructor(){this.globalLog=A=>{window.console&&window.console.log&&window.console.log(A)}}debug(...A){this.log(this.globalLog,A)}warn(...A){this.log(this.globalLogWarn,A)}error(...A){this.log(this.globalLogError,A)}globalLogWarn(A){window.console&&window.console.warn?window.console.warn(A):this.globalLog(A)}globalLogError(A){window.console&&window.console.error?window.console.error(A):this.globalLogWarn(A)}log(A,...z){var ce=ge.apply(this,arguments);mo.log?mo.log(ce):mo.logToConsole&&A.bind(this)(ce)}}var lt=new vt,Dt=function(U,A,z,ce,ve){(z.headers!==void 0||z.headersProvider!=null)&&lt.warn(`To send headers with the ${ce.toString()} request, you must use AJAX, rather than JSONP.`);var Ue=U.nextAuthCallbackID.toString();U.nextAuthCallbackID++;var dt=U.getDocument(),_t=dt.createElement("script");U.auth_callbacks[Ue]=function(ts){ve(null,ts)};var Bt="Pusher.auth_callbacks['"+Ue+"']";_t.src=z.endpoint+"?callback="+encodeURIComponent(Bt)+"&"+A;var Qt=dt.getElementsByTagName("head")[0]||dt.documentElement;Qt.insertBefore(_t,Qt.firstChild)},jt=Dt;class Ut{constructor(A){this.src=A}send(A){var z=this,ce="Error loading "+z.src;z.script=document.createElement("script"),z.script.id=A.id,z.script.src=z.src,z.script.type="text/javascript",z.script.charset="UTF-8",z.script.addEventListener?(z.script.onerror=function(){A.callback(ce)},z.script.onload=function(){A.callback(null)}):z.script.onreadystatechange=function(){(z.script.readyState==="loaded"||z.script.readyState==="complete")&&A.callback(null)},z.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(z.errorScript=document.createElement("script"),z.errorScript.id=A.id+"_error",z.errorScript.text=A.name+"('"+ce+"');",z.script.async=z.errorScript.async=!1):z.script.async=!0;var ve=document.getElementsByTagName("head")[0];ve.insertBefore(z.script,ve.firstChild),z.errorScript&&ve.insertBefore(z.errorScript,z.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class ss{constructor(A,z){this.url=A,this.data=z}send(A){if(!this.request){var z=Qe(this.data),ce=this.url+"/"+A.number+"?"+z;this.request=Ot.createScriptRequest(ce),this.request.send(A)}}cleanup(){this.request&&this.request.cleanup()}}var ns=function(U,A){return function(z,ce){var ve="http"+(A?"s":"")+"://",Ue=ve+(U.host||U.options.host)+U.options.path,dt=Ot.createJSONPRequest(Ue,z),_t=Ot.ScriptReceivers.create(function(Bt,Qt){m.remove(_t),dt.cleanup(),Qt&&Qt.host&&(U.host=Qt.host),ce&&ce(Bt,Qt)});dt.send(_t)}},Pt={name:"jsonp",getAgent:ns},ks=Pt;function We(U,A,z){var ce=U+(A.useTLS?"s":""),ve=A.useTLS?A.hostTLS:A.hostNonTLS;return ce+"://"+ve+z}function He(U,A){var z="/app/"+U,ce="?protocol="+k.PROTOCOL+"&client=js&version="+k.VERSION+(A?"&"+A:"");return z+ce}var Ke={getInitial:function(U,A){var z=(A.httpPath||"")+He(U,"flash=false");return We("ws",A,z)}},St={getInitial:function(U,A){var z=(A.httpPath||"/pusher")+He(U);return We("http",A,z)}},Ge={getInitial:function(U,A){return We("http",A,A.httpPath||"/pusher")},getPath:function(U,A){return He(U)}};class Oe{constructor(){this._callbacks={}}get(A){return this._callbacks[Be(A)]}add(A,z,ce){var ve=Be(A);this._callbacks[ve]=this._callbacks[ve]||[],this._callbacks[ve].push({fn:z,context:ce})}remove(A,z,ce){if(!A&&!z&&!ce){this._callbacks={};return}var ve=A?[Be(A)]:ie(this._callbacks);z||ce?this.removeCallback(ve,z,ce):this.removeAllCallbacks(ve)}removeCallback(A,z,ce){ne(A,function(ve){this._callbacks[ve]=Ce(this._callbacks[ve]||[],function(Ue){return z&&z!==Ue.fn||ce&&ce!==Ue.context}),this._callbacks[ve].length===0&&delete this._callbacks[ve]},this)}removeAllCallbacks(A){ne(A,function(z){delete this._callbacks[z]},this)}}function Be(U){return"_"+U}class At{constructor(A){this.callbacks=new Oe,this.global_callbacks=[],this.failThrough=A}bind(A,z,ce){return this.callbacks.add(A,z,ce),this}bind_global(A){return this.global_callbacks.push(A),this}unbind(A,z,ce){return this.callbacks.remove(A,z,ce),this}unbind_global(A){return A?(this.global_callbacks=Ce(this.global_callbacks||[],z=>z!==A),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(A,z,ce){for(var ve=0;ve<this.global_callbacks.length;ve++)this.global_callbacks[ve](A,z);var Ue=this.callbacks.get(A),dt=[];if(ce?dt.push(z,ce):z&&dt.push(z),Ue&&Ue.length>0)for(var ve=0;ve<Ue.length;ve++)Ue[ve].fn.apply(Ue[ve].context||window,dt);else this.failThrough&&this.failThrough(A,z);return this}}class as extends At{constructor(A,z,ce,ve,Ue){super(),this.initialize=Ot.transportConnectionInitializer,this.hooks=A,this.name=z,this.priority=ce,this.key=ve,this.options=Ue,this.state="new",this.timeline=Ue.timeline,this.activityTimeout=Ue.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||this.state!=="initialized")return!1;var A=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(A,this.options)}catch(z){return ot.defer(()=>{this.onError(z),this.changeState("closed")}),!1}return this.bindListeners(),lt.debug("Connecting",{transport:this.name,url:A}),this.changeState("connecting"),!0}close(){return this.socket?(this.socket.close(),!0):!1}send(A){return this.state==="open"?(ot.defer(()=>{this.socket&&this.socket.send(A)}),!0):!1}ping(){this.state==="open"&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(A){this.emit("error",{type:"WebSocketError",error:A}),this.timeline.error(this.buildTimelineMessage({error:A.toString()}))}onClose(A){A?this.changeState("closed",{code:A.code,reason:A.reason,wasClean:A.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(A){this.emit("message",A)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=A=>{this.onError(A)},this.socket.onclose=A=>{this.onClose(A)},this.socket.onmessage=A=>{this.onMessage(A)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(A,z){this.state=A,this.timeline.info(this.buildTimelineMessage({state:A,params:z})),this.emit(A,z)}buildTimelineMessage(A){return Pe({cid:this.id},A)}}class us{constructor(A){this.hooks=A}isSupported(A){return this.hooks.isSupported(A)}createConnection(A,z,ce,ve){return new as(this.hooks,A,z,ce,ve)}}var Et=new us({urls:Ke,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!Ot.getWebSocketAPI()},isSupported:function(){return!!Ot.getWebSocketAPI()},getSocket:function(U){return Ot.createWebSocket(U)}}),Lt={urls:St,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},Xt=Pe({getSocket:function(U){return Ot.HTTPFactory.createStreamingSocket(U)}},Lt),It=Pe({getSocket:function(U){return Ot.HTTPFactory.createPollingSocket(U)}},Lt),xs={isSupported:function(){return Ot.isXHRSupported()}},ms=new us(Pe({},Xt,xs)),$s=new us(Pe({},It,xs)),Ps={ws:Et,xhr_streaming:ms,xhr_polling:$s},Rs=Ps,Fs=new us({file:"sockjs",urls:Ge,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(U,A){return new window.SockJS(U,null,{js_path:E.getPath("sockjs",{useTLS:A.useTLS}),ignore_null_origin:A.ignoreNullOrigin})},beforeOpen:function(U,A){U.send(JSON.stringify({path:A}))}}),na={isSupported:function(U){var A=Ot.isXDRSupported(U.useTLS);return A}},la=new us(Pe({},Xt,na)),ca=new us(Pe({},It,na));Rs.xdr_streaming=la,Rs.xdr_polling=ca,Rs.sockjs=Fs;var da=Rs;class Er extends At{constructor(){super();var A=this;window.addEventListener!==void 0&&(window.addEventListener("online",function(){A.emit("online")},!1),window.addEventListener("offline",function(){A.emit("offline")},!1))}isOnline(){return window.navigator.onLine===void 0?!0:window.navigator.onLine}}var Pr=new Er;class Qs{constructor(A,z,ce){this.manager=A,this.transport=z,this.minPingDelay=ce.minPingDelay,this.maxPingDelay=ce.maxPingDelay,this.pingDelay=void 0}createConnection(A,z,ce,ve){ve=Pe({},ve,{activityTimeout:this.pingDelay});var Ue=this.transport.createConnection(A,z,ce,ve),dt=null,_t=function(){Ue.unbind("open",_t),Ue.bind("closed",Bt),dt=ot.now()},Bt=Qt=>{if(Ue.unbind("closed",Bt),Qt.code===1002||Qt.code===1003)this.manager.reportDeath();else if(!Qt.wasClean&&dt){var ts=ot.now()-dt;ts<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(ts/2,this.minPingDelay))}};return Ue.bind("open",_t),Ue}isSupported(A){return this.manager.isAlive()&&this.transport.isSupported(A)}}const cr={decodeMessage:function(U){try{var A=JSON.parse(U.data),z=A.data;if(typeof z=="string")try{z=JSON.parse(A.data)}catch{}var ce={event:A.event,channel:A.channel,data:z};return A.user_id&&(ce.user_id=A.user_id),ce}catch(ve){throw{type:"MessageParseError",error:ve,data:U.data}}},encodeMessage:function(U){return JSON.stringify(U)},processHandshake:function(U){var A=cr.decodeMessage(U);if(A.event==="pusher:connection_established"){if(!A.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:A.data.socket_id,activityTimeout:A.data.activity_timeout*1e3}}else{if(A.event==="pusher:error")return{action:this.getCloseAction(A.data),error:this.getCloseError(A.data)};throw"Invalid handshake"}},getCloseAction:function(U){return U.code<4e3?U.code>=1002&&U.code<=1004?"backoff":null:U.code===4e3?"tls_only":U.code<4100?"refused":U.code<4200?"backoff":U.code<4300?"retry":"refused"},getCloseError:function(U){return U.code!==1e3&&U.code!==1001?{type:"PusherError",data:{code:U.code,message:U.reason||U.message}}:null}};var Zs=cr;class qr extends At{constructor(A,z){super(),this.id=A,this.transport=z,this.activityTimeout=z.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(A){return this.transport.send(A)}send_event(A,z,ce){var ve={event:A,data:z};return ce&&(ve.channel=ce),lt.debug("Event sent",ve),this.send(Zs.encodeMessage(ve))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var A={message:ce=>{var ve;try{ve=Zs.decodeMessage(ce)}catch(Ue){this.emit("error",{type:"MessageParseError",error:Ue,data:ce.data})}if(ve!==void 0){switch(lt.debug("Event recd",ve),ve.event){case"pusher:error":this.emit("error",{type:"PusherError",data:ve.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong");break}this.emit("message",ve)}},activity:()=>{this.emit("activity")},error:ce=>{this.emit("error",ce)},closed:ce=>{z(),ce&&ce.code&&this.handleCloseEvent(ce),this.transport=null,this.emit("closed")}},z=()=>{ke(A,(ce,ve)=>{this.transport.unbind(ve,ce)})};ke(A,(ce,ve)=>{this.transport.bind(ve,ce)})}handleCloseEvent(A){var z=Zs.getCloseAction(A),ce=Zs.getCloseError(A);ce&&this.emit("error",ce),z&&this.emit(z,{action:z,error:ce})}}class vs{constructor(A,z){this.transport=A,this.callback=z,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=A=>{this.unbindListeners();var z;try{z=Zs.processHandshake(A)}catch(ce){this.finish("error",{error:ce}),this.transport.close();return}z.action==="connected"?this.finish("connected",{connection:new qr(z.id,this.transport),activityTimeout:z.activityTimeout}):(this.finish(z.action,{error:z.error}),this.transport.close())},this.onClosed=A=>{this.unbindListeners();var z=Zs.getCloseAction(A)||"backoff",ce=Zs.getCloseError(A);this.finish(z,{error:ce})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(A,z){this.callback(Pe({transport:this.transport,action:A},z))}}class Ir{constructor(A,z){this.timeline=A,this.options=z||{}}send(A,z){this.timeline.isEmpty()||this.timeline.send(Ot.TimelineTransport.getAgent(this,A),z)}}class dr extends At{constructor(A,z){super(function(ce,ve){lt.debug("No callbacks on "+A+" for "+ce)}),this.name=A,this.pusher=z,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(A,z){return z(null,{auth:""})}trigger(A,z){if(A.indexOf("client-")!==0)throw new R("Event '"+A+"' does not start with 'client-'");if(!this.subscribed){var ce=D.buildLogSuffix("triggeringClientEvents");lt.warn(`Client event triggered before channel 'subscription_succeeded' event . ${ce}`)}return this.pusher.send_event(A,z,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(A){var z=A.event,ce=A.data;if(z==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(A);else if(z==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(A);else if(z.indexOf("pusher_internal:")!==0){var ve={};this.emit(z,ce,ve)}}handleSubscriptionSucceededEvent(A){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",A.data)}handleSubscriptionCountEvent(A){A.data.subscription_count&&(this.subscriptionCount=A.data.subscription_count),this.emit("pusher:subscription_count",A.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(A,z)=>{A?(this.subscriptionPending=!1,lt.error(A.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:A.message},A instanceof B?{status:A.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:z.auth,channel_data:z.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class Mr extends dr{authorize(A,z){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:A},z)}}class jr{constructor(){this.reset()}get(A){return Object.prototype.hasOwnProperty.call(this.members,A)?{id:A,info:this.members[A]}:null}each(A){ke(this.members,(z,ce)=>{A(this.get(ce))})}setMyID(A){this.myID=A}onSubscription(A){this.members=A.presence.hash,this.count=A.presence.count,this.me=this.get(this.myID)}addMember(A){return this.get(A.user_id)===null&&this.count++,this.members[A.user_id]=A.user_info,this.get(A.user_id)}removeMember(A){var z=this.get(A.user_id);return z&&(delete this.members[A.user_id],this.count--),z}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var Xr=function(U,A,z,ce){function ve(Ue){return Ue instanceof z?Ue:new z(function(dt){dt(Ue)})}return new(z||(z=Promise))(function(Ue,dt){function _t(ts){try{Qt(ce.next(ts))}catch(ys){dt(ys)}}function Bt(ts){try{Qt(ce.throw(ts))}catch(ys){dt(ys)}}function Qt(ts){ts.done?Ue(ts.value):ve(ts.value).then(_t,Bt)}Qt((ce=ce.apply(U,A||[])).next())})};class Tr extends Mr{constructor(A,z){super(A,z),this.members=new jr}authorize(A,z){super.authorize(A,(ce,ve)=>Xr(this,void 0,void 0,function*(){if(!ce)if(ve=ve,ve.channel_data!=null){var Ue=JSON.parse(ve.channel_data);this.members.setMyID(Ue.user_id)}else if(yield this.pusher.user.signinDonePromise,this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else{let dt=D.buildLogSuffix("authorizationEndpoint");lt.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${dt}, or the user should be signed in.`),z("Invalid auth response");return}z(ce,ve)}))}handleEvent(A){var z=A.event;if(z.indexOf("pusher_internal:")===0)this.handleInternalEvent(A);else{var ce=A.data,ve={};A.user_id&&(ve.user_id=A.user_id),this.emit(z,ce,ve)}}handleInternalEvent(A){var z=A.event,ce=A.data;switch(z){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(A);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(A);break;case"pusher_internal:member_added":var ve=this.members.addMember(ce);this.emit("pusher:member_added",ve);break;case"pusher_internal:member_removed":var Ue=this.members.removeMember(ce);Ue&&this.emit("pusher:member_removed",Ue);break}}handleSubscriptionSucceededEvent(A){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(A.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var ua=h(1),W=h(0);class e extends Mr{constructor(A,z,ce){super(A,z),this.key=null,this.nacl=ce}authorize(A,z){super.authorize(A,(ce,ve)=>{if(ce){z(ce,ve);return}let Ue=ve.shared_secret;if(!Ue){z(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null);return}this.key=Object(W.decode)(Ue),delete ve.shared_secret,z(null,ve)})}trigger(A,z){throw new S("Client events are not currently supported for encrypted channels")}handleEvent(A){var z=A.event,ce=A.data;if(z.indexOf("pusher_internal:")===0||z.indexOf("pusher:")===0){super.handleEvent(A);return}this.handleEncryptedEvent(z,ce)}handleEncryptedEvent(A,z){if(!this.key){lt.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!z.ciphertext||!z.nonce){lt.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+z);return}let ce=Object(W.decode)(z.ciphertext);if(ce.length<this.nacl.secretbox.overheadLength){lt.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${ce.length}`);return}let ve=Object(W.decode)(z.nonce);if(ve.length<this.nacl.secretbox.nonceLength){lt.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${ve.length}`);return}let Ue=this.nacl.secretbox.open(ce,ve,this.key);if(Ue===null){lt.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(dt,_t)=>{if(dt){lt.error(`Failed to make a request to the authEndpoint: ${_t}. Unable to fetch new key, so dropping encrypted event`);return}if(Ue=this.nacl.secretbox.open(ce,ve,this.key),Ue===null){lt.error("Failed to decrypt event with new key. Dropping encrypted event");return}this.emit(A,this.getDataToEmit(Ue))});return}this.emit(A,this.getDataToEmit(Ue))}getDataToEmit(A){let z=Object(ua.decode)(A);try{return JSON.parse(z)}catch{return z}}}class t extends At{constructor(A,z){super(),this.state="initialized",this.connection=null,this.key=A,this.options=z,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var ce=Ot.getNetwork();ce.bind("online",()=>{this.timeline.info({netinfo:"online"}),(this.state==="connecting"||this.state==="unavailable")&&this.retryIn(0)}),ce.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}connect(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send(A){return this.connection?this.connection.send(A):!1}send_event(A,z,ce){return this.connection?this.connection.send_event(A,z,ce):!1}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var A=(z,ce)=>{z?this.runner=this.strategy.connect(0,A):ce.action==="error"?(this.emit("error",{type:"HandshakeError",error:ce.error}),this.timeline.error({handshakeError:ce.error})):(this.abortConnecting(),this.handshakeCallbacks[ce.action](ce))};this.runner=this.strategy.connect(0,A)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var A=this.abandonConnection();A.close()}}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(A){this.timeline.info({action:"retry",delay:A}),A>0&&this.emit("connecting_in",Math.round(A/1e3)),this.retryTimer=new ue(A||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new ue(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new ue(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new ue(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(A){return Pe({},A,{message:z=>{this.resetActivityCheck(),this.emit("message",z)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:z=>{this.emit("error",z)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(A){return Pe({},A,{connected:z=>{this.activityTimeout=Math.min(this.options.activityTimeout,z.activityTimeout,z.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(z.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let A=z=>ce=>{ce.error&&this.emit("error",{type:"WebSocketError",error:ce.error}),z(ce)};return{tls_only:A(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:A(()=>{this.disconnect()}),backoff:A(()=>{this.retryIn(1e3)}),retry:A(()=>{this.retryIn(0)})}}setConnection(A){this.connection=A;for(var z in this.connectionCallbacks)this.connection.bind(z,this.connectionCallbacks[z]);this.resetActivityCheck()}abandonConnection(){if(this.connection){this.stopActivityCheck();for(var A in this.connectionCallbacks)this.connection.unbind(A,this.connectionCallbacks[A]);var z=this.connection;return this.connection=null,z}}updateState(A,z){var ce=this.state;if(this.state=A,ce!==A){var ve=A;ve==="connected"&&(ve+=" with new socket ID "+z.socket_id),lt.debug("State changed",ce+" -> "+ve),this.timeline.info({state:A,params:z}),this.emit("state_change",{previous:ce,current:A}),this.emit(A,z)}}shouldRetry(){return this.state==="connecting"||this.state==="connected"}}class r{constructor(){this.channels={}}add(A,z){return this.channels[A]||(this.channels[A]=a(A,z)),this.channels[A]}all(){return ye(this.channels)}find(A){return this.channels[A]}remove(A){var z=this.channels[A];return delete this.channels[A],z}disconnect(){ke(this.channels,function(A){A.disconnect()})}}function a(U,A){if(U.indexOf("private-encrypted-")===0){if(A.config.nacl)return i.createEncryptedChannel(U,A,A.config.nacl);let z="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",ce=D.buildLogSuffix("encryptedChannelSupport");throw new S(`${z}. ${ce}`)}else{if(U.indexOf("private-")===0)return i.createPrivateChannel(U,A);if(U.indexOf("presence-")===0)return i.createPresenceChannel(U,A);if(U.indexOf("#")===0)throw new H('Cannot create a channel with name "'+U+'".');return i.createChannel(U,A)}}var n={createChannels(){return new r},createConnectionManager(U,A){return new t(U,A)},createChannel(U,A){return new dr(U,A)},createPrivateChannel(U,A){return new Mr(U,A)},createPresenceChannel(U,A){return new Tr(U,A)},createEncryptedChannel(U,A,z){return new e(U,A,z)},createTimelineSender(U,A){return new Ir(U,A)},createHandshake(U,A){return new vs(U,A)},createAssistantToTheTransportManager(U,A,z){return new Qs(U,A,z)}},i=n;class c{constructor(A){this.options=A||{},this.livesLeft=this.options.lives||1/0}getAssistant(A){return i.createAssistantToTheTransportManager(this,A,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class f{constructor(A,z){this.strategies=A,this.loop=!!z.loop,this.failFast=!!z.failFast,this.timeout=z.timeout,this.timeoutLimit=z.timeoutLimit}isSupported(){return rt(this.strategies,ot.method("isSupported"))}connect(A,z){var ce=this.strategies,ve=0,Ue=this.timeout,dt=null,_t=(Bt,Qt)=>{Qt?z(null,Qt):(ve=ve+1,this.loop&&(ve=ve%ce.length),ve<ce.length?(Ue&&(Ue=Ue*2,this.timeoutLimit&&(Ue=Math.min(Ue,this.timeoutLimit))),dt=this.tryStrategy(ce[ve],A,{timeout:Ue,failFast:this.failFast},_t)):z(!0))};return dt=this.tryStrategy(ce[ve],A,{timeout:Ue,failFast:this.failFast},_t),{abort:function(){dt.abort()},forceMinPriority:function(Bt){A=Bt,dt&&dt.forceMinPriority(Bt)}}}tryStrategy(A,z,ce,ve){var Ue=null,dt=null;return ce.timeout>0&&(Ue=new ue(ce.timeout,function(){dt.abort(),ve(!0)})),dt=A.connect(z,function(_t,Bt){_t&&Ue&&Ue.isRunning()&&!ce.failFast||(Ue&&Ue.ensureAborted(),ve(_t,Bt))}),{abort:function(){Ue&&Ue.ensureAborted(),dt.abort()},forceMinPriority:function(_t){dt.forceMinPriority(_t)}}}}class g{constructor(A){this.strategies=A}isSupported(){return rt(this.strategies,ot.method("isSupported"))}connect(A,z){return x(this.strategies,A,function(ce,ve){return function(Ue,dt){if(ve[ce].error=Ue,Ue){b(ve)&&z(!0);return}ne(ve,function(_t){_t.forceMinPriority(dt.transport.priority)}),z(null,dt)}})}}function x(U,A,z){var ce=le(U,function(ve,Ue,dt,_t){return ve.connect(A,z(Ue,_t))});return{abort:function(){ne(ce,w)},forceMinPriority:function(ve){ne(ce,function(Ue){Ue.forceMinPriority(ve)})}}}function b(U){return et(U,function(A){return!!A.error})}function w(U){!U.error&&!U.aborted&&(U.abort(),U.aborted=!0)}class _{constructor(A,z,ce){this.strategy=A,this.transports=z,this.ttl=ce.ttl||1800*1e3,this.usingTLS=ce.useTLS,this.timeline=ce.timeline}isSupported(){return this.strategy.isSupported()}connect(A,z){var ce=this.usingTLS,ve=M(ce),Ue=ve&&ve.cacheSkipCount?ve.cacheSkipCount:0,dt=[this.strategy];if(ve&&ve.timestamp+this.ttl>=ot.now()){var _t=this.transports[ve.transport];_t&&(["ws","wss"].includes(ve.transport)||Ue>3?(this.timeline.info({cached:!0,transport:ve.transport,latency:ve.latency}),dt.push(new f([_t],{timeout:ve.latency*2+1e3,failFast:!0}))):Ue++)}var Bt=ot.now(),Qt=dt.pop().connect(A,function ts(ys,yi){ys?(X(ce),dt.length>0?(Bt=ot.now(),Qt=dt.pop().connect(A,ts)):z(ys)):(V(ce,yi.transport.name,ot.now()-Bt,Ue),z(null,yi))});return{abort:function(){Qt.abort()},forceMinPriority:function(ts){A=ts,Qt&&Qt.forceMinPriority(ts)}}}}function T(U){return"pusherTransport"+(U?"TLS":"NonTLS")}function M(U){var A=Ot.getLocalStorage();if(A)try{var z=A[T(U)];if(z)return JSON.parse(z)}catch{X(U)}return null}function V(U,A,z,ce){var ve=Ot.getLocalStorage();if(ve)try{ve[T(U)]=at({timestamp:ot.now(),transport:A,latency:z,cacheSkipCount:ce})}catch{}}function X(U){var A=Ot.getLocalStorage();if(A)try{delete A[T(U)]}catch{}}class Z{constructor(A,{delay:z}){this.strategy=A,this.options={delay:z}}isSupported(){return this.strategy.isSupported()}connect(A,z){var ce=this.strategy,ve,Ue=new ue(this.options.delay,function(){ve=ce.connect(A,z)});return{abort:function(){Ue.ensureAborted(),ve&&ve.abort()},forceMinPriority:function(dt){A=dt,ve&&ve.forceMinPriority(dt)}}}}class p{constructor(A,z,ce){this.test=A,this.trueBranch=z,this.falseBranch=ce}isSupported(){var A=this.test()?this.trueBranch:this.falseBranch;return A.isSupported()}connect(A,z){var ce=this.test()?this.trueBranch:this.falseBranch;return ce.connect(A,z)}}class C{constructor(A){this.strategy=A}isSupported(){return this.strategy.isSupported()}connect(A,z){var ce=this.strategy.connect(A,function(ve,Ue){Ue&&ce.abort(),z(ve,Ue)});return ce}}function O(U){return function(){return U.isSupported()}}var ee=function(U,A,z){var ce={};function ve(jn,hh,fh,ph,gh){var Xn=z(U,jn,hh,fh,ph,gh);return ce[jn]=Xn,Xn}var Ue=Object.assign({},A,{hostNonTLS:U.wsHost+":"+U.wsPort,hostTLS:U.wsHost+":"+U.wssPort,httpPath:U.wsPath}),dt=Object.assign({},Ue,{useTLS:!0}),_t=Object.assign({},A,{hostNonTLS:U.httpHost+":"+U.httpPort,hostTLS:U.httpHost+":"+U.httpsPort,httpPath:U.httpPath}),Bt={loop:!0,timeout:15e3,timeoutLimit:6e4},Qt=new c({minPingDelay:1e4,maxPingDelay:U.activityTimeout}),ts=new c({lives:2,minPingDelay:1e4,maxPingDelay:U.activityTimeout}),ys=ve("ws","ws",3,Ue,Qt),yi=ve("wss","ws",3,dt,Qt),nh=ve("sockjs","sockjs",1,_t),Bn=ve("xhr_streaming","xhr_streaming",1,_t,ts),lh=ve("xdr_streaming","xdr_streaming",1,_t,ts),Fn=ve("xhr_polling","xhr_polling",1,_t),ch=ve("xdr_polling","xdr_polling",1,_t),Hn=new f([ys],Bt),dh=new f([yi],Bt),uh=new f([nh],Bt),Vn=new f([new p(O(Bn),Bn,lh)],Bt),Un=new f([new p(O(Fn),Fn,ch)],Bt),qn=new f([new p(O(Vn),new g([Vn,new Z(Un,{delay:4e3})]),Un)],Bt),vo=new p(O(qn),qn,uh),bo;return A.useTLS?bo=new g([Hn,new Z(vo,{delay:2e3})]):bo=new g([Hn,new Z(dh,{delay:2e3}),new Z(vo,{delay:5e3})]),new _(new C(new p(O(ys),bo,vo)),ce,{ttl:18e5,timeline:A.timeline,useTLS:A.useTLS})},J=ee,re=function(){var U=this;U.timeline.info(U.buildTimelineMessage({transport:U.name+(U.options.useTLS?"s":"")})),U.hooks.isInitialized()?U.changeState("initialized"):U.hooks.file?(U.changeState("initializing"),E.load(U.hooks.file,{useTLS:U.options.useTLS},function(A,z){U.hooks.isInitialized()?(U.changeState("initialized"),z(!0)):(A&&U.onError(A),U.onClose(),z(!1))})):U.onClose()},me={getRequest:function(U){var A=new window.XDomainRequest;return A.ontimeout=function(){U.emit("error",new Q),U.close()},A.onerror=function(z){U.emit("error",z),U.close()},A.onprogress=function(){A.responseText&&A.responseText.length>0&&U.onChunk(200,A.responseText)},A.onload=function(){A.responseText&&A.responseText.length>0&&U.onChunk(200,A.responseText),U.emit("finished",200),U.close()},A},abortRequest:function(U){U.ontimeout=U.onerror=U.onprogress=U.onload=null,U.abort()}},be=me;const Se=256*1024;class qe extends At{constructor(A,z,ce){super(),this.hooks=A,this.method=z,this.url=ce}start(A){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},Ot.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(A)}close(){this.unloader&&(Ot.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(A,z){for(;;){var ce=this.advanceBuffer(z);if(ce)this.emit("chunk",{status:A,data:ce});else break}this.isBufferTooLong(z)&&this.emit("buffer_too_long")}advanceBuffer(A){var z=A.slice(this.position),ce=z.indexOf(`
`);return ce!==-1?(this.position+=ce+1,z.slice(0,ce)):null}isBufferTooLong(A){return this.position===A.length&&A.length>Se}}var $e;(function(U){U[U.CONNECTING=0]="CONNECTING",U[U.OPEN=1]="OPEN",U[U.CLOSED=3]="CLOSED"})($e||($e={}));var Fe=$e,ut=1;class mt{constructor(A,z){this.hooks=A,this.session=Vt(1e3)+"/"+ls(8),this.location=kt(z),this.readyState=Fe.CONNECTING,this.openStream()}send(A){return this.sendRaw(JSON.stringify([A]))}ping(){this.hooks.sendHeartbeat(this)}close(A,z){this.onClose(A,z,!0)}sendRaw(A){if(this.readyState===Fe.OPEN)try{return Ot.createSocketRequest("POST",Rt(Mt(this.location,this.session))).start(A),!0}catch{return!1}else return!1}reconnect(){this.closeStream(),this.openStream()}onClose(A,z,ce){this.closeStream(),this.readyState=Fe.CLOSED,this.onclose&&this.onclose({code:A,reason:z,wasClean:ce})}onChunk(A){if(A.status===200){this.readyState===Fe.OPEN&&this.onActivity();var z,ce=A.data.slice(0,1);switch(ce){case"o":z=JSON.parse(A.data.slice(1)||"{}"),this.onOpen(z);break;case"a":z=JSON.parse(A.data.slice(1)||"[]");for(var ve=0;ve<z.length;ve++)this.onEvent(z[ve]);break;case"m":z=JSON.parse(A.data.slice(1)||"null"),this.onEvent(z);break;case"h":this.hooks.onHeartbeat(this);break;case"c":z=JSON.parse(A.data.slice(1)||"[]"),this.onClose(z[0],z[1],!0);break}}}onOpen(A){this.readyState===Fe.CONNECTING?(A&&A.hostname&&(this.location.base=Tt(this.location.base,A.hostname)),this.readyState=Fe.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(A){this.readyState===Fe.OPEN&&this.onmessage&&this.onmessage({data:A})}onActivity(){this.onactivity&&this.onactivity()}onError(A){this.onerror&&this.onerror(A)}openStream(){this.stream=Ot.createSocketRequest("POST",Rt(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",A=>{this.onChunk(A)}),this.stream.bind("finished",A=>{this.hooks.onFinished(this,A)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch(A){ot.defer(()=>{this.onError(A),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}}function kt(U){var A=/([^\?]*)\/*(\??.*)/.exec(U);return{base:A[1],queryString:A[2]}}function Mt(U,A){return U.base+"/"+A+"/xhr_send"}function Rt(U){var A=U.indexOf("?")===-1?"?":"&";return U+A+"t="+ +new Date+"&n="+ut++}function Tt(U,A){var z=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(U);return z[1]+A+z[3]}function Vt(U){return Ot.randomInt(U)}function ls(U){for(var A=[],z=0;z<U;z++)A.push(Vt(32).toString(32));return A.join("")}var cs=mt,Kt={getReceiveURL:function(U,A){return U.base+"/"+A+"/xhr_streaming"+U.queryString},onHeartbeat:function(U){U.sendRaw("[]")},sendHeartbeat:function(U){U.sendRaw("[]")},onFinished:function(U,A){U.onClose(1006,"Connection interrupted ("+A+")",!1)}},Ds=Kt,Gt={getReceiveURL:function(U,A){return U.base+"/"+A+"/xhr"+U.queryString},onHeartbeat:function(){},sendHeartbeat:function(U){U.sendRaw("[]")},onFinished:function(U,A){A===200?U.reconnect():U.onClose(1006,"Connection interrupted ("+A+")",!1)}},Yt=Gt,Zt={getRequest:function(U){var A=Ot.getXHRAPI(),z=new A;return z.onreadystatechange=z.onprogress=function(){switch(z.readyState){case 3:z.responseText&&z.responseText.length>0&&U.onChunk(z.status,z.responseText);break;case 4:z.responseText&&z.responseText.length>0&&U.onChunk(z.status,z.responseText),U.emit("finished",z.status),U.close();break}},z},abortRequest:function(U){U.onreadystatechange=null,U.abort()}},Cs=Zt,_s={createStreamingSocket(U){return this.createSocket(Ds,U)},createPollingSocket(U){return this.createSocket(Yt,U)},createSocket(U,A){return new cs(U,A)},createXHR(U,A){return this.createRequest(Cs,U,A)},createRequest(U,A,z){return new qe(U,A,z)}},Xs=_s;Xs.createXDR=function(U,A){return this.createRequest(be,U,A)};var Yr=Xs,Ss={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:m,DependenciesReceivers:L,getDefaultStrategy:J,Transports:da,transportConnectionInitializer:re,HTTPFactory:Yr,TimelineTransport:ks,getXHRAPI(){return window.XMLHttpRequest},getWebSocketAPI(){return window.WebSocket||window.MozWebSocket},setup(U){window.Pusher=U;var A=()=>{this.onDocumentBody(U.ready)};window.JSON?A():E.load("json2",{},A)},getDocument(){return document},getProtocol(){return this.getDocument().location.protocol},getAuthorizers(){return{ajax:fe,jsonp:jt}},onDocumentBody(U){document.body?U():setTimeout(()=>{this.onDocumentBody(U)},0)},createJSONPRequest(U,A){return new ss(U,A)},createScriptRequest(U){return new Ut(U)},getLocalStorage(){try{return window.localStorage}catch{return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){var U=this.getXHRAPI();return new U},createMicrosoftXHR(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork(){return Pr},createWebSocket(U){var A=this.getWebSocketAPI();return new A(U)},createSocketRequest(U,A){if(this.isXHRSupported())return this.HTTPFactory.createXHR(U,A);if(this.isXDRSupported(A.indexOf("https:")===0))return this.HTTPFactory.createXDR(U,A);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var U=this.getXHRAPI();return!!U&&new U().withCredentials!==void 0},isXDRSupported(U){var A=U?"https:":"http:",z=this.getProtocol();return!!window.XDomainRequest&&z===A},addUnloadListener(U){window.addEventListener!==void 0?window.addEventListener("unload",U,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",U)},removeUnloadListener(U){window.addEventListener!==void 0?window.removeEventListener("unload",U,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",U)},randomInt(U){return Math.floor(function(){return(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)}()*U)}},Ot=Ss,Ra;(function(U){U[U.ERROR=3]="ERROR",U[U.INFO=6]="INFO",U[U.DEBUG=7]="DEBUG"})(Ra||(Ra={}));var xi=Ra;class Du{constructor(A,z,ce){this.key=A,this.session=z,this.events=[],this.options=ce||{},this.sent=0,this.uniqueID=0}log(A,z){A<=this.options.level&&(this.events.push(Pe({},z,{timestamp:ot.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(A){this.log(xi.ERROR,A)}info(A){this.log(xi.INFO,A)}debug(A){this.log(xi.DEBUG,A)}isEmpty(){return this.events.length===0}send(A,z){var ce=Pe({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],A(ce,(ve,Ue)=>{ve||this.sent++,z&&z(ve,Ue)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class Nu{constructor(A,z,ce,ve){this.name=A,this.priority=z,this.transport=ce,this.options=ve||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(A,z){if(this.isSupported()){if(this.priority<A)return zn(new Y,z)}else return zn(new ae,z);var ce=!1,ve=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),Ue=null,dt=function(){ve.unbind("initialized",dt),ve.connect()},_t=function(){Ue=i.createHandshake(ve,function(ys){ce=!0,ts(),z(null,ys)})},Bt=function(ys){ts(),z(ys)},Qt=function(){ts();var ys;ys=at(ve),z(new q(ys))},ts=function(){ve.unbind("initialized",dt),ve.unbind("open",_t),ve.unbind("error",Bt),ve.unbind("closed",Qt)};return ve.bind("initialized",dt),ve.bind("open",_t),ve.bind("error",Bt),ve.bind("closed",Qt),ve.initialize(),{abort:()=>{ce||(ts(),Ue?Ue.close():ve.close())},forceMinPriority:ys=>{ce||this.priority<ys&&(Ue?Ue.close():ve.close())}}}}function zn(U,A){return ot.defer(function(){A(U)}),{abort:function(){},forceMinPriority:function(){}}}const{Transports:zu}=Ot;var Bu=function(U,A,z,ce,ve,Ue){var dt=zu[z];if(!dt)throw new K(z);var _t=(!U.enabledTransports||je(U.enabledTransports,A)!==-1)&&(!U.disabledTransports||je(U.disabledTransports,A)===-1),Bt;return _t?(ve=Object.assign({ignoreNullOrigin:U.ignoreNullOrigin},ve),Bt=new Nu(A,ce,Ue?Ue.getAssistant(dt):dt,ve)):Bt=Fu,Bt},Fu={isSupported:function(){return!1},connect:function(U,A){var z=ot.defer(function(){A(new ae)});return{abort:function(){z.ensureAborted()},forceMinPriority:function(){}}}};function Hu(U){if(U==null)throw"You must pass an options object";if(U.cluster==null)throw"Options object must provide a cluster";"disableStats"in U&&lt.warn("The disableStats option is deprecated in favor of enableStats")}const Vu=(U,A)=>{var z="socket_id="+encodeURIComponent(U.socketId);for(var ce in A.params)z+="&"+encodeURIComponent(ce)+"="+encodeURIComponent(A.params[ce]);if(A.paramsProvider!=null){let ve=A.paramsProvider();for(var ce in ve)z+="&"+encodeURIComponent(ce)+"="+encodeURIComponent(ve[ce])}return z};var Uu=U=>{if(typeof Ot.getAuthorizers()[U.transport]>"u")throw`'${U.transport}' is not a recognized auth transport`;return(A,z)=>{const ce=Vu(A,U);Ot.getAuthorizers()[U.transport](Ot,ce,U,N.UserAuthentication,z)}};const qu=(U,A)=>{var z="socket_id="+encodeURIComponent(U.socketId);z+="&channel_name="+encodeURIComponent(U.channelName);for(var ce in A.params)z+="&"+encodeURIComponent(ce)+"="+encodeURIComponent(A.params[ce]);if(A.paramsProvider!=null){let ve=A.paramsProvider();for(var ce in ve)z+="&"+encodeURIComponent(ce)+"="+encodeURIComponent(ve[ce])}return z};var ju=U=>{if(typeof Ot.getAuthorizers()[U.transport]>"u")throw`'${U.transport}' is not a recognized auth transport`;return(A,z)=>{const ce=qu(A,U);Ot.getAuthorizers()[U.transport](Ot,ce,U,N.ChannelAuthorization,z)}};const Xu=(U,A,z)=>{const ce={authTransport:A.transport,authEndpoint:A.endpoint,auth:{params:A.params,headers:A.headers}};return(ve,Ue)=>{const dt=U.channel(ve.channelName);z(dt,ce).authorize(ve.socketId,Ue)}};function Yu(U,A){let z={activityTimeout:U.activityTimeout||k.activityTimeout,cluster:U.cluster,httpPath:U.httpPath||k.httpPath,httpPort:U.httpPort||k.httpPort,httpsPort:U.httpsPort||k.httpsPort,pongTimeout:U.pongTimeout||k.pongTimeout,statsHost:U.statsHost||k.stats_host,unavailableTimeout:U.unavailableTimeout||k.unavailableTimeout,wsPath:U.wsPath||k.wsPath,wsPort:U.wsPort||k.wsPort,wssPort:U.wssPort||k.wssPort,enableStats:Ku(U),httpHost:Wu(U),useTLS:Zu(U),wsHost:Gu(U),userAuthenticator:Ju(U),channelAuthorizer:th(U,A)};return"disabledTransports"in U&&(z.disabledTransports=U.disabledTransports),"enabledTransports"in U&&(z.enabledTransports=U.enabledTransports),"ignoreNullOrigin"in U&&(z.ignoreNullOrigin=U.ignoreNullOrigin),"timelineParams"in U&&(z.timelineParams=U.timelineParams),"nacl"in U&&(z.nacl=U.nacl),z}function Wu(U){return U.httpHost?U.httpHost:U.cluster?`sockjs-${U.cluster}.pusher.com`:k.httpHost}function Gu(U){return U.wsHost?U.wsHost:Qu(U.cluster)}function Qu(U){return`ws-${U}.pusher.com`}function Zu(U){return Ot.getProtocol()==="https:"?!0:U.forceTLS!==!1}function Ku(U){return"enableStats"in U?U.enableStats:"disableStats"in U?!U.disableStats:!1}function Ju(U){const A=Object.assign(Object.assign({},k.userAuthentication),U.userAuthentication);return"customHandler"in A&&A.customHandler!=null?A.customHandler:Uu(A)}function eh(U,A){let z;return"channelAuthorization"in U?z=Object.assign(Object.assign({},k.channelAuthorization),U.channelAuthorization):(z={transport:U.authTransport||k.authTransport,endpoint:U.authEndpoint||k.authEndpoint},"auth"in U&&("params"in U.auth&&(z.params=U.auth.params),"headers"in U.auth&&(z.headers=U.auth.headers)),"authorizer"in U&&(z.customHandler=Xu(A,z,U.authorizer))),z}function th(U,A){const z=eh(U,A);return"customHandler"in z&&z.customHandler!=null?z.customHandler:ju(z)}class sh extends At{constructor(A){super(function(z,ce){lt.debug(`No callbacks on watchlist events for ${z}`)}),this.pusher=A,this.bindWatchlistInternalEvent()}handleEvent(A){A.data.events.forEach(z=>{this.emit(z.name,z)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",A=>{var z=A.event;z==="pusher_internal:watchlist_events"&&this.handleEvent(A)})}}function rh(){let U,A;return{promise:new Promise((ce,ve)=>{U=ce,A=ve}),resolve:U,reject:A}}var ah=rh;class ih extends At{constructor(A){super(function(z,ce){lt.debug("No callbacks on user for "+z)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(z,ce)=>{if(z){lt.warn(`Error during signin: ${z}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:ce.auth,user_data:ce.user_data})},this.pusher=A,this.pusher.connection.bind("state_change",({previous:z,current:ce})=>{z!=="connected"&&ce==="connected"&&this._signin(),z==="connected"&&ce!=="connected"&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new sh(A),this.pusher.connection.bind("message",z=>{var ce=z.event;ce==="pusher:signin_success"&&this._onSigninSuccess(z.data),this.serverToUserChannel&&this.serverToUserChannel.name===z.channel&&this.serverToUserChannel.handleEvent(z)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(A){try{this.user_data=JSON.parse(A.user_data)}catch{lt.error(`Failed parsing user data after signin: ${A.user_data}`),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){lt.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){const A=z=>{z.subscriptionPending&&z.subscriptionCancelled?z.reinstateSubscription():!z.subscriptionPending&&this.pusher.connection.state==="connected"&&z.subscribe()};this.serverToUserChannel=new dr(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((z,ce)=>{z.indexOf("pusher_internal:")===0||z.indexOf("pusher:")===0||this.emit(z,ce)}),A(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;const{promise:A,resolve:z}=ah();A.done=!1;const ce=()=>{A.done=!0};A.then(ce).catch(ce),this.signinDonePromise=A,this._signinDoneResolve=z}}class As{static ready(){As.isReady=!0;for(var A=0,z=As.instances.length;A<z;A++)As.instances[A].connect()}static getClientFeatures(){return ie(Le({ws:Ot.Transports.ws},function(A){return A.isSupported({})}))}constructor(A,z){oh(A),Hu(z),this.key=A,this.config=Yu(z,this),this.channels=i.createChannels(),this.global_emitter=new At,this.sessionID=Ot.randomInt(1e9),this.timeline=new Du(this.key,this.sessionID,{cluster:this.config.cluster,features:As.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:xi.INFO,version:k.VERSION}),this.config.enableStats&&(this.timelineSender=i.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+Ot.TimelineTransport.name}));var ce=ve=>Ot.getDefaultStrategy(this.config,ve,Bu);this.connection=i.createConnectionManager(this.key,{getStrategy:ce,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",ve=>{var Ue=ve.event,dt=Ue.indexOf("pusher_internal:")===0;if(ve.channel){var _t=this.channel(ve.channel);_t&&_t.handleEvent(ve)}dt||this.global_emitter.emit(ve.event,ve.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",ve=>{lt.warn(ve)}),As.instances.push(this),this.timeline.info({instances:As.instances.length}),this.user=new ih(this),As.isReady&&this.connect()}channel(A){return this.channels.find(A)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var A=this.connection.isUsingTLS(),z=this.timelineSender;this.timelineSenderTimer=new Re(6e4,function(){z.send(A)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(A,z,ce){return this.global_emitter.bind(A,z,ce),this}unbind(A,z,ce){return this.global_emitter.unbind(A,z,ce),this}bind_global(A){return this.global_emitter.bind_global(A),this}unbind_global(A){return this.global_emitter.unbind_global(A),this}unbind_all(A){return this.global_emitter.unbind_all(),this}subscribeAll(){var A;for(A in this.channels.channels)this.channels.channels.hasOwnProperty(A)&&this.subscribe(A)}subscribe(A){var z=this.channels.add(A,this);return z.subscriptionPending&&z.subscriptionCancelled?z.reinstateSubscription():!z.subscriptionPending&&this.connection.state==="connected"&&z.subscribe(),z}unsubscribe(A){var z=this.channels.find(A);z&&z.subscriptionPending?z.cancelSubscription():(z=this.channels.remove(A),z&&z.subscribed&&z.unsubscribe())}send_event(A,z,ce){return this.connection.send_event(A,z,ce)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}As.instances=[],As.isReady=!1,As.logToConsole=!1,As.Runtime=Ot,As.ScriptReceivers=Ot.ScriptReceivers,As.DependenciesReceivers=Ot.DependenciesReceivers,As.auth_callbacks=Ot.auth_callbacks;var mo=u.default=As;function oh(U){if(U==null)throw"You must pass your app key when you instantiate Pusher."}Ot.setup(As)}])})}(Ho)),Ho.exports}sT();const rT=Ig();Dp(r0).use($a).use(rT).mount("#app");
